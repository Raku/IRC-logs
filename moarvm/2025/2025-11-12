[06:15] *** evalable6 left
[11:09] <ab5tract> I'm experiencing some bizarre behavior when trying to use a zig compiled moar on Linux/x64: https://gist.github.com/ab5tract/89fd81b1d5114c0d7557f5c1b70bd9f6

[11:30] <lizmat> meh

[15:41] <ab5tract> updated the gist with ldd and objdump details. ldd loses track of libmoar.so but objdump reports the same rpath expectations

[15:44] <timo> you can set LD_DEBUG to something like "all" or "files" or "libs" and see what looking for the .so file looks like

[15:56] <ab5tract> updated with the failure mode with LD_DEBUG="all" in the gist

[15:56] <ab5tract> I figured you wouldn't want to see the success mode with its 335k lines

[15:58] <ab5tract> oops, LD_DEBUG simply advances its own line counter

[15:58] <ab5tract> updating with the success case too

[15:59] <timo> are we sure that Configure.pl did nothing to these files? that's weird

[16:00] <ab5tract> it's so bizarre. I can't even find the location where it calls the moar executable

[16:00] <ab5tract> oh, I'm probably ignoring these system_or_die calls

[16:09] <ab5tract> scratch that, I still don't see it

[16:11] <ab5tract> so it's not just Configure.pl, it dies when make is run directly too: https://gist.githubusercontent.com/ab5tract/89fd81b1d5114c0d7557f5c1b70bd9f6/raw/3d6ca955b8f0c83e32ff73bd66722dc32d2cbde7/gistfile5.txt

[16:12] <timo> when it outputs "./libmoar.so (0x00007f5a68400000)" does that refer to an actual libmoar.so in the CWD? should it not be outputting a second path in ldd when it finds it according to the runpath?

[16:21] <ab5tract> I assumed it referred to the libmoar.so at ../lib/./libmoar.so

[16:21] <ab5tract> but you have made me realize that I haven'

[16:21] <ab5tract> I haven't gathered any example of what these look like for me under a gcc build

[17:09] *** librasteve_ joined
[17:16] <ab5tract> note also that copying the libmoar.so file into the same directory as moar

[17:16] <ab5tract> doesn't fix anything

[23:43] *** woodi_ left
[23:43] *** woodi joined
