[05:58] *** frost-lab joined
[05:58] *** frost-lab joined
[09:13] *** ilogger2_ left
[09:15] *** ilogger2 joined
[09:19] <nine> MasterDuke: that failed to rename file problem on Windows may have a somewhat simple workaround: trying again after waiting for a bit. When searching the net for the error message, you'll find that this seems to be what others do in this situation.

[09:22] <nine> MasterDuke: the precomp errors listed in #1500 are all about inability to replace the repo-id file. These files are frequently read, but are very small and get closed immediately after reading. Giving it a few tries after waiting for a random time should get us around implicit locking on Windows.

[09:24] <nine> So what I propose is implementing something like CSMACD (Carrier Sense Multiple Access Colission Detection) which is one of my favourite algorithms. That's because it sounds sophisticated and very technical, but is totally natural for humans.

[09:24] <nine> Two people start speaking at the same time, they notice that, stop speaking, wait for a somewhat random time and try again. Whoever waits shortest "wins".

[10:45] *** dogbert11 joined
[10:47] *** dogbert12 joined
[10:49] *** dogbert17 left
[10:49] *** dogbert17 joined
[10:50] *** dogbert11 left
[10:51] *** dogbert11 joined
[10:53] *** dogbert12 left
[10:54] *** dogbert17 left
[11:04] *** dogbert11 left
[11:59] *** nine left
[11:59] *** frost-lab left
[11:59] *** nine joined
[12:00] *** nine left
[12:06] *** nine joined
[12:56] <ugexe> there was a brief period when libuv had code to try rename multiple times but was reverted

[12:56] <ugexe> https://github.com/libuv/libuv/pull/2122

[13:13] <nine> Interesting. IMHO libuv would be the wrong layer for this anyway. Even MoarVM would be. There's too much policy involved. That's better left for a layer close to the user

[13:16] <ugexe> that was basically why it was reverted

[14:03] <ugexe> there could be a problem implementing it in rakudo in that i dont think moarvm passes along e.g. UV_EBUSY UV_EPERM UV_EACCES

[14:05] <ugexe> although if its only ever used for precomp maybe it doesnt need to be that correct

[15:02] *** domidumont joined
[15:40] *** Merfont left
[15:52] *** xiaomiao is now known as bonsaikitten

[16:16] *** zakharyas joined
[16:29] *** sena_kun left
[16:31] *** sena_kun joined
[17:37] *** Genie joined
[17:42] *** Genie left
[18:29] *** domidumont left
[18:47] *** jjatria left
[19:28] *** zakharyas left
[20:05] *** ChanServ left
[20:07] *** ChanServ joined
[20:07] *** kornbluth.freenode.net sets mode: +o ChanServ

[20:07] *** ChanServ sets mode: +o jnthn

