[00:01] *** eater joined
[00:12] *** eater left
[02:18] *** leont left
[05:26] *** evalable6 left
[05:26] *** committable6 left
[05:26] *** linkable6 left
[05:26] *** greppable6 left
[05:26] *** coverable6 left
[05:26] *** shareable6 left
[05:26] *** statisfiable6 left
[05:26] *** unicodable6 left
[05:26] *** squashable6 left
[05:26] *** bloatable6 left
[05:26] *** quotable6 left
[05:26] *** bisectable6 left
[05:26] *** benchable6 left
[05:26] *** sourceable6 left
[05:26] *** notable6 left
[05:26] *** nativecallable6 left
[05:26] *** releasable6 left
[05:26] *** tellable6 left
[05:26] *** unicodable6 joined
[05:26] *** bloatable6 joined
[05:27] *** linkable6 joined
[05:27] *** squashable6 joined
[05:27] *** nativecallable6 joined
[05:27] *** evalable6 joined
[05:27] *** greppable6 joined
[05:28] *** quotable6 joined
[05:28] *** tellable6 joined
[05:28] *** statisfiable6 joined
[05:28] *** coverable6 joined
[05:29] *** sourceable6 joined
[05:29] *** releasable6 joined
[05:29] *** shareable6 joined
[05:29] *** bisectable6 joined
[05:29] *** benchable6 joined
[05:29] *** committable6 joined
[05:29] *** notable6 joined
[08:15] <nwc10> good *, #moarvm 

[08:17] *** sena_kun joined
[08:20] *** eater joined
[08:53] <nwc10> .tell brrt Well, you have a bit more choice now: https://geizhals.eu/?cmp=2414598&cmp=2422055  (of course this doesn't work very well because the two products are in different categories)

[08:53] <tellable6> nwc10, I'll pass your message to brrt

[09:31] *** zakharyas joined
[09:40] *** MasterDuke joined
[10:34] *** MasterDuke left
[11:29] *** MasterDuke joined
[11:43] *** dogbert17 left
[12:02] *** leont joined
[12:09] *** Altai-man joined
[12:12] *** sena_kun left
[12:29] *** dogbert17 joined
[12:40] *** MasterDuke left
[13:04] *** zakharyas left
[13:15] *** MasterDuke joined
[14:13] *** zakharyas joined
[14:14] *** zakharyas1 joined
[14:17] *** zakharyas left
[15:42] *** raku-bridge left
[15:42] *** raku-bridge joined
[15:46] *** Geth_ left
[16:10] *** sena_kun joined
[16:12] *** leedo joined
[16:12] *** Altai-man left
[16:40] <nine> Looks like the only reference to a serialization context in a precompiled comp unit is in the form of arguments to generated code in the dependencies+deserialize frame (createsc, scsetdesc and deserialize ops)

[16:42] <MasterDuke> what does that mean?

[16:43] *** patrickb joined
[16:43] <nwc10> you know, that's also what I was asking myself. The words all pan out, but not when put together.

[16:43] <nine> It means that it's surprisingly hard to get from a list of comp units loaded during a precompile (i.e. which setting, module loader and modules we requested) to a list of serialization contexts (i.e. what dependencies we expect to end up in the precomp file)

[16:44] <nine> Essentially I want to create a white list of serialization contexts, to avoid dependencies from outside to leak into a precompilation (by way of int or parametrics caches)

[16:57] *** lucasb joined
[17:07] <nine> Now of course adding a reference to the serialization context to MVMCompUnit is trivial and the deserialize op can set this reference. The (trick) question then becomes: how does one get at the MVMCompUnit?

[17:08] <nine> Sounds easy since we have a CompUnit class in Rakudo. And if that seems to high level there's also a CompUnit::Handle which surely must be about the handle of the low level comp unit, right? Only that it actually isn't.

[17:09] <nine> Even CompUnit::Handle doesn't have a reference to the MVMCompUnit, just to the main frame. This does have a reference to its comp unit via its static frame. But none of that seems to be accessible to HLL code

[17:52] <nine> Ok, implemented a couple of get_attribute functions and now there is a way: use nqp; my $unit := $*REPO.need(CompUnit::DependencySpecification.new(:short-name<Test>)).unit; my $cu := nqp::getattr($unit, $unit.WHAT, "comp_unit"); nqp::scgethandle(nqp::getattr($cu, $unit.WHAT, "sc")).say

[17:54] <nine> Now the hard part: actually creating that allow list, or even decide on what form this will take

[18:59] *** [Coke] left
[19:32] *** domidumont joined
[19:40] *** domidumont left
[20:02] *** zakharyas1 left
[20:09] *** Altai-man joined
[20:12] *** sena_kun left
[21:01] *** patrickb left
[21:02] *** eater left
[21:13] *** [Coke] joined
[21:37] *** sivoais left
[21:37] *** rba left
[21:37] *** nine left
[21:37] *** sivoais joined
[21:37] *** rba joined
[21:37] *** nine joined
[21:40] *** leont left
[21:40] *** timotimo left
[21:40] *** tib left
[21:40] *** lucasb left
[21:40] *** mtj_ left
[21:40] *** Altreus left
[21:40] *** moon-child left
[21:40] *** samcv left
[21:40] *** jpf1 left
[21:41] *** leont joined
[21:41] *** tib joined
[21:41] *** timotimo joined
[21:41] *** lucasb joined
[21:41] *** mtj_ joined
[21:41] *** Altreus joined
[21:41] *** moon-child joined
[21:41] *** lucasb left
[21:41] *** samcv joined
[21:41] *** jpf1 joined
[21:41] *** Util left
[21:41] *** japhb left
[21:41] *** elcaro left
[21:41] *** camelia left
[21:42] *** camelia joined
[21:42] *** Util joined
[21:42] *** japhb joined
[21:42] *** elcaro joined
[21:46] *** notable6 left
[21:46] *** committable6 left
[21:46] *** releasable6 left
[21:46] *** sourceable6 left
[21:46] *** statisfiable6 left
[21:46] *** quotable6 left
[21:46] *** evalable6 left
[21:46] *** nativecallable6 left
[21:46] *** squashable6 left
[21:46] *** unicodable6 left
[21:46] *** nebuchadnezzar left
[21:46] *** Kaiepi left
[21:46] *** vesper11 left
[21:47] *** notable6 joined
[21:47] *** committable6 joined
[21:47] *** releasable6 joined
[21:47] *** sourceable6 joined
[21:47] *** statisfiable6 joined
[21:47] *** quotable6 joined
[21:47] *** evalable6 joined
[21:47] *** nativecallable6 joined
[21:47] *** squashable6 joined
[21:47] *** unicodable6 joined
[21:47] *** nebuchadnezzar joined
[21:47] *** xiaomiao joined
[21:47] *** lucasb joined
[21:48] *** kawaii left
[21:48] *** rypervenche left
[21:48] *** Kaiepi joined
[21:50] *** vesper11 joined
[21:51] *** kawaii joined
[21:51] *** rypervenche joined
[21:51] *** kawaii left
[21:51] *** avar left
[21:51] *** mst left
[21:51] *** [Coke] left
[21:51] *** Altai-man left
[21:51] *** harrow left
[21:51] *** lizmat left
[21:51] *** klapperl left
[21:51] *** krunen left
[21:53] *** [Coke] joined
[21:53] *** Altai-man joined
[21:53] *** harrow joined
[21:53] *** lizmat joined
[21:53] *** klapperl joined
[21:53] *** krunen joined
[21:53] *** Voldenet joined
[21:53] *** avar joined
[21:53] *** mst joined
[21:53] *** tepper.freenode.net sets mode: +o mst

[21:53] *** raku-bridge left
[21:53] *** raku-bridge joined
[21:53] *** raku-bridge left
[21:53] *** avar left
[21:53] *** mst left
[21:53] *** [Coke] left
[21:53] *** Altai-man left
[21:53] *** harrow left
[21:53] *** lizmat left
[21:53] *** klapperl left
[21:53] *** krunen left
[21:53] *** Voldenet left
[21:53] *** vesper11 left
[21:53] *** rypervenche left
[21:53] *** notable6 left
[21:53] *** committable6 left
[21:53] *** releasable6 left
[21:53] *** sourceable6 left
[21:53] *** statisfiable6 left
[21:53] *** quotable6 left
[21:53] *** evalable6 left
[21:53] *** nativecallable6 left
[21:53] *** squashable6 left
[21:53] *** unicodable6 left
[21:53] *** nebuchadnezzar left
[21:53] *** xiaomiao left
[21:53] *** camelia left
[21:53] *** Util left
[21:53] *** japhb left
[21:53] *** elcaro left
[21:53] *** samcv left
[21:53] *** jpf1 left
[21:53] *** mtj_ left
[21:53] *** Altreus left
[21:53] *** moon-child left
[21:53] *** leont left
[21:53] *** timotimo left
[21:53] *** tib left
[21:53] *** sivoais left
[21:53] *** rba left
[21:53] *** nine left
[21:53] *** ChanServ left
[21:53] *** Kaiepi left
[21:53] *** chansen_ left
[21:53] *** leedo left
[21:53] *** lucasb left
[21:53] *** benchable6 left
[21:53] *** bisectable6 left
[21:53] *** shareable6 left
[21:53] *** coverable6 left
[21:53] *** tellable6 left
[21:53] *** greppable6 left
[21:53] *** linkable6 left
[21:53] *** bloatable6 left
[21:53] *** dogbert17 left
[21:53] *** SmokeMachine left
[21:53] *** tbrowder left
[21:53] *** BinGOs left
[21:53] *** vrurg left
[21:53] *** sxmx left
[21:53] *** nwc10 left
[21:53] *** tobs left
[21:53] *** MasterDuke left
[21:54] *** raku-bridge joined
[21:54] *** mst joined
[21:54] *** avar joined
[21:54] *** Voldenet joined
[21:54] *** krunen joined
[21:54] *** klapperl joined
[21:54] *** lizmat joined
[21:54] *** harrow joined
[21:54] *** Altai-man joined
[21:54] *** [Coke] joined
[21:54] *** rypervenche joined
[21:54] *** vesper11 joined
[21:54] *** Kaiepi joined
[21:54] *** lucasb joined
[21:54] *** xiaomiao joined
[21:54] *** nebuchadnezzar joined
[21:54] *** unicodable6 joined
[21:54] *** squashable6 joined
[21:54] *** nativecallable6 joined
[21:54] *** evalable6 joined
[21:54] *** quotable6 joined
[21:54] *** statisfiable6 joined
[21:54] *** sourceable6 joined
[21:54] *** releasable6 joined
[21:54] *** committable6 joined
[21:54] *** notable6 joined
[21:54] *** elcaro joined
[21:54] *** japhb joined
[21:54] *** Util joined
[21:54] *** camelia joined
[21:54] *** jpf1 joined
[21:54] *** samcv joined
[21:54] *** moon-child joined
[21:54] *** Altreus joined
[21:54] *** mtj_ joined
[21:54] *** timotimo joined
[21:54] *** tib joined
[21:54] *** leont joined
[21:54] *** nine joined
[21:54] *** rba joined
[21:54] *** sivoais joined
[21:54] *** leedo joined
[21:54] *** MasterDuke joined
[21:54] *** dogbert17 joined
[21:54] *** benchable6 joined
[21:54] *** bisectable6 joined
[21:54] *** shareable6 joined
[21:54] *** tepper.freenode.net sets mode: +o mst

[21:54] *** coverable6 joined
[21:54] *** tellable6 joined
[21:54] *** greppable6 joined
[21:54] *** linkable6 joined
[21:54] *** bloatable6 joined
[21:54] *** vrurg joined
[21:54] *** chansen_ joined
[21:54] *** SmokeMachine joined
[21:54] *** tbrowder joined
[21:54] *** sxmx joined
[21:54] *** ChanServ joined
[21:54] *** BinGOs joined
[21:54] *** nwc10 joined
[21:54] *** tobs joined
[21:54] *** tepper.freenode.net sets mode: +o ChanServ

[21:54] *** dogbert17 left
[21:54] *** SmokeMachine left
[21:54] *** tbrowder left
[21:54] *** BinGOs left
[21:54] *** kawaii joined
[21:54] *** vrurg left
[21:54] *** sxmx left
[21:54] *** nwc10 left
[21:54] *** tobs left
[21:54] *** dogbert17 joined
[21:54] *** SmokeMachine joined
[21:54] *** tbrowder joined
[21:54] *** BinGOs joined
[21:55] *** MasterDuke left
[21:55] *** vrurg joined
[21:55] *** sxmx joined
[21:55] *** nwc10 joined
[21:55] *** tobs joined
[21:55] *** MasterDuke joined
[21:56] *** lucasb left
[22:01] *** lucasb joined
[23:14] *** Altai-man left
