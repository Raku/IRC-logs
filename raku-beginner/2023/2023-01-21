[00:27] <discord-raku-bot> <stevied> anyone got a clue on this problem I encountered? https://stackoverflow.com/questions/75190418/no-single-root-directory-found-all-dists-must-extract-to-a-single-directory-e

[00:28] <discord-raku-bot> <stevied> maybe the name of my module, "Directory" is the problem?

[00:34] <discord-raku-bot> <Nemokosch> that part you can easily try, I'd say. But let's check the mi6 sources first

[00:37] <discord-raku-bot> <Nemokosch> okay, definitely a problem during the fez step

[00:39] <discord-raku-bot> <stevied> yeah, tried running the fez step manually, same error

[00:39] <discord-raku-bot> <stevied> was just getting ready to go relax for the evening now I'm all uptight because this isn't working üôÇ

[00:40] <discord-raku-bot> <Nemokosch> üòÖ

[00:42] <discord-raku-bot> <Nemokosch> so, do you do fez checkbuild in the folder where your META6.json is to be found?

[00:44] <discord-raku-bot> <stevied> no, not familiar with that

[00:44] <discord-raku-bot> <stevied> ```

[00:44] <discord-raku-bot> <stevied> > $ fez checkbuild                                                                                                                                                                                                                         [¬±main ‚úì]

[00:44] <discord-raku-bot> <stevied> >>= Inspecting ./META6.json

[00:44] <discord-raku-bot> <stevied> >>= meta<provides> looks OK

[00:44] <discord-raku-bot> <stevied> >>= meta<resources> looks OK

[00:44] <discord-raku-bot> <stevied> >>= Directory:ver<0.0.1>:auth<zef:sdondley> looks OK

[00:44] <discord-raku-bot> <stevied> ```

[00:45] <discord-raku-bot> <Nemokosch> and you run mi6 release in the same folder?

[00:45] <discord-raku-bot> <stevied> yes sir

[00:45] <discord-raku-bot> <stevied> or ma'am

[00:50] <discord-raku-bot> <Nemokosch> I wonder if you can run `pax`?

[00:51] <discord-raku-bot> <stevied> never heard of it

[00:52] <discord-raku-bot> <Nemokosch> me neither but doesn't matter

[00:57] <discord-raku-bot> <stevied> here's where the error is generated: https://github.com/tony-o/raku-fez/blob/8d23068f0958748416b46116a36e0d8899491a93/lib/Fez/CLI.rakumod#L241

[00:59] <discord-raku-bot> <Nemokosch> yeah yeah

[00:59] <discord-raku-bot> <Nemokosch> that's why I'm asking if you can do this pax

[01:10] <discord-raku-bot> <Nemokosch> this is where the tarball is created https://github.com/skaji/mi6/blob/965ecfee86258b4a045d8fb65fa28a9ca3180c2b/lib/App/Mi6/Release/MakeDist.rakumod#L31

[01:12] <discord-raku-bot> <Nemokosch> this is the first ls candidate https://github.com/tony-o/raku-fez/blob/641cbf5b9e4bd45d873112aa61709bf4c6922c48/lib/Fez/Util/Pax.rakumod#L27

[01:13] <discord-raku-bot> <stevied> what can that tell me?

[01:13] <discord-raku-bot> <Nemokosch> hm?

[01:14] <discord-raku-bot> <stevied> looks like I have a /bin/pax command

[01:16] <discord-raku-bot> <Nemokosch> it would be good to know what it returns for the actual archive you get

[01:16] <discord-raku-bot> <stevied> I don't know how to run that command on the archive

[01:16] <discord-raku-bot> <Nemokosch> well the example is right there in the code

[01:17] <discord-raku-bot> <stevied> ```

[01:17] <discord-raku-bot> <stevied> > $ pax -f Directory-0.0.1.tar.gz                                                                                                                                                                                                          [¬±main ‚úì]

[01:17] <discord-raku-bot> <stevied> pax: Cannot identify format. Searching...

[01:17] <discord-raku-bot> <stevied> pax: Cpio file name length 29594 is out of range

[01:17] <discord-raku-bot> <stevied> pax: Invalid header, starting valid header search.

[01:17] <discord-raku-bot> <stevied> pax: End of archive volume 1 reached

[01:17] <discord-raku-bot> <stevied> ```

[01:18] <discord-raku-bot> <stevied> what does that tell me? anything useful?

[01:19] <discord-raku-bot> <Nemokosch> is there any reason you aren't doing the kind of call zef does?

[01:19] <discord-raku-bot> <stevied> I don't follow you.

[01:20] <discord-raku-bot> <stevied> i'm just doing `mi6 release` like I've done many times before. this is the first time I've ran into this problem.

[01:21] <discord-raku-bot> <Nemokosch> anyway

[01:24] <discord-raku-bot> <stevied> https://paste.debian.net/1267994/

[01:24] <discord-raku-bot> <stevied> https://paste.debian.net/1267994/

[01:25] <discord-raku-bot> <stevied> ok, this looks interesting

[01:26] <discord-raku-bot> <Nemokosch> are those pax: lines going to stderr?

[01:28] <discord-raku-bot> <stevied> see https://github.com/frithnanth/perl6-Archive-Libarchive/issues/14#issuecomment-1377385341

[01:28] <discord-raku-bot> <stevied> I think I might have fucked something up

[01:28] <discord-raku-bot> <Nemokosch> rip

[01:31] <discord-raku-bot> <stevied> hmm, removing the symlink didn't help

[01:31] <discord-raku-bot> <stevied> ugh

[01:31] <discord-raku-bot> <Nemokosch> anyway, what is the output if you do 2> /dev/null on the pax command?

[01:31] <discord-raku-bot> <Nemokosch> because it seems it should only take the stdout into account

[01:32] <discord-raku-bot> <Nemokosch> also you could do an echo $? after

[01:33] <discord-raku-bot> <stevied> I get this: https://paste.debian.net/1267996/

[01:33] <discord-raku-bot> <Nemokosch> I think the space is significant there

[01:33] <discord-raku-bot> <stevied> `echo $?` is 0

[01:33] <discord-raku-bot> <Nemokosch> 2> as opposed to 2 >

[01:33] <discord-raku-bot> <stevied> k

[01:34] <discord-raku-bot> <Nemokosch> anyway, this pretty much spoiled it: the errors shouldn't matter

[01:34] <discord-raku-bot> <stevied> now I get: https://paste.debian.net/1267997/

[01:35] <discord-raku-bot> <Nemokosch> okay, this is getting nice, but also surprising

[01:36] <discord-raku-bot> <Nemokosch> sadly Raku is nowhere near built on this shittop≈±

[01:36] <discord-raku-bot> <Nemokosch> sadly Raku is nowhere near built on this shittop

[01:36] <discord-raku-bot> <stevied> what do you mean?

[01:36] <discord-raku-bot> <Nemokosch> trynna play with glot.io then

[01:42] <discord-raku-bot> <stevied> <@297037173541175296> so what are you thinking? any ideas?

[01:42] <discord-raku-bot> <stevied> oh wait

[01:43] <discord-raku-bot> <Nemokosch> if only this crap wasn't this slow

[01:43] <discord-raku-bot> <stevied> damn, my idea didn't work

[01:46] *** jgaz left
[01:47] <discord-raku-bot> <Nemokosch> idk, could you substitute this output into ^this snippet?

[01:47] <discord-raku-bot> <Nemokosch> as the ls

[01:48] <discord-raku-bot> <stevied> substitute what output?

[01:48] <discord-raku-bot> <Nemokosch> the output of that pax stuff

[01:48] <discord-raku-bot> <Nemokosch> the lines I guess

[01:49] <discord-raku-bot> <Nemokosch> okay, I think I have it

[01:49] <discord-raku-bot> <Nemokosch> ._Directory-0.0.1 is the problem

[01:50] <discord-raku-bot> <Nemokosch> I don't know where this came from

[01:50] <discord-raku-bot> <stevied> heh, i was just wondering about that myself

[01:50] <discord-raku-bot> <Nemokosch> I suppose you don't have a file like that in your folder

[01:50] <discord-raku-bot> <Nemokosch> does it really exist in the tar?

[01:53] <discord-raku-bot> <stevied> hmmm, nope

[01:54] <discord-raku-bot> <Nemokosch> well then maybe we could compare it with other distros that did work properly and see if that pax command reports fake files for those as well. But not now because it's really late and I'm falling asleep

[01:55] <discord-raku-bot> <stevied> ok, i'll try

[01:56] <discord-raku-bot> <stevied> thanks for your help. i'll keep working on it

[04:40] *** discord-raku-bot left
[04:40] *** discord-raku-bot joined
[05:23] *** raku-discord joined
[05:24] *** raku-discord left
[05:25] *** raku-discord joined
[05:25] *** raku-discord left
[05:26] *** raku-discord joined
[05:26] *** raku-discord left
[05:33] *** Heptite left
[06:19] <discord-raku-bot> <el gatito> <@853712446660673566>

[06:23] <discord-raku-bot> <el gatito> m: ```raku

[06:23] <discord-raku-bot> <el gatito> echo('hello world');

[06:23] <discord-raku-bot> <el gatito> ```

[06:24] <discord-raku-bot> <el gatito> m: ```raku

[06:24] <discord-raku-bot> <el gatito> say('hello world');

[06:24] <discord-raku-bot> <el gatito> ```

[07:40] *** discord-raku-bot left
[07:40] *** discord-raku-bot joined
[08:39] *** Heptite joined
[08:40] *** discord-raku-bot left
[08:41] *** discord-raku-bot joined
[09:29] *** jack9 joined
[09:30] <jack9> hi

[09:46] <discord-raku-bot> <Nemokosch> üëã

[09:49] <jack9> why can't i create variable without `my`

[09:50] <discord-raku-bot> <Nemokosch> you can: there is also `our` and `state` üòõ

[09:51] <jack9> m: $var = 0;

[09:51] <camelia> rakudo-moar 598a9d9c6: OUTPUT: ¬´===SORRY!=== Error while compiling <tmp>‚ê§Variable '$var' is not declared.  Did you mean '&VAR'?‚ê§at <tmp>:1‚ê§------> <BOL>‚èè$var = 0;‚ê§¬ª

[09:52] <discord-raku-bot> <Nemokosch> well I can't see `our` or `state` in that example

[09:57] *** NemokoschKiwi joined
[09:57] <NemokoschKiwi> m: our $var = 0;

[09:57] <camelia> rakudo-moar 598a9d9c6: ( no output )

[09:57] <NemokoschKiwi> m: state $var = 42;

[09:57] <camelia> rakudo-moar 598a9d9c6: ( no output )

[09:58] <NemokoschKiwi> now let me ask back: do you want to declare variables implicitly, and if so, why?

[10:00] <jack9> so i don't have to type `my`

[10:01] <NemokoschKiwi> not gonna lie, I don't find that such a noble goal, it's fairly arbitrary

[10:24] *** jack9 left
[10:39] <discord-raku-bot> <lakmatiol> You get two implicit variables, `$_` and `$`. In general, implicit variables create some annoying ambiguities and complicate scope resolution, while providing minimal merit.

[10:39] <discord-raku-bot> <lakmatiol> where $_ is block scoped, and `$` is state

[10:56] <discord-raku-bot> <Nahita> there are more "implicit" variables than those

[10:56] <discord-raku-bot> <Nahita> and you should add "in my opinion" or something to end of that sentence

[11:03] <discord-raku-bot> <Nemokosch> üöî

[11:07] *** NemokoschKiwi left
[11:09] *** ab5tract joined
[11:27] <discord-raku-bot> <Nahita> if you're replying to me, i don't see those garbage anymore, so might as well not bother

[11:29] <discord-raku-bot> <sour> hi, does raku work properly on windows (no WSL) ? I've had various issues in installing zef / installing packages using zef

[11:29] <lizmat> there are some known issues on Windows I believe

[11:30] <discord-raku-bot> <sour> thx, is there a discussion I can follow somewhere?

[11:37] <discord-raku-bot> <el gatito> what is `state` declaration keyword?

[11:37] <discord-raku-bot> <el gatito> ik that `my` is block scoped (like js `let`) and `our` is global but what is `state`?

[11:43] *** jack9 joined
[11:43] *** jack9 left
[11:45] <discord-raku-bot> <Nemokosch> static variable: created per subroutine

[11:55] <discord-raku-bot> <Nemokosch> <@265592945552392212> most useful experimenting is related to Coke's activity I think, he did try things ever now and then

[11:55] <discord-raku-bot> <Nemokosch> weird flex... no worries, your main activity was sabotage either way lmao

[11:56] <discord-raku-bot> <sour> is there someplace i can follow their activity?

[11:59] <discord-raku-bot> <Nemokosch> for now I'd say, if you have a particular problem in mind, let's try to knock that down directly

[12:00] <discord-raku-bot> <Nemokosch> he is definitely present in <#633753286209699870> - could be here as well but yeah, in either case, it's nighttime in the US now

[12:14] <discord-raku-bot> <sour> there like 4 problems i encountered while trying to install zef & cro (using zef)

[12:14] <discord-raku-bot> <sour> I eventually got it to work by skipping tests `--/test` and trying to install cro multiple times `--force-install`, and restarting the shell session (somehow this matters)

[12:15] <discord-raku-bot> <sour> there like 4 problems i encountered while trying to install zef & cro, App::Mi6 (using zef)

[12:17] *** jack9 joined
[12:18] <discord-raku-bot> <Nemokosch> Not gonna lie: it seems like sheer luck if Cro can install with tests, I had failures there in WSL as well

[12:18] <discord-raku-bot> <Nemokosch> I wish it got some priority for the devs

[12:22] <discord-raku-bot> <sour> yeah, unfortunately there were other issues besides failing tests

[12:23] <jack9> weak typing?

[12:23] <jack9> https://docs.raku.org/type/Str#(Cool)_routine_abs

[12:24] <discord-raku-bot> <Nemokosch> OpenSSL stuff?

[12:25] <discord-raku-bot> <Nemokosch> jack9: what do you mean by weak typing?

[12:25] <jack9> > Coerces the invocant (or in the sub form, the argument) to Numeric

[12:25] *** jack9 left
[12:26] <discord-raku-bot> <Nemokosch> Mhm, if the type is suitable, it will

[12:26] <discord-raku-bot> <jack9> a strongly typed lang will throw an error if a non numeric is passed

[12:27] <discord-raku-bot> <Nemokosch> I'm not sure if that's what "strong typing" really means

[12:27] <discord-raku-bot> <Nemokosch> but yes, by these terms, Raku isn't that

[12:28] <discord-raku-bot> <Nemokosch> in Raku, the general principle is that the operation defines the type of the operand, not the other way around

[12:29] <discord-raku-bot> <jack9> m: say(1 + 'hello')

[12:29] <discord-raku-bot> <jack9> m: say(1 . 'hello')

[12:29] <discord-raku-bot> <Nemokosch> exactly. + is numeric addition, and 'hello' is not suitable for that

[12:31] <discord-raku-bot> <Nemokosch> this helped now, although I'm not sure I would keep that error after the big schism from Perl

[12:33] <discord-raku-bot> <Nemokosch> m: say(1 ~ 'hello')

[12:35] <lizmat> 1 can be coerced to string

[12:36] <lizmat> "hello" cannot be coerced to a number

[12:48] *** ab5tract left
[12:50] *** ab5tract joined
[13:04] <discord-raku-bot> <jack9> my brain on php

[13:04] <discord-raku-bot> <jack9> my brain on php

[13:05] *** Heptite left
[13:09] <lizmat> so much better and less addictive than pcp

[13:16] <discord-raku-bot> <jack9> anyways, how much does different sigils affect how the same data is treated?

[13:16] <discord-raku-bot> <jack9> as an example```raku

[13:16] <discord-raku-bot> <jack9> my $coll = (1, 2, 3);

[13:16] <discord-raku-bot> <jack9> my @coll = (1, 2, 3);

[13:16] <discord-raku-bot> <jack9> ``` `$coll` is a list while `@coll` is an array

[13:16] <discord-raku-bot> <jack9> and my intuition is that `$coll` is treated as a single value while `@coll` is treated as a collection

[13:16] <discord-raku-bot> <jack9> but what are the concrete differences between two of them

[13:16] <discord-raku-bot> <jack9> `$coll` is not an iterable while `@coll` is?

[13:16] <lizmat> @coll contains mutable elements, $coll does not

[13:16] <lizmat> $coll is also an Iterable, but inside a container

[13:17] <discord-raku-bot> <jack9> so `$coll` is like python tuple

[13:17] <lizmat> and that makes it itemized

[13:17] <lizmat> could be, don't know enough python for that :-)

[13:19] <discord-raku-bot> <jack9> and `%coll` would be invalid

[13:24] <discord-raku-bot> <Nahita> a List in Raku is like tuple of Python. In your both lines, the right hand side is a List

[13:24] <discord-raku-bot> <Nahita> commas make a List

[13:25] <discord-raku-bot> <Nahita> in the second line, though, when you're assigning a List to a @-sigiled variable, that @-sigiled variable will be an Array

[13:25] <discord-raku-bot> <Nahita> which is... like the lists of Python

[13:26] <discord-raku-bot> <Nahita> so $coll is like a single thing as you say, puts/wraps that single thing in a container where that single thing is a List

[13:26] <discord-raku-bot> <Nahita> @coll is a collection of things and is an Array

[13:27] <discord-raku-bot> <Nahita> sorry if I resulted in confusion

[13:28] <discord-raku-bot> <Nahita> %coll would be invalid but only because there are odd number of elements so it cannot fully make pairs out of RHS

[13:28] <discord-raku-bot> <Nahita> to make the mapping

[13:37] <discord-raku-bot> <Nemokosch> to be accurate: tuples in Python are deeply immutable, that's quite an important feature of them

[13:38] <discord-raku-bot> <Nemokosch> Raku's lists are not deeply immutable, I like to put it as "they don't provide an interface for mutation" but that's it

[13:38] <discord-raku-bot> <stevied> I got a CI test failing on Windows apparently because TAP won't install on it: https://github.com/sdondley/Directory/actions/runs/3975022572/jobs/6814622245

[13:39] <discord-raku-bot> <Nemokosch> did you succeed on uploading it, by the way? ^^

[13:39] <discord-raku-bot> <stevied> I did, I used another machine.

[13:39] <discord-raku-bot> <Nemokosch> tricky haha

[13:40] <discord-raku-bot> <stevied> I think I somehow broke libarchive library when trying to get Archive::Libarchive module installed. I'm not sure, though.

[13:42] <discord-raku-bot> <Nemokosch> is there an issue at Raku/tap-harness6 or tap6-harness or whatever the name is?

[13:42] <discord-raku-bot> <Nemokosch> I mean I wouldn't be surprised

[13:47] <discord-raku-bot> <stevied> I just filed an issue. didn't see one there.

[13:48] <discord-raku-bot> <jack9> m:

[13:48] <discord-raku-bot> <jack9> $lst = (1, 2, 3);

[13:48] <discord-raku-bot> <jack9> $lst[1] = 4;

[13:48] <discord-raku-bot> <jack9> say($lst);

[13:48] <discord-raku-bot> <jack9> m:

[13:48] <discord-raku-bot> <jack9> my $lst = (1, 2, 3);

[13:48] <discord-raku-bot> <jack9> $lst[1] = 4;

[13:48] <discord-raku-bot> <jack9> say($lst);

[13:50] *** jack9 joined
[13:52] <discord-raku-bot> <Nemokosch> m:

[13:52] <jack9> can custom objects (classes) define what happens when they are assigned to a @ or a % variable?

[13:52] <discord-raku-bot> <Nemokosch> my $foo = 2;

[13:52] <discord-raku-bot> <Nemokosch> my  $lst = (1, $foo, 3);

[13:52] <discord-raku-bot> <Nemokosch> $lst[1] = 4;

[13:52] <discord-raku-bot> <Nemokosch> say($lst);

[13:53] *** jack9 left
[13:54] <discord-raku-bot> <Nemokosch> pfff, good question

[13:54] <discord-raku-bot> <jack9> ono üò≥

[13:56] <discord-raku-bot> <Nemokosch> that's what I mean by "just not providing mutation". the $-sigilled variable did

[13:57] <discord-raku-bot> <Nemokosch> you know, by default, a @variable is created as an Array

[13:57] <discord-raku-bot> <Nemokosch> they are enforced to be Positional (which an Array obviously is)

[13:57] <discord-raku-bot> <jack9> `$foo` is a reference inside that list?

[13:59] <discord-raku-bot> <Nemokosch> something like that. Instead of the reference terminology, the interface that provides the mutation is called "container"

[13:59] <discord-raku-bot> <Nemokosch> when you create a my $variable, you get a Scalar container and your symbol is bound to that

[14:01] <discord-raku-bot> <jack9> and `($i,)` is passing the container to the list

[14:02] <discord-raku-bot> <Nemokosch> yep

[14:02] <discord-raku-bot> <Nemokosch> a way to see what you have underlying is to call .VAR on a value

[14:03] <discord-raku-bot> <Nemokosch> my $foo = 2;

[14:03] <discord-raku-bot> <Nemokosch> my  $lst = (1, $foo, 3);

[14:03] <discord-raku-bot> <Nemokosch> say(.WHAT, .VAR.WHAT) given $lst[0];

[14:03] <discord-raku-bot> <Nemokosch> say(.WHAT, .VAR.WHAT) given $lst[1];

[14:03] <discord-raku-bot> <Nemokosch> ugh

[14:04] <discord-raku-bot> <Nemokosch> m:

[14:04] <discord-raku-bot> <Nemokosch> my $foo = 2;

[14:04] <discord-raku-bot> <Nemokosch> my  $lst = (1, $foo, 3);

[14:04] <discord-raku-bot> <Nemokosch> say(.WHAT, .VAR.WHAT) given $lst[0];

[14:04] <discord-raku-bot> <Nemokosch> say(.WHAT, .VAR.WHAT) given $lst[1];

[14:06] <discord-raku-bot> <jack9> so how do i "dereference" a scalar var

[14:07] <discord-raku-bot> <Nemokosch> using decontainerisation, which is commonly achieved as a "fake indexing"

[14:07] <discord-raku-bot> <Nemokosch> $foo[] or $foo<>

[14:08] <discord-raku-bot> <Nemokosch> if you meant to get the raw content

[14:09] <discord-raku-bot> <jack9> back to this question

[14:10] *** ab5tract left
[14:10] <discord-raku-bot> <Nemokosch> could you get a more concrete example?

[14:11] <discord-raku-bot> <Nemokosch> I have the impression that the broad answer is no but many actually related and relevant things can be achieved

[14:18] <discord-raku-bot> <jack9> ```perl

[14:18] <discord-raku-bot> <jack9> class Person {

[14:18] <discord-raku-bot> <jack9>     has $.name;

[14:18] <discord-raku-bot> <jack9>     has $.age;

[14:18] <discord-raku-bot> <jack9>     has $.gender;

[14:18] <discord-raku-bot> <jack9> }

[14:18] <discord-raku-bot> <jack9> my $person = Person.new(name => 'John Smith',

[14:18] <discord-raku-bot> <jack9>                         age => 30,

[14:18] <discord-raku-bot> <jack9>                         gender => :male);

[14:18] <discord-raku-bot> <jack9> # what will happen?

[14:18] <discord-raku-bot> <jack9> my @person = Person.new(name => 'John Smith',

[14:18] <discord-raku-bot> <jack9>                         age => 30,

[14:18] <discord-raku-bot> <jack9>                         gender => :male);

[14:18] <discord-raku-bot> <jack9> ```

[14:18] <lizmat> the Person object will be in the first element of @person

[14:19] <discord-raku-bot> <jack9> and it will always be like that for whatever class it is?

[14:19] <discord-raku-bot> <jack9> or the class can change this behavior?

[14:20] <discord-raku-bot> <jack9> and it will always be like that for whatever object it is?

[14:20] <discord-raku-bot> <jack9> or the object can change this behavior?

[14:20] <lizmat> whatever class it is

[14:20] <lizmat> the class can not change that behaviour

[14:22] <discord-raku-bot> <Nemokosch> is it possible to create new sigils?

[14:23] <discord-raku-bot> <p6steve> jack9: fwiw raku is quite forgiving ... here you are assigning a single item to a list and this may prevent a lot of boilerplate in the case that you have a function that returns both a single item and a list ... but surely it would be clearer to a maintainer that you really mean ```my @person = [Person.new(...)];```

[14:24] <discord-raku-bot> <p6steve> or ```@person.push: Person.new(...);```

[14:24] <lizmat> it is currently not possible to create new sigils, afaik

[14:27] <discord-raku-bot> <jack9> you can call a function in that syntax?

[14:27] <discord-raku-bot> <jack9> is that equivalent `@person.push(Person.new(...))`

[14:27] <discord-raku-bot> <p6steve> yes

[14:30] <discord-raku-bot> <p6steve> if you want the rhs of an "assignment" to change the behaviour, I would say (i) don't try this with an assignment "=" and (ii) take a look at the Store/Fetch proxy in the docs

[14:31] <discord-raku-bot> <p6steve> so a way to kind of do this is to make the lhs be a method of some kind of "role" and to give the rhs object a type

[14:31] <discord-raku-bot> <p6steve> something like

[14:32] <discord-raku-bot> <jack9> role? is that like a mixin?

[14:34] <discord-raku-bot> <p6steve> ```

[14:34] <discord-raku-bot> <p6steve> role R {

[14:34] <discord-raku-bot> <p6steve>   has $.a;

[14:34] <discord-raku-bot> <p6steve>   multimethod m(Str $x ) { $!a = $x xx 2 }

[14:34] <discord-raku-bot> <p6steve>   multimethod m(Int $x ) { $!a = $x * 2 }

[14:34] <discord-raku-bot> <p6steve> }

[14:34] <discord-raku-bot> <p6steve> my $r = R.new; # here we punt the role to a class

[14:34] <discord-raku-bot> <p6steve> $r.m: 23;  

[14:34] <discord-raku-bot> <p6steve> $r.m: 'xyz';

[14:34] <discord-raku-bot> <p6steve> say $r.a;

[14:34] <discord-raku-bot> <p6steve> ```

[14:35] <discord-raku-bot> <p6steve> yes you can go ```class C does R { ... }```

[14:36] <discord-raku-bot> <p6steve> with a store/fetch proxy you can do this ```$r.m = 23; $r.m = 'xyz';```

[14:37] <discord-raku-bot> <p6steve> you can likely even use the FALLBACK method to avoid using the '.m' ...

[14:38] <discord-raku-bot> <jack9> glot.io has some problems with it```

[14:38] <discord-raku-bot> <jack9> ===SORRY!=== Error while compiling /home/glot/main.raku

[14:38] <discord-raku-bot> <jack9> Unable to parse expression in argument list; couldn't find final ')' (corresponding starter was at line 3)

[14:38] <discord-raku-bot> <jack9> at /home/glot/main.raku:3

[14:38] <discord-raku-bot> <jack9> ------>   multimethod m(Str‚èè $x ) { $!a = $x xx 2 }

[14:38] <discord-raku-bot> <jack9>     expecting any of:

[14:38] <discord-raku-bot> <jack9>         infix

[14:38] <discord-raku-bot> <jack9>         infix stopper

[14:38] <discord-raku-bot> <jack9> ```

[14:44] <discord-raku-bot> <jack9> you forgot to put spaces in between `multi` and `method` thats why

[14:47] <discord-raku-bot> <Nemokosch> that's right

[14:47] <discord-raku-bot> <p6steve> ```

[14:47] <discord-raku-bot> <p6steve>   1 role R {

[14:47] <discord-raku-bot> <p6steve>   2   has $.a;

[14:47] <discord-raku-bot> <p6steve>   3   

[14:47] <discord-raku-bot> <p6steve>   4   multi method m( Str $x ) { $!a = ($x xx 2) }

[14:47] <discord-raku-bot> <p6steve>   5   multi method m( Int $x ) { $!a = ($x * 2) }

[14:47] <discord-raku-bot> <p6steve>   6 }

[14:47] <discord-raku-bot> <p6steve>   7 my $r = R.new; # here we punt the role to a class

[14:47] <discord-raku-bot> <p6steve>   8 $r.m: 23;  

[14:47] <discord-raku-bot> <p6steve>   9 $r.m: 'xyz';

[14:47] <discord-raku-bot> <p6steve>  10 say $r.a;

[14:47] <discord-raku-bot> <p6steve> ```

[14:47] <discord-raku-bot> <p6steve> oh sugar

[14:49] <discord-raku-bot> <stevied> <@297037173541175296> https://github.com/tony-o/raku-fez/issues/72

[14:49] <discord-raku-bot> <stevied> i'm not sure if that's causing the issue I'm having on my intel mac

[14:50] <discord-raku-bot> <stevied> i'm gonna try on an another, older intel mac

[14:50] <discord-raku-bot> <stevied> running an older version of macos

[14:51] <discord-raku-bot> <Nemokosch> macOS should be banned from development finally üòÜ

[14:53] <discord-raku-bot> <stevied> raku would have problems being a linux only platform

[14:53] <discord-raku-bot> <p6steve> ^^^ both right!

[14:54] <discord-raku-bot> <Nemokosch> I mean, not if people just agreed to avoid Mac once and for all

[14:55] <discord-raku-bot> <p6steve> or use vftools ;-)

[14:55] <discord-raku-bot> <Nemokosch> there are no similar problems for even BSD

[14:55] <discord-raku-bot> <stevied> if only there were world peace

[14:55] <discord-raku-bot> <p6steve> free beer

[14:56] <discord-raku-bot> <stevied> if only i had a full head of hair again

[15:05] <discord-raku-bot> <Nemokosch> then everybody would use Minix

[15:11] <discord-raku-bot> <stevied> ok, uploaded a new version of my distro without issue on my older intel mac

[15:11] <discord-raku-bot> <stevied> huh

[15:11] <discord-raku-bot> <stevied> so wtf is wrong with my main machine? I have no idea.

[15:11] <discord-raku-bot> <jack9> m:

[15:11] <discord-raku-bot> <jack9> $a = [1, 2, 3];

[15:12] <discord-raku-bot> <jack9> m:

[15:12] <discord-raku-bot> <jack9> my $a = [1, 2, 3];

[15:12] <discord-raku-bot> <jack9> say $a.WHAT;

[15:12] <discord-raku-bot> <stevied> kind of a dumb error message

[15:12] <discord-raku-bot> <jack9> i can assign an array without `@`

[15:13] <discord-raku-bot> <jack9> wil

[15:13] <discord-raku-bot> <stevied> right

[15:13] <discord-raku-bot> <jack9> til

[15:13] <discord-raku-bot> <stevied> you can also assign a hash to a scalar var

[15:15] <discord-raku-bot> <jack9> does people get angry if i do that

[15:16] <discord-raku-bot> <stevied> no

[15:16] <discord-raku-bot> <stevied> I won't, at least

[15:16] <discord-raku-bot> <jack9> nice, i will code using only `$`, no one will give a shit

[15:17] <discord-raku-bot> <stevied> the @ and % can help you keep track of what the variable contains

[15:17] <discord-raku-bot> <stevied> but up to you

[15:18] <discord-raku-bot> <stevied> also, the scalar variable will "box" the data structure. so it can behave differently under certain circumstances

[15:22] <discord-raku-bot> <stevied> maybe this will help shed clarity on when to use what: https://stackoverflow.com/a/62142436/1641112

[15:22] <discord-raku-bot> <jack9> ```raku

[15:22] <discord-raku-bot> <jack9> sub char_count($str) {

[15:22] <discord-raku-bot> <jack9>     my %res = {};

[15:22] <discord-raku-bot> <jack9>     my @chars = $str.comb;

[15:22] <discord-raku-bot> <jack9>     for @chars -> $c {

[15:22] <discord-raku-bot> <jack9>         if (%res.contains($c)) {

[15:22] <discord-raku-bot> <jack9>             %res[$c]++;

[15:22] <discord-raku-bot> <jack9>         } else {

[15:22] <discord-raku-bot> <jack9>             %res[$c] = 1;

[15:22] <discord-raku-bot> <jack9>         }

[15:22] <discord-raku-bot> <jack9>     }

[15:22] <discord-raku-bot> <jack9>     %res;

[15:22] <discord-raku-bot> <jack9> }

[15:22] <discord-raku-bot> <jack9> say char_count('The quick brown fox jumps over the lazy dog');

[15:22] <discord-raku-bot> <stevied> use `%res{$c}`

[15:23] <discord-raku-bot> <stevied> curly instead of square brackets

[15:25] <discord-raku-bot> <jack9> and why?```

[15:25] <discord-raku-bot> <jack9> Applying '.contains' to a Hash will look at its .Str representation. 

[15:25] <discord-raku-bot> <jack9> Did you mean 'Hash{needle}:exists'?

[15:25] <discord-raku-bot> <jack9> ```

[15:26] <discord-raku-bot> <stevied> why curly braces? because that's the syntax.

[15:26] <discord-raku-bot> <stevied> square brackets are for arrays

[15:27] <discord-raku-bot> <jack9> no i mean why is this warning

[15:28] <discord-raku-bot> <stevied> i've never seen a .contains method on hashes. Did you see that used somewhere else?

[15:29] <discord-raku-bot> <stevied> contains is a method for a string

[15:30] <discord-raku-bot> <stevied> https://docs.raku.org/type/Str#method_contains

[15:31] <discord-raku-bot> <stevied> all you need is `%res{$c}++`

[15:31] <discord-raku-bot> <stevied> you don't need to check if it already exists

[15:31] <discord-raku-bot> <jack9> yes i assume there is a method with a same name for hashes

[15:31] <discord-raku-bot> <stevied> it will autovivify

[15:31] <lizmat> that will stringify the hash and call .contains on that

[15:34] <discord-raku-bot> <jack9> it will automatically add an entry in `%res` (like implicit `%res{$c} = 0`) before `++`ing it?

[15:35] <discord-raku-bot> <stevied> yeah

[15:38] <discord-raku-bot> <jack9> raku be implicitly creating zeros

[15:42] <discord-raku-bot> <jack9> why does this script give a weird output```

[15:42] <discord-raku-bot> <jack9> sub char_count($str) {

[15:42] <discord-raku-bot> <jack9>     my %res;

[15:42] <discord-raku-bot> <jack9>     my @chars = $str.comb;

[15:42] <discord-raku-bot> <jack9>     for @chars -> $c {

[15:42] <discord-raku-bot> <jack9>         %res{$c}++;

[15:42] <discord-raku-bot> <jack9>     }

[15:42] <discord-raku-bot> <jack9>     %res;

[15:42] <discord-raku-bot> <jack9> }

[15:42] <discord-raku-bot> <jack9> my %char_count = char_count('The quick brown fox jumps over the lazy dog');

[15:42] <discord-raku-bot> <jack9> for %char_count -> $char, $count {

[15:42] <discord-raku-bot> <jack9>     say "$char: $count\n";

[15:42] <discord-raku-bot> <jack9> }

[15:42] <discord-raku-bot> <jack9> ```output here```

[15:43] <discord-raku-bot> <jack9> oh nah i need to call `.kv`

[15:46] *** Heptite joined
[15:53] <discord-raku-bot> <jack9> ```

[15:53] <discord-raku-bot> <jack9> my @char_count_sorted = char_count($str).kv.sort(sub($e) {$e.key});

[15:53] <discord-raku-bot> <jack9> ```why does it say```

[15:53] <discord-raku-bot> <jack9> Variable '$e' is not declared

[15:53] <discord-raku-bot> <jack9> ```when it clearly is?

[15:53] <lizmat> sub ($e)

[15:54] <lizmat> nameless subs need a space, otherwise it will be interpreted as a call on a sub called "sub"

[15:54] <discord-raku-bot> <jack9> ü§Ø

[15:55] <lizmat> foo() without space between foo and () is *always* interpreted as a call

[16:02] <discord-raku-bot> <Nemokosch> Smh whitespAce and parens üòõ

[16:04] <discord-raku-bot> <jack9> how to sort in descending order

[16:11] <discord-raku-bot> <stevied> .reverse

[16:12] <discord-raku-bot> <jack9> ok

[16:13] <discord-raku-bot> <jack9> phew

[16:13] <discord-raku-bot> <jack9> https://glot.io/snippets/ghhuvpi7r9

[16:20] <discord-raku-bot> <jack9> this one better

[16:20] <discord-raku-bot> <jack9> https://glot.io/snippets/ghhv2edlqy

[16:25] <discord-raku-bot> <Nemokosch> By the way: consider visiting docs.raku.org if you suspect that a question has a straightforward documented answer

[16:25] <discord-raku-bot> <jack9> ok

[16:26] <discord-raku-bot> <jack9> is it far from idiomatic raku

[16:28] <discord-raku-bot> <Nemokosch> Bags could help

[16:30] <discord-raku-bot> <Nemokosch> You take the combed version and coerce it to Bag

[16:31] <discord-raku-bot> <Nemokosch> Nevertheless familiarizing with the syntax is also a noble goal üôÇ

[16:41] <discord-raku-bot> <Nahita> - Bag exists for counting things (collections.Counter like thing)

[16:41] <discord-raku-bot> <Nahita> - if you're sorting a hash-like, its the pairs that are sorted, as they yield pairs when iterated. so you can leave out .pairs

[16:41] <discord-raku-bot> <Nahita> - instead of an anonymous sub with `sub`, you can use "whatever" currying like `*.value` in sorting

[16:41] <discord-raku-bot> <Nahita> - then you can do `-*.value` to sort in descending order

[16:41] <discord-raku-bot> <Nahita> - you can do `my ($char, $count) = $pair.kv` or in the parameter of the loop as `for @char-count-sorted -> (:key($char), :value($count)) { ... }` to destructure there

[16:41] <discord-raku-bot> <Nahita> - you can do `my $display-char = $char eq " " ?? "<space>" !! $char` with ternary

[16:41] <discord-raku-bot> <Nahita> - you can do `%res{$_}++ for @chars` with statement modifier for instead of a "normal" loop; `$_` is aliased to elements of `@chars` in each turn

[16:44] <discord-raku-bot> <jack9> `Bag.new($mystring)` to coerce to `Bag`?

[16:45] <discord-raku-bot> <jack9> `Bag.new($mystring)` to coerce `Str` to `Bag`?

[16:46] <discord-raku-bot> <jack9> m: say Bag.new 'aaabbbccc'

[16:46] <discord-raku-bot> <Nahita> you need .comb

[16:46] <discord-raku-bot> <Nemokosch> Not sure if that's a good idea that way

[16:46] <discord-raku-bot> <jack9> m: say Bag.new('aaabbbccc'.comb)

[16:46] <discord-raku-bot> <Nemokosch> But $str.comb.Bag seems safe

[16:46] <discord-raku-bot> <Nahita> strings don't yield their elements on iteration

[16:51] <discord-raku-bot> <jack9> `*.value`?

[16:51] <discord-raku-bot> <Nemokosch> Of what?

[16:51] <discord-raku-bot> <Nemokosch> This is a callable, kind of like a function

[16:52] <discord-raku-bot> <jack9> m: (*.value)(raku => 'ukra')

[16:54] <discord-raku-bot> <Nemokosch> double the parens

[16:54] <discord-raku-bot> <Nemokosch> it's interpreted as a named argument

[16:54] <discord-raku-bot> <jack9> m: (*.value)((raku => 'ukra'))

[16:54] <discord-raku-bot> <jack9> m: say (*.value)((raku => 'ukra'))

[16:55] <discord-raku-bot> <jack9> its called whatever operator isn't it

[16:55] <discord-raku-bot> <Nemokosch> whatever star, at least

[16:55] <discord-raku-bot> <Nemokosch> and iirc the result is a WhateverCallable

[16:56] <discord-raku-bot> <jack9> the amount of sugar provided by raku is insane

[16:56] <discord-raku-bot> <Nemokosch> it's mostly handy if you have something simple for a callback

[16:56] <discord-raku-bot> <Nemokosch> it might break on trickier things, either syntactically or semantically

[16:57] <discord-raku-bot> <Nemokosch> m: say(*.value); say(*.WHAT); say(*.VAR);

[16:57] <discord-raku-bot> <Nemokosch> discord ate the formatting, imagine the asterisks :DD

[16:58] <discord-raku-bot> <Nemokosch> but yeah - the first one whatever-curried, the other two simply acted upon the asterisk as a Whatever instance

[17:01] <discord-raku-bot> <stevied> how do I get the equivalent of %*ENV<HOME> on windows machine?

[17:04] <discord-raku-bot> <Nahita> USERPROFILE

[17:07] <discord-raku-bot> <stevied> so %*USERPROFILE<HOME>?

[17:08] <discord-raku-bot> <stevied> says not found

[17:09] <discord-raku-bot> <Nahita> %*ENV<USERPROFILE>

[17:10] <discord-raku-bot> <stevied> oh, looks like $*HOME

[17:10] <discord-raku-bot> <Nahita> way better

[17:22] <discord-raku-bot> <jack9> `$* %*`?

[17:22] <discord-raku-bot> <jack9> does `*` mark that a variable is special/reserved?

[17:24] <discord-raku-bot> <jack9> oh nvm it means dynamically scoped vars

[17:36] <discord-raku-bot> <Nemokosch> mhm

[17:37] <discord-raku-bot> <Nemokosch> * is the dynamic twigil

[17:38] <discord-raku-bot> <Nemokosch> https://docs.raku.org/language/variables#Twigils

[17:38] <discord-raku-bot> <Nemokosch> good list

[17:41] <discord-raku-bot> <jack9> `$*` - dynamic scoped vars

[17:41] <discord-raku-bot> <jack9> `$?` - inlined compile time values

[17:41] <discord-raku-bot> <jack9> `$!` - private attr

[17:41] <discord-raku-bot> <jack9> `$.` - public attr

[17:41] <discord-raku-bot> <jack9> `$^` - placeholder vars

[17:41] <discord-raku-bot> <jack9> `$` - normal

[17:41] <discord-raku-bot> <jack9> `$*` - dynamic scoped var

[17:41] <discord-raku-bot> <jack9> `$?` - inlined compile time value

[17:41] <discord-raku-bot> <jack9> `$!` - private attr

[17:41] <discord-raku-bot> <jack9> `$.` - public attr

[17:41] <discord-raku-bot> <jack9> `$^` - placeholder var

[17:41] <discord-raku-bot> <jack9> `$` - normal

[17:43] <discord-raku-bot> <Nahita> way better...

[17:49] <discord-raku-bot> <Nemokosch> $^ in a block/function is much like the whateverstar, except you can give it a name

[17:50] <discord-raku-bot> <jack9> how do i refer to the receiver in a method?

[17:50] <discord-raku-bot> <jack9> `$this`?

[17:51] <discord-raku-bot> <Nahita> self

[17:52] <discord-raku-bot> <jack9> so like `self.do_something(:foo(42))`?

[17:52] <discord-raku-bot> <Nahita> yes self will be the invocant you can do whatever you want with it

[17:53] <discord-raku-bot> <Nahita> if you want another name you can do `method yes($this: $p1, $p2) { ... }`

[17:53] <discord-raku-bot> <Nahita> note the :

[17:53] <discord-raku-bot> <Nahita> then $this is the invocant

[17:53] <discord-raku-bot> <Nahita> but self is still available

[17:55] <discord-raku-bot> <jack9> so `do_something(self, :foo(42))` would be the same?

[17:55] <discord-raku-bot> <Nahita> no it would not

[17:56] <discord-raku-bot> <jack9> wdym by invocant?

[17:56] <discord-raku-bot> <jack9> like receiver?

[17:56] <discord-raku-bot> <Nahita> for a class A, if you do `my $a = A.new(...); $a.some-method(...)`

[17:56] <discord-raku-bot> <Nahita> then that $a is the invocant i meant

[17:57] <discord-raku-bot> <Nahita> and it will be seen as `self`

[17:57] <discord-raku-bot> <Nahita> in the method's body

[17:57] <discord-raku-bot> <Nahita> in the `A.new(...)`'s case, `A` is the invocant, as another example

[17:57] <discord-raku-bot> <jack9> so `$a` is the receiver

[17:57] <discord-raku-bot> <stevied> <@297037173541175296> so when I rollback to 2022.07 release, I have no problems releasing the module with `mi6` command. so it's probably a newer version of one of the plugins causing the problem.

[17:58] <discord-raku-bot> <jack9> and that is called invocant in raku

[17:58] <discord-raku-bot> <Nahita> i think invocant is a generic term

[17:58] <discord-raku-bot> <Nahita> but maybe not

[18:05] <discord-raku-bot> <jack9> java docs just refer to the invocant (`this`) as ‚Äúcurrent object‚Äù lol

[18:05] <discord-raku-bot> <jack9> https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html

[18:06] <discord-raku-bot> <gfldex> m:```

[18:06] <discord-raku-bot> <gfldex>     class C {

[18:06] <discord-raku-bot> <gfldex>         method m(::?CLASS \self: $arg1, $arg2, *@rest) { }

[18:06] <discord-raku-bot> <gfldex>     }

[18:06] <discord-raku-bot> <gfldex> ```

[18:16] *** discord-raku-bot left
[18:16] *** discord-raku-bot joined
[18:18] <discord-raku-bot> <gfldex> <@563790557831495691> fez can create a tarball for you. Not sure if you can stop it from uploading it, tho.

[18:19] <discord-raku-bot> <Nahita> there was a discussion about \SELF in rakudo's source code

[18:21] <discord-raku-bot> <stevied> `zef build .` is throwing `!!!> Build failure: .`

[18:21] <discord-raku-bot> <Nahita> oh you mean literally the self sorry

[18:31] <discord-raku-bot> <gfldex> <@563790557831495691> that's not very kind of zef. Does it say anything interesting when asked to be verbose?

[18:33] <discord-raku-bot> <Nemokosch> both zef and especially fez have kind of unfriendly messages in general, to be honest

[18:34] <discord-raku-bot> <Nemokosch> this badly seems like something I have seen working before...

[18:34] <discord-raku-bot> <Nemokosch> or maybe it was with the $ sigil?

[18:34] <discord-raku-bot> <Nemokosch> ü§î

[18:34] <discord-raku-bot> <stevied> tried that and it just gave me the full path, no more info

[18:35] <discord-raku-bot> <stevied> reinstalling zef didn't help

[18:37] <discord-raku-bot> <stevied> zef is broken on other distros as well. so it's not the module

[18:38] <discord-raku-bot> <stevied> zef install works fine. what sense does that make?

[18:41] <discord-raku-bot> <gfldex> any luck with `--debug` ?

[18:41] <discord-raku-bot> <stevied> wtf? I get the same thing on a different machine. this is nuts. i gotta be doing something wrong

[18:42] <discord-raku-bot> <stevied> ```

[18:42] <discord-raku-bot> <stevied> > $ zef --debug build .                                                                                                                                                                                                                        [¬±main ‚úì]

[18:42] <discord-raku-bot> <stevied> ===> # SKIP: No need to build Directory:ver<0.0.3>:auth<zef:sdondley>

[18:42] <discord-raku-bot> <stevied> !!!> Build failure: . at /Users/steve/git_repos/raku/modules/steve/Directory

[18:42] <discord-raku-bot> <stevied> ```

[18:43] <discord-raku-bot> <stevied> --force didn't help either

[18:43] <discord-raku-bot> <Nemokosch> what is build for, in the first place

[18:43] <discord-raku-bot> <Nemokosch> "run the build process"

[18:44] <discord-raku-bot> <Nemokosch> this wouldn't necessarily give me the same idea

[18:44] <discord-raku-bot> <stevied> it's one of my distros

[18:44] <discord-raku-bot> <Nemokosch> could be that this is kind of like running a makefile

[18:44] <discord-raku-bot> <stevied> I don't have a makefile

[18:45] <discord-raku-bot> <gfldex> Do you actually got a `Build.pm`?

[18:45] <discord-raku-bot> <stevied> no

[18:46] <discord-raku-bot> <gfldex> then there is nothing to build, hence the `# SKIP` .

[18:46] <discord-raku-bot> <Nemokosch> the message itself is horrendous though, it would have been so simple to say that there is nothing to build...

[18:47] <discord-raku-bot> <Nemokosch> but yeah, makes me wonder still, how you ended up with this command anyway

[18:47] <discord-raku-bot> <stevied> how do I generate a Build.pm?

[18:47] <discord-raku-bot> <Nemokosch> any what for?

[18:47] <discord-raku-bot> <Nemokosch> and what for?

[18:47] <discord-raku-bot> <Nemokosch> what is your goal with that?

[18:48] <discord-raku-bot> <gfldex> You don't, really. You only need a `Build.pm` if you want to run code-gen scripts (or other fancy stuff) on the target host when installing a distro.

[18:48] <discord-raku-bot> <stevied> <@297037173541175296> I want to generate a tarball and inspect it to troubleshoot the other problem I'm having

[18:49] <discord-raku-bot> <Nemokosch> I suspect zef build is not for that. Do you have something that tells you otherwise?

[18:49] <discord-raku-bot> <stevied> no. but this is how things worked when I used to use Dist::Zilla with perl

[18:50] <discord-raku-bot> <stevied> I just assume it uses the same design patter

[18:50] <discord-raku-bot> <stevied> `mi6 build` doesn't generate a tarball for me either

[18:50] <discord-raku-bot> <Nemokosch> so far, evidence suggests otherwise

[18:50] <discord-raku-bot> <Nemokosch> yep, mi6 release does

[18:51] <discord-raku-bot> <stevied> when I try, I get an error that there are no changes to my Change file

[18:51] <discord-raku-bot> <stevied> I don't want to make changes. I just want a GD tarball

[18:51] <discord-raku-bot> <Nemokosch> of course, it's not the primary use of mi6 release üòÑ

[18:52] <discord-raku-bot> <Nemokosch> I'd rather check fez itself

[18:52] <discord-raku-bot> <stevied> I looked at fez already. didn't see any commands for that

[18:52] <discord-raku-bot> <gfldex> upload                creates a distribution tarball and uploads

[18:53] <discord-raku-bot> <stevied> there is `fez upload` but that uploads it according to help

[18:53] <discord-raku-bot> <Nemokosch> I'm not sure there is an official interface for just generating a tarball

[18:53] <discord-raku-bot> <stevied> when I run that it just says it was uploaded. no tarball anywhere.

[18:53] <discord-raku-bot> <Nemokosch> having said that, quite sure it's just a banal tar czf kind of call

[18:54] <discord-raku-bot> <gfldex> did you `fez register`?

[18:55] <discord-raku-bot> <stevied> yeah

[18:55] <discord-raku-bot> <stevied> that all works

[18:57] <discord-raku-bot> <stevied> maybe there's a way to configure dist.ini to tell mi6 not to check for changes

[18:59] <discord-raku-bot> <Nemokosch> > my $proc = mi6run "tar", "czf", "$name.tar.gz", $name, :!out, :err, :%env;

[19:00] <discord-raku-bot> <Nemokosch> really, that's all it does

[19:01] <discord-raku-bot> <stevied> huh

[19:02] <discord-raku-bot> <stevied> does it tarball the lib directory?

[19:04] <discord-raku-bot> <Nemokosch> it collects the files with git ls-files

[19:05] <discord-raku-bot> <Nemokosch> https://github.com/skaji/mi6/blob/965ecfee86258b4a045d8fb65fa28a9ca3180c2b/lib/App/Mi6/Release/MakeDist.rakumod#L6

[19:05] <discord-raku-bot> <stevied> ok, so `tar czf Directory.tar.gz $(git ls-files)  `

[19:05] <discord-raku-bot> <stevied> looks like it worked

[19:06] <discord-raku-bot> <Nemokosch> oh right, I think you need to make a common root folder for those files

[19:06] <discord-raku-bot> <Nemokosch> that's what the $name was for, that consisted of the distribution name plus the version

[19:09] <discord-raku-bot> <stevied> ok, so I'm getting somewhere now: https://github.com/skaji/mi6/issues/166#issuecomment-1399303322

[19:09] <discord-raku-bot> <stevied> lemme google that error

[19:10] <discord-raku-bot> <Nemokosch> Masukomi seems to be right

[19:11] <discord-raku-bot> <stevied> about what?

[19:12] <discord-raku-bot> <stevied> https://superuser.com/questions/61185/why-do-i-get-files-like-foo-in-my-tarball-on-os-x

[19:13] <discord-raku-bot> <Nemokosch> https://github.com/tony-o/raku-fez/pull/74

[19:14] <discord-raku-bot> <Nemokosch> found this and actually provided a solution as well

[19:16] <discord-raku-bot> <stevied> yeah, getting close

[19:16] <discord-raku-bot> <stevied> that solved that problem, but still getting these fucked up warnings: pax: `Unrecognized header keyword: LIBARCHIVE.xattr.com.apple.provenance`

[19:16] <discord-raku-bot> <stevied> this is nuts

[19:17] <discord-raku-bot> <Nemokosch> okay but that at least wouldn't keep your distro from being uploaded üòõ

[19:17] <discord-raku-bot> <stevied> you don't think?

[19:17] <discord-raku-bot> <Nemokosch> I don't

[19:17] <discord-raku-bot> <stevied> I wonder why my other mac not throw those errors

[19:18] <discord-raku-bot> <Nemokosch> those go to stderr so it might be fine with them still

[19:18] <discord-raku-bot> <stevied> ok

[19:19] <discord-raku-bot> <stevied> the other question is, why did downgrading to 2022.07 fix the issue?

[19:19] <discord-raku-bot> <Nemokosch> that's a painfully accurate question

[19:20] <discord-raku-bot> <stevied> something must have changed in the way mi6 generates those tarballs

[19:20] <discord-raku-bot> <stevied> or would it be fez?

[19:20] <discord-raku-bot> <Nemokosch> could it not be because the 2022.07 version you had was simply cleaner in some way?

[19:21] <discord-raku-bot> <stevied> i'm gonna switch back to 12 version and try uploading with fez. I think it might not work

[19:22] <discord-raku-bot> <stevied> ok, fez is just hanging.

[19:23] <discord-raku-bot> <stevied> and it works just fine in 07

[19:23] <discord-raku-bot> <stevied> huh

[19:23] <discord-raku-bot> <stevied> so it's gotta be fez

[19:23] <discord-raku-bot> <stevied> and the way it generates the tarball

[19:23] <discord-raku-bot> <Nemokosch> idk, in the case of mi6, it's mi6 that generates the tarball

[19:24] <discord-raku-bot> <Nemokosch> using this logic that it copies all the git ls-files to a common folder and tars it

[19:24] <discord-raku-bot> <Nemokosch> then fez extracts it with pax

[19:24] <discord-raku-bot> <stevied> i got version 39 of fez on 12 and 07. huh

[19:24] <discord-raku-bot> <stevied> wtf?

[19:24] <discord-raku-bot> <Nemokosch> and fez finds multiple "root folders"

[19:25] <discord-raku-bot> <Nemokosch> thanks to these apple dubleur stuff

[19:25] <discord-raku-bot> <Nemokosch> xd

[19:25] <discord-raku-bot> <stevied> this is bizarre, man

[19:25] <discord-raku-bot> <Nemokosch> tbh it would be MUCH easier to understand if it consistently did NOT work

[19:25] <discord-raku-bot> <stevied> could it be one of fez's dependencies?

[19:26] <discord-raku-bot> <stevied> maybe there are two bugs happening

[19:26] <discord-raku-bot> <Nemokosch> my last bet is really that the way mi6 copies the files

[19:26] <discord-raku-bot> <Nemokosch> something might have changed with file handling

[19:27] <discord-raku-bot> <stevied> one with mi6 and one with fez

[19:27] <discord-raku-bot> <Nemokosch> and the copying itself might have changed

[19:27] <discord-raku-bot> <stevied> ooh, I think I remember something in the 12 release notes.  lemme look

[19:29] <discord-raku-bot> <stevied> hmm, I see this: `Fix module installation writing precomp files into the wrong precomp store [cc7193d0]`

[19:32] <discord-raku-bot> <stevied> what repo would I find that change in?

[19:33] <discord-raku-bot> <stevied> good find at https://github.com/tony-o/raku-fez/pull/74

[19:34] <discord-raku-bot> <stevied> just getting around to clicking on it now

[19:34] <discord-raku-bot> <stevied> i'll post this to my question on SO

[19:49] <discord-raku-bot> <stevied> alright, well, mystery mostly solved. I can move on to other frustrating things with a clearer head now. Thanks for your help <@297037173541175296>

[19:56] <discord-raku-bot> <stevied> anyone got any clues on how to fix this CI error on github? https://github.com/sdondley/Directory/actions/runs/3975937559/jobs/6816107067

[20:02] <discord-raku-bot> <p6steve> maybe need sigpipe first?

[20:04] *** discord-raku-bot left
[20:04] *** discord-raku-bot joined
[20:09] *** discord-raku-bot left
[20:09] *** discord-raku-bot joined
[21:26] <discord-raku-bot> <stevied> Don‚Äôt know what that is but managed to get working for now.

[21:27] <discord-raku-bot> <stevied> https://github.com/Raku/tap-harness6/issues/61#issuecomment-1399328037

[21:30] <discord-raku-bot> <Nemokosch> yeah yeah, not the first occasion actually, that you add --verbose and the problem goes away mysteriously

[21:30] <discord-raku-bot> <Nemokosch> I suspect there is something non-deterministic or downright broken in zef ü§î

[22:08] *** rf joined
[22:39] *** rf left
[22:40] *** rf joined
[23:07] *** rf left
[23:07] *** rf joined
[23:16] *** discord-raku-bot left
[23:16] *** discord-raku-bot joined
