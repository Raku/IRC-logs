[00:03] *** arkiuat joined
[00:07] *** arkiuat left
[00:21] *** arkiuat joined
[00:30] *** arkiuat left
[00:31] *** arkiuat joined
[00:36] *** arkiuat left
[00:39] *** arkiuat joined
[01:30] *** refactus left
[02:04] *** Aedil joined
[03:06] *** stanrifkin_ joined
[03:08] *** stanrifkin left
[04:47] *** arkiuat left
[04:55] *** refactus joined
[04:57] *** xinming left
[04:57] *** arkiuat joined
[04:58] *** xinming joined
[05:05] *** arkiuat left
[05:14] *** kylese joined
[05:16] *** derpydoo joined
[05:29] *** apa_c joined
[05:34] *** arkiuat joined
[05:38] *** arkiuat left
[05:51] *** arkiuat joined
[05:55] *** arkiuat left
[06:07] *** arkiuat joined
[06:12] *** arkiuat left
[06:16] *** derpydoo left
[06:27] *** Sgeo left
[06:29] *** arkiuat joined
[06:34] *** arkiuat left
[06:47] *** arkiuat joined
[06:51] *** arkiuat left
[06:52] *** sibl joined
[06:54] *** derpydoo joined
[07:19] *** arkiuat joined
[07:24] *** arkiuat left
[07:39] <disbot3> <librasteve> overriding () as a custom circumfix seems like a good use case for RakuAST, but if you override them generally then you erase all grouping and much subroutine calling, so you likely need an additional way to pick out just the right situation …

[07:40] *** apa_c left
[07:47] *** arkiuat joined
[07:52] *** arkiuat left
[08:15] *** derpydoo left
[08:17] *** abraxxa1 joined
[08:18] *** abraxxa left
[08:22] *** arkiuat joined
[08:27] *** arkiuat left
[08:42] *** Aedil left
[08:46] *** MoC joined
[08:53] *** arkiuat joined
[08:53] *** melezhik joined
[08:54] <melezhik> .

[08:58] *** arkiuat left
[09:26] *** arkiuat joined
[09:27] *** derpydoo joined
[09:31] *** arkiuat left
[09:32] *** arkiuat joined
[09:34] *** kybr left
[09:36] *** arkiuat left
[10:04] *** sibl left
[10:05] *** arkiuat joined
[10:10] *** arkiuat left
[10:33] *** arkiuat joined
[10:37] *** arkiuat left
[10:47] *** librasteve_ joined
[10:50] *** arkiuat joined
[10:54] *** arkiuat left
[11:01] *** derpydoo left
[11:12] <stanrifkin_> nice new website btw

[11:16] *** apa_c joined
[11:25] *** arkiuat joined
[11:30] *** arkiuat left
[11:34] *** abraxxa1 left
[11:36] *** arkiuat joined
[11:41] *** arkiuat left
[12:10] *** arkiuat joined
[12:14] *** arkiuat left
[12:35] *** arkiuat joined
[12:39] *** arkiuat left
[12:49] *** arkiuat joined
[13:15] *** vasko45 joined
[13:17] *** hulk joined
[13:18] *** kylese left
[13:18] *** vasko4 left
[13:18] *** vasko45 is now known as vasko4

[13:18] *** silug left
[13:18] *** simcop2387 left
[13:19] *** simcop2387 joined
[13:21] *** silug4 joined
[13:33] *** melezhik left
[13:54] <disbot3> <librasteve> all flattery very welcome!

[14:05] *** Sgeo joined
[14:12] *** gabiruh joined
[14:36] *** apa_c left
[15:04] *** human-blip left
[15:06] *** human-blip joined
[15:08] *** apa_c joined
[15:10] *** Aedil joined
[15:21] *** apa_c left
[15:28] *** apa_c joined
[15:49] *** arkiuat left
[15:57] *** librasteve_ left
[16:01] *** arkiuat joined
[16:06] *** arkiuat left
[16:09] *** human-blip left
[16:11] *** human-blip joined
[16:14] *** apa_c left
[16:15] *** apa_c joined
[16:21] *** apa_c left
[16:36] *** arkiuat joined
[16:41] *** arkiuat left
[16:47] *** abraxxa-home joined
[16:49] *** abraxxa-home left
[16:50] *** arkiuat joined
[16:51] *** apa_c joined
[16:52] *** abraxxa-home joined
[16:58] *** LainIwakura joined
[17:01] *** LainIwakura38 joined
[17:04] *** LainIwakura left
[17:06] *** LainIwakura38 left
[17:07] *** abraxxa-home left
[17:08] <[Coke]> m: dd Nil, Nil.defined, Nil.CREATE, Nil.CREATE.defined

[17:08] <camelia> rakudo-moar 5147b67f7: OUTPUT: «Nil  = Nil␤Bool::False␤Nil  = Nil␤Bool::True␤»

[17:09] <[Coke]> ... dd can't seem to tell that that result of Nil.CREATE is not a "normal" Nil.

[17:10] <[Coke]> m: my $a = Nil; my $b = Nil.CREATE; dd $a, $b; # though this shows it

[17:10] <camelia> rakudo-moar 5147b67f7: OUTPUT: «$a = Any␤$b = Nil␤»

[17:24] <disbot3> <neekotism> How can I achieve this?  interval = event["d"]["heartbeat_interval"] / 1000             asyncio.create_task(heartbeat(ws, interval, last_sequence))

[17:26] <disbot3> <librasteve> definitely need more $ signs

[17:26] <disbot3> <librasteve> seriously, my judgement is that you are an AI --- please show me some signs of humanity or I will alert the mods

[17:27] <disbot3> <neekotism> I'm not!

[17:27] <disbot3> <librasteve> lol - sorry

[17:29] <disbot3> <librasteve> hi folks - I am getting a thorny error No appropriate parametric role variant available for 'Defaults': when I try to compose role Defaults into class Site (in Air) --- any ideas? could this be a bug?  [happens on both moar-2025.06.1 and moar-2024.08]

[17:30] <disbot3> <librasteve> the role composes fine to a couple of other classes in my code, btw

[17:31] <disbot3> <librasteve>  my $interval = event<d><heartbeat_interval> / 1000;  start {     heartbeat($ws, $interval, $last-sequence); } 

[17:31] <disbot3> <librasteve> ChatGPT and other LLMs speak pretty good raku ... this code is untested btw

[17:32] <[Coke]> librasteve - do you have a branch we can look at that shows the issue?

[17:33] <disbot3> <neekotism> Alrighty! Looks like I don't have much option

[17:33] <disbot3> <librasteve> https://github.com/librasteve/Air/blob/1ad017cd9ab602339aaae18aa72d825fb112a31e/lib/Air/Base.rakumod#L892

[17:35] <disbot3> <librasteve> this in https://github.com/librasteve/Air/tree/defaults

[17:36] <[Coke]> not familiar with the 'also does' syntax. weird.

[17:36] <disbot3> <librasteve> happens on zef install . --force-install ... running raku -I. t/01... all tests compile and run fine

[17:36] <disbot3> <librasteve> its another way to say class X does Y {} - get the same error either way

[17:37] <disbot3> <librasteve> (just easier to comment out if on a separate line)

[17:37] <[Coke]> that's the commit, what branch?

[17:37] <disbot3> <librasteve> defaults

[17:38] <disbot3> <librasteve> lib/Air/Base.rakumod line 892

[17:40] *** eseyman left
[17:40] *** manu_ joined
[17:40] *** arkiuat left
[17:46] <[Coke]> ok, the weird thing is that is NOT a parameterized role as far as I can tell - you have the stub at first, but that's the only "weird" thing.

[17:51] <disbot3> <librasteve> yeah - thanks for the rapid reply - I will raise as a compiler bug

[17:54] *** arkiuat joined
[17:56] *** apac joined
[17:57] *** apa_c left
[18:03] *** cryosis left
[18:04] *** cryosis joined
[18:07] *** arkiuat left
[18:11] <[Coke]> I'm still trying to see if I can figure out what the real issue is

[18:16] <[Coke]> hurm. Site is a class. are all the other types you have in Defaults roles?

[18:17] <[Coke]> and *those* roles *are* parametric

[18:19] <ugexe> just a wild guess, but maybe precompilation related? when using CURFS (-I., -Ilib) the precompilation order is based on the order things are actually used (such that things that are never used won't be precompiled at all). when installing via zef it gets precompiled in the staging repo, which precompiles using a more brute force method of iterating over every module and trying until it works

[18:20] *** jgaz joined
[18:20] <[Coke]> My testing here is with 'zef test .' would you expect the same issue there?

[18:21] *** jgaz left
[18:22] <ugexe> no, zef test doesn't use a staging repo. maybe it should, but it would mean reprecompiling everything every time tests are run

[18:22] <[Coke]> ok - I'm still seeing the issue with zef test

[18:23] <ugexe> if you see it with zef test then i would expect to see it with raku -I. t/whatever

[18:28] <[Coke]> yup, RAKULIB=. raku t/03-page.rakutest has the same error

[18:30] <[Coke]> I have a golf

[18:31] <[Coke]> https://gist.github.com/coke/a114d8b2869677cfa4e0b6472f90acf6

[18:32] <[Coke]> Might be able to golf it more, but that's basically the problematic role hierarchy from Site. Dies with the same error steve is seeing

[18:33] <[Coke]> librasteve - hope that helps

[18:36] *** arkiuat joined
[18:41] *** arkiuat left
[19:08] *** lnnk joined
[19:08] *** jgaz joined
[19:08] *** arkiuat joined
[19:10] <disbot3> <librasteve> good golfing ... I'm just sanity checking

[19:11] <lnnk> Is raku simular to perl 5 or completely different?

[19:13] *** arkiuat left
[19:13] *** rantanplan is now known as snonux

[19:16] <disbot3> <librasteve> [Coke]: I have golfed down a bit further ... writing a bug issue right now

[19:24] <disbot3> <librasteve> https://github.com/rakudo/rakudo/issues/5966

[19:35] <[Coke]> .... I did not expect it to be THAT short.

[19:35] <[Coke]> ... OK, I see a problem with our golf.

[19:36] <[Coke]> m: role Defaults { ... } ; class Site does Defaults { ... };

[19:36] <camelia> rakudo-moar 5147b67f7: OUTPUT: «The following packages were stubbed but not defined:␤    Site␤»

[19:36] <[Coke]> m: role Defaults { ... } ; class Site does Defaults { };

[19:36] <camelia> rakudo-moar 5147b67f7: OUTPUT: «===SORRY!=== Error while compiling <tmp>␤No appropriate parametric role variant available for 'Defaults':␤    Cannot resolve caller (Site); Routine does not have any candidates.  Is only the proto defined?␤at <tmp>:1␤»

[19:36] <[Coke]> m: role Defaults { } ; class Site does Defaults { };

[19:36] <camelia> rakudo-moar 5147b67f7: ( no output )

[19:38] <disbot3> <librasteve> sorry, I'm not following

[19:38] <[Coke]> steve - also: I can't reproduce your error on t/01 

[19:38] <[Coke]> the error is only triggered by the presence of the ... in the role there.

[19:38] <[Coke]> which isn't part of the original code.

[19:39] <[Coke]> Also you say in the ticket that the error doesn't occur with t/01 - .. yes, it doesn't it's on t/03* and it fails whether you run it with zef test or raku t/03...

[19:45] *** arkiuat joined
[19:48] <disbot3> <librasteve> To see the error on raku -I. t/03-page.rakutest and raku -I. t/04-table.rakutest you need to rm -rf .precomp

[19:48] <disbot3> <librasteve> yeah - that's what you said (sorry)

[19:50] *** arkiuat left
[19:51] <disbot3> <librasteve> I see that your golf is different to my code, but I do use a role Defaults { ... } stub at the top so I think that the golf is a bug and that it may well be the same bug

[19:52] *** arkiuat joined
[19:56] *** arkiuat left
[19:56] *** LainIwakura joined
[20:05] <[Coke]> ahhh, good call

[20:07] <[Coke]> if you remove the ... you get an error from Html that it *isn't* parametric.

[20:10] *** arkiuat joined
[20:11] *** LainIwakura left
[20:14] *** Aedil left
[20:15] <disbot3> <librasteve> thanks for he help - I am going &afk for tomight and will refactor tomorrow...

[20:15] *** hulk left
[20:39] *** arkiuat left
[20:47] *** lnnk left
[20:52] *** arkiuat joined
[21:02] *** arkiuat left
[21:05] *** arkiuat joined
[21:25] *** MoC left
[21:54] *** apac left
[22:09] *** arkiuat left
[22:23] *** arkiuat joined
[22:27] *** arkiuat left
[22:30] *** Pixi__ is now known as Pixi

[22:47] *** arkiuat joined
[22:51] *** apac joined
[22:51] *** arkiuat left
[23:09] *** arkiuat joined
[23:14] *** arkiuat left
[23:31] *** arkiuat joined
[23:36] *** arkiuat left
[23:49] *** arkiuat joined
