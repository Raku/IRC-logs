[00:27] *** librasteve_ left
[00:33] *** Sgeo__ joined
[00:36] *** Sgeo_ left
[01:07] *** Aedil left
[01:31] <disbot6> <antononcube> @habere-et-disper Interesting question! I might have to research if for the post "Who has the better code highlighter now?"

[02:10] *** oodani left
[02:12] *** oodani joined
[02:48] *** hulk joined
[02:49] *** kylese left
[03:15] *** hulk left
[03:15] *** kylese joined
[03:36] *** sibl joined
[05:27] *** melezhik joined
[05:53] *** Aedil joined
[05:53] *** Aedil left
[05:54] *** Aedil joined
[06:52] *** Aedil left
[07:45] *** abraxxa joined
[07:52] *** abraxxa left
[07:52] *** abraxxa1 joined
[08:04] *** sourceable6 left
[08:04] *** sourceable6 joined
[08:04] *** itaipu left
[08:04] *** Geth left
[08:04] *** notable6 left
[08:04] *** sourceable6 left
[08:04] *** sourceable6 joined
[08:04] *** linkable6 left
[08:04] *** oodani left
[08:04] *** greppable6 left
[08:04] *** oodani joined
[08:05] *** greppable6 joined
[08:05] *** linkable6 joined
[08:05] *** notable6 joined
[08:06] *** abraxxa1 left
[08:08] *** abraxxa joined
[08:16] *** itaipu joined
[08:24] *** sibl left
[08:30] *** sibl joined
[08:43] *** Sgeo__ left
[08:51] *** dakkar joined
[09:28] *** sibl left
[09:35] *** sibl joined
[09:48] *** sibl left
[10:16] *** melezhik left
[10:30] *** tejr left
[10:46] *** sibl joined
[11:02] *** sibl left
[11:03] *** sibl joined
[11:10] *** sibl left
[12:12] *** Geth joined
[12:13] <Geth> ¬¶ Papers/main: 06ed981d01 | (Elizabeth Mattijsen)++ | announcements/20251211.md

[12:13] <Geth> ¬¶ Papers/main: Announce John Haltiwanger as Raku Steering Council member

[12:13] <Geth> ¬¶ Papers/main: review: https://github.com/Raku-Steering-Council/Papers/commit/06ed981d01

[12:40] <Geth> ¬¶ CCR/main: 6905391c2c | (Elizabeth Mattijsen)++ | 5 files

[12:40] <Geth> ¬¶ CCR/main: Collect / Conserve remaining jnthn articles

[12:40] <Geth> ¬¶ CCR/main: review: https://github.com/Raku/CCR/commit/6905391c2c

[13:33] *** MoC joined
[13:34] <Geth> ¬¶ CCR/main: 55e244351f | (Elizabeth Mattijsen)++ | 7 files

[13:34] <Geth> ¬¶ CCR/main: Remaster jnthn's last 4 blog posts

[13:34] <Geth> ¬¶ CCR/main: review: https://github.com/Raku/CCR/commit/55e244351f

[13:36] *** Aedil joined
[14:41] <jdv> arent there texas versions of everything?

[14:43] *** Sgeo joined
[14:43] <jdv> i guess sawyer might be onto something

[15:42] <[Coke]> texas versions of almost everything. not sure it's 100%

[16:15] <lizmat> jdv: context ?

[16:17] <lizmat> ah, https://github.com/rakudo/rakudo/issues/6039 I assume?

[16:28] <jdv> yes

[16:30] *** tgt joined
[16:32] *** tgt left
[16:34] *** tgt joined
[16:34] *** tgt left
[17:12] *** melezhik joined
[17:59] *** abraxxa left
[18:15] *** dakkar left
[18:16] *** melezhik_ joined
[18:34] *** melezhik_ left
[18:34] *** melezhik_ joined
[18:52] *** melezhik_ left
[18:58] *** melezhik_ joined
[19:05] *** melezhik_ left
[19:09] *** melezhik_ joined
[19:13] <[Coke]> anyone seen jonathanstowe?

[19:13] <[Coke]> .seen jonathanstowe

[19:13] <[Coke]> seenbot missing?

[19:14] <lizmat> perhaps ping them to be sure

[19:33] *** melezhik_ left
[19:42] *** melezhik left
[20:03] *** tgt joined
[20:28] *** tejr joined
[20:31] *** Aedil left
[20:37] *** tgt left
[20:46] *** MoC left
[20:57] *** Pixi__ left
[21:00] <disbot6> <librasteve> weekly: https://github.com/Raku-Steering-Council/Papers/commit/06ed981d01

[21:00] *** librasteve_ joined
[21:00] <librasteve_> weekly: https://github.com/Raku-Steering-Council/Papers/commit/06ed981d01

[21:00] <notable6> librasteve_, Noted! (weekly)

[21:03] <librasteve_> ab5tract: ++

[21:13] <[Coke]> working on a remote windows 11 pro box - having trouble getting the powershell to have 'raku --version' emit correctly.

[21:13] <[Coke]> chcp 65001 not sufficient, trying https://stackoverflow.com/questions/40098771/changing-powershells-default-output-encoding-to-utf-8 - anyone else have a known good way to do this?

[21:15] <[Coke]> ah, refound it: $OutputEncoding = [Console]::InputEncoding = [Console]::OutputEncoding = New-Object System.Text.UTF8Encoding

[21:22] <disbot6> <librasteve> what about texas atomics?   (<=== a fun sentence to write btw)

[21:31] <ugexe> those already exist

[21:32] <disbot6> <librasteve> cant see them in the docs https://docs.raku.org/type/atomicint#Operators (happy to try and add them in)

[21:33] <ugexe> atomic-fetch-add  etc

[21:34] <disbot6> <librasteve> oh, i see ... was looking for texas infixes and so on

[21:35] <disbot6> <librasteve> thanks!

[21:36] *** Pixi joined
[22:15] *** silug left
[22:17] *** silug joined
[22:19] *** silug left
[22:20] *** silug joined
[22:25] *** silug left
[22:27] *** silug joined
[22:30] *** silug left
[22:35] *** silug joined
[22:53] <disbot6> <shalokshalom> This language performance comparison has a Raku implementation, and its currently the slowest language üôÅ  I am not a Raku developer, so maybe somebody skilled can look into it.  https://github.com/niklas-heer/speed-comparison/blob/master/src/leibniz.raku

[22:59] <lizmat> so, does this calculate the wallclock including startup?

[22:59] <lizmat> if so, that's a battle that cannot be won

[23:02] <korvo> I could try to contribute a slower language. They use Docker and Earthly, so I might be able to get a Monte image included; Monte's faster than CPython once loaded but takes a moment to start up.

[23:03] <korvo> Is Raku like E/Monte in running guards at runtime? If so, then removing the `int` and `num` annotations could speed things up at the cost of safety.

[23:03] <lizmat> no, the native variants are faster...

[23:04] <lizmat> korvo: so does the measurement include startup or not?

[23:07] *** habere-et-disper joined
[23:07] <korvo> lizmat: Yes, it does. They measure exec'ing `raku leibniz.raku` with the hyperfine tool (https://github.com/sharkdp/hyperfine) which does a few warmup iterations before taking the measurement.

[23:08] <lizmat> but that would only warmup memory, not warmup Raku itself

[23:10] <korvo> For Janet (a Lisp), they have both interpreted and compiled variants. The compiled variant has to set up Janet's package manager and do some bootstrapping, but the speed comparison is only based on final runtime.

[23:13] <lizmat> OOC, what are typical values found in "rounds.txt" ?

[23:15] <korvo> It is a checked-in file at src/rounds.txt. It currently contains "1000000000".

[23:23] <korvo> I'm reading about MoarVM right now. Is it possible to precompile bytecode? For SBCL (another Lisp), the Earthfile first prebuilds a FASL file (FASt Load IIRC, a mix of native code and structs) and benchmarks that file. I think that CPython gets a similar benefit since it would emit a .pyc file with compiled bytecode during warmup.

[23:23] <lizmat> which version of Rakudo is being used ?

[23:24] <korvo> They're using the `rakudo-star:latest` image from Docker Hub, I think. Updated 3 days ago. You'd know better than me which version that is.

[23:25] <lizmat> ok, that's pretty  decent  :-)

[23:26] <lizmat> on my machine the script with 1000000000 runs for 51.336165009 seconds excluding startup

[23:27] <lizmat> with a small modification:

[23:27] <lizmat> $x *= -1e0;    ->    $x = $x * -1e0;

[23:27] <lizmat> and $pi += $w;   ->   $pi = $pi + $w;

[23:28] <lizmat> the metaops *=  and +=  don't handle natives directly yet, so that would cause upgrading to Num, which for this hot code, would be expensive

[23:30] <korvo> Nice!

[23:31] <lizmat> but yeah, that's about it that can be done to the code

[23:33] <lizmat> without resorting to NQP

[23:35] <lizmat> if I rewrite the inner loop with nqp, the script with 1000000000 runs for 25.673542532 seconds, so more than 2x as fast

[23:35] <lizmat>     $x = nqp::mul_n($x,-1e0);

[23:35] <lizmat>     $y = nqp::sub_i(nqp::mul_i(2,$i),1);

[23:35] <lizmat>     $w = nqp::div_n($x,$y);

[23:35] <lizmat>     $pi = nqp::add_n($pi,$w);

[23:36] <lizmat> that's about the maximum that could possibly be obtained in Rakudo, I'd say...  

[23:38] <lizmat> I sorta suspect the reason for the difference is actually:   $w = $x / $y      I only need to replace that one by NQP to get the same results

[23:39] <lizmat> I guess there's no candidate for num / int, so it takes the slow path there

[23:39] <lizmat> will look at fixing this tomorrow, after some shuteye

[23:39] <lizmat> &

[23:56] *** habere-et-disper left
