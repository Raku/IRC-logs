[00:16] *** Guest14 left
[00:22] <disbot1> <aruniecrisps> the plot thickens

[00:22] <disbot1> <aruniecrisps> my distribution is showing up on https://360.zef.pm/

[00:22] <disbot1> <aruniecrisps> but it's not showing up on raku.land

[00:23] <disbot1> <aruniecrisps> incredibly bizarre

[00:56] *** lichtkind left
[00:58] <disbot1> <aruniecrisps> oof i really bungled the release of this package didnt i

[01:31] *** ingy left
[01:32] *** ingy joined
[01:41] *** ACfromTX left
[01:41] *** ACfromTX joined
[02:06] <disbot1> <aruniecrisps> @tbrowder_04810 do you think you could help?

[02:33] <disbot1> <.landyacht.> Voldenet - I'm not changing the string, just passing a new one into the same label-setting routine which is supposed to take care of the memory management from there

[02:34] <disbot1> <.landyacht.> interesting that you got a better result after assigning into a variable... I'm also not assigning it into anything, so I wonder if that's the problem

[02:36] <disbot1> <.landyacht.> nope, changed it up and still getting the same issue

[02:36] <disbot1> <.landyacht.> the C example code they give does use OPENSSL_malloc instead of standard malloc, so I wonder if I have to do that...

[03:05] *** Aedil joined
[03:18] <disbot1> <.landyacht.> Got it working using CRYPTO_malloc from libcrypto and then copying the label data in (from $label.encode('utf8')) using mempcy from libc, and treating everything as Pointer[uint8] on the Raku side - whether that fixed it by preventing Moar from GCing, or because libcrypto just demands stuff be alloc'd with its own malloc version, I don't know

[03:21] *** stanrifkin joined
[03:24] <Voldenet> you could check if regular malloc works, but it should

[03:25] <Voldenet> Yes, I'm guessing that specific mallocs do something differently, but in the end you get a pointer and that's it

[03:25] <Voldenet> it should only matter if you don't explicitly call free, but the lib does this for you

[03:28] <Voldenet> er the change - explicitly-manage returns CStr and free remains the original Str with mixed in ExplicitlyManagedString

[03:28] <Voldenet> erm, I just read what I wrote and it makes no sense

[03:29] <Voldenet> regarding the difference between the var and return ‚Äì explicitly-manage returns CStr and its parameter gets ExplicitlyManagedString mixed in

[03:47] <disbot1> <.landyacht.> yeah, I am leaning toward thinking this is a bug with explicitly-manage not doing what it says on the tin, but it's late so I'll check what results regular malloc gets me tomorrow to confirm

[04:00] *** stanrifkin left
[04:53] *** derpydoo joined
[05:59] *** derpydoo left
[06:59] *** broquain1 left
[06:59] *** broquaint joined
[08:15] *** stanrifkin joined
[08:31] *** crnlskn joined
[08:39] *** crnlskn left
[09:14] *** MoC joined
[09:43] *** apac joined
[09:49] *** Sgeo left
[10:57] <ds7832> m: your code goes here #raku channel evalbot

[10:57] <camelia> rakudo-moar 89765fe8b: OUTPUT: ¬´===SORRY!=== Error while compiling <tmp>‚ê§Undeclared routines:‚ê§    code used at line 1‚ê§    goes used at line 1‚ê§    here used at line 1. Did you mean 'WHERE'?‚ê§    your used at line 1‚ê§‚ê§¬ª

[11:03] *** lichtkind joined
[11:38] <disbot1> <melezhik.> Made few mentions of Sparky on relevant fosstodont posts

[11:38] <disbot1> <melezhik.> https://fosstodon.org/@melezhik/115242052395806133

[11:38] <disbot1> <melezhik.> https://fosstodon.org/@melezhik/115242008926072373

[12:03] *** apac left
[12:10] <tbrowder> aruniecrisps: did you use "mi6 publish" to publish your repo?

[12:13] <lizmat> you mean "mi6 release" ?

[12:13] <tbrowder> yes, thnx

[12:19] *** dg left
[12:19] *** dg joined
[12:29] <tbrowder> aruniecrisps: if you did *not* use mi6 to publish, i suggest you make some small change and republish using "mi6 release". note your README may get updated in the process unless you comment out the line in the "dist.ini"  file about the "readme from". a leading semicolon should take care of that.

[12:40] *** crnlskn joined
[13:07] *** lizmat left
[13:07] *** lizmat joined
[13:24] <disbot1> <.landyacht.> Voldenet - so yes, it does also work fine with regular malloc. At some point I'll try to pare this down to a minimal example with both C and Raku sides and submit an issue

[13:26] *** apac joined
[13:29] *** crnlskn left
[13:34] <disbot1> <.landyacht.> okay, so a very minimal example can reproduce the issue, which is good - I'm just not sure if this is a Rakudo or MoarVM bug now

[13:55] <disbot1> <.landyacht.> https://github.com/rakudo/rakudo/issues/5955

[14:20] *** apac left
[14:24] *** apac joined
[14:32] *** apac left
[15:23] *** ACfromTX left
[15:32] <disbot1> <aruniecrisps> @tbrowder_04810 for version 0.0.1 i used fez publish, and then for 0.0.2 I used mi6 release

[15:33] <disbot1> <aruniecrisps> both versions are showing up on 360.zef.pm but neither are showing up on raku.land

[15:36] *** ACfromTX joined
[16:10] <tbrowder> weird

[16:12] <tbrowder> time to have the big guns go to work to save the day

[16:42] *** apac joined
[17:04] *** apac left
[17:10] *** yewscion_ joined
[17:13] *** Aedil_ joined
[17:17] *** yewscion_ left
[17:18] *** Aedil left
[17:18] *** gabiruh_ left
[17:18] *** yewscion_ joined
[17:24] *** gabiruh_ joined
[17:34] <Voldenet> If I really wanted truly unmanaged string, I'd never pass any GC-managed object (Str) to the native sub - it might work in some cases but it'd be very error-prone IMO, I'd rather allocate bytes and strncpy or memcpy manually

[17:54] <disbot1> <aruniecrisps> @tbrowder_04810 what do you mean?

[17:58] <disbot1> <aruniecrisps> if there's a way to take those distributions off the list so i can revert back to version 0.0.1 that would be amazing

[18:09] <disbot1> <.landyacht.> Voldenet - yeah, I think that‚Äôs my takeaway going forward

[18:32] *** abraxxa-home joined
[18:40] *** abraxxa-home left
[18:43] *** abraxxa-home joined
[18:46] *** Aedil_ left
[19:04] *** Sgeo joined
[19:19] <tbrowder> no, i don‚Äôt think you can do that. when i said ‚Äúbig guns‚Äù i meant lizmat, ugexe, tonyo, [Coke], etc.

[19:20] *** abraxxa-home left
[19:21] *** abraxxa-home joined
[19:23] <disbot1> <aruniecrisps> ah understood

[19:23] <disbot1> <aruniecrisps> thanks for the help

[19:42] <disbot1> <librasteve> weekly: https://fosstodon.org/@melezhik/115242052395806133

[19:42] <notable6__> librasteve, Noted! (weekly)

[20:00] *** elcaro left
[20:00] *** sivoais left
[20:00] *** kst left
[20:00] *** elcaro joined
[20:01] *** kst`` joined
[20:02] *** sivoais joined
[20:03] <ugexe> aruniecrisps

[20:03] <ugexe> https://raku.land/build

[20:04] <ugexe> /cache/zef/93c2c3331961d83405b44b4f9a8be7fa051036dc: invalid input value for enum license: "Hippocratic

[20:04] <ugexe> that seems related

[20:06] <ugexe> presumably raku.land only allows distributions with certain licenses (i have no idea)

[20:13] <disbot1> <aruniecrisps> oof

[20:13] <disbot1> <aruniecrisps> gotta change the license then

[20:15] <disbot1> <aruniecrisps> at least in the build file

[20:15] *** librasteve_ joined
[20:22] *** stanrifkin left
[20:24] <disbot1> <aruniecrisps> okay i changed the license in META6.json

[20:26] <disbot1> <aruniecrisps> well it seems to be showing up in 360.zef.pm, not sure why it's still not indexing

[20:26] <disbot1> <aruniecrisps> https://cdn.discordapp.com/attachments/633753286209699870/1419419606459617330/Screenshot_2025-09-21_at_4.25.54_PM.png?ex=68d1b105&is=68d05f85&hm=410660ce6436623fae723276c198788f26a7b403be3a951d409bc3916a7de3d4&

[20:27] <disbot1> <aruniecrisps> apologies folks üòÖ  didn't mean to gum up the system

[20:29] *** apac joined
[20:35] *** oodani left
[20:36] *** oodani joined
[20:36] *** greppable6__ left
[20:36] *** notable6__ left
[20:36] *** nativecallable6_ left
[20:36] *** tellable6 left
[20:36] *** bisectable6 left
[20:36] *** unicodable6 left
[20:36] *** linkable6 left
[20:36] *** evalable6 left
[20:36] *** committable6 left
[20:36] *** coverable6 left
[20:36] *** releasable6 left
[20:39] *** nativecallable6 joined
[20:39] *** sourceable6 joined
[20:39] *** evalable6 joined
[20:39] *** linkable6 joined
[20:39] *** quotable6 joined
[20:40] *** unicodable6 joined
[20:40] *** coverable6 joined
[20:40] *** committable6 joined
[20:40] *** bloatable6 joined
[20:40] *** shareable6 joined
[20:40] *** benchable6 joined
[20:40] <disbot1> <aruniecrisps> FINALLY: https://raku.land/zef:arunvickram/DataStar

[20:40] *** greppable6 joined
[20:40] <disbot1> <aruniecrisps> looks like it's fixed

[20:41] *** bisectable6 joined
[20:42] *** tellable6 joined
[20:42] *** releasable6 joined
[20:42] *** notable6 joined
[20:44] <disbot1> <librasteve> \o/

[20:45] <disbot1> <librasteve> btw - I see that raku.land is open to many licences https://raku.land/stats so not sure why this is a problem ... maybe open an issue over there if that's important to you...

[20:50] <disbot1> <aruniecrisps> do you have the repo where i can place the issue? i just googled raku land repo and it doesn't seem to be popping up for me for some reason

[20:52] <disbot1> <librasteve> the link is on https://raku.land

[20:52] <disbot1> <librasteve> https://gitlab.com/raku-land/raku-land

[20:52] <disbot1> <librasteve> hmmm not sure how to file issues on GitLab

[20:55] <tbrowder> my problem too. gitlab be strange duck.

[20:56] <disbot1> <librasteve> oh - its in the left sidebar

[20:58] <disbot1> <aruniecrisps> just added it

[20:58] <disbot1> <aruniecrisps> added an issue to the backlog i mean

[20:59] <disbot1> <librasteve> =b

[21:14] *** MoC left
[21:24] *** zuphinx joined
[21:35] *** oodani left
[21:36] *** oodani joined
[21:52] *** abraxxa-home left
[22:15] <SmokeMachine> weekly: https://dev.to/fco/typed-named-endpoints-for-cro-with-htmx-helpers-g9j

[22:15] <notable6> SmokeMachine, Noted! (weekly)

[22:42] *** guifa_ joined
[22:43] *** guifa left
[23:10] *** apac left
[23:37] *** librasteve_ left
[23:45] *** guifa_ left
[23:46] *** guifa joined
[23:59] *** lichtkind left
