[00:00] *** Zoffix joined
[00:00] *** p6bannerbot sets mode: +v Zoffix

[00:00] <Zoffix> timotimo: yeah, it totally fixed that bug

[00:01] <Zoffix> samcv++

[00:01] <timotimo> that's brilliant!

[00:02] <timotimo> samcv++ indeed

[00:03] <timotimo> maybe what we want is a chaos mode for the jit that just randomly inserts random values into all the float registers every now and then

[00:03] <timotimo> everywhere all over the compiled code

[00:03] <timotimo> oh, wait, sometimes we do want values in the floating point registers

[00:03] <timotimo> m)

[00:15] <Zoffix> So what's the --setting flag for?

[00:15] <Zoffix> Like, why is the 6.c setting passed as NULL instead of 6.c or something?

[00:16] <timotimo> that's the setting that will be used to compile stuff

[00:16] <Zoffix> Ah

[00:16] <Zoffix> OK

[00:28] <timotimo> so, here's a fun

[00:31] <timotimo> add-whenever runs the producer of Supply.from-list under CurrentThreadScheduler

[00:31] <timotimo> and that tries to pull-one

[00:32] <timotimo> which in the case of Supply.from-list($*IN.lines) causes it to block on IO::Handle's READ

[00:33] <timotimo> i have a feeling that's not quite right, but the supply code is very involved and i haven't looked into its guts much yet

[00:34] <timotimo> oh

[00:34] <timotimo> from-list just has the CurrentThreadScheduler as the default scheduler

[00:41] <timotimo> i suppose i could also have used .Channel.Supply, right?

[00:41] *** leont left
[00:41] <timotimo> since supply explicitly doesn't add concurrency by itself

[00:42] <timotimo> we don't have a .Channel method on List nor Seq?

[00:43] *** stmuk_ joined
[00:44] *** p6bannerbot sets mode: +v stmuk_

[00:45] *** stmuk left
[00:47] *** Zoffix left
[00:49] *** lizmat left
[01:09] *** lizmat joined
[01:09] *** p6bannerbot sets mode: +v lizmat

[01:16] *** fake_space_whale joined
[01:17] *** cognominal-p6 joined
[01:17] *** p6bannerbot sets mode: +v fake_space_whale

[01:17] *** p6bannerbot sets mode: +v cognominal-p6

[01:30] *** cognominal-p6 left
[01:30] *** cognominal-p6 joined
[01:31] *** p6bannerbot sets mode: +v cognominal-p6

[01:41] *** cognominal-p6 left
[02:07] *** commavir_ is now known as commavir

[02:08] *** Zoffix joined
[02:08] *** p6bannerbot sets mode: +v Zoffix

[02:12] <Zoffix> m: use v6.d.PREVIEW; use nqp; say nqp::getcomp('perl6').language_version; $*PERL.version.say

[02:12] <camelia> rakudo-moar 7b0c5364f: OUTPUT: ¬´6.d‚ê§v6.c‚ê§¬ª

[02:12] <Zoffix> :) I kept printing $*PERL.version.say and wondering why my default lang changes aren't taking off :P

[02:48] *** Zoffix left
[03:53] *** evalable6 left
[03:53] *** evalable6 joined
[03:53] *** ChanServ sets mode: +v evalable6

[03:54] *** p6bannerbot sets mode: +v evalable6

[04:35] *** lizmat left
[04:37] *** cognominal-p6 joined
[04:38] *** p6bannerbot sets mode: +v cognominal-p6

[04:38] *** lizmat joined
[04:38] *** p6bannerbot sets mode: +v lizmat

[04:43] *** lizmat left
[04:54] *** fake_space_whale left
[05:09] *** cognominal-p6 left
[05:09] *** fake_space_whale joined
[05:09] *** p6bannerbot sets mode: +v fake_space_whale

[05:50] *** fake_space_whale left
[06:01] *** MasterDuke left
[06:37] *** ufobat joined
[06:37] *** p6bannerbot sets mode: +v ufobat

[07:48] *** dct joined
[07:48] *** p6bannerbot sets mode: +v dct

[07:57] <stmuk_> you could check the system clock and only print 6.d after Nov 7th :)

[08:04] *** cognominal-p6 joined
[08:05] *** p6bannerbot sets mode: +v cognominal-p6

[08:09] *** dct left
[08:16] *** cognominal-p6 left
[08:16] *** cognominal-p6 joined
[08:17] *** p6bannerbot sets mode: +v cognominal-p6

[08:31] *** cognominal-p6 left
[09:01] *** cognominal-p6 joined
[09:01] *** cognominal-p6 left
[09:02] *** cognominal-p6 joined
[09:02] *** p6bannerbot sets mode: +v cognominal-p6

[09:29] *** cognominal-p6 left
[10:50] *** lizmat joined
[10:50] *** p6bannerbot sets mode: +v lizmat

[10:50] <lizmat> Files=1257, Tests=76342, 335 wallclock secs (15.63 usr  5.15 sys + 2351.85 cusr 233.07 csys = 2605.70 CPU)

[11:09] *** cognominal-p6 joined
[11:10] *** p6bannerbot sets mode: +v cognominal-p6

[11:13] *** cognominal-p6 left
[11:13] *** cognominal-p6 joined
[11:14] *** p6bannerbot sets mode: +v cognominal-p6

[11:19] *** Zoffix joined
[11:19] *** p6bannerbot sets mode: +v Zoffix

[11:20] <Zoffix> I'm assuming I can change tools/build/gen-version.pl config at will, right? https://github.com/rakudo/rakudo/blob/master/tools/build/gen-version.pl#L44

[11:20] <Zoffix>     \$config<language-version>     := '6.d';

[11:20] <Zoffix>     \$config<can-language-versions>

[11:21] <Zoffix>         := nqp::list('6.c', '6.d', '6.d.PREVIEW');

[11:21] <Zoffix> probably gonna add this change

[11:33] <nine> I think it's ok

[11:38] *** ufobat left
[11:49] <nine> .tell timotimo the routineFileInfo span could use an overflow-wrap: break-word; to accomodate long paths. Unfortunately I couldn't find any .css files to add it to

[11:49] <yoleaux> nine: I'll pass your message to timotimo.

[11:51] <timotimo> yeah, don't you know that css is now done in javascript :D :D

[11:51] <yoleaux> 11:49Z <nine> timotimo: the routineFileInfo span could use an overflow-wrap: break-word; to accomodate long paths. Unfortunately I couldn't find any .css files to add it to

[11:53] <nine> I do happen to think that modern web development took a real bad turn at some point. Or several.

[11:54] *** Zoffix left
[11:56] *** leont joined
[11:57] *** p6bannerbot sets mode: +v leont

[12:00] <timotimo> react just released a new feature that is going to allow me to make my code much smaller, i'm really looking forward to that

[12:06] <Geth> ¬¶ nqp: 058dc71357 | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/MOAR_REVISION

[12:06] <Geth> ¬¶ nqp: [MoarVM Bump] Brings 3 commits

[12:06] <Geth> ¬¶ nqp: 

[12:06] <Geth> ¬¶ nqp: MoarVM bump brought: https://github.com/MoarVM/MoarVM/compare/2018.09-137-g4582780a5...2018.09-140-g32a47383b

[12:06] <Geth> ¬¶ nqp: 32a47383b [JIT] Fix a bug with sleep op receiving bogus values

[12:06] <Geth> ¬¶ nqp: 8b4d58c7a Fix typo in comment

[12:06] <Geth> ¬¶ nqp: f4eafe0de Fix typo in comment

[12:06] <Geth> ¬¶ nqp: review: https://github.com/perl6/nqp/commit/058dc71357

[12:06] <Geth> ¬¶ nqp: version bump brought these changes: https://github.com/MoarVM/MoarVM/compare/2018.09-137-g4582780a5...2018.09-140-g32a47383b

[12:06] <Geth> ¬¶ rakudo: e7e91ecfbd | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/NQP_REVISION

[12:06] <Geth> ¬¶ rakudo: [NQP Bump] 058dc7135 [MoarVM Bump] Brings 3 co [‚Ä¶]

[12:06] <Geth> ¬¶ rakudo: 

[12:06] <Geth> ¬¶ rakudo: NQP bump brought: https://github.com/perl6/nqp/compare/2018.09-66-ga9eb7bea7...2018.09-67-g058dc7135

[12:06] <Geth> ¬¶ rakudo: review: https://github.com/rakudo/rakudo/commit/e7e91ecfbd

[12:06] <Geth> ¬¶ rakudo: version bump brought these changes: https://github.com/perl6/nqp/compare/2018.09-66-ga9eb7bea7...2018.09-67-g058dc7135

[12:14] *** ggoebel joined
[12:15] *** p6bannerbot sets mode: +v ggoebel

[12:16] <timotimo> "don't rewrite your components!" :(

[12:29] <timotimo> "dan just said 'don't rewrite your app in hooks'. i think you should"

[12:32] *** cognominal-p6 left
[12:35] *** pmurias joined
[12:35] *** p6bannerbot sets mode: +v pmurias

[12:36] <pmurias> if I want to compile a script with a custom CompUnit::Repository how should I do it

[12:36] <pmurias> I don't want to modify it's source?

[13:11] *** MasterDuke joined
[13:11] *** p6bannerbot sets mode: +v MasterDuke

[13:11] *** MasterDuke left
[13:11] *** MasterDuke joined
[13:11] *** herbert.freenode.net sets mode: +v MasterDuke

[13:11] *** p6bannerbot sets mode: +v MasterDuke

[13:17] *** Zoffix joined
[13:17] *** p6bannerbot sets mode: +v Zoffix

[13:18] <Zoffix> m: use v6.d.PREVIEW; ÔΩ¢use nqp; nqp::getcomp('perl6').language_version.sayÔΩ£.EVAL

[13:18] <camelia> rakudo-moar e7e91ecfb: OUTPUT: ¬´6.c‚ê§¬ª

[13:19] <Zoffix> jnthn nine ^ should EVAL be defaulting to parent code's language version?

[13:19] <Zoffix> There's a bunch of 6.c roast failing due to this, because stuff like `throws-like ÔΩ¢...ÔΩ£` now uses 6.d all of a sudden

[13:21] <Zoffix> I guess that's part of R#1289

[13:21] <synopsebot> R#1289 [open]: https://github.com/rakudo/rakudo/issues/1289 [6.e] Implement a Way to Know Caller's Language

[13:22] <jnthn> Well, that example gets to the heart of the problem too, 'cus it's Test that does the EVAL, but the spectest's langauge version is the language we care about.

[13:23] <Zoffix> A "bunch" that fails looks to be just 2 tests; one in t/spec/S04-declarations/constant.t  and one in t/spec/S32-exceptions/misc.t

[13:23] *** cognominal-p6 joined
[13:24] *** p6bannerbot sets mode: +v cognominal-p6

[13:30] <Zoffix> I'm gonna add `'use v6.c; ` inside `throws-like` code to two 6.c-errata tests. I know the tests technically aren't wrong, but R#1289 ain't a trivial issue and blocking 6.d for another year just due to this IMO is not acceptable. Also, the two tests in question involve throwage in `constant %foo` and another error with :sym<foo> on a sub

[13:30] <synopsebot> R#1289 [open]: https://github.com/rakudo/rakudo/issues/1289 [6.e] Implement a Way to Know Caller's Language

[13:31] <Zoffix> Plus one change in /home/cpan/R/rakudo/t/spec/S11-modules/InnerModule.pm test module to move `use v6.c` as the first line in the file, rather than after `unit module`

[13:34] <Zoffix> .oO( üé∂ I came in like a wrecking ball‚Ä¶ üé∂ I never changed so much spec at a time‚Ä¶  üé∂ All never wanted to break your code‚Ä¶  üé∂ )

[13:34] *** cognominal-p6 left
[13:35] *** cognominal-p6 joined
[13:36] *** p6bannerbot sets mode: +v cognominal-p6

[13:40] <[Tux]> Rakudo version 2018.09-516-g7b0c5364f - MoarVM version 2018.09-140-g32a47383b

[13:40] <[Tux]> csv-test-xs-20      0.428 -  0.434

[13:40] <[Tux]> test-t --race       0.833 -  0.835

[13:40] <[Tux]> csv-ip5xs           0.890 -  0.941

[13:40] <[Tux]> test-t              1.780 -  1.819

[13:40] <[Tux]> csv-ip5xs-20        7.556 -  7.620

[13:40] <[Tux]> test                8.101 -  8.207

[13:40] <[Tux]> test-t-20 --race   10.739 - 10.970

[13:40] <[Tux]> csv-parser         21.813 - 21.847

[13:40] <[Tux]> test-t-20          29.782 - 30.162

[13:40] <[Tux]> I did it twice. both were slow

[13:43] <lizmat> [Tux]: OOC, are you running the benchmark with -Ilib ?

[13:44] <lizmat> if so, could there be more files inside the "lib" and subdirectories ?

[13:47] <[Tux]> yes, adn $ find lib | wc

[13:47] <[Tux]>      60      60    4685

[13:48] *** cognominal-p6 left
[13:48] *** cognominal-p6 joined
[13:49] <Geth> ¬¶ roast/6.c-errata: ddaaa58461 | (Zoffix Znet)++ | 3 files

[13:49] <Geth> ¬¶ roast/6.c-errata: Compatibilize spec with language-switching compilers

[13:49] <Geth> ¬¶ roast/6.c-errata: 

[13:49] <Geth> ¬¶ roast/6.c-errata: 6.c spec does not define how language switching is to behave, and

[13:49] <Geth> ¬¶ roast/6.c-errata: that is still largely undefined and lacks a PoV in 6.d spec due to

[13:49] <Geth> ¬¶ roast/6.c-errata: blockage by R#1289[^1]. The rudimentary PoV for language switching

[13:49] <Geth> ¬¶ roast/6.c-errata: currently does not propage the active language version to EVALed

[13:49] <synopsebot> R#1289 [open]: https://github.com/rakudo/rakudo/issues/1289 [6.e] Implement a Way to Know Caller's Language

[13:49] <Geth> ¬¶ roast/6.c-errata: code, and so `throws-like` tests with stringy code continue using

[13:49] <Geth> ¬¶ roast/6.c-errata: <‚Ä¶commit message has 18 more lines‚Ä¶>

[13:49] <Geth> ¬¶ roast/6.c-errata: review: https://github.com/perl6/roast/commit/ddaaa58461

[13:49] *** p6bannerbot sets mode: +v cognominal-p6

[13:49] <lizmat> [Tux]: I just nuked the lib/.precomp dir, and got better results

[13:50] <Geth> ¬¶ rakudo/the-d: 84039f9630 | (Zoffix Znet)++ | t/packages/Test/Helpers.pm6

[13:50] <Geth> ¬¶ rakudo/the-d: Copy over `group-of` helper from roast

[13:50] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/84039f9630

[13:51] <[Tux]> doing so right now

[14:03] <Geth> ¬¶ rakudo/the-d: 4a6d910839 | (Zoffix Znet)++ | 6 files

[14:03] <Geth> ¬¶ rakudo/the-d: Mod CORE.d setting compilation to propagate indicator flags

[14:03] <Geth> ¬¶ rakudo/the-d: 

[14:03] <Geth> ¬¶ rakudo/the-d: I need a flag to know when to set default lang and load any

[14:03] <Geth> ¬¶ rakudo/the-d: extra setting, but current design looks to be largely

[14:03] <Geth> ¬¶ rakudo/the-d: CORE.c-centered and treats CORE.d as just a usercode module[^1]

[14:03] <Geth> ¬¶ rakudo/the-d: 

[14:03] <Geth> ¬¶ rakudo/the-d: Fix by using NULL.d instead of NULL for compiling `d` core, and

[14:03] <Geth> ¬¶ rakudo/the-d: temporarily modding NULL-careing things to care about NULL.d too.

[14:03] <Geth> ¬¶ rakudo/the-d: 

[14:03] <Geth> ¬¶ rakudo/the-d: [1] https://github.com/rakudo/rakudo/issues/2432

[14:03] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/4a6d910839

[14:04] <Geth> ¬¶ rakudo/the-d: 1c1df2be3c | (Zoffix Znet)++ | tools/build/gen-js-makefile.nqp

[14:04] <Geth> ¬¶ rakudo/the-d: Remove trailing whitespace

[14:04] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/1c1df2be3c

[14:06] *** Daniela joined
[14:06] *** Daniela left
[14:06] <Geth> ¬¶ rakudo/the-d: c9ecfb7ae5 | (Zoffix Znet)++ | src/core/core_epilogue.pm6

[14:06] <Geth> ¬¶ rakudo/the-d: De-BEGIN-ify $*PERL

[14:06] <Geth> ¬¶ rakudo/the-d: 

[14:06] <Geth> ¬¶ rakudo/the-d: Fixes R#2433 [^1], but does not address the comments on the ticket

[14:06] <Geth> ¬¶ rakudo/the-d: about possibly reaping at least partial perf benefits by BEGINifying

[14:06] <Geth> ¬¶ rakudo/the-d: Version creation at last.

[14:06] <Geth> ¬¶ rakudo/the-d: 

[14:06] <synopsebot> R#2433 [open]: https://github.com/rakudo/rakudo/issues/2433 $*PERL.version is wrong

[14:06] <Geth> ¬¶ rakudo/the-d: [1] https://github.com/rakudo/rakudo/issues/2433

[14:06] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/c9ecfb7ae5

[14:07] <Geth> ¬¶ rakudo/the-d: 3365094f9e | (Zoffix Znet)++ | src/core/Exception.pm6

[14:07] <Geth> ¬¶ rakudo/the-d: Implement X::Language::TooLate

[14:07] <Geth> ¬¶ rakudo/the-d: 

[14:07] <Geth> ¬¶ rakudo/the-d: To be thrown when lang version pragma appears too late in the sauce

[14:07] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/3365094f9e

[14:08] *** MasterDuke left
[14:23] <[Tux]> Rakudo version 2018.09-516-g7b0c5364f - MoarVM version 2018.09-140-g32a47383b

[14:23] <[Tux]> csv-test-xs-20      0.437 -  0.440

[14:23] <[Tux]> test-t --race       0.835 -  0.852

[14:23] <[Tux]> csv-ip5xs           0.904 -  0.915

[14:23] <[Tux]> test-t              1.796 -  1.828

[14:23] <[Tux]> csv-ip5xs-20        7.335 -  7.398

[14:23] <[Tux]> test                8.389 -  8.395

[14:23] <[Tux]> test-t-20 --race   10.406 - 10.454

[14:23] <[Tux]> csv-parser         21.754 - 22.045

[14:23] <[Tux]> test-t-20          30.517 - 30.712

[14:31] <Geth> ¬¶ rakudo/the-d: 46ef0ea08c | (Zoffix Znet)++ | 4 files

[14:31] <Geth> ¬¶ rakudo/the-d: üéÜ‚ùáÔ∏èüî• Happy Diwali! üî•‚ùáÔ∏èüéÜ

[14:31] <Geth> ¬¶ rakudo/the-d: 

[14:31] <Geth> ¬¶ rakudo/the-d: Set 6.d as default lang of the compiler

[14:31] <Geth> ¬¶ rakudo/the-d: 

[14:31] <Geth> ¬¶ rakudo/the-d: - We allow v6.d.PREVIEW to be an alias for v6.d, to let users

[14:31] <Geth> ¬¶ rakudo/the-d:     cater to older versions of the compiler that don't know how

[14:31] <Geth> ¬¶ rakudo/the-d:     to do v6.d yet

[14:31] <Geth> ¬¶ rakudo/the-d: <‚Ä¶commit message has 6 more lines‚Ä¶>

[14:31] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/46ef0ea08c

[14:31] <Zoffix> Great. Unicode-nuked my own terminal!

[14:33] <Geth> ¬¶ roast/the-d: 2daefc06fd | (Zoffix Znet)++ | APPENDICES/A03-older-specs/01-misc.t

[14:33] <Geth> ¬¶ roast/the-d: SAP language switching

[14:33] <Geth> ¬¶ roast/the-d: 

[14:33] <Geth> ¬¶ roast/the-d: Don't know how to spec it into non-SAP, because a compiler might not

[14:33] <Geth> ¬¶ roast/the-d: know how to do earlier lang versions.

[14:33] <Geth> ¬¶ roast/the-d: review: https://github.com/perl6/roast/commit/2daefc06fd

[14:48] <dogbert17> .seen AlexDaniel

[14:48] <yoleaux> I saw AlexDaniel 26 Oct 2018 20:05Z in #perl6: <AlexDaniel> geekosaur: yeah but on that paste it's accidentally very right

[15:05] <Geth> ¬¶ roast/the-d: 1fae4fb4ac | (Zoffix Znet)++ | S02-types/num.t

[15:05] <Geth> ¬¶ roast/the-d: Spec % behaviour with 6.d uninit nums

[15:05] <Geth> ¬¶ roast/the-d: 

[15:05] <Geth> ¬¶ roast/the-d: Covers R#2434 https://github.com/rakudo/rakudo/issues/2434

[15:05] <Geth> ¬¶ roast/the-d: review: https://github.com/perl6/roast/commit/1fae4fb4ac

[15:05] <synopsebot> R#2434 [open]: https://github.com/rakudo/rakudo/issues/2434 [LTA][math] LTA div-by-zero error with two `num` vars and `infix:<%>`

[15:06] <timotimo> nine: did you see the fullscreen button at the top left of the performance tool? it makes the UI much wider.

[15:06] <timotimo> anyway, i put the wrapping in there

[15:13] <nine> timotimo: oh, nice! But why is it limited in the first place?

[15:14] <timotimo> more breathing room on wide displays i guess? not every page has tables with lots of columns

[15:14] <timotimo> and it looks a bit weird when there's ten lines of text and they are all shorter than one page width

[15:17] <nine> I take "a bit weird" over "not readable and unselectable" any day :)

[15:26] <AlexDaniel> dogbert17: yes?

[15:26] <timotimo> perhaps i'll make it remember what setting you last had

[15:29] <Zoffix> quite a bit of roast explodes with 6.d as default lang. Like a screenful of failed test files. I hope that's not an indication of how much ecosystem will blow up :)

[15:31] <nine> timotimo: being able to sort (e.g. by # of calls) would be more useful however :)

[15:32] <timotimo> yes!

[15:33] <AlexDaniel> Zoffix: oh well

[15:33] <dogbert17> AlexDaniel: want to do a tricky bisect?

[15:33] <AlexDaniel> dogbert17: yay, sure

[15:33] <Zoffix> There's probably gonna be a bunch of ecofailures due now-required for version pragma to be first thing in file

[15:33] <Zoffix> (other than comments/POD)

[15:34] <dogbert17> AlexDaniel: MVM_SPESH_NODELAY=1 MVM_SPESH_BLOCKING=1 ./perl6 t/spec/S32-io/IO-Socket-Async.t   # SEGV

[15:34] <AlexDaniel> dogbert17: I've been trying to wake myself up for the last many hours‚Ä¶ let's see if this does it :)

[15:35] *** fake_space_whale joined
[15:35] <AlexDaniel> ok that's gonna be a lot of botspam

[15:35] * AlexDaniel moves to #whateverable

[15:35] <dogbert17> follows

[15:36] *** p6bannerbot sets mode: +v fake_space_whale

[15:38] <Zoffix> ZOFLOP: t/spec/S17-supply/supplier-preserving.t Parse errors: Bad plan.  You planned 1 tests but ran 0.

[15:39] <Zoffix> hm

[15:39] <Zoffix> No such method 'recv' for invocant of type 'Any'

[15:39] <Zoffix>   in block  at t/spec/S32-io/socket-accept-and-working-threads.t line 53

[15:39] <Zoffix> And that line is just `while my $buf = $conn.recv(:bin) {`... For some reason 6.d default lang messed it up

[15:39] <Zoffix> oh

[15:40] <Zoffix> That's the sunk-start-exception-catcher. And looks like that test was always busted but 6.d `start` detected a bug

[15:41] <Zoffix> or maybe not :) sticking a CATCH into that start in 6.c lang don't catch nothing

[15:42] <Zoffix> my `start` work is crap that's why

[15:42] <Zoffix> m: use v6.d.PREVIEW; my $z; start { $z.abs.say }; sleep 1

[15:42] <camelia> rakudo-moar e7e91ecfb: OUTPUT: ¬´No such method 'abs' for invocant of type 'Any'‚ê§  in block  at <tmp> line 1‚ê§‚ê§¬ª

[15:44] <Zoffix> oh wait

[15:44] <Zoffix> m: use v6.d.PREVIEW; my $z = 42; start { $z.abs.say }; sleep 1

[15:44] <camelia> rakudo-moar e7e91ecfb: OUTPUT: ¬´42‚ê§¬ª

[15:44] <Zoffix> nevermind... :}

[15:44] *** cognominal-p6 left
[15:44] *** Zoffix left
[15:49] <AlexDaniel> so that thing got bisected to this: https://github.com/rakudo/rakudo/pull/2344

[15:49] <AlexDaniel> which is not surprising

[15:49] <AlexDaniel> now there's this pull request: https://github.com/rakudo/rakudo/pull/2425

[15:49] <AlexDaniel> dogbert17: can you test if it resolves the issue? Or should I just hit merge?

[15:50] *** Zoffix joined
[15:50] *** p6bannerbot sets mode: +v Zoffix

[15:50] <dogbert17> I guess I can test it

[15:53] <Zoffix> AlexDaniel: I possibly found a blocker

[15:54] <Zoffix> c: 2018.09,HEAD https://gist.githubusercontent.com/zoffixznet/2d35fc5f3283d9d1a72aabc3820083cf/raw/9260c61e94e6ec0d34e1abdc0ded6dbdbcd39cff/p6.p6

[15:54] <committable6> Zoffix, Successfully fetched the code from the provided URL

[15:54] <Zoffix> .oO( did I have to merge those Sock PRs -_- )

[15:55] <committable6> Zoffix, https://gist.github.com/e5e32767780ef576ec528c155c2713e9

[15:55] <AlexDaniel> committable6: vars

[15:55] <committable6> AlexDaniel, timeout=25

[15:55] <AlexDaniel> why is that thing 40 seconds though

[15:55] <Zoffix> Don't know

[15:55] <Zoffix> And it's this test basically: https://github.com/perl6/roast/blob/master/S32-io/socket-accept-and-working-threads.t#L44-L69

[15:55] <AlexDaniel> but whatever, we do know what this will bisect to

[15:56] <Zoffix> Except with debug prints and CATCH added. It dies on 6.d due to handlers on sunk starts

[15:58] <Zoffix> AlexDaniel: what tho?

[15:58] <Zoffix> if I unsink `start` in my 6.d build, it starts to work

[15:59] <AlexDaniel> c: a804ab57f15d5,d25c8762c https://gist.githubusercontent.com/zoffixznet/2d35fc5f3283d9d1a72aabc3820083cf/raw/9260c61e94e6ec0d34e1abdc0ded6dbdbcd39cff/p6.p6

[15:59] <committable6> AlexDaniel, Successfully fetched the code from the provided URL

[16:00] <Zoffix> c: 6ee5f7577,6ee5f7577~1 https://gist.githubusercontent.com/zoffixznet/2d35fc5f3283d9d1a72aabc3820083cf/raw/9260c61e94e6ec0d34e1abdc0ded6dbdbcd39cff/p6.p6

[16:00] <committable6> Zoffix, Successfully fetched the code from the provided URL

[16:00] <committable6> Zoffix, ¬¶6ee5f75: ¬´Could not bind socket: Address already in use‚ê§  in block  at /tmp/zp9Bh4fFF3 line 7‚ê§‚ê§ ¬´exit code = 1¬ª¬ª ¬¶6ee5f7577~1: ¬´¬´timed out after 40 seconds¬ª ¬´exit signal = SIGHUP (1)¬ª¬ª

[16:01] <committable6> AlexDaniel, https://gist.github.com/a27a4375ea1a0849ab4ccafcdaea89ab

[16:01] <AlexDaniel> well, I guess you're right

[16:01] <Zoffix> c: 6ee5f7577,6ee5f7577~1 https://gist.githubusercontent.com/zoffixznet/2d35fc5f3283d9d1a72aabc3820083cf/raw/9260c61e94e6ec0d34e1abdc0ded6dbdbcd39cff/p6.p6

[16:01] <committable6> Zoffix, Successfully fetched the code from the provided URL

[16:01] <committable6> Zoffix, https://gist.github.com/d5a2a62ef0f57498dcc43954068641d6

[16:01] <Zoffix> oh, I know what it is. I'm forgetting to migrate stuff

[16:02] <dogbert17> AlexDaniel: I checked out the PR (I think) and built Rakudo. Still fails though. Perhaps I missed something here

[16:02] <Zoffix> AlexDaniel: we can revert 6ee5f7577 for release

[16:02] <Zoffix> It's a 6.d-only thing

[16:03] <AlexDaniel> Zoffix: I have a question, perhaps stupid

[16:03] <AlexDaniel> Zoffix: but why are we not making `use v6.d` available on 2018.10?

[16:03] <AlexDaniel> it doesn't have to be on by default, just available

[16:04] <AlexDaniel> or am I misunderstanding something?

[16:04] <Zoffix> AlexDaniel: well, revert if you're releasing right now, I'm gonna work on a fix in a $n hours and and it can be cherry picked if I make it in time

[16:04] <Zoffix> AlexDaniel: what's the point?

[16:04] <dogbert17> I did 'git fetch origin pull/2425/head:fix_possible_race_proc_asyn' followed by 'git checkout fix_possible_race_proc_asyn'. Then I rebuilt Rakudo

[16:04] <Zoffix> TBH, I want 2018.10 out ASAP. Delaying it to coincide with 6.d Spec release will have a lot of confusion among users.

[16:04] <AlexDaniel> Zoffix: I can't release without a moarvm release, fwiw

[16:05] <Zoffix> samcv: what's the status of MoarVM release/

[16:05] <Zoffix> ?

[16:05] <AlexDaniel> dogbert17: yeah that should've done it

[16:05] <dogbert17> SEGV is still there 

[16:06] *** cognominal-p6 joined
[16:06] <AlexDaniel> dogbert17: file a ticket. I don't know if that's a blocker but it's definitely not cool

[16:06] *** p6bannerbot sets mode: +v cognominal-p6

[16:07] <dogbert17> will do. fortunately there aren't many people using those flags on a daily basis I think

[16:09] <Zoffix> AlexDaniel: in any case, the simple answer is we're not making `use v6.d` available in 2018.10 because there's no 6.d yet

[16:09] <AlexDaniel> Zoffix: ah-ha, ok

[16:09] <AlexDaniel> makes sense

[16:10] <AlexDaniel> Zoffix: another stupid question: do we need the next rakudo (2018.11) to have v6.d on by default

[16:10] <AlexDaniel> as opposed to having `use v6.d` available but just not default

[16:11] <AlexDaniel> maybe so that we can fix some ecosystem fallout before we switch?

[16:11] <Zoffix> AlexDaniel: yeah. That's already the case in `the-d` branch. 

[16:12] <Zoffix> And I'm fixing up 6.d roast to work with such a compiler ATM

[16:13] <Zoffix> And even tho there's no 6.d yet, by the time 2018.11 comes out there will be, and as you said, we're enabling it on dev rakudo to test stuff

[16:16] <dogbert17> AlexDaniel: https://github.com/MoarVM/MoarVM/issues/987

[16:17] <AlexDaniel> alright

[16:19] <Zoffix> AlexDaniel: and I filed my thing: R#2436

[16:19] <synopsebot> R#2436 [open]: https://github.com/rakudo/rakudo/issues/2436 [‚ö† blocker ‚ö†] Crash in 6.d with sunk start

[16:23] *** donaldh_ left
[16:24] <dogbert17> AlexDaniel: I have a vague memory that Kaipei wrote that he wouldn't mind having his work reverted for the time being. The reason given was that he wouldn't have time to fix the problems uncovered before release

[16:25] <AlexDaniel> oh, OK. I was looking at the last commit 18 hours ago here: https://github.com/rakudo/rakudo/pull/2425

[16:26] <dogbert17> let me check the history for a bit ...

[16:28] <dogbert17> perhaps he changed his mind, found this https://colabti.org/irclogger/irclogger_log/perl6-dev?date=2018-10-21#l55

[16:29] *** cognominal-p6 left
[16:29] <dogbert17> found the original comment: https://colabti.org/irclogger/irclogger_log/perl6-dev?date=2018-10-20#l278

[16:29] *** cognominal-p6 joined
[16:30] *** p6bannerbot sets mode: +v cognominal-p6

[16:34] *** MasterDuke joined
[16:34] *** p6bannerbot sets mode: +v MasterDuke

[16:34] *** MasterDuke left
[16:34] *** MasterDuke joined
[16:34] *** herbert.freenode.net sets mode: +v MasterDuke

[16:34] *** p6bannerbot sets mode: +v MasterDuke

[16:38] <samcv> Zoffix: just woke up. will get it released now

[16:38] <Zoffix> \o/

[16:38] <samcv> well actually just ate breakfast but yeah. i am actually awake that is

[16:39] <samcv> as opposed to "not asleep" :P

[16:39] <AlexDaniel> dogbert17: alright, I think I'll revert first and then we'll have all the time in the world to get it back properly

[16:45] <Zoffix> greppable6, v6.d.PREVIEW

[16:45] <greppable6> Zoffix, 2 lines, 2 modules: https://gist.github.com/f9ef6f37854aacc4f69dc756ccce6900

[16:45] <Zoffix> Only two modules? No one uses the previes?

[16:46] <Zoffix> or is it the bot that's not finding stuff...

[16:48] <AlexDaniel> Zoffix: I think perl6-all-modules is still not fixed, so yes

[16:48] <AlexDaniel> https://github.com/moritz/perl6-all-modules/issues/2

[16:49] <MasterDuke> AlexDaniel: i don't know if it was completely fixed, but it's had some updates recently

[16:49] <Zoffix> .ask moritz any idea how to fix https://github.com/moritz/perl6-all-modules/issues/2 ? That repo is very useful for coredev

[16:49] <yoleaux> Zoffix: I'll pass your message to moritz.

[16:56] *** cognominal-p6 left
[17:11] *** leont left
[17:13] <pmurias> jnthn: when passing a native int lexicalref as an argument, what should nqp::captureposarg return for it?

[17:17] <Zoffix> AlexDaniel: for 6ee5f7577, let's just revert it. I don't wanna risk messing up more stuff :). Do you need me to do anything or are you able to do the revert stuff in your release branch only?

[17:18] <Zoffix> AlexDaniel: FWIW, reverting would cause one group of tests to fail in t/spec/MISC/misc-6.d.t

[17:19] <AlexDaniel> Zoffix: I'll revert on master shortly

[17:21] <Geth> ¬¶ roast: 592b0b5cfb | (Zoffix Znet)++ (committed using GitHub Web editor) | MISC/misc-6.d.t

[17:21] <Geth> ¬¶ roast: Fudge sunk start tests for now

[17:21] <Geth> ¬¶ roast: 

[17:21] <Geth> ¬¶ roast: The PoV is being reverted for now

[17:21] <Geth> ¬¶ roast: review: https://github.com/perl6/roast/commit/592b0b5cfb

[17:33] <Geth> ¬¶ roast/the-d: c0681f1d14 | (Zoffix Znet)++ | 13 files

[17:33] <Geth> ¬¶ roast/the-d: Update 6.d roast to 6.d-enabled compiler

[17:33] <Geth> ¬¶ roast/the-d: 

[17:33] <Geth> ¬¶ roast/the-d: - Throw out 6.c tests that have different behaviour in 6.c and

[17:33] <Geth> ¬¶ roast/the-d:     already covered for it in 6.d tests

[17:33] <Geth> ¬¶ roast/the-d: - Change math tests for native num defaulting to 0e0

[17:33] <Geth> ¬¶ roast/the-d: - Fix version pragma positions

[17:33] <Geth> ¬¶ roast/the-d: 

[17:33] <Geth> ¬¶ roast/the-d: The two test files that still fail due to failure to migrate

[17:33] <Geth> ¬¶ roast/the-d: blocks in https://github.com/rakudo/rakudo/commit/6ee5f7577

[17:33] <Geth> ¬¶ roast/the-d: and that commit will be reverted, shortly

[17:33] <Geth> ¬¶ roast/the-d: review: https://github.com/perl6/roast/commit/c0681f1d14

[17:34] <Zoffix> So, once 6ee5f7577 is reverted, we're ready to get the 6.d on master

[17:34] <Zoffix> ZofBot: get the d!

[17:38] *** lizmat left
[17:39] *** hankache joined
[17:40] *** p6bannerbot sets mode: +v hankache

[17:49] <Geth> ¬¶ nqp: 16f0f458fa | (Aleks-Daniel Jakimenko-Aleksejev)++ | 15 files

[17:49] <Geth> ¬¶ nqp: Revert "Implement asyncsocket op"

[17:49] <Geth> ¬¶ nqp: 

[17:49] <Geth> ¬¶ nqp: This reverts commit db990bcadf8aa0cd9d9e05ffe7e7e91deeadbf66.

[17:49] <Geth> ¬¶ nqp: review: https://github.com/perl6/nqp/commit/16f0f458fa

[17:49] <Geth> ¬¶ rakudo: 005f66670e | (Aleks-Daniel Jakimenko-Aleksejev)++ | 2 files

[17:49] <Geth> ¬¶ rakudo: Revert .native-descriptor for async sockets

[17:49] <Geth> ¬¶ rakudo: 

[17:50] <Geth> ¬¶ rakudo: Revert "Fix/Re-fudge sock error test on Windows"

[17:50] <Geth> ¬¶ rakudo: 

[17:50] <Geth> ¬¶ rakudo: This reverts commit 6b43a22cc463333abfd9312a9e5a474db1d5f9ae.

[17:50] <Geth> ¬¶ rakudo: 

[17:50] <Geth> ¬¶ rakudo: Revert "Use valid port number"

[17:50] *** fake_space_whale left
[17:50] <Geth> ¬¶ rakudo: <‚Ä¶commit message has 22 more lines‚Ä¶>

[17:50] <Geth> ¬¶ rakudo: review: https://github.com/rakudo/rakudo/commit/005f66670e

[17:50] <Geth> ¬¶ rakudo: 933f936a02 | (Aleks-Daniel Jakimenko-Aleksejev)++ | 2 files

[17:50] <Geth> ¬¶ rakudo: Revert "[6.d] Attach ex. handler to `start` in sink context"

[17:50] <Geth> ¬¶ rakudo: 

[17:50] <Geth> ¬¶ rakudo: This reverts commit 6ee5f757786b275de4fe30ef60c6e165b98e7a14.

[17:50] <Geth> ¬¶ rakudo: review: https://github.com/rakudo/rakudo/commit/933f936a02

[17:55] <Geth> ¬¶ nqp: d2d879dd4c | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/MOAR_REVISION

[17:55] <Geth> ¬¶ nqp: [MoarVM Bump] b2e870c6f Revert async socket in [‚Ä¶]

[17:55] <Geth> ¬¶ nqp: 

[17:55] <Geth> ¬¶ nqp: MoarVM bump brought: https://github.com/MoarVM/MoarVM/compare/2018.09-140-g32a47383b...2018.09-141-gb2e870c6f

[17:55] <Geth> ¬¶ nqp: review: https://github.com/perl6/nqp/commit/d2d879dd4c

[17:55] <Geth> ¬¶ nqp: version bump brought these changes: https://github.com/MoarVM/MoarVM/compare/2018.09-140-g32a47383b...2018.09-141-gb2e870c6f

[17:55] <Geth> ¬¶ rakudo: e60542addb | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/NQP_REVISION

[17:56] <Geth> ¬¶ rakudo: [NQP Bump] Brings 2 commits

[17:56] <Geth> ¬¶ rakudo: 

[17:56] <Geth> ¬¶ rakudo: NQP bump brought: https://github.com/perl6/nqp/compare/2018.09-67-g058dc7135...2018.09-69-gd2d879dd4

[17:56] <Geth> ¬¶ rakudo: d2d879dd4 [MoarVM Bump] b2e870c6f Revert async socket in [‚Ä¶]

[17:56] <Geth> ¬¶ rakudo: 16f0f458f Revert "Implement asyncsocket op"

[17:56] <Geth> ¬¶ rakudo: review: https://github.com/rakudo/rakudo/commit/e60542addb

[17:56] <Geth> ¬¶ rakudo: version bump brought these changes: https://github.com/perl6/nqp/compare/2018.09-67-g058dc7135...2018.09-69-gd2d879dd4

[17:56] <Geth> ¬¶ rakudo/the-d: 005f66670e | (Aleks-Daniel Jakimenko-Aleksejev)++ | 2 files

[17:56] <Geth> ¬¶ rakudo/the-d: Revert .native-descriptor for async sockets

[17:56] <Geth> ¬¶ rakudo/the-d: 

[17:56] <Geth> ¬¶ rakudo/the-d: Revert "Fix/Re-fudge sock error test on Windows"

[17:56] <Geth> ¬¶ rakudo/the-d: 

[17:56] <Geth> ¬¶ rakudo/the-d: This reverts commit 6b43a22cc463333abfd9312a9e5a474db1d5f9ae.

[17:56] <Geth> ¬¶ rakudo/the-d: 

[17:56] <Geth> ¬¶ rakudo/the-d: Revert "Use valid port number"

[17:56] <Geth> ¬¶ rakudo/the-d: <‚Ä¶commit message has 22 more lines‚Ä¶>

[17:56] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/005f66670e

[17:56] <Geth> ¬¶ rakudo/the-d: 933f936a02 | (Aleks-Daniel Jakimenko-Aleksejev)++ | 2 files

[17:56] <Geth> ¬¶ rakudo/the-d: Revert "[6.d] Attach ex. handler to `start` in sink context"

[17:56] <Geth> ¬¶ rakudo/the-d: 

[17:56] <Geth> ¬¶ rakudo/the-d: This reverts commit 6ee5f757786b275de4fe30ef60c6e165b98e7a14.

[17:56] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/933f936a02

[17:56] <Geth> ¬¶ rakudo/the-d: 7dc152ec04 | (Zoffix Znet)++ | 4 files

[17:56] <Geth> ¬¶ rakudo/the-d: Merge branch 'master' into the-d

[17:56] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/7dc152ec04

[17:56] <Geth> ¬¶ roast/the-d: 592b0b5cfb | (Zoffix Znet)++ (committed using GitHub Web editor) | MISC/misc-6.d.t

[17:56] <Geth> ¬¶ roast/the-d: Fudge sunk start tests for now

[17:56] <Geth> ¬¶ roast/the-d: 

[17:56] <Geth> ¬¶ roast/the-d: The PoV is being reverted for now

[17:57] <Geth> ¬¶ roast/the-d: review: https://github.com/perl6/roast/commit/592b0b5cfb

[17:57] <Geth> ¬¶ roast/the-d: f82aa4fde3 | (Zoffix Znet)++ | MISC/misc-6.d.t

[17:57] <Geth> ¬¶ roast/the-d: Merge branch 'master' into the-d

[17:57] <Geth> ¬¶ roast/the-d: review: https://github.com/perl6/roast/commit/f82aa4fde3

[17:57] <AlexDaniel> Zoffix: it needs the bump also, I'm pretty sure

[17:57] <Geth> ¬¶ rakudo/the-d: e60542addb | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/NQP_REVISION

[17:57] <Geth> ¬¶ rakudo/the-d: [NQP Bump] Brings 2 commits

[17:57] <Geth> ¬¶ rakudo/the-d: 

[17:57] <Geth> ¬¶ rakudo/the-d: NQP bump brought: https://github.com/perl6/nqp/compare/2018.09-67-g058dc7135...2018.09-69-gd2d879dd4

[17:57] <Geth> ¬¶ rakudo/the-d: d2d879dd4 [MoarVM Bump] b2e870c6f Revert async socket in [‚Ä¶]

[17:57] <Geth> ¬¶ rakudo/the-d: 16f0f458f Revert "Implement asyncsocket op"

[17:57] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/e60542addb

[17:57] <Geth> ¬¶ rakudo/the-d: 20412b0603 | (Zoffix Znet)++ | tools/build/NQP_REVISION

[17:57] <Geth> ¬¶ rakudo/the-d: Merge branch 'master' into the-d

[17:57] <Geth> ¬¶ rakudo/the-d: review: https://github.com/rakudo/rakudo/commit/20412b0603

[17:58] <Zoffix> AlexDaniel: I'm gonna merge that branch shortly. That's still fine, right?

[17:58] <Zoffix> merge to master I mean

[17:58] <Zoffix> Or should I wait until after rrelease?

[17:58] *** Kaiepi left
[17:59] <AlexDaniel> yes though are we totally OK on head master right now? I could've screwed something up :)

[17:59] *** Kaiepi joined
[17:59] <AlexDaniel> multiple things to be reverted across multiple repos, stuff is confusing

[17:59] <Zoffix> "The nqp-m binary is too old" hmmm :)

[17:59] <Zoffix> ah, I need to pull in other repos

[17:59] *** p6bannerbot sets mode: +v Kaiepi

[18:01] <AlexDaniel> argh, no, something is not right

[18:02] <AlexDaniel> no, I forgot to pull also

[18:02] <AlexDaniel> xD

[18:02] <AlexDaniel> tbh I don't even know how to revert multiple commits at once. I don't want a bazillion of revert commits, so I squashed them with rebase

[18:04] <Geth> ¬¶ nqp/release-2018.10: 058dc71357 | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/MOAR_REVISION

[18:04] <Geth> ¬¶ nqp/release-2018.10: [MoarVM Bump] Brings 3 commits

[18:04] <Geth> ¬¶ nqp/release-2018.10: 

[18:04] <Geth> ¬¶ nqp/release-2018.10: MoarVM bump brought: https://github.com/MoarVM/MoarVM/compare/2018.09-137-g4582780a5...2018.09-140-g32a47383b

[18:04] <Geth> ¬¶ nqp/release-2018.10: 32a47383b [JIT] Fix a bug with sleep op receiving bogus values

[18:04] <Geth> ¬¶ nqp/release-2018.10: 8b4d58c7a Fix typo in comment

[18:04] <Geth> ¬¶ nqp/release-2018.10: f4eafe0de Fix typo in comment

[18:04] <Geth> ¬¶ nqp/release-2018.10: review: https://github.com/perl6/nqp/commit/058dc71357

[18:04] <Geth> ¬¶ nqp/release-2018.10: 16f0f458fa | (Aleks-Daniel Jakimenko-Aleksejev)++ | 15 files

[18:04] <Geth> ¬¶ nqp/release-2018.10: Revert "Implement asyncsocket op"

[18:04] <Geth> ¬¶ nqp/release-2018.10: 

[18:04] <Geth> ¬¶ nqp/release-2018.10: This reverts commit db990bcadf8aa0cd9d9e05ffe7e7e91deeadbf66.

[18:04] <Geth> ¬¶ nqp/release-2018.10: review: https://github.com/perl6/nqp/commit/16f0f458fa

[18:06] <Zoffix> ZOFVM: Files=1313, Tests=153381, 153 wallclock secs (21.71 usr  3.40 sys + 3261.81 cusr 173.02 csys = 3459.94 CPU)

[18:06] <Zoffix> That's on the-d

[18:07] <AlexDaniel> 153 seconds for roast???

[18:07] <Zoffix> For stresstest, yeah

[18:07] <Geth> ¬¶ rakudo/release-2018.10: 29 commits pushed by (Zoffix Znet)++, (Elizabeth Mattijsen)++, (Tom Browder)++, (Jonathan Worthington)++, (Aleks-Daniel Jakimenko-Aleksejev)++

[18:07] <Geth> ¬¶ rakudo/release-2018.10: review: https://github.com/rakudo/rakudo/compare/64b3dbd799fe...e60542addb66

[18:08] <Geth> ¬¶ rakudo: zoffixznet++ created pull request #2438: üéÜ‚ùáÔ∏èüî• Happy Diwali! üî•‚ùáÔ∏èüéÜ

[18:08] <Geth> ¬¶ rakudo: review: https://github.com/rakudo/rakudo/pull/2438

[18:09] <Geth> ¬¶ roast: zoffixznet++ created pull request #492: üéÜ‚ùáÔ∏èüî• Happy Diwali! üî•‚ùáÔ∏èüéÜ

[18:09] <Geth> ¬¶ roast: review: https://github.com/perl6/roast/pull/492

[18:09] * Zoffix waits for the ceremonial travis run to complete

[18:11] <AlexDaniel> Zoffix: thanks for being around, your v6.d work is amazing

[18:12] <Zoffix> \o/

[18:13] <dogbert17> Zoffix++

[18:14] <dogbert17> AlexDaniel: the SEGV disappeared after your reverts 

[18:14] <AlexDaniel> dogbert17: btw how many files fail with these flags?

[18:15] <AlexDaniel> dogbert17: or are we absolutely clean?

[18:15] <AlexDaniel> dogbert17: do we have a ticket somewhere with a big picture?

[18:15] <dogbert17> I don't know what it looks like at this very moment but it's usually around half a dozen

[18:16] <AlexDaniel> :S

[18:16] <dogbert17> two of these should be ignored according to jnthn which leaves three or four

[18:18] * dogbert17 runs spectest with MVM_SPESH_NODELAY=1 MVM_SPESH_BLOCKING=1 ...

[18:20] *** hankache left
[18:38] <dogbert17> t/spec/S02-types/isDEPRECATED.rakudo.moar, t/spec/S17-supply/throttle.t, t/spec/S17-supply/unique.t and t/spec/S07-slip/slip.t

[18:51] <AlexDaniel> moritz: thanks for trying to fix it!

[18:53] <moritz> AlexDaniel: looking good so far, though the update might take a few hours

[19:11] *** robertle left
[19:24] *** cognominal-p6 joined
[19:25] *** p6bannerbot sets mode: +v cognominal-p6

[19:34] *** cognominal-p6 left
[19:35] *** cognominal-p6 joined
[19:35] *** p6bannerbot sets mode: +v cognominal-p6

[19:42] *** fake_space_whale joined
[19:43] *** p6bannerbot sets mode: +v fake_space_whale

[19:45] <Geth> ¬¶ roast/master: 5 commits pushed by (Zoffix Znet)++

[19:45] <Geth> ¬¶ roast/master: 2daefc06fd | SAP language switching

[19:45] <Geth> ¬¶ roast/master: 1fae4fb4ac | Spec % behaviour with 6.d uninit nums

[19:45] <Geth> ¬¶ roast/master: c0681f1d14 | Update 6.d roast to 6.d-enabled compiler

[19:45] <Geth> ¬¶ roast/master: f82aa4fde3 | Merge branch 'master' into the-d

[19:45] <Geth> ¬¶ roast/master: 0c8b13450c | Merge pull request #492 from perl6/the-d

[19:45] <Geth> ¬¶ roast/master: review: https://github.com/perl6/roast/compare/592b0b5cfbbf...0c8b13450c3c

[19:45] <Geth> ¬¶ rakudo/master: 9 commits pushed by (Zoffix Znet)++

[19:45] <Geth> ¬¶ rakudo/master: 84039f9630 | Copy over `group-of` helper from roast

[19:45] <Geth> ¬¶ rakudo/master: 4a6d910839 | Mod CORE.d setting compilation to propagate indicator flags

[19:45] <Geth> ¬¶ rakudo/master: 1c1df2be3c | Remove trailing whitespace

[19:45] <Geth> ¬¶ rakudo/master: c9ecfb7ae5 | De-BEGIN-ify $*PERL

[19:45] <Geth> ¬¶ rakudo/master: 3365094f9e | Implement X::Language::TooLate

[19:45] <Geth> ¬¶ rakudo/master: 46ef0ea08c | üéÜ‚ùáÔ∏èüî• Happy Diwali! üî•‚ùáÔ∏èüéÜ

[19:45] <Geth> ¬¶ rakudo/master: 7dc152ec04 | Merge branch 'master' into the-d

[19:45] <Geth> ¬¶ rakudo/master: 20412b0603 | Merge branch 'master' into the-d

[19:45] <Geth> ¬¶ rakudo/master: d28545d64b | Merge pull request #2438 from rakudo/the-d

[19:45] <Geth> ¬¶ rakudo/master: review: https://github.com/rakudo/rakudo/compare/e60542addb66...d28545d64be6

[19:45] <Geth> ¬¶ rakudo/master: version bump brought these changes: https://github.com/perl6/nqp/compare/2018.09-67-g058dc7135...2018.09-69-gd2d879dd4

[20:10] <AlexDaniel> so I'm trying to figure out this: https://travis-ci.org/rakudo/rakudo/jobs/447156275#L1001

[20:10] <AlexDaniel> and, if I get it right, we are here: https://github.com/rakudo/rakudo/blob/d28545d64be63be6107a9534d792221f59aecf88/tools/build/Makefile-JVM.in#L221

[20:11] <AlexDaniel> I looked at git log for related files and I see nothing related to it

[20:25] * Zoffix struggles to find a JVM build that actually succeeded without build crashes

[20:27] <Zoffix> I saw one where it just timed out for taking make test too long

[20:32] <AlexDaniel> so yeah, both DESTDIR and J_LIBPATH are empty

[20:33] <AlexDaniel> J_LIBPATH = 

[20:33] <AlexDaniel> mm

[20:35] <AlexDaniel> ahhhaaa

[20:38] <AlexDaniel> https://github.com/rakudo/rakudo/commit/456b08e35eeebaa9255aade221ea8a96f32192aa#diff-15c5b4c6f757ed54da181d4639921d11L267

[20:38] <AlexDaniel> this!

[20:39] <Zoffix> heh

[20:39] * Zoffix doesn't get it o/

[20:40] <AlexDaniel> I don't understand what this commit does, but the fix is easy

[20:41] * AlexDaniel tests locally

[20:48] <AlexDaniel> moritz: `There are now 318 modules in this repo (used to be more around 215 before I fixed stuff).` ?

[20:48] <AlexDaniel> but we have over 1000 in the ecosystem

[20:50] <AlexDaniel> moritz: 979 modules are installable, blin

[20:50] <AlexDaniel> so 318 is ‚Öì of success

[20:50] * Zoffix lols at "blin"

[20:51] <AlexDaniel> here's the list of modules that definitely should be in the repo: https://gist.github.com/AlexDaniel/1e91196b1ebd68f60ee7767f0aa5cb96

[20:53] <jnthn> haha :D

[20:54] <moritz> AlexDaniel: I'm just too stupid to count. 1197 by my less stupid estimation :)

[20:54] <jnthn> Zoffix++ # 6.d work

[20:54] <AlexDaniel> moritz: o yey! That makes more sense

[20:54] <AlexDaniel> moritz++

[20:55] <jnthn> Zoffix: So, what happens between now and 2018.11? Is the spectest repo tagged for 6.d, or is there still some time before that?

[20:56] *** lizmat joined
[20:56] *** p6bannerbot sets mode: +v lizmat

[20:58] <Geth> ¬¶ rakudo: f81146ae9b | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/Makefile-JVM.in

[20:58] <Geth> ¬¶ rakudo: Fix make install target for JVM

[20:58] <Geth> ¬¶ rakudo: 

[20:58] <Geth> ¬¶ rakudo: Basically `nqp_libdir` ‚Üí `nqp::libdir`.

[20:58] <Geth> ¬¶ rakudo: See 456b08e35eeebaa9255aade221ea8a96f32192aa.

[20:58] <Geth> ¬¶ rakudo: review: https://github.com/rakudo/rakudo/commit/f81146ae9b

[20:58] <AlexDaniel> Zoffix: ‚Üë that's it :S

[20:58] <Zoffix> jnthn: no, it's not tagget yet. Still need to change `use v6`/`use v6.d.PREVIEW` to `use v6.d` and (in release branch) remove new exceptions and all fudges that don't have a working implementation on any backend. Then finish off the changelog and I think there will pop up new features that were never specced, so possibly add spec for those and then I believe it will be cut-n-tag worthy

[20:58] <Geth> ¬¶ rakudo/release-2018.10: 41b822a657 | (Aleks-Daniel Jakimenko-Aleksejev)++ | tools/build/Makefile-JVM.in

[20:58] <Geth> ¬¶ rakudo/release-2018.10: Fix make install target for JVM

[20:58] <Geth> ¬¶ rakudo/release-2018.10: 

[20:58] <Geth> ¬¶ rakudo/release-2018.10: Basically `nqp_libdir` ‚Üí `nqp::libdir`.

[20:58] <Geth> ¬¶ rakudo/release-2018.10: See 456b08e35eeebaa9255aade221ea8a96f32192aa.

[20:59] <Geth> ¬¶ rakudo/release-2018.10: review: https://github.com/rakudo/rakudo/commit/41b822a657

[20:59] <Zoffix> and until 2018.11 what happens is we test how stuff works with 6.d enabled by default :)

[20:59] <Zoffix> jnthn: oh and my sink in start got reverted R#2436 . I didn't migrate blocks and I dunno if I should be fixing that old code or were you gonna make a better impl that you mentioned?

[20:59] <synopsebot> R#2436 [open]: https://github.com/rakudo/rakudo/issues/2436 [6.d review][fudged tests committed] Crash in 6.d with sunk start

[20:59] <jnthn> Zoffix: OK, so I'm good to fix up the `start` change next week.

[21:00] <Zoffix> \o/

[21:00] <jnthn> Yeah, I can do it next week. I was going to on Friday, but all my time went on the blocker.

[21:03] <AlexDaniel> jnthn: thank you, by the way

[21:03] <AlexDaniel> btw I think we are ready

[21:03] <Zoffix> \o/

[21:04] <jnthn> np, glad I could figure it out in time

[21:08] <AlexDaniel> grep: v6.d.PREVIEW

[21:08] <greppable6> AlexDaniel, 54 lines, 8 modules: https://gist.github.com/911bb35c69aab0bf96a5f76f559e8e49

[21:08] <AlexDaniel> Zoffix: woo!

[21:08] <Zoffix> Is that from 333 modules or form all 1000?

[21:09] <AlexDaniel> treegrep: META6.json

[21:09] <greppable6> AlexDaniel, https://gist.github.com/d6273c85aaee5b942f18858b46e21c6b

[21:09] <AlexDaniel> 1000

[21:09] <Zoffix> cool

[21:10] <jnthn> treegrep: id_rsa

[21:10] <greppable6> jnthn, Found nothing!

[21:10] <jnthn> Phew :)

[21:11] <AlexDaniel> treegrep: ^#

[21:11] <greppable6> AlexDaniel, https://gist.github.com/136e749a141511587c4ba0b271407f71

[21:11] <AlexDaniel> treegrep: ^‚Äò#‚Äô

[21:11] <greppable6> AlexDaniel, Found nothing!

[21:11] <jnthn> treegrep: .idea

[21:11] <greppable6> jnthn, https://gist.github.com/890389584aca873f2f19c29e982e56dd

[21:12] <Zoffix> treegrep: secret

[21:12] <greppable6> Zoffix, https://gist.github.com/7d7477822767435e03093fd7a92c664b

[21:12] <jnthn> haha, that wasn't what I was looking for :)

[21:12] <AlexDaniel> is it perl6 regex or what is it‚Ä¶

[21:12] <AlexDaniel> treegrep: ‚Äò.gitignore‚Äô

[21:12] <greppable6> AlexDaniel, https://gist.github.com/142f0b8f9a23d6f357cc17b67952bf27

[21:13] <AlexDaniel> ok, yes!

[21:13] <AlexDaniel> treegrep: ‚Äò/#‚Äô

[21:13] <greppable6> AlexDaniel, https://gist.github.com/0983c2799fa97484663f1d5c93bf4de2

[21:14] <AlexDaniel> treegrep: ‚Äò.swp‚Äô

[21:14] <greppable6> AlexDaniel, https://gist.github.com/a0adb6230c33e83aebf35dc2ca095264

[21:14] <AlexDaniel> treegrep: ‚Äò.precomp‚Äô

[21:14] <greppable6> AlexDaniel, https://gist.github.com/24bef2f264c1474ea3a7fd59daa1fa31

[21:14] <AlexDaniel> jnthn: oh, look! Your module :P

[21:15] <AlexDaniel> but‚Ä¶ it is meant to be there?

[21:16] <jnthn> Yes :)

[21:16] <AlexDaniel> alright :)

[21:16] <jnthn> It's test data for the file ignore test cases :)

[21:46] *** AlexDaniel left
[21:46] *** AlexDaniel joined
[21:46] *** p6bannerbot sets mode: +v AlexDaniel

[21:59] *** cognominal-p6 left
[22:21] <samcv> AlexDaniel: release is done :)

[23:36] <AlexDaniel> .seen El_Che

[23:36] <yoleaux> I saw El_Che 18:58Z in #perl6: <El_Che> I hope you're payed by the page: )

[23:46] *** pmurias left
