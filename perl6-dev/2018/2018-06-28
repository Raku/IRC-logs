[00:00] *** lizmat joined
[00:05] *** benchable6 joined
[00:56] *** AlexDani` joined
[00:57] *** AlexDaniel left
[01:00] *** AlexDani` left
[01:08] *** AlexDani` joined
[01:10] *** AlexDani` is now known as AlexDaniel

[01:14] <Geth> ¦ nqp: 879f293e0b | 陈梓立++ (committed using GitHub Web editor) | t/hll/01-language.t

[01:14] <Geth> ¦ nqp: Enable HLL test 01-language.t

[01:14] <Geth> ¦ nqp: review: https://github.com/perl6/nqp/commit/879f293e0b

[01:14] <Geth> ¦ nqp: e889b29ec3 | 陈梓立++ (committed using GitHub Web editor) | t/hll/01-language.t

[01:14] <Geth> ¦ nqp: Merge pull request #473 from perl6/W4anD0eR96-patch-1

[01:14] <Geth> ¦ nqp: 

[01:14] <Geth> ¦ nqp: Enable HLL test 01-language.t

[01:14] <Geth> ¦ nqp: review: https://github.com/perl6/nqp/commit/e889b29ec3

[01:43] *** BenGoldberg joined
[02:31] *** perlpilot left
[02:43] *** Kaypie joined
[02:43] *** Kaiepi left
[03:13] *** lizmat left
[03:52] *** Ven` joined
[03:56] *** Ven` left
[04:09] <Geth> ¦ nqp/truffle: ab066ae15a | (Daniel Green)++ | 3 files

[04:09] <Geth> ¦ nqp/truffle: [truffle] Implement nqp::lc

[04:09] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/ab066ae15a

[04:09] <Geth> ¦ nqp/truffle: 65de2cf273 | (Daniel Green)++ | 3 files

[04:09] <Geth> ¦ nqp/truffle: [truffle] Implement nqp::uc

[04:09] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/65de2cf273

[04:19] <MasterDuke> .tell pmurias i also implemented nqp::chars, but since ints can't be printed i couldn't tell if it worked. here's what i have so far (including a failed attempt to stringify them) https://gist.github.com/MasterDuke17/f11307a8724e2d9969d2dbb9109c4a95

[04:19] <yoleaux> MasterDuke: I'll pass your message to pmurias.

[05:15] *** lizmat joined
[05:20] *** ufobat joined
[05:21] *** skids left
[05:28] *** BenGoldberg left
[05:34] *** cog joined
[05:49] *** cog left
[05:49] *** cog joined
[05:58] *** Ven` joined
[06:03] *** Ven` left
[06:24] *** brrt joined
[06:39] <[Tux]> Rakudo version 2018.06-31-g7865bfa6b - MoarVM version 2018.06-34-g411f73fdc

[06:39] <[Tux]> csv-test-xs-20      0.453 -  0.484

[06:39] <[Tux]> csv-ip5xs           0.951 -  0.985

[06:39] <[Tux]> test-t --race       0.949 -  1.046

[06:39] <[Tux]> test-t              2.286 -  2.287

[06:39] <[Tux]> csv-ip5xs-20        7.354 -  7.665

[06:39] <[Tux]> test                8.742 -  9.234

[06:39] <[Tux]> test-t-20 --race   14.455 - 15.269

[06:39] <[Tux]> csv-parser         24.312 - 24.889

[06:40] <[Tux]> test-t-20          40.836 - 41.480

[06:40] *** ilmari[m] left
[06:46] *** ilmari[m] joined
[07:07] *** brrt left
[07:39] *** pmurias joined
[07:51] *** ggoebel left
[08:05] *** ggoebel joined
[08:09] *** [TuxCM] left
[08:34] <Geth> ¦ nqp: 93fdb10070 | (Elizabeth Mattijsen)++ | tools/build/MOAR_REVISION

[08:34] <Geth> ¦ nqp: Bump MoarVM for the latest goodies

[08:34] <Geth> ¦ nqp: review: https://github.com/perl6/nqp/commit/93fdb10070

[08:34] <Geth> ¦ nqp: version bump brought these changes: https://github.com/MoarVM/MoarVM/compare/2018.06-9-gb3ce4f6...2018.06-34-g411f73f

[08:51] <Geth> ¦ rakudo: 0990945dcf | (Elizabeth Mattijsen)++ | tools/build/NQP_REVISION

[08:51] <Geth> ¦ rakudo: Bump NQP to get all the latest goodies

[08:51] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/commit/0990945dcf

[08:51] <Geth> ¦ rakudo: version bump brought these changes: https://github.com/perl6/nqp/compare/2018.06...2018.06-15-g93fdb10

[08:51] *** Ven` joined
[09:04] *** Ven` left
[09:04] *** Ven` joined
[09:10] *** MasterDuke left
[09:55] *** [TuxCM] joined
[09:58] *** ExtraCrispy joined
[11:02] *** Ven` left
[11:03] *** lizmat left
[11:04] *** brrt joined
[11:25] *** lizmat joined
[11:45] *** Ven` joined
[11:52] <Geth> ¦ rakudo: lizmat self-assigned Can't assign >64bit quantity to BagHash element https://github.com/rakudo/rakudo/issues/1983

[12:07] <Geth> ¦ rakudo: zoffixznet self-assigned Stacked metaops in the same statement don't get fully optimized https://github.com/rakudo/rakudo/issues/1981

[12:35] *** skids joined
[12:40] *** skids left
[12:48] *** robertle joined
[13:16] *** perlpilot joined
[13:23] *** brrt left
[13:33] *** Zoffix joined
[13:34] <Zoffix> c: 6ae0526f,6ae0526f~1 use QAST:from<NQP>; (my $q := QAST::Stmts.new).annotate("meow", 1); say $q.dump

[13:34] <committable6> Zoffix, ¦6ae0526: «- QAST::Stmts ␤␤» ¦6ae0526f~1: «- QAST::Stmts  :meow<?>␤␤»

[13:34] <Zoffix> So that commit is this nqp bump: https://github.com/rakudo/rakudo/commit/6ae0526f22a53550061386adba8bea9ebfbc8a70

[13:34] <Zoffix> And looks like this commit is to blame for disappearance of annotations from the dump: 

[13:35] <Zoffix> https://github.com/perl6/nqp/commit/707eb7713f194aeb5c915488126a2b33f449dc4f

[13:35] <Zoffix> nqp: (my $q := QAST::Stmts.new).annotate("meow", 42); my %a := nqp::getattr($q, QAST::Node, q|%!annotations|); for sorted_keys(nqp::getattr($q, QAST::Node, q|%!annotations|)) -> $k { try { say(%a{$k}) } }

[13:35] <camelia> nqp-moarvm: OUTPUT: «42␤»

[13:35] <Zoffix> But I can't figure out why exactly :S

[13:35] <Zoffix> oh

[13:36] <Zoffix> Now I see it :D

[13:36] <Zoffix> `my $v := %!annotations{$_};` the $_ should be $k

[13:36] <Zoffix> nm

[13:36] *** Zoffix left
[13:48] *** Kaypie left
[13:48] *** Kaiepi joined
[13:49] <Geth> ¦ nqp: 9eda6a0208 | (Zoffix Znet)++ | src/QAST/Node.nqp

[13:49] <Geth> ¦ nqp: Fix missing annotations in QAST dumps

[13:49] <Geth> ¦ nqp: 

[13:49] <Geth> ¦ nqp: Earlier commit accidentally used wrong variable for

[13:49] <Geth> ¦ nqp: key lookup: https://github.com/perl6/nqp/commit/707eb7713f194aeb5

[13:49] <Geth> ¦ nqp: review: https://github.com/perl6/nqp/commit/9eda6a0208

[13:54] <Geth> ¦ rakudo: fd779109dd | (Elizabeth Mattijsen)++ | src/core/BagHash.pm6

[13:54] <Geth> ¦ rakudo: Sanity check for BagHash values should be HLL

[13:54] <Geth> ¦ rakudo: 

[13:54] <Geth> ¦ rakudo: Fixes R#1983

[13:54] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/commit/fd779109dd

[13:54] <synopsebot> R#1983 [open]: https://github.com/rakudo/rakudo/issues/1983 Can't assign >64bit quantity to BagHash element

[13:59] <Geth> ¦ roast: 5afa359cc6 | (Elizabeth Mattijsen)++ | S02-types/baghash.t

[13:59] <Geth> ¦ roast: Add test for R#1983

[13:59] <Geth> ¦ roast: review: https://github.com/perl6/roast/commit/5afa359cc6

[14:00] <synopsebot> R#1983 [open]: https://github.com/rakudo/rakudo/issues/1983 Can't assign >64bit quantity to BagHash element

[14:11] *** robertle left
[14:26] *** skids joined
[14:38] <nine> Shouldn't $*ARGFILES ignore named arguments?

[14:50] <Geth> ¦ nqp/truffle: 96c01ff90e | (Paweł Murias)++ | 16 files

[14:50] <Geth> ¦ nqp/truffle: [jvm] Use a @Deserializer annotation instead of having a gigantic switch in TruffleCompiler

[14:50] <Geth> ¦ nqp/truffle: 

[14:50] <Geth> ¦ nqp/truffle: For @Deserilizer to work we add an annotation processor which generates the switch

[14:50] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/96c01ff90e

[15:00] <Geth> ¦ nqp/truffle: c7fbdaebb5 | (Paweł Murias)++ | src/vm/jvm/bin/write_a_node.nqp

[15:00] <Geth> ¦ nqp/truffle: [truffle] When generating boilerplate for a node do not spew out code for the switch

[15:00] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/c7fbdaebb5

[15:00] <Geth> ¦ nqp/truffle: 1c33fd4bcf | (Paweł Murias)++ | 3 files

[15:00] <Geth> ¦ nqp/truffle: [truffle] Use argNode instead of aNode for nodes with one argument

[15:00] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/1c33fd4bcf

[15:00] <Geth> ¦ nqp/truffle: 2688a4191d | (Paweł Murias)++ | src/vm/jvm/dsl/org/perl6/nqp/dsl/Processor.java

[15:00] <Geth> ¦ nqp/truffle: [truffle] Remove debug message from annotations processor

[15:00] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/2688a4191d

[15:06] <Geth> ¦ rakudo: 23045bc869 | (Zoffix Znet)++ | t/packages/Test/Helpers/QAST.pm6

[15:06] <Geth> ¦ rakudo: Let QAST test helpers use smartmatching instead of `eq`

[15:06] <Geth> ¦ rakudo: 

[15:06] <Geth> ¦ rakudo: Gives more flexibility

[15:06] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/commit/23045bc869

[15:19] *** Zoffix joined
[15:21] <Zoffix> nine: the concept of "named arguments" really exists only inside `sub MAIN` (since e.g. depending on the setting of %*SUB-MAIN-OPTS, `42 --foo` is either two positional args or one named and one positional). And in `sub MAIN` in 6.d $*ARGFILES will be always set to $*IN

[15:24] <Zoffix> So, I can make `($a //= 42) += 10` 3.5x faster, but the catch is `my $a := 20; ($a //= 42) += 10;` starts throwing X::AdHoc "Cannot assign to an immutable value" instead of X::Assignment::RO "Cannot modify an immutable Int (42)"

[15:24] <Zoffix> Is that an acceptable change? It doesn't violate any stresstests

[15:26] <Zoffix> ZofBot: speed before err'read', amirite?

[15:27] <Zoffix> hm, actually this probably got a bug with `(@a //= 42) += 10`

[15:28] <Zoffix> Yup

[15:28] <Zoffix> zoffix@B-PEVSTRATOV-DT~/R/rakudo (master)$ perl6 -e 'my @a = 20; (@a ||= 42) += 10; dd @a'

[15:28] <Zoffix> Array @a = [11]

[15:28] <Zoffix> zoffix@B-PEVSTRATOV-DT~/R/rakudo (master)$ ./perl6 -e 'my @a = 20; (@a ||= 42) += 10; dd @a'

[15:28] <Zoffix> Cannot assign to an immutable value

[15:28] <Zoffix> \o/

[15:28] <Zoffix> tests++

[15:29] <Zoffix> nine: you can make your own $*ARGFILES with a IO::CatHandle, BTW...    my $my-argfiles := IO::CatHandle.new: "some-filename", $some-IO-Handle, @*ARGS.grep: /the-things-I-want/

[15:37] <Geth> ¦ nqp/truffle: aa7b69f45d | (Paweł Murias)++ | 9 files

[15:37] <Geth> ¦ nqp/truffle: [truffle] Use @Deserialize for more nodes

[15:37] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/aa7b69f45d

[15:37] <Geth> ¦ nqp/truffle: e9c533aa4d | (Paweł Murias)++ | 16 files

[15:37] <Geth> ¦ nqp/truffle: [truffle] Rename execute methods to make it clearer the expect the native nqp types

[15:37] <Geth> ¦ nqp/truffle: 

[15:37] <Geth> ¦ nqp/truffle: Rename executeInteger, executeString, executeNumber to executeInt, executeStr and executeNum

[15:37] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/e9c533aa4d

[15:37] <Geth> ¦ nqp/truffle: 47b04cd785 | (Paweł Murias)++ | 9 files

[15:37] <Geth> ¦ nqp/truffle: [truffle] Add @Override annotations

[15:37] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/47b04cd785

[15:44] <Geth> ¦ nqp/truffle: 06fa88a306 | (Paweł Murias)++ | 2 files

[15:44] <Geth> ¦ nqp/truffle: [truffle] Added a coercion from ints to str

[15:44] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/06fa88a306

[15:44] <Geth> ¦ nqp/truffle: da28c6f610 | (Paweł Murias)++ | 2 files

[15:44] <Geth> ¦ nqp/truffle: [truffle] Drop the T_ hungarian notation on type constants

[15:44] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/da28c6f610

[15:45] <pmurias> .tell MasterDuke I added the int to str conversion

[15:45] <yoleaux> 04:19Z <MasterDuke> pmurias: i also implemented nqp::chars, but since ints can't be printed i couldn't tell if it worked. here's what i have so far (including a failed attempt to stringify them) https://gist.github.com/MasterDuke17/f11307a8724e2d9969d2dbb9109c4a95

[15:45] <yoleaux> pmurias: I'll pass your message to MasterDuke.

[15:47] <pmurias> .tell MasterDuke your attempt and doing the conversion didn't work is because smart_stringify expects something that returns an object

[15:47] <yoleaux> pmurias: I'll pass your message to MasterDuke.

[15:47] <pmurias> .tell btw thank you for contributing

[15:47] <yoleaux> pmurias: I'll pass your message to btw.

[15:47] <pmurias> .tell MasterDuke btw thank you for contributing

[15:47] <yoleaux> pmurias: I'll pass your message to MasterDuke.

[15:49] <Geth> ¦ rakudo: zoffixznet self-assigned METAOP_ASSIGN opt loses good exception for RO assignments https://github.com/rakudo/rakudo/issues/1987

[15:53] <Geth> ¦ rakudo: zoffixznet self-assigned Opt opportunity in `Rop=` https://github.com/rakudo/rakudo/issues/1988

[15:54] <Geth> ¦ rakudo: zoffixznet self-assigned Static optimizer breaks meta-assign to Array/Hashes returned from methods https://github.com/rakudo/rakudo/issues/1989

[16:03] <Geth> ¦ rakudo: zoffixznet self-assigned Opt opportunity in METAOP_ASSIGN with % and @ vars https://github.com/rakudo/rakudo/issues/1990

[16:25] <Geth> ¦ rakudo: b9b0838dd8 | (Zoffix Znet)++ | 3 files

[16:25] <Geth> ¦ rakudo: Opt nested meta assigns / fix meta assign bugs

[16:25] <Geth> ¦ rakudo: 

[16:25] <Geth> ¦ rakudo: Fixes R#1987 https://github.com/rakudo/rakudo/issues/1987

[16:25] <Geth> ¦ rakudo: Fixes R#1989 https://github.com/rakudo/rakudo/issues/1989

[16:25] <Geth> ¦ rakudo: Fixes https://github.com/rakudo/rakudo/issues/1981 R#1981

[16:25] <Geth> ¦ rakudo: 

[16:25] <synopsebot> R#1987 [open]: https://github.com/rakudo/rakudo/issues/1987 [LTA][QAST] METAOP_ASSIGN opt loses good exception for RO assignments

[16:25] <synopsebot> R#1989 [open]: https://github.com/rakudo/rakudo/issues/1989 [QAST] Static optimizer breaks meta-assign to Array/Hashes returned from methods

[16:25] <Geth> ¦ rakudo: For opts: mark applicable METAOP constructs, so that when we

[16:25] <synopsebot> R#1981 [open]: https://github.com/rakudo/rakudo/issues/1981 [perf] Stacked metaops in the same statement don't get fully optimized

[16:25] <Geth> ¦ rakudo: <…commit message has 5 more lines…>

[16:25] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/commit/b9b0838dd8

[16:26] <Geth> ¦ roast: ced372ccce | (Zoffix Znet)++ | S03-metaops/misc.t

[16:26] <Geth> ¦ roast: Cover meta assign opts and bugs

[16:26] <Geth> ¦ roast: 

[16:26] <Geth> ¦ roast: Rakudo fix: https://github.com/rakudo/rakudo/commit/b9b0838dd8

[16:26] <Geth> ¦ roast: Closes https://github.com/rakudo/rakudo/issues/1987 R#1987

[16:26] <Geth> ¦ roast: Closes https://github.com/rakudo/rakudo/issues/1989 R#1989

[16:26] <Geth> ¦ roast: Covers https://github.com/rakudo/rakudo/commit/b9b0838dd8

[16:26] <Geth> ¦ roast: review: https://github.com/perl6/roast/commit/ced372ccce

[16:27] <Geth> ¦ rakudo: 2177ee234c | (Zoffix Znet)++ | t/spectest.data

[16:27] <Geth> ¦ rakudo: Add S03-metaops/misc.t to list of test files

[16:27] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/commit/2177ee234c

[16:29] *** Zoffix left
[16:30] *** Ven` left
[16:33] *** Ven` joined
[16:38] *** Ven` left
[17:21] *** robertle joined
[17:32] *** brrt joined
[17:33] <Geth> ¦ rakudo: zoffixznet self-unassigned Opt opportunity in METAOP_ASSIGN with % and @ vars https://github.com/rakudo/rakudo/issues/1990

[17:37] <Geth> ¦ rakudo: zoffixznet self-unassigned Opt opportunity in `Rop=` https://github.com/rakudo/rakudo/issues/1988

[17:43] <Geth> ¦ rakudo: zoffixznet self-assigned constant does not support signature literal https://github.com/rakudo/rakudo/issues/1301

[17:54] <Geth> ¦ nqp/truffle: aa42aa325c | (Paweł Murias)++ | nqp-truffle.nqp

[17:54] <Geth> ¦ nqp/truffle: [truffle] Correct confusion

[17:54] <Geth> ¦ nqp/truffle: review: https://github.com/perl6/nqp/commit/aa42aa325c

[18:01] *** pmurias left
[18:02] *** pmurias joined
[18:06] *** perlpilot left
[18:39] *** Ven`` joined
[18:59] <Geth> ¦ rakudo: 587cd4f9e5 | (Zoffix Znet)++ (committed using GitHub Web editor) | src/core/IO/Path.pm6

[18:59] <Geth> ¦ rakudo: Remove commented-out .child-secure

[18:59] <Geth> ¦ rakudo: 

[18:59] <Geth> ¦ rakudo: We're not doing it any time soon and it's likely

[18:59] <Geth> ¦ rakudo: not a good'nuf idea anyway

[18:59] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/commit/587cd4f9e5

[19:01] <Geth> ¦ 6.d-prep: 65d5663d59 | (Zoffix Znet)++ (committed using GitHub Web editor) | TODO/postponed-for-6.e.md

[19:01] <Geth> ¦ 6.d-prep: Reword .child-secure 6.e work

[19:01] <Geth> ¦ 6.d-prep: 

[19:01] <Geth> ¦ 6.d-prep: ... to suggest to try harder to find a better solution instead

[19:01] <Geth> ¦ 6.d-prep: review: https://github.com/perl6/6.d-prep/commit/65d5663d59

[19:03] <Geth> ¦ 6.d-prep: 6ef4564201 | (Zoffix Znet)++ (committed using GitHub Web editor) | TODO/postponed-for-6.e.md

[19:03] <Geth> ¦ 6.d-prep: Clarify what the TODO for secure path opening is about

[19:03] <Geth> ¦ 6.d-prep: review: https://github.com/perl6/6.d-prep/commit/6ef4564201

[19:06] <Geth> ¦ 6.d-prep: 56ba2f3810 | (Zoffix Znet)++ (committed using GitHub Web editor) | TODO/FEATURES.md

[19:06] <Geth> ¦ 6.d-prep: Gen a TOC for easier navigation

[19:06] <Geth> ¦ 6.d-prep: review: https://github.com/perl6/6.d-prep/commit/56ba2f3810

[19:33] *** [TuxCM] left
[20:12] *** brrt left
[20:22] *** perlpilot joined
[20:46] *** perlpilot left
[20:50] *** [TuxCM] joined
[20:54] <lizmat> [Tux] re test-t, is there a reason why we don't test the Pure Perl (5) version of test-t ?

[21:01] *** SmokeMachine joined
[21:02] *** pmurias left
[21:05] *** pmurias joined
[21:10] *** pmurias left
[21:11] *** skids left
[21:23] *** MasterDuke joined
[21:23] *** ggoebel left
[21:40] *** ggoebel joined
[21:44] *** Ven`` left
[21:45] *** Ven`` joined
[21:46] *** robertle left
[22:17] *** Ven`` left
[22:41] *** dct joined
[22:50] *** perlpilot joined
[22:54] *** dct left
[23:23] *** perlpilot left
[23:33] *** BenGoldberg joined
[23:39] *** MasterDuke left
[23:55] *** MasterDuke joined
[23:55] *** lizmat left
