[01:19] *** melezhik_ joined
[01:21] *** melezhik_ left
[01:33] *** melezhik_ joined
[01:38] *** melezhik_ left
[01:59] *** librasteve_ left
[03:33] *** melezhik_ joined
[03:35] *** melezhik_ left
[04:06] *** melezhik_ joined
[04:10] *** melezhik_ left
[04:34] *** melezhik_ joined
[04:36] *** melezhik_ left
[07:36] *** melezhik_ joined
[07:42] *** melezhik_ left
[07:42] *** melezhik_ joined
[07:46] *** melezhik_ left
[08:12] <patrickb> I'm confused and seek clarification.

[08:12] <patrickb> https://github.com/rakudo/rakudo/blob/main/src/core.c/CompUnit/Repository/Installation.rakumod#L33

[08:14] <patrickb> When looking at a META6.json file `provides` contains a hash where each value is a path string. The linked code seems to try to treat that string as a hash. What do I miss?

[09:13] *** melezhik_ joined
[09:13] <melezhik_> .

[09:20] *** melezhik_ left
[09:23] *** melezhik_ joined
[09:26] <lizmat> ugexe ^^

[09:42] *** melezhik_ left
[09:46] *** melezhik_ joined
[09:52] *** melezhik_ left
[10:10] *** librasteve_ joined
[11:59] *** melezhik_ joined
[12:04] <melezhik_> patrickb: [Coke]: can we run another round ? whenever you are ready (need to upgrade agent to the latest commit)

[12:08] *** melezhik_ left
[12:10] <patrickb> booting up

[13:00] *** melezhik_ joined
[13:00] <melezhik_> ok, tnanks!

[13:01] <melezhik_> started 2000 modules for Rakudo 2025.11

[13:04] <melezhik_> patrickb: is agent running ? don't see heartbeats from it ...

[13:06] <melezhik_> ok, now I see

[13:06] <melezhik_> heartbeat from gallant-hellman-03405561, version: 0.0.38, max threads: 19, jobs run cnt: 0

[13:13] *** melezhik_ left
[13:13] *** melezhik_ joined
[13:25] *** melezhik_ left
[13:25] *** melezhik_ joined
[13:27] <ugexe> patrickb look at the meta6.json file that is installed. You’ll see that the provided section format is changed in CURI. I opened a PR to not do that many years ago but lost interest https://github.com/rakudo/rakudo/pull/2778

[13:30] <patrickb> Ah, that's good info. Thanks!

[13:31] <patrickb> btw. I'm currently digging into https://github.com/rakudo/rakudo/pull/5060 again.

[13:32] <patrickb> I'll probably build the PR up from scratch again.

[13:43] *** melezhik_ left
[13:43] *** melezhik_ joined
[13:50] *** melezhik_ left
[13:50] *** melezhik_ joined
[13:59] <melezhik_> patrickb: ooo - did you cleanup agent container data ? the speed is pretty impressive 

[13:59] <melezhik_> ||| TESTS STAT: time: 57m | tests total: 2000 | finished tests: 1014 

[14:00] <patrickb> I just did a ./agent/run.sh

[14:01] <melezhik_> ah, ok, that means you completely cleaned cache, that's ok )

[14:02] <melezhik_> I guess you run patched run.sh? as the one in source is `docker run -d --rm --name agent -e BRW_AGENT_MAX_THREADS=1 -e BRW_AGENT_CAP_INSTALL_FROM_SOURCE_FORCE=1 -p 4002:4000 agent`

[14:03] <melezhik_> setting BRW_AGENT_MAX_THREADS to 1

[14:04] <melezhik_> your one has 19

[14:07] <melezhik_> btw, how can ask `zef install Foo` run tests in verbose mode?

[14:07] <melezhik_> showing every test line ?

[14:07] <melezhik_> test report / whatever

[14:17] *** melezhik_ left
[14:17] *** melezhik_ joined
[14:21] <patrickb> yes patched that file. threads 19 and s/docker/podman/ basically

[14:23] <melezhik_> ok!

[14:47] *** melezhik_ left
[14:47] *** melezhik_ joined
[14:56] *** melezhik_ left
[14:56] *** melezhik_ joined
[15:04] *** melezhik_ left
[15:04] *** melezhik_ joined
[15:24] *** melezhik_ left
[15:24] *** melezhik_ joined
[15:25] <melezhik_> ||| TESTS STAT: time: 002h | tests total: 2000 | finished tests: 1998 | sent to queue: dist=0 / redist=2 | agents cnt: 1

[15:25] <melezhik_> finished

[15:27] <melezhik_> patrickb: I've just run another test for rakudo 2025.10, if you keep your agent running for about 2 hours - I'd appreciate it, thanks!

[15:27] <melezhik_> rightly it takes around 2 hours to test 2000 modules, on your 19 threads agent

[15:28] <melezhik_> roughly 

[15:32] *** melezhik_ left
[16:04] <Geth> ¦ rakudo: ShimmerFairy++ created pull request #6034: Update Rakudo for Unicode 17.0.0

[16:04] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/pull/6034

[16:04] <ab5tract> 2000 modules in 2 hours! Impressive :D

[16:14] <Geth> ¦ roast/unicode17-update: 5 commits pushed by Faye++

[16:14] <Geth> ¦ roast/unicode17-update: 1c6e195161 | Update Unicode docs and scripts.

[16:14] <Geth> ¦ roast/unicode17-update: f2b5b16c8a | Update collation test todos.

[16:14] <Geth> ¦ roast/unicode17-update: c5935164c4 | Add new test generator for grapheme break tests.

[16:14] <Geth> ¦ roast/unicode17-update: 173f235f8a | Slight touchups to grapheme break generator.

[16:14] <Geth> ¦ roast/unicode17-update: bc75048227 | Update test files for Unicode 17.0.0

[16:14] <Geth> ¦ roast/unicode17-update: review: https://github.com/Raku/roast/compare/1c6e195161f4^...bc75048227a3

[16:50] <disbot6> <melezhik.> Interesting . Still can’t get why Readljne tests fails for 2025.11 and pass for 2025.10?

[16:51] *** melezhik joined
[16:51] <melezhik> Interesting . Still can’t get why Redline tests fails for 2025.11 and pass for 2025.10?

[16:52] <melezhik> http://brw.sparrowhub.io/file_view/brw-reporter/sxnqpbdylvgfukrahzec.33.riozqnxdyh.33.ifdqaswrex.33.vmglefxjnc.33.cfzowjybdv.33.ihyucqxzsn.33.qgptukzrnh.33.dlieqhpars.33.ibshkzadvj.33.hptszkrjuf.33.qkilvwcebj.33/Readline.log

[16:54] <melezhik> Actually this is a list for all found discrepancies between 2025.11 and 2025.10 ( round still running )

[16:54] <melezhik> http://brw.sparrowhub.io/report/brw-reporter/2587

[16:55] <melezhik> In artifacts one can find logs for failed modules in 2025.11, with successful tests info for 2025.10

[16:56] <melezhik> Another interesting finding is that http://brw.sparrowhub.io/file_view/brw-reporter/sxnqpbdylvgfukrahzec.33.riozqnxdyh.33.ifdqaswrex.33.vmglefxjnc.33.cfzowjybdv.33.ihyucqxzsn.33.qgptukzrnh.33.dlieqhpars.33.ibshkzadvj.33.hptszkrjuf.33.qkilvwcebj.33/Intl::Format::Number.log

[16:56] <melezhik> Intl::Format::Number

[16:57] <melezhik> And Doublephone - http://brw.sparrowhub.io/file_view/brw-reporter/sxnqpbdylvgfukrahzec.33.riozqnxdyh.33.ifdqaswrex.33.vmglefxjnc.33.cfzowjybdv.33.ihyucqxzsn.33.qgptukzrnh.33.dlieqhpars.33.ibshkzadvj.33.hptszkrjuf.33.qkilvwcebj.33/Doublephone.log

[17:38] <[Coke]> Kicking off a new build/run now

[17:40] <[Coke]>  - JSONArgsRecommended: JSON arguments recommended for ENTRYPOINT to prevent unintended behavior related to OS signals (line 39)

[18:03] *** melezhik_ joined
[18:07] *** melezhik_ left
[18:14] <melezhik> Ok. Looks like “ParaSeq” got stuck on agents , what’s wrong with module ? )

[18:19] <melezhik> I guess some of the agents , maybe both now testing ParaSeq and it takes awhile , other jobs are just redundant, 1999 of 2000 finished

[18:20] <melezhik> That’s this module that hold things now

[18:21] <melezhik> https://usercontent.irccloud-cdn.com/file/TZ161SUi/1764786061.JPG

[18:26] <[Coke]> nothing in the container really consuming cpu or memory at this point

[18:26] <[Coke]> ... oh. looks like all 4 running jobs are ParaSeq?

[18:27] <[Coke]> each run that's the only thing on the list.

[18:27] <[Coke]> "don't do that to an agent". :)

[18:32] <melezhik> So your agent run "zef install ParaSec”? Right ?

[18:32] <melezhik> Can you bash to agent and do ps aux | grep zef ?

[18:33] <melezhik> patrickb: what about your agent ?

[18:33] <melezhik> It runs 9 jobs now I wonder what they are ?

[18:34] <melezhik> So ParaSec is a “tough guy”?

[18:35] <[Coke]> ps aux | grep zef | wc -l == 25

[18:35] <melezhik> I need module name

[18:36] <melezhik> Just “ps aux | grep zef”

[18:36] <melezhik> Or you can look at any agent.job report via Ui at localhost

[18:38] <melezhik> 4 running jobs

[18:38] <melezhik> http://brw.sparrowhub.io/file_view/agent.2.ping/hauzpoqsmlrgfcjwnydb.136/r.data.txt

[18:40] <[Coke]> melezhik: it's 25 lines.

[18:40] <melezhik> Can you please paste them in gists?

[18:40] <[Coke]> grep 'zef ' shows nothing.

[18:41] <[Coke]> it's got 2 dozen lines of (e.g.) /tmp/whateverable/rakudo-moar/3f8de27bcb2ee987a2997de8fe314c460b7e53f9/bin/rakudo -I CompUnit::Repository::Staging#name(site)#/tmp/.zef.1764785189.17261/1764785196.17261.1551.587401418667 t/11-reduce.rakutest

[18:41] <melezhik> Ok, it could unit tests

[18:41] <melezhik> Ok we got something

[18:41] <melezhik> t/11-reduce.rakutest

[18:42] <melezhik> https://github.com/lizmat/ParaSeq/blob/main/t/11-reduce.rakutest

[18:43] <melezhik> My assumption that in 2025.10 ParaSec tests is extremely slow

[18:44] <melezhik> Can you please grep by “ps aux | grep “whateverable/rakudo-moar” ?

[18:45] <melezhik> Maybe we need to add it to skip list

[18:46] <melezhik> It’d be interesting to see if we get the same processes on patrickb agent right now

[18:48] <[Coke]> there are 4 copies of that.

[18:48] <[Coke]> corresponding to the 4 jobs I mentioed from the UI

[18:48] <melezhik> All 4 jobs ( pids ) have been running around 30 minutes

[18:48] <melezhik> http://brw.sparrowhub.io/file_view/agent.2.ping/nljmtewypqrdizgbhouk.136/r.data.txt

[18:48] <[Coke]> so the server should only have given me one copy, not 4.

[18:49] <melezhik> “9:48 PM <[Coke]> there are 4 copies of that.” This is expected as o10r resending ParaSec module test on all agents/threads

[18:50] <melezhik> Those are 4 different jobs running the same ParaSec module test and this is ok

[18:50] <[Coke]> ... you shouldn't send duplicate jobs to the *same* agent.

[18:50] <[Coke]> No, it's not.

[18:50] <[Coke]> I mean, it may be expected with the current setup, but if you have one job on the list, and I ask for 4 jobs.. don't give me 4 copies of the same job.

[18:51] <[Coke]> btw, you can get verbose test output by doing 'zef test --verbose .' - and separate that from the 'zef install', and then do a zef install with no tests.

[18:52] <[Coke]> Looks like ParaSeq tests are hanging (running on my laptop directly with verbose)

[18:52] <[Coke]> t/11-reduce.rakutest hangs after test 3/4

[18:52] <melezhik> It’s arguable cause o10r logic does not rely on the fact that job has been already send to an agent , as for example job might have been finished but due to network partition results did not come back , so on my now it’s not reasonable to rely on just the fact that job has been already send as we don’t know where it’s finished or not

[18:53] <[Coke]> https://github.com/lizmat/ParaSeq/issues/4

[18:53] <[Coke]> ... if there are 2 different agents, that makes sense.

[18:53] <[Coke]> having me run two copies of the identical job in the same docker container is not.

[18:53] <melezhik> Ok . Anyways it looks it’s still an issue with 2025.10

[18:53] <[Coke]> Given that paraseq issue, please add it to a skiplist.

[18:54] <melezhik> Can now please go to UI and terminate jobs ?

[18:54] <melezhik> Or through kill pid ?

[18:54] <melezhik> “9:53 PM <[Coke]> Given that paraseq issue, please add it to a skiplist.” Yep

[18:55] <[Coke]> how long does it take to terminate?

[18:55] <melezhik> Few seconds

[18:55] <[Coke]> clicked on each job, clicked terminate, no update when refreshing list of jobs.

[18:55] <melezhik> Usually needs few secs

[18:55] <[Coke]> Termination started: undefined

[18:55] <melezhik> It’s say operation

[18:56] <melezhik> Ok that means you need to login

[18:56] <melezhik> admin / admin

[18:56] <melezhik> Login button on the left top

[18:57] <[Coke]> all dead

[18:59] *** melezhik_ joined
[19:04] <melezhik_> http://brw.sparrowhub.io/report/brw-reporter/2735 - diff 2025.11 VS 2025.10

[19:05] <melezhik_> [Coke]: ++ thanks

[19:05] <[Coke]> lizmat: updated that ticket - we're testing 200K elements - it works with 16, fails with 17 (not K, just 17)

[19:06] <[Coke]> s/fails/hangs/

[19:07] <melezhik_> meanwhile - https://github.com/melezhik/brownie/commit/7fa17394919d500fb118a98d9d361aed67af2226

[19:08] <melezhik_> started new round for 2025.08

[19:08] <melezhik_> on 2 agents ( 4 threads and 19 threads ) so it's going to be fast 

[19:15] <lizmat> [Coke]: thanks!

[19:15] <[Coke]> left that last one running for like 10m, nothing

[19:16] <[Coke]> melezhik_: yup, my agent is busy again.

[19:16] <melezhik_> the last one ?

[19:16] <melezhik_> yeah, it's 2025.08 tests

[19:17] <melezhik_> for example your agent already send this - http://brw.sparrowhub.io/report/job.2.report/2991

[19:18] <melezhik_> ||| TESTS STAT: time: 16m | tests total: 2000 | finished tests: 259 | sent to queue: dist=20 / redist=0 | agents cnt: 2

[19:18] <[Coke]> I'll leave the laptop plugged in open.

[19:19] <[Coke]> "AND open"

[19:20] <patrickb> melezhik_: See my messages on 1st of December. ParaSeq and t/11-reduce.rakutest are known offenders.

[19:20] <melezhik_> ok ) we know this now ))

[19:21] <melezhik_> [Coke]: thanks for your help !

[19:23] <[Coke]> guessing we never skipped it on blin, but I'm sure it took up a slot for testing, slowing everything down.

[19:27] *** melezhik_ left
[19:27] *** melezhik_ joined
[19:32] *** melezhik_ left
[19:32] *** melezhik_ joined
[19:48] *** melezhik_ left
[19:49] *** melezhik_ joined
[19:56] *** librasteve_ left
[19:58] *** melezhik_ left
[19:59] *** melezhik_ joined
[20:05] *** melezhik_ left
[20:05] *** melezhik_ joined
[20:19] <Geth> ¦ rakudo: 0rir++ created pull request #6035: Test .from-posix versus .from-posix-nanos

[20:19] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/pull/6035

[20:42] *** melezhik_ left
[20:42] *** melezhik_ joined
[20:49] <disbot6> <melezhik.> http://brw.sparrowhub.io/file_view/brw-reporter/sxnqpbdylvgfukrahzec.33.riozqnxdyh.33.ifdqaswrex.33.vmglefxjnc.33.cfzowjybdv.33.ihyucqxzsn.33.qgptukzrnh.33.dlieqhpars.33.ibshkzadvj.33.hptszkrjuf.33.qkilvwcebj.33/Readline.log

[21:08] *** melezhik_ left
[21:09] *** melezhik_ joined
[21:15] *** melezhik_ left
[21:15] *** melezhik_ joined
[21:36] <melezhik_> 2025.08 finished in hours 2.15 minutes

[21:50] *** melezhik_ left
[22:09] <[Coke]> hour many hours?

[22:10] <[Coke]> How many hours?

[22:46] *** melezhik_ joined
[22:46] *** melezhik_ left
[23:43] *** rakkable left
[23:43] *** rakkable joined
[23:46] *** melezhik left
[23:47] *** melezhik_ joined
[23:49] *** melezhik_ left
