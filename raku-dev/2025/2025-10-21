[00:02] *** librasteve_ left
[00:19] * timo2 joins the fez

[00:20] <timo2> wow, what does `fez list` do that it takes so long to give me ">>= No results"? :D

[00:30] <Geth> ¦ rakudo/main: 95c56c2fa9 | (Will Coleda)++ | 2 files

[00:30] <Geth> ¦ rakudo/main: Split -errata akefile target into 6c/6d

[00:30] <Geth> ¦ rakudo/main: 

[00:30] <Geth> ¦ rakudo/main: Also reset the branch to master when done.

[00:30] <Geth> ¦ rakudo/main: 

[00:30] <Geth> ¦ rakudo/main: Fixes #5827

[00:30] <Geth> ¦ rakudo/main: Fixes #5829

[00:30] <Geth> ¦ rakudo/main: review: https://github.com/rakudo/rakudo/commit/95c56c2fa9

[00:31] <Geth> ¦ rakudo/main: bebd4a0f45 | (Will Coleda)++ (committed using GitHub Web editor) | 2 files

[00:31] <Geth> ¦ rakudo/main: Merge pull request #5992 from rakudo/coke/errata-split

[00:31] <Geth> ¦ rakudo/main: 

[00:31] <Geth> ¦ rakudo/main: Split -errata akefile target into 6c/6d

[00:31] <Geth> ¦ rakudo/main: review: https://github.com/rakudo/rakudo/commit/bebd4a0f45

[00:31] <Geth> ¦ rakudo/main: ffeb426021 | (Will Coleda)++ | tools/releasable/Akefile

[00:31] <Geth> ¦ rakudo/main: Only check flappers 2 times.

[00:31] <Geth> ¦ rakudo/main: 

[00:31] <Geth> ¦ rakudo/main: Good enough, Fixes #5828

[00:31] <Geth> ¦ rakudo/main: review: https://github.com/rakudo/rakudo/commit/ffeb426021

[00:31] <Geth> ¦ rakudo/main: e1b3f9277e | (Will Coleda)++ (committed using GitHub Web editor) | tools/releasable/Akefile

[00:31] <Geth> ¦ rakudo/main: Merge pull request #5993 from rakudo/coke/antiflap

[00:31] <Geth> ¦ rakudo/main: 

[00:31] <Geth> ¦ rakudo/main: Only check flappers 2 times.

[00:31] <Geth> ¦ rakudo/main: review: https://github.com/rakudo/rakudo/commit/e1b3f9277e

[00:48] <[Coke]> c: e1b3f9277e 3.put

[00:48] <committable6> [Coke], ¦e1b3f92: «3␤»

[07:20] *** [Tux] left
[07:25] *** [Tux] joined
[07:54] *** librasteve_ joined
[10:22] *** melezhik_ joined
[10:23] <melezhik_> I've created this simple project on sparky to test preselected modules zef install against fresh Rakudo version, here is an report example - https://sparky.sparrowhub.io/report/r100/25879 

[10:23] <melezhik_> failure is not relevant to Rakudo itself, please see artifacts tab and DSL::English::RecommenderWorkflows.install.log  

[10:24] <melezhik_> however just demonstrate UX

[10:25] <melezhik_> maybe somehow could be useful to test future Rakudo release, I know that blin does that, I am just not sure how, and maybe this flow bit different 

[10:32] *** melezhik_ left
[12:01] <[Coke]> .ask melezhik - is there a way to see the code driving the report?

[12:01] <tellable6> [Coke], I'll pass your message to melezhik_

[13:24] *** melezhik_ joined
[13:24] <melezhik_> .

[13:24] <tellable6> 2025-10-21T12:01:18Z #raku-dev <[Coke]> melezhik - is there a way to see the code driving the report?

[13:24] <melezhik_> [Coke]: sure - https://github.com/melezhik/ci.sparrowhub/tree/master/projects/r100

[13:25] <melezhik_> this is Sparky scenario 

[13:25] <melezhik_> https://github.com/melezhik/ci.sparrowhub/blob/master/projects/r100/config.raku has list of modules

[13:25] <melezhik_> and this is a scenario - https://github.com/melezhik/ci.sparrowhub/blob/master/projects/r100/sparrowfile

[13:26] <melezhik_> this thing should be even shipped as self-contained docker container, so you can run it from your laptop and get results in http://127.0.0.1:4000 browser

[13:27] <melezhik_> we can add rakudo installation into current scenario, so that any rakudo version could be tested 

[13:27] <melezhik_> let me know if you are interested , and btw the similar approach we take for rak-infra tasks 

[13:30] <melezhik_> parallelization is also possible

[13:35] <timo2> the magical feature in Blin is that it can refer back to a previous blin run of the same dist with an older rakudo version and differentiate between "has failed last time, is still failing" in other words "new rakudo changes probably didn't cause this failure" and "was working last time, is failing now" in other words "new rakudo changes probably caused this failure"

[13:42] <melezhik_> makes a sense ... I guess to build stat for this sparky job is not that hard , so we can have this insight 

[14:01] *** melezhik_ left
[14:01] *** melezhik_ joined
[14:06] *** melezhik_ left
[14:06] *** melezhik_ joined
[14:18] *** melezhik_ left
[14:18] *** melezhik_ joined
[14:25] *** shareable6 left
[14:27] *** shareable6 joined
[14:28] <[Coke]> "previous blin run"... technically not true.

[14:28] <[Coke]> It's all one blin run with two endpoints.

[14:29] <[Coke]> My goal for the next iteration is to split this into two steps: 1) Run a version of rakudo. 2) run a report comparing that version to the previous version.

[14:29] <[Coke]> Right now that's all one job

[14:31] <[Coke]> I had some notes I threw into a readme that I just invited you to, melezhik_ 

[14:33] <[Coke]> It may also be tricky to split it up, as right now the "one big job" lets us not worry about prereqs - they'll be tested on their own before we see them as a prereq.

[14:33] <[Coke]> timo2: You were also invited.

[14:34] <[Coke]> It's literally just a README - feel free to throw more .md files in there with notes or open issues or whatever.

[14:50] <melezhik_> [Coke]: ++

[14:56] <[Coke]> did some updates

[14:57] <melezhik_> I guess now blin now runs on some VM, right ?

[14:57] <[Coke]> added a note about that - I run it on an azure VM - jdv runs it in a docker container on his laptop

[14:58] <[Coke]> I probably pay like 30 bucks on the months I run blin between that and doing the release from that box.

[14:58] <[Coke]> (which is fine, but not something I would expect another contributor to have to do)

[14:59] <[Coke]> jdv's docker container is outdated at this point, and I think mine required installing whateverable directly from git instead of a release.

[14:59] <[Coke]> (but I set it up originally over a year ago, and didn't make an arm template for it)

[15:00] <melezhik_> ok, does blin test all raku.land modules or some preset ?

[15:09] *** melezhik_ left
[15:09] *** melezhik_ joined
[15:12] <ugexe> i think ideally it would be able to test all or any subset of all

[15:13] <ugexe> like it would be cool if people could queue of a blin run of their module or something

[15:13] <ugexe> that is a feature request though... currently i think it does all of them except for anything on its ignore list

[15:14] <ab5tract> especially if they can do that queue locally.

[15:26] <melezhik_> distributed tests will benefit IF the whole dependency tree is well balanced which I am not is the case for the eco system ...

[15:52] *** melezhik_ left
[15:53] *** melezhik_ joined
[15:53] *** melezhik_ left
[15:58] <[Coke]> blin tests everything zef can install with a small skiplist. (and some known failures because of JSON::Class)

[15:58] <[Coke]> ... so basically raku.land, yes

[16:01] <[Coke]> We use zef (don't think anyone has tried to use pakku for this in ages, and I won't bother building any support for it into blin2), ‘Zef::Repository::Ecosystems’;

[16:02] <[Coke]> so it gets the source list for all three, and tests (only the latest, looking at name & version). Some cleanup to be done there so it considers auth as well so we can avoid the JSON::Class issue.

[17:59] <ab5tract> The input list of modules feels like a nice place to accept user input.

[18:00] <lizmat> m: dd 44 minmax 666

[18:00] <camelia> rakudo-moar e1b3f9277: OUTPUT: «44..666␤»

[18:00] <lizmat> m: dd 44 ^minmax 666

[18:00] <camelia> rakudo-moar e1b3f9277: OUTPUT: «one(44, 666..666)␤»

[18:01] <lizmat> :-)

[18:02] <ab5tract> [Coke]: does blin use a database for storing run results?

[18:15] *** melezhik joined
[18:15] <melezhik> .

[18:16] <melezhik> I have been reading the blin code, try to understand what’s going on, it’s heard tbh , structure abit complex for me

[18:17] <melezhik> If we decide to refactor blin so it run only against single Rakudo version , will it be difficult ?

[18:19] * lizmat clickbaits https://raku.land/zef:lizmat/Ecosystem::Cache

[18:19] <melezhik> I still think maybe we need to go by CPAN testers way and allow users to run tests against release candidates and push reports back to our system ? And the handle all the logic there - like comprising results with previous versions , etc …

[18:21] <melezhik> lizmat: what about Ecosystem::Cache;?  I wonder how this module could be helpful ?

[18:21] <melezhik> To  build dependencies tree ?

[18:21] <lizmat> no, to run blin off of

[18:22] <lizmat> no need to fetch anything anymore inside blin: just run the update-ecosystem-cache script

[18:23] <jdv> since when is it "my" docker container?

[18:23] <jdv> i didn't set it up.  i just try to maintain it because it how i run blin:)

[18:23] <jdv> someday it'll work again!

[18:24] <melezhik> ))

[18:26] <ab5tract> melezhik: I have a branch that is probably out of date that I patched to do a single commit in rakudo.git

[18:29] <ab5tract> https://github.com/Raku/Blin/commit/d9bc2d4778ff4bb2f042cb761e2c503627458a4b

[19:18] *** Geth left
[19:18] *** Geth joined
[19:21] <ugexe> the problem with the cpan testers model is it isn't good at maintaining a similar environment to make comparisons with

[19:22] <ugexe> we actually did used to have that implemented though. testers.p6c.org or some such that zef used to report test results to

[19:23] <ugexe> https://github.com/ugexe/zef/blob/040a9ac7d226f71dbba739b0017751e62ecb8963/lib/Zef/Service/P6CReporter.pm6#L62

[19:23] <ugexe> (that code has long since been deleted though)

[20:45] *** melezhik left
[20:54] <[Coke]> ab5tract: no, current blin just dumps markdown output

[20:54] <[Coke]> (release candidates) we are doing that, we're just not tagging/releasing the candidate.

[20:55] <[Coke]> (because we release every month and that would at least double the already annoying amount of time to cut a release)

[20:55] <[Coke]> jdv: I meant your laptop more than your container.

