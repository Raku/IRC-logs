[08:31] <Geth> ¦ rakudo/main: 0a90592a5e | ab5tract++ | src/Perl6/Metamodel/ParametricRoleHOW.nqp

[08:31] <Geth> ¦ rakudo/main: Add an istype check on the role group

[08:31] <Geth> ¦ rakudo/main: 

[08:31] <Geth> ¦ rakudo/main: This addresses R#5317, which had the following test case:

[08:31] <Geth> ¦ rakudo/main: 

[08:31] <Geth> ¦ rakudo/main:     role R {}

[08:31] <Geth> ¦ rakudo/main:     role S does R {}

[08:31] <Geth> ¦ rakudo/main:     my R $v = role V does S {}

[08:31] <linkable6> R#5317 [open]: https://github.com/rakudo/rakudo/issues/5317 [roles][Will be addressed in RakuAST] role-constrained variable does not accept derived role defined inline

[08:31] <Geth> ¦ rakudo/main: <…commit message has 21 more lines…>

[08:31] <Geth> ¦ rakudo/main: review: https://github.com/rakudo/rakudo/commit/0a90592a5e

[08:32] <Geth> ¦ rakudo/main: bb4e88a28b | ab5tract++ | 2 files

[08:32] <Geth> ¦ rakudo/main: RakuAST/v6.e - Fix subset type defaults in containers

[08:32] <Geth> ¦ rakudo/main: 

[08:32] <Geth> ¦ rakudo/main: The proper place for maybe-nominalization (which in turn also

[08:32] <Geth> ¦ rakudo/main: involves maybe-definite-ization, for versions < v6.e.

[08:32] <Geth> ¦ rakudo/main: 

[08:32] <Geth> ¦ rakudo/main: Only RakuAST needs to be fixed here, thankfully, as I have had

[08:32] <Geth> ¦ rakudo/main: way too high a does of metamodel internals for the moment.

[08:32] <Geth> ¦ rakudo/main: <…commit message has 14 more lines…>

[08:32] <Geth> ¦ rakudo/main: review: https://github.com/rakudo/rakudo/commit/bb4e88a28b

[08:32] <Geth> ¦ rakudo/main: 3e9f252723 | ab5tract++ | src/Raku/ast/type.rakumod

[08:32] <Geth> ¦ rakudo/main: Why were coercions excluded?

[08:32] <Geth> ¦ rakudo/main: review: https://github.com/rakudo/rakudo/commit/3e9f252723

[09:51] *** melezhik joined
[10:32] <[Tux]> Rakudo v2025.11-29-g3e9f25272 (v6.d) on MoarVM 2025.11-3-g17b39b0c9

[10:32] <[Tux]> csv-test-xs         0.014 -  0.014

[10:32] <[Tux]> csv-test-xs-20      0.114 -  0.115

[10:32] <[Tux]> csv-ip5xs           0.268 -  0.269

[10:32] <[Tux]> test-t --race       0.285 -  0.297

[10:32] <[Tux]> test-t              0.457 -  0.462

[10:32] <[Tux]> csv-ip5xs-20        1.099 -  1.121

[10:32] <[Tux]> csv-parser          1.126 -  1.144

[10:32] <[Tux]> test-t-20 --race    1.409 -  1.423

[10:32] <[Tux]> test                1.833 -  1.848

[10:32] <[Tux]> test-t-20           5.891 -  5.896

[10:32] <[Tux]> https://tux.nl/Talks/CSV6/speed4-20.html / https://tux.nl/Talks/CSV6/speed4.html https://tux.nl/Talks/CSV6/speed.log

[11:45] *** ds7832 joined
[12:35] <ab5tract> what on earth is the purpose for allowing paremeterization for Mix?

[12:35] <ab5tract> m: my %x is Mix[Int]  # why??

[12:35] <camelia> rakudo-moar 3e9f25272: ( no output )

[12:36] <ab5tract> this one feels like implementor torture without a purpose

[12:44] <lizmat> m: my %x is Mix[Date()] = "2025-11-23" => 42; dd %x   # that makes sense ?

[12:44] <camelia> rakudo-moar 3e9f25272: OUTPUT: «Real  = Mix[Date(Any)].new-from-pairs("2025-11-23"=>42)␤»

[12:45] <lizmat> perhaps better:

[12:45] <lizmat> m: my %x is Mix[Date] = "2025-11-23".Date => 42; dd %x.keys

[12:45] <camelia> rakudo-moar 3e9f25272: OUTPUT: «(Date.new(2025,11,23),).Seq␤»

[12:56] <lizmat> in any case, I think that shares the implementation with Bag

[12:58] <lizmat> m: my %x{Int()} = "42" => 666; dd %x.keys   # this coerces

[12:58] <camelia> rakudo-moar 3e9f25272: OUTPUT: «(42,).Seq␤»

[12:58] <lizmat> m: my %x is Mix[Int()] = "42" => 666; dd %x.keys   # this does not, which feels like a bug

[12:58] <camelia> rakudo-moar 3e9f25272: OUTPUT: «("42",).Seq␤»

[12:59] <lizmat> m: my %x is Bag[Int()] = "42" => 666; dd %x.keys    # shared with Bag

[12:59] <camelia> rakudo-moar 3e9f25272: OUTPUT: «("42",).Seq␤»

[12:59] <lizmat> m: my %x is Set[Int()] = "42" => 666; dd %x.keys   # and Set

[12:59] <camelia> rakudo-moar 3e9f25272: OUTPUT: «("42",).Seq␤»

[12:59] * lizmat makes an issue

[13:02] <lizmat> https://github.com/rakudo/rakudo/issues/6031

[13:10] <ab5tract> oh, so it *is* about the key type after all

[13:10] <ab5tract> I maybe have that working

[13:10] <ab5tract> I thought it was about the value, which would make much much less sense

[13:16] <ab5tract> been seeing some unfortunately formatted `dd` ourtput. looks like it needs a bit of corner case magic

[13:16] <ab5tract> Int(Any)  = (my Int(Any) %{Mu} = 1 => 1, 2 => 1, 3 => 1)

[13:27] <ab5tract> some behaviors of quanthashes seem to be only available for my %h is Mix[...], that is, there is no way to assign a parameterized mix into a scalar

[13:27] <ab5tract> m: my Mix[Int()] $x = <1 2 3> X=> 2.2 ==> dd()

[13:27] <camelia> rakudo-moar 3e9f25272: OUTPUT: «Type check failed in assignment to $x; expected Mix[Int(Any)] but got List. You have to pass an explicitly␤typed hash, not one that just might happen to contain elements of the␤correct type.␤  in block <unit> at <tmp> line 1␤␤»

[13:27] <ab5tract> m: my Mix[Int()] $x: = <1 2 3> X=> 2.2 ==> dd()

[13:27] <camelia> rakudo-moar 3e9f25272: OUTPUT: «===SORRY!=== Error while compiling <tmp>␤Confused␤at <tmp>:1␤------> my Mix[Int()] $x:<HERE> = <1 2 3> X=> 2.2 ==> dd()␤    expecting any of:␤        colon pair␤»

[13:27] <ab5tract> m: my Mix[Int()] $x : = <1 2 3> X=> 2.2 ==> dd()

[13:27] <camelia> rakudo-moar 3e9f25272: OUTPUT: «===SORRY!=== Error while compiling <tmp>␤Confused␤at <tmp>:1␤------> my Mix[Int()] $x :<HERE> = <1 2 3> X=> 2.2 ==> dd()␤    expecting any of:␤        colon pair␤»

[13:28] <ab5tract> m: my %x i Mix[Int()]   = <1 2 3> X=> 2.2 ==> dd()

[13:28] <camelia> rakudo-moar 3e9f25272: OUTPUT: «===SORRY!=== Error while compiling <tmp>␤Two terms in a row␤at <tmp>:1␤------> my %x<HERE> i Mix[Int()]   = <1 2 3> X=> 2.2 ==> dd␤    expecting any of:␤        infix␤        infix stopper␤        statement end␤        statement modifi…»

[13:28] <ab5tract> m: my %x is Mix[Int()]   = <1 2 3> X=> 2.2 ==> dd()

[13:28] <camelia> rakudo-moar 3e9f25272: OUTPUT: «Real  = Mix[Int(Any)].new-from-pairs(IntStr.new(3, "3")=>2.2,IntStr.new(2, "2")=>2.2,IntStr.new(1, "1")=>2.2)␤»

[13:28] <ab5tract> :(  (frowny-face at Int() producing IntStr)

[13:34] *** ds7832 left
[13:49] *** ds7832 joined
[14:25] <ab5tract> lizmat: does `t/spec/S02-types/bag.t`pass for you locally with RAKUDO_RAKUAST=1?

[14:28] <ab5tract> nevermind, I think I've got it

[14:32] <ab5tract> m: Q| my %h := bag <a b>; dd %h.keyof |.AST.EVAL; my %x := bag <a b>; dd %x.keyof 

[14:32] <camelia> rakudo-moar 3e9f25272: OUTPUT: «Mu␤Mu␤»

[14:32] <ab5tract> m: Q| my $h := bag <a b>; dd $h.keyof |.AST.EVAL; my $x := bag <a b>; dd $x.keyof 

[14:32] <camelia> rakudo-moar 3e9f25272: OUTPUT: «Mu␤Mu␤»

[14:32] *** ds7832 left
[14:33] *** ds7832 joined
[14:34] <ab5tract> I think there are tests that believe this should be Int? 

[14:34] <ab5tract> I guess I must be reading the tests wrong

[14:35] <ab5tract> a bunch of TODOs are passing :D

[14:35] <ab5tract> but there's still something wrong with the quanthash tests

[14:40] *** melezhik left
[14:42] <ab5tract> https://gist.github.com/ab5tract/6a1ea4e8c248876bdab321e65832b678

[14:43] <ab5tract> m: Q| my $h = bag <a b>; dd $h.keyof |.AST.EVAL; my $x = bag <a b>; dd $x.keyof 

[14:43] <camelia> rakudo-moar 3e9f25272: OUTPUT: «Mu␤Mu␤»

[14:45] <ab5tract> m: Q| my %h is Bag[Int()]  = <1 2>; dd %h.keyof |.AST.EVAL; my %x  is Bag[Int()] = <1 2>; dd %x.keyof 

[14:45] <camelia> rakudo-moar 3e9f25272: OUTPUT: «Int(Any)␤Int(Any)␤»

[14:45] <ab5tract> okay, so it is something still wrong with my patch

[14:48] *** melezhik joined
[15:37] *** ds7832 left
[16:03] <ab5tract> ooo, checkout all these passing todos! https://gist.github.com/ab5tract/a65018c9ffe3ce0d91b1cf0b0f4d5572

[16:03] *** melezhik_ joined
[16:03] <melezhik_> .

[16:04] <melezhik_> [Coke] ab5tract would you guys like to run brownie round ?

[16:18] *** melezhik_ left
[16:24] <Geth> ¦ rakudo/r5970-generic-finale: 507bbf5b5c | ab5tract++ | .gitignore

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: Ignore .idea/ in git

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: review: https://github.com/rakudo/rakudo/commit/507bbf5b5c

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: eaf6419c89 | ab5tract++ | src/Raku/ast/variable-declaration.rakumod

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: Fix parameterizations of types in `is` trait

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: 

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: Considering

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: 

[16:24] <Geth> ¦ rakudo/r5970-generic-finale:     role R[::T] { has @.a is Array[T] }

[16:24] <Geth> ¦ rakudo/r5970-generic-finale:     my $r = R[Int].new: :a(1,2,3)

[16:24] <Geth> ¦ rakudo/r5970-generic-finale:     # Illegal binding exception, "expected `T` and got `Int`"

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: <…commit message has 17 more lines…>

[16:24] <Geth> ¦ rakudo/r5970-generic-finale: review: https://github.com/rakudo/rakudo/commit/eaf6419c89

[16:26] <Geth> ¦ rakudo: ab5tract++ created pull request #6032:  Fix parameterizations of types in `is` trait

[16:26] <Geth> ¦ rakudo: review: https://github.com/rakudo/rakudo/pull/6032

[16:38] *** melezhik_ joined
[16:38] <melezhik_> .

[16:41] <ab5tract> hey melezhik_ I can do a run

[16:42] <melezhik_> cool

[16:42] <melezhik_> lets do this

[16:42] <Geth> ¦ rakudo/r5970-generic-finale: d77b3e1bcb | ab5tract++ | src/Raku/ast/variable-declaration.rakumod

[16:42] <Geth> ¦ rakudo/r5970-generic-finale: [RakuAST] Fix parameterizations of types in `is` trait

[16:42] <Geth> ¦ rakudo/r5970-generic-finale: 

[16:42] <Geth> ¦ rakudo/r5970-generic-finale: Considering

[16:42] <Geth> ¦ rakudo/r5970-generic-finale: 

[16:42] <Geth> ¦ rakudo/r5970-generic-finale:     role R[::T] { has @.a is Array[T] }

[16:42] <Geth> ¦ rakudo/r5970-generic-finale:     my $r = R[Int].new: :a(1,2,3)

[16:42] <Geth> ¦ rakudo/r5970-generic-finale:     # Illegal binding exception, "expected `T` and got `Int`"

[16:42] <Geth> ¦ rakudo/r5970-generic-finale: <…commit message has 17 more lines…>

[16:42] <Geth> ¦ rakudo/r5970-generic-finale: review: https://github.com/rakudo/rakudo/commit/d77b3e1bcb

[16:43] <melezhik_> 1000 modules is it ok?

[16:48] <ab5tract> sure :)

[16:54] *** melezhik_ left
[16:54] *** melezhik_ joined
[17:10] *** melezhik left
[17:14] *** ds7832 joined
[17:14] <melezhik_> I run 010r for 1000 modules, rakudo 2025.11, tap your agent in, anytime ...

[17:21] *** melezhik_ left
[17:22] *** melezhik_ joined
[17:45] *** melezhik_ left
[17:45] *** melezhik_ joined
[18:01] *** melezhik_ left
[18:01] *** melezhik_ joined
[18:07] *** melezhik_ left
[18:07] *** melezhik_ joined
[18:24] *** melezhik_ left
[18:24] *** melezhik_ joined
[18:25] *** melezhik_ left
[20:34] *** ds7832 left
[21:47] *** ds7832 joined
[22:47] <ab5tract> just started the agent

[23:47] <[Coke]> The way it's setup right now, does the agent need to be running on a particular OS?

[23:47] <[Coke]> can you repoint me at the signup instructions?

[23:48] * [Coke] finds https://github.com/melezhik/brownie/blob/main/orchestrator/README.md

[23:50] <[Coke]> which gets me to the agent page

[23:59] *** ds7832 left
[23:59] <[Coke]> .tell melezhik - agent instructions say to use 127.0.0.1 in the browser, but here that fails and I need literal 'localhost'

[23:59] <tellable6> [Coke], I'll pass your message to melezhik_

