[00:17] *** librasteve_ left
[06:17] *** librasteve_ joined
[06:30] <disbot> <simon_sibl> Hi, for Cro is it possible to create a “default” route for any accepted methods ?

[07:30] <lizmat> simon_sibl ask yourself: what would the signature of a sub be to be accepting *any* arguments?

[09:41] <disbot> <simon_sibl> I’ll try “any” but it’s not in the doc I think xD

[09:43] <lizmat> hehe

[09:43] <lizmat> m: sub a(|) { dd };  a();  a(42);   a("foo")

[09:44] <lizmat> <camelia> rakudo-moar f56482941: OUTPUT: «sub a(|)␤sub a(|)␤sub a(|)␤»

[09:45] <lizmat> the pipe without any characters, is an anonymous capture

[09:45] <lizmat> https://docs.raku.org/language/signatures#Capture_parameters

[10:02] *** librasteve_ left
[10:50] <disbot> <simon_sibl> yeah the any doesnt seem to work

[10:51] <lizmat> Any can be useful to accept a single positional argument

[10:51] <disbot> <simon_sibl> any -> *@path { content 'text/html', "Its working but probably not the page you want";} I tried this but just got a 404

[10:51] <disbot> <simon_sibl> I meant for the http methods

[10:51] <disbot> <simon_sibl> instead of post, get ..., have a route for all methods with same path

[10:52] <lizmat> perhaps    * ->  *@path

[10:52] <lizmat> where the left   *   would be a Whatever

[10:52] <disbot> <simon_sibl> compile error for that...

[10:53] <lizmat> maybe librasteve or patrickb could be of help:   it's been a while since I worked with Cro  :-)

[15:45] *** librasteve_ joined
[15:49] <disbot> <librasteve> aiui, get -> 'greet', $name { content 'text/plain', "Hello, $name!"; } is a raku subroutine call get() which accepts a Callable argument. In this case, the callable '-> greet', $name { content 'text/plain', "Hello, $name!"; } specifies a block with a signature attached.

[15:49] <disbot> <librasteve> TLDR;  "no"

[18:05] *** librasteve_ left
[18:37] <SmokeMachine> simon_sobl: I haven’t tried that, but have you tested something like `http <GET POST PUT DELETE>.any, -> {…}`? I’m not sure if it would work… but I think `http` function should also accept a list and/or a whateverstar…

[18:38] <SmokeMachine> https://github.com/croservices/cro-http/blob/35a6c7df104269815a100bc5bfbe385256a6c24d/lib/Cro/HTTP/Router.rakumod#L1287

[18:43] *** librasteve_ joined
[19:09] <SmokeMachine> is it expected to cro's xt tests fail with certificate expired error? What am I doing wrong?

[19:17] <Geth> ¦ cro-http: FCO++ created pull request #205: feat: Make http function accept a list of http methods

[19:17] <Geth> ¦ cro-http: review: https://github.com/croservices/cro-http/pull/205

[19:18] <SmokeMachine> does something like this ☝️ make sense?

[19:19] <SmokeMachine> I had problems testing because of expirated certificates... but besides that, it seems the tests I added are passing...

[20:05] <disbot> <librasteve> SmokeMachine: you are a genius … I’ll try to review/merge the PR properly tomorrow … please can you add a comment with the test error / what certs are missing?

[20:20] *** japhb left
[20:24] *** japhb joined
[20:40] *** jgaz joined
