[19:17] <[Coke]> have rak installed, in powershell, I run "rak should errs.out" - it complains that the path specification did not select any files, so there was nothing to match - file exists, lines with "should" exist.

[19:17] <[Coke]> I assume I am doing something silly here

[19:19] <[Coke]> I have also tried "rak --pattern=should errs.out" - also powershell tab complete really wants the filename to be .\errs.out, but I've manually typed it as well, so the literal errs.out isn't working

[19:19] <[Coke]> (powershell on win11)

[19:24] <lizmat> wish I could help with that....  i stopped using Windows 22+ years ago

[19:24] <[Coke]> this works: 'type errs.out | rak should

[19:24] <lizmat> well, yeah, that's reading from STDIN

[19:24] <[Coke]> ok - but that sounds like it should work, right? I know in the past I've expected the command line to work a certain way incorrectly

[19:25] <[Coke]> if it's supposed to work, maybe I can golf a bug about that not finding the file name

[19:25] <lizmat> yeah, if the file "errs.out" exists in the current dir, that should work ?

[19:25] <lizmat> yes please

[19:25] <lizmat> I wonder whether another extension would work

[19:26] <lizmat> other then .out

[19:26] <[Coke]> oh, maybe that's some weird windows shit.

[19:27] <[Coke]> yes, 'rak a README.md' works. :P

[19:28] <lizmat> then probablu errs.in and errs.err and errs.nul will not work either

[19:29] <[Coke]> ah, no, 'rak should <x>' fails for errs.out, errs.txt, stuff.md, stuff.out filenames. weird.

[19:29] * [Coke] wonders if it's thinking it's a binary file.

[19:29] <[Coke]> (regardless of content)

[19:30] <[Coke]> ah, well, I'll see if I can golf it.

[19:45] <[Coke]> where is "nr-sources" declared?

[19:46] <[Coke]> oh, probably in rak

[19:50] <lizmat> and with --!is-text ?

[19:50] <lizmat> and with --/is-text ?

[19:56] <[Coke]> ugh. tried to install a modified version of app::rak with a single change (prints "MODIFIED VERSION" in sub main) - I install it fine, but then when I run rak it complains "failed to rename file: operation not permitted"

[19:57] <[Coke]> --!is-text - Unexpected optin

[19:57] <[Coke]> --/is-text "search for binary data NYI

[19:59] <[Coke]> --is-text : "path specification did not..."

[20:04] <[Coke]> that's it - path-utils, path-is-text says 0 on this file.

[20:04] <[Coke]> it's TAP output

[20:05] <lizmat> and with:

[20:06] <lizmat> rak errs.md --extensions=md

[20:06] <lizmat> rak should errs.md --extensions=md

[20:06] <lizmat> I think the --extensions will override the default --is-text

[20:07] <[Coke]> no output, no error

[20:07] <lizmat> hmmm...

[20:07] <lizmat> I guess I will need to special case an exact match with a file,  could you make an issue for it ?

[20:08] <[Coke]> I see path-utils has a bunch of nqp in path-is-text. I can try to figure out why it's getting this file wrong

[20:08] <lizmat> yeah, that's what rak uses

[20:09] <[Coke]> that's a project for when I have more free time. type x | rak should is good enough for right now

[20:13] <lizmat> ok ... thanks for all the feedback so far, sorry I don't have an immediate solution for you

[20:17] <[Coke]> no worries

[21:05] <[Coke]> AHAHAHAHA, ok, no it's 100% a binary file.

[21:06] <[Coke]> I checked it into a repo, pulled it over to my mac, path-utils failed.

[21:06] <[Coke]> then I did a 'vi -b errs.out', and See things like:

[21:06] <[Coke]> ^@ ^@ ^@ ^@ ^@o^@k^@ ^@3^@2^@5^@ ^@-^@

[21:07] <[Coke]> I created this file with "raku t/some-test.rakutest 2>&1 | % to-string | tee-object errs.out" - it *looks* like text, but has so much crap buried in it.

[21:19] <[Coke]> can possibly change the default (at different levels) to generate utf8 instead of utf16 (which is the problem) but even then I'll get a BOM because windows.

[21:19] <[Coke]> (so, it *IS* text, it's just not utf8, btw.)

[21:27] <[Coke]> easiest fix - install a newer powershell

[21:32] <[Coke]> next level fix: make path-utils work on non-utf8 encoding files?

[23:05] <lizmat> rak --encoding=utf16   ??

[23:05] <lizmat> [Coke] ^^

[23:05] <lizmat> sleep&

