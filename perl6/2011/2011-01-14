[00:03] *** cafesofie joined
[00:05] *** hercynium joined
[00:12] *** mberends joined
[00:12] *** ggoebel left
[00:12] <allbery_b> I disagree, actually.  RPG makes plenty of sense if you treat it as a batch spreadsheet

[00:12] *** KatrinaTheLamia joined
[00:12] <allbery_b> instead of as a standard procedural program

[00:17] *** ggoebel joined
[00:23] *** risou joined
[00:26] *** dayangkun joined
[00:28] *** PZt joined
[00:29] *** shi left
[00:30] *** risou left
[00:31] *** risou joined
[00:31] *** Su-Shee left
[00:32] *** gbacon left
[00:56] <colomon> ack, my p4 tests take far too long now....

[01:05] *** ashleydev joined
[01:13] *** cognominal left
[01:13] *** cognominal joined
[01:17] *** risou left
[01:25] *** pureeville joined
[01:26] *** ashleydev left
[01:27] *** gimix joined
[01:28] *** QinGW joined
[01:29] *** hercynium left
[01:44] *** pureeville left
[01:45] *** ashleydev joined
[01:47] *** envi joined
[02:00] *** cafesofie left
[02:00] *** colomon left
[02:00] *** noganex_ joined
[02:01] <sorear> the issue definitely seems to be related to $*LEFTSIGIL and list assignment

[02:01] <sorear> I've golfed it down to 8 lines from 12k

[02:03] *** cafesofie joined
[02:03] *** noganex left
[02:04] *** aindilis joined
[02:05] * diakopter wonders what could go from 12,000 to 8 lines

[02:05] <diakopter> oh, a broken test case

[02:05] <diakopter> heh

[02:14] <sorear> I think I see what's going on here, hehe

[02:15] *** drbean left
[02:16] *** vmspb left
[02:20] <dalek> niecza: 4e9a91d | sorear++ | / (5 files):

[02:20] <dalek> niecza: [v6] Fix my @foo = 1; my $bar = @foo[0] = True misparse

[02:20] <dalek> niecza: review: https://github.com/sorear/niecza/commit/4e9a91d63a

[02:25] *** jaldhar joined
[02:29] *** colomon joined
[02:29] *** rgrau left
[02:34] *** drbean joined
[02:50] *** cafesofie left
[03:11] *** cognominal left
[03:11] <sorear> What build framework would people most like to see Niecza v2 use?

[03:13] *** cdarroch left
[03:16] *** xinming_ joined
[03:16] *** agentzh joined
[03:18] *** xinming left
[03:20] *** dukeleto left
[03:20] *** skangas left
[03:20] *** dukeleto joined
[03:25] *** skangas joined
[03:49] <sorear> ((niecza-compiled-niecza)-compiled-niecza)-compiled-niecza passes all tests

[03:49] <colomon> \o/

[03:49] <colomon> sorear++

[03:54] <sorear> now all I need is a build system... and so the question

[03:55] <sorear> given all the issues people have been having with odd versions of xbuild, I'm thinking of switching back to make

[03:56] <colomon> And I obviously wasn't able to get the toolchain working for me at all, so I'm no help with the question.  I'll probably take another stab at it over the weekend, for what it's worth....

[03:59] *** aindilis` joined
[03:59] *** aindilis left
[03:59] *** aindilis` left
[04:00] <sorear> colomon: v2 will have binary distributions.

[04:00] <colomon> sweet!

[04:01] *** aindilis joined
[04:03] *** ashleydev left
[04:04] <colomon> rakudo: my $a = 0 => 21; say $a.perl; say $a > 21;

[04:04] <p6eval> rakudo a350ff: OUTPUT¬´0 => 21‚ê§maximum recursion depth exceeded‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Num' at line 7361:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in

[04:04] <p6eval> ..'Cool‚Ä¶

[04:05] <colomon> interesting bug.  most remember to pick it back up in the morning.

[04:05] *** arlinius left
[04:13] <snarkyboojum> rakudo: my $a = 0 => 21; +$a

[04:13] <p6eval> rakudo a350ff: OUTPUT¬´maximum recursion depth exceeded‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Num' at line 7361:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in

[04:13] <p6eval> ..'Cool::Num' a‚Ä¶

[04:14] <TimToady> sorear++

[04:21] <snarkyboojum> rakudo: (1=>2).Int

[04:21] <p6eval> rakudo a350ff: OUTPUT¬´maximum recursion depth exceeded‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Num' at line 7361:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in

[04:21] <p6eval> ..'Cool::Num' a‚Ä¶

[04:22] <snarkyboojum> doing .Real, or .Rat or .Int etc on a Pair like that seems to eventually cause my perl6 executable to core dump

[04:26] *** GinoMan joined
[04:27] *** Su-Shee joined
[04:27] *** hercynium joined
[04:27] *** hercynium left
[04:27] *** hercynium joined
[04:28] *** satyavvd joined
[04:28] *** hercynium left
[04:36] *** helv12 left
[04:37] * sorear gives up on doing a portable Makefile for this

[04:45] <jasonmay> sorear: just wondering, have you been to a yapc?

[04:47] <jasonmay> if not (and even if so), you should definitely come to this year's

[04:47] <jasonmay> couple of the nethack guys go

[04:49] *** QinGW1 joined
[04:50] *** QinGW1 left
[04:51] *** QinGW left
[04:56] *** ashleydev joined
[04:57] *** QinGW joined
[05:01] *** cafesofie joined
[05:09] *** molaf joined
[05:13] <moritz_> sorear: ping

[05:13] <moritz_> aka "good morning" :-)

[05:17] <sorear> jasonmay: no I haven't.

[05:17] <sorear> moritz_: hi, pong.

[05:18] *** ashleydev left
[05:18] <moritz_> sorear: I'd like to make niecza's spectest architecture similar to rakudo's

[05:19] <moritz_> sorear: ie a file which just holds the names of spectest files known to pass

[05:19] <moritz_> currently the shell script has the disadvantage of hardcoding paths, and if you forget a \ at the end of the line the rest of the test files aren't run

[05:20] <moritz_> sorear: what do you think of that?

[05:24] <sorear> moritz_: sounds good

[05:27] *** GinoMan left
[05:38] *** cafesofie left
[05:44] *** cafesofie joined
[06:07] *** dukeleto left
[06:07] *** dukeleto joined
[06:28] *** icwiener joined
[06:29] <dalek> niecza: 56c80b0 | sorear++ | t/ (2 files):

[06:29] <dalek> niecza: Merge remote branch 'moritz/spectests'

[06:29] <dalek> niecza: review: https://github.com/sorear/niecza/commit/56c80b0c08

[06:32] *** Bzek_ joined
[06:33] *** JodaZ joined
[06:34] *** Bzek left
[06:47] *** cjk101010 joined
[06:52] *** am0c left
[06:55] *** cosimo joined
[06:56] *** _twitch joined
[06:57] *** kaare_ joined
[06:59] *** coldhead left
[07:01] *** kaare_ left
[07:01] *** kaare_ joined
[07:12] *** typepeter joined
[07:25] *** cjk101010 left
[07:26] *** cjk101010 joined
[07:30] <cotto> seen jnthn

[07:30] <aloha> jnthn was last seen in #parrot 7 hours ago saying "s/PBCs/PMCs/?".

[07:33] *** mberends left
[07:48] *** dual left
[07:48] *** dayangkun left
[07:51] *** tzhs joined
[07:54] *** icwiener left
[07:55] *** dayangkun joined
[08:12] *** _twitch left
[08:16] *** masak joined
[08:16] <masak> morning, #perl6

[08:17] <sorear> hello masak

[08:19] *** dayangkun left
[08:19] *** pmurias joined
[08:20] <pmurias> sorear: re build system, if you want to replace xbuild, Perl (6) seems the best choice

[08:21] *** justatheory left
[08:22] <sorear> There is a chicken and an egg there. :)

[08:22] <pmurias> generally there's a lot of those in a bootstraped compiler ;)

[08:23] <pmurias> the user will have to have a bunch of .NET bytecode to compile niecza for the first time

[08:24] <sorear> What if the user wants to build niecza on a system with only clisp?

[08:24] <pmurias> unless you want to develop the perl 5 or write niecza in a subset supported by v5

[08:24] <pmurias> sorear: compile the build system to clisp ;)

[08:26] <pmurias> sorear: he will have to have the version of niecza bootstrapped to common lisp

[08:26] <pmurias> we will have to drop supporting compilation by p5 niecza at some point

[08:26] <masak> last day today for submitting contest solutions.

[08:26] *** typepeter left
[08:28] *** snarkyboojum left
[08:28] *** snarkyboojum joined
[08:28] *** snarkyboojum left
[08:28] *** snarkyboojum joined
[08:29] * sorear wonders how to handle getting the initial compiler

[08:31] <sorear> solution 1: check 6MB of data into git which will change occasionally and bloat the history a lot

[08:32] <masak> that's the nqp-rx route.

[08:32] <masak> seems to work quite well.

[08:32] <sorear> solution 2: require the user to obtain a build from (downloads page, last month)

[08:32] <sorear> this is the mono/ghc/gcc route.

[08:34] <pmurias> and have a file in the repo specifing the version of the initial compiler to download

[08:34] <masak> seems to work quite well, too :)

[08:35] <pmurias> sorear: i think solution 2 is better

[08:35] <pmurias> sorear: if we automate that make could even to the grabbing of the initial compiler automatically

[08:44] *** kensanata joined
[08:44] <sorear> here's another crazy idea: use a second git repo to hold the history of niecza binary releases, and then use a submodule to track it from the source repository

[08:45] *** dayangkun joined
[08:46] <pmurias> sorear: we can try that too and see which option performs better

[08:46] *** daxim joined
[08:47] <pmurias> that is if the bytecode is similiar between different versions or is all of it checkout out and git only hurts

[08:50] <pmurias> sorear: if we wrap that behind perl scripts we can even switch that transparently

[08:50] <pmurias> ;)

[08:51] *** dayangkun left
[08:52] *** dayangkun joined
[08:53] <pmurias> sorear: how does the performance of niecza v2 and niecza v1 compare?

[08:54] <sorear> pmurias: v2 is a bit faster

[08:54] <pmurias> that's very good

[08:55] <sorear> with -Bnam and amortized over a largish file, it's 2-3x faster

[08:55] <sorear> but that's the best case

[08:55] *** woosley joined
[08:55] <pmurias> what does -Bnam do?

[08:55] <sorear> "Hello World" takes 8-9 seconds with both versions

[08:55] <sorear> writes the intermediate code, and stops

[08:56] <sorear> for some reason the NAM->CIL step is much faster when run standalone than when called as a subroutine by the compiler

[08:56] <sorear> like 5s versus 45s for STD.nam

[08:57] <sorear> that's one of the things I'd like to fix before v2, if I can figure out what's causing it

[08:57] <pmurias> Hello World takes ~2sec on my machine with the p5 niecza

[08:57] <sorear> !!!

[08:57] <pmurias> on the second run

[08:57] <sorear> ah.

[08:57] <sorear> I was counting the entire process

[08:57] <sorear> in compile-and-run mode

[08:57] <pmurias> me too

[08:58] <sorear> erm, in compile-and-run mode with the p5 niecza there shouldn't be much difference from run to run

[08:58] <pmurias> the first run loads all the files from the disk into the caches

[08:58] <sorear> oh right.

[08:58] <pmurias> .pm's and things

[08:58] <sorear> (v2 is different since v2 compiles the setting on the first run, which it can do twice as fast as p5's)

[08:59] <pmurias> the ~2sec vs 8-9sec could be caused by differences in hardware

[09:01] <pmurias> uni (Logics with counting) &

[09:01] <sorear> I'm used to everyone else having computers 3x faster than me, not 4 :)

[09:01] *** pmurias left
[09:01] <sorear> mm logic.

[09:01] <sorear> fun stuff.

[09:10] <sorear> also niecza-v6 uses TOO MUCH MEMORY

[09:12] *** kaare_ left
[09:13] *** kaare_ joined
[09:22] *** drbean left
[09:22] *** drbean joined
[09:24] *** dayangkun_ joined
[09:26] *** cafesofie left
[09:26] *** dayangkun left
[09:31] *** cafesofie joined
[09:38] *** amkrankruleuen joined
[09:49] *** f00li5h left
[09:52] <masak> Perl 6 and Perl 5 parsing: http://perlmonks.org/index.pl?node_id=882311

[09:52] *** f00li5h joined
[09:53] <masak> the only answer I can think of is "yes, things are very dynamic, so you can't get rid of the parser, ever. but don't worry, we've built a nice programming language around it" :P

[09:55] *** cotto left
[09:58] *** jlaire left
[10:00] * masak penned a reply

[10:00] <sorear> ERROR: certificate common name `*.github.com' doesn't match requested host name `github.com'.

[10:01] <sorear> fun.

[10:01] *** QinGW left
[10:02] *** jlaire joined
[10:07] *** dayangkun_ left
[10:17] <dalek> niecza: 923eae5 | sorear++ | / (97 files):

[10:17] <dalek> niecza: Redo build system; bootstrapped niecza is live

[10:17] <dalek> niecza: review: https://github.com/sorear/niecza/commit/923eae547a

[10:18] <sorear> tomorrow I'll integrate tests and versioning with the new Makefile, update the README, and talk to moritz_ about p6eval

[10:18] * sorear -> sleep

[10:19] <masak> nice.

[10:19] <colomon> sorear++

[10:26] *** dave_miles joined
[10:28] *** Alias_ joined
[10:29] *** dave_miles left
[10:31] *** Alias left
[10:44] <snarkyboojum> dang, niecza's build process has been completely re-written :O

[10:45] <snarkyboojum> insane productivity :)

[10:54] <snarkyboojum> the final two steps of the Makefile which cp to a run/ directory failed, because it the directory didn't exist. mkdir run under the Niecza root and re-running make resulted in a working Niecza.exe :)

[10:56] *** hanekomu joined
[11:02] *** cognominal joined
[11:03] *** Fox5600 joined
[11:04] <Fox5600> hey does anyone know it filehandles are really supposed to have methods like abs, exp, log, sin, etc ?

[11:04] <masak> Fox5600: I agree that sounds odd.

[11:04] <Fox5600> because they do in rakudo

[11:04] <masak> rakudo: say $*IN.abs

[11:04] <p6eval> rakudo a350ff: OUTPUT¬´maximum recursion depth exceeded‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Num' at line 7361:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in

[11:04] <p6eval> ..'Cool::Num' a‚Ä¶

[11:04] <Fox5600> all of then does that

[11:04] <masak> rakudo: say $*IN ~~ Cool

[11:04] <p6eval> rakudo a350ff: OUTPUT¬´1‚ê§¬ª

[11:04] <masak> that's why.

[11:05] <masak> why does IO need to be Cool?

[11:05] <masak> rakudo: say IO ~~ Cool

[11:05] <p6eval> rakudo a350ff: OUTPUT¬´1‚ê§¬ª

[11:06] <snarkyboojum> saw the same error with (1=>2).Num today

[11:06] <flussence> rakudo: say +$*IN;

[11:06] <p6eval> rakudo a350ff: OUTPUT¬´maximum recursion depth exceeded‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Num' at line 7361:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in

[11:06] <p6eval> ..'Cool::Num' a‚Ä¶

[11:07] <snarkyboojum> rakudo: +(1=>2)

[11:07] <p6eval> rakudo a350ff: OUTPUT¬´maximum recursion depth exceeded‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Num' at line 7361:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in

[11:07] <p6eval> ..'Cool::Num' a‚Ä¶

[11:07] <flussence> rakudo: say ~$*IN;

[11:07] <p6eval> rakudo a350ff: OUTPUT¬´IO()<0xa0102f8>‚ê§¬ª

[11:07] <flussence> well, the number part seems to be the only problem at least.

[11:08] <Fox5600> rakudo: say $*IN.chr

[11:08] <p6eval> rakudo a350ff: OUTPUT¬´maximum recursion depth exceeded‚ê§  in 'Cool::Num' at line 1862:CORE.setting‚ê§  in 'Cool::Num' at line 1862:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Numeric' at line 1849:CORE.setting‚ê§  in 'Cool::Num' at line 7361:CORE.setting‚ê§  in 'Cool::Numeric'

[11:08] <p6eval> ..at li‚Ä¶

[11:09] *** dakkar joined
[11:16] *** lamstyle left
[11:18] *** chitragupt left
[11:25] *** chitragupt joined
[11:26] *** dakkar left
[11:27] *** kaare_ left
[11:28] *** kaare_ joined
[11:29] *** leprevost joined
[11:34] *** lamstyle joined
[11:35] *** cjk101010 left
[11:50] *** coldhead joined
[11:58] <masak> mojibake from the dir() function -- http://twitter.com/VienosNotes/status/25874069228363776

[11:58] <masak> if anyone's able to reproduce this using a small piece of code, I'm willing to file an RT ticket about it.

[12:06] *** VXZ left
[12:07] <flussence> "open((0x30a1..0x30e1).chrs.Str, :w).say('aaaa'); dir();" does give me garbage on the REPL

[12:10] *** VXZ joined
[12:10] <masak> flussence++

[12:10] * masak submits rakudobug

[12:10] *** pmurias joined
[12:13] <masak> hm. I'm not getting garbage on the REPL. I'm getting that (very long) file name, just as it should look.

[12:13] *** dakkar joined
[12:18] <pmurias> what do people use a REPL for?

[12:19] <flussence> I get it with perl6 -e as well... but printing out the .chrs in both and `ls` both show up OK

[12:19] <arnsholt> pmurias: I use it for experimentation

[12:19] <arnsholt> I find it to be more convenient than -e, especially when I'm experimenting with syntax and such

[12:21] * masak never got into the habit using the REPL

[12:21] <arnsholt> Me neither, not completely

[12:21] <arnsholt> My Lisp-head friend is completely addicted to his REPL, though

[12:22] <snarkyboojum> I get garbage on the repl - unless I'm misunderstanding what it should print :)

[12:22] <flussence> it *shouldn't* print "√£¬°√£¬¢√£¬£√£¬§√£¬•√£¬¶√£¬ß√£¬®√£¬©√£¬™√£¬´√£¬¨√£¬≠√£¬Æ√£¬Ø√£¬∞√£¬±√£¬≤√£¬≥√£¬¥√£¬µ√£¬∂√£¬∑√£¬∏√£¬π√£¬∫√£¬ª√£¬º√£¬Ω√£¬æ√£¬ø√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£√£¬†√£¬°"

[12:23] <snarkyboojum> then I get garbage too :)

[12:23] <pmurias> arnsholt: the Lisp REPLiness seems very awkward and strange to me

[12:23] <arnsholt> How so?

[12:25] <pmurias> i can't really explain "write code to a file and then run it" seems much more convienient then modifing your program from a REPL and then build an executable from the image from time to time

[12:26] <arnsholt> Yeah, it's a bit weird

[12:26] <pmurias> it seems to statefull

[12:26] <arnsholt> But for experimentation, a good REPL is quite nice

[12:27] *** woosley left
[12:28] <pmurias> i use the lisp REPL for that

[12:28] <pmurias> erlang forces people to use a REPL but i just piped commands to it with cat ;)

[12:29] *** Persouille joined
[12:30] <Persouille> hello

[12:31] <pmurias> hi

[12:31] <Persouille> i'm trying to configure ilbot but i don't know where to store the /msg nickserv identify command

[12:31] <Persouille> :)

[12:32] <masak> Persouille: this is #perl6. you'll want to talk to moritz_.

[12:33] <Persouille> oh sorry i thought it was the right channel

[12:33] <Persouille> moritz_,  : can I PM you ?

[12:34] <daxim> ÍπÄÏ†ïÏùºbot

[12:34] <masak> moritz_ is the right channel :)

[12:34] <Persouille> hÈhÈ

[12:34] <Persouille> lol

[12:34] <Persouille> thank you very much

[12:34] <Persouille> :)

[12:35] *** Persouille left
[12:35] *** PacoLinux left
[12:35] <pmurias> masak: the ilbot docs mention that you have to ask moritz_ on #perl6

[12:38] *** _twitch joined
[12:41] *** VXZ left
[12:43] *** VXZ joined
[12:44] *** satyavvd left
[12:45] *** snearch joined
[12:47] *** cafesofie left
[12:53] *** daxim left
[12:53] <masak> pmurias: yes, I had a vague memory of that. still, if moritz_ isn't here, there isn't much the rest of us can do.

[12:56] *** IllvilJa left
[12:58] *** IllvilJa joined
[12:59] *** mberends joined
[13:03] *** Vlavv` left
[13:15] <pmurias> masak: based on a look into the source of ilbot what he wanted required changing the source

[13:15] *** Vlavv` joined
[13:15] <pmurias> masak: but he left before i managed to tell him what to change

[13:16] <takadonet> morning all

[13:16] *** agentzh left
[13:22] *** MayDaniel joined
[13:23] <colomon> \o

[13:45] *** MayDaniel left
[13:46] *** roen joined
[13:46] *** mtk joined
[13:47] *** coldhead left
[13:49] *** mtk left
[13:50] *** mtk joined
[13:53] *** gimix left
[13:53] *** ashleydev joined
[13:54] *** araujo left
[13:55] *** araujo joined
[13:55] *** mberends left
[13:56] *** roen left
[13:58] *** Kodi joined
[14:03] *** homie_the joined
[14:03] *** amkrankr1leuen joined
[14:04] *** amkrankruleuen left
[14:04] *** amkrankr1leuen is now known as amkrankruleuen

[14:04] *** amkrankruleuen left
[14:04] *** amkrankruleuen joined
[14:04] *** _twitch left
[14:05] *** kaare_ left
[14:05] *** kaare_ joined
[14:08] *** estrabd_amf is now known as estrabd

[14:08] *** plobsing left
[14:12] *** nadim left
[14:15] *** kaare_ left
[14:16] <dalek> specs: ece3202 | (Kodi Arfer)++ | S32-setting-library/Containers.pod:

[14:16] <dalek> specs: [S32/Containers] Require &classify's test argument to be Callable.

[14:16] <dalek> specs: 

[14:16] <dalek> specs: An arbitrary Matcher may not have much of a notion of a return value.

[14:16] <dalek> specs: review: https://github.com/perl6/specs/commit/ece3202c88

[14:23] *** cognominal left
[14:26] <masak> Kodi++

[14:30] *** plobsing joined
[14:32] <masak> I also notice that .classify assumes that &test has exactly *one* return value.

[14:33] *** Axius joined
[14:33] <masak> S32 should at least mention what happens when a different number of values are returned.

[14:33] *** mkramer left
[14:39] *** homie_the left
[14:42] *** pmurias left
[14:46] *** pyrimidine left
[14:47] *** Kodi` joined
[14:48] *** Kodi` left
[14:49] *** Kodi left
[14:50] *** Kodi joined
[14:51] *** kaare_ joined
[14:54] *** PacoLinux joined
[14:57] *** risou joined
[14:58] <dalek> roast: 2167a01 | (Kodi Arfer)++ | S0 (3 files):

[14:58] <dalek> roast: More tests for RT #71462 (smartmatching against a type should yield a Bool).

[14:58] <dalek> roast: review: https://github.com/perl6/roast/commit/2167a018e6

[14:59] <dalek> rakudo: 7fd3dea | KodiB++ | src/ (4 files):

[14:59] <dalek> rakudo: Made smartmatching with something other than a regex on the RHS return a Bool.

[14:59] <dalek> rakudo: review: https://github.com/rakudo/rakudo/commit/7fd3dea4a4

[14:59] *** mkramer joined
[15:07] <Kodi> Is there a special reason why some of the @-parameters in the functions at the bottom of Any-list.pm *aren't* slurpy?

[15:11] <colomon> errr... can you pass a regular @parameter in instead of a slurpy?

[15:12] <colomon> rakudo: say roll(3, <a b c d e f g h>)

[15:12] <p6eval> rakudo a350ff: OUTPUT¬´bae‚ê§¬ª

[15:13] <Kodi> rakudo: say first * %% 2, 1, 3, 4, 7, 9, 10;

[15:13] <p6eval> rakudo a350ff: OUTPUT¬´Too many positional parameters passed; got 7 but expected 2‚ê§  in 'first' at line 1816:CORE.setting‚ê§  in main program body at line 22:/tmp/u_SPyx2Y0Y‚ê§¬ª

[15:13] <Kodi> rakudo: say first * %% 2, (1, 3, 4, 7, 9, 10);

[15:13] <p6eval> rakudo a350ff: OUTPUT¬´4‚ê§¬ª

[15:13] <colomon> for sure it seems like grep and first should be the same!

[15:13] <Kodi> rakudo: .say for grep * %% 2, 1, 3, 4, 7, 9, 10;

[15:13] <p6eval> rakudo a350ff: OUTPUT¬´4‚ê§10‚ê§¬ª

[15:14] <Kodi> colomon: That's what I was thinking.

[15:14] <colomon> that's LHF for sure.

[15:14] <Kodi> "LHF"?

[15:15] <colomon> low hanging fruit

[15:15] <colomon> easy to pick

[15:15] <Kodi> Ah.

[15:18] <jnthn> Good afty, #perl6.

[15:18] <colomon> \o

[15:18] <takadonet> jnthn: yo

[15:19] *** plainhao joined
[15:20] *** MayDaniel joined
[15:20] <colomon> rakudo: .say for grep * %% 2, (1, 3, 4, 7, 9, 10);

[15:20] <p6eval> rakudo a350ff: OUTPUT¬´4‚ê§10‚ê§¬ª

[15:21] *** thoffmeyer joined
[15:22] <flussence> rakudo: (100..110).ords.say

[15:22] <p6eval> rakudo a350ff: OUTPUT¬´49484832494849324948503249485132494852324948533249485432494855324948563249485732494948‚ê§¬ª

[15:23] <flussence> for some reason the longer that range is, the slower each separate .say is... I don't get it.

[15:23] <flussence> doing 100..200 on my laptop I can see the numbers printing out one at a time, 100..110 looks a lot quicker.

[15:23] *** ashleydev left
[15:26] <jnthn> Ouch

[15:26] <jnthn> That sounds...bad.

[15:27] *** risou_ joined
[15:27] *** mtk left
[15:28] <colomon> On mine, I'd say 100..110 is about twice as fast as that much of 100..200.  Just eyeballing it.

[15:29] *** awwaiid joined
[15:30] *** risou left
[15:30] <colomon> actually, that's not that surprising, is it?

[15:30] *** Axius left
[15:30] <jnthn> colomon: Why should a longer range make things slower?

[15:31] <colomon> it's not a lazy operation, so going into .ords requires converting the entire range to a string

[15:31] <flussence> the .ords method itself doesn't appear to be doing anything visibly wrong: gather self.comb, take .ord

[15:31] <jnthn> Oh, I think I'm missing some context. :)

[15:31] <colomon> afk

[15:31] <flussence> colomon: it has the same slowdown if I ~ the range first

[15:33] *** wolv joined
[15:33] *** wolv left
[15:34] <colomon> flussence: right, because that's doing the exact same thing.

[15:35] <colomon> Maybe it's just my imagination, but I'd say (100..200).map(*.ords).say  is much faster

[15:35] <colomon> s/much/noticeably/

[15:35] *** plobsing left
[15:38] <colomon> I don't know exactly what is going on, but I'm guessing what you're seeing has something to do with ugly slowness in ~(Range) and comb.

[15:39] <flussence> ok, I've done a bit more experimenting: if I run `for i in {10..20}; do echo $i; time perl6 -e "(' ' xx $i ** 2).map(*.ord).say" > /dev/null; done`, the time is more or less constant, but if I use .comb, it becomes exponential.

[15:40] <flussence> that is to say, "(' ' x 200).comb¬ª.ord.say" is much slower than if I'd done "(' ' xx 200)¬ª.ord"

[15:40] <colomon> oh!

[15:40] <flussence> so yeah, it's probably that bit causing it.

[15:40] <colomon> in comb: (my $m = self.match($matcher, :c($c))

[15:40] *** fhelmberger joined
[15:40] *** justatheory joined
[15:41] <colomon> that's got to be almost the slowest possible way to generate one character at a time from a string.

[15:41] <colomon> and...

[15:42] <colomon> calling self.match doesn't actually convert self to a Str, does it?

[15:42] <colomon> (99% sure the answer must be no)

[15:42] <flussence> no idea, but I'll go with your 99%.

[15:43] <colomon> in which case, that (my $m = self.match($matcher, :c($c)) in the loop to generate each char in .comb converts the Range to a Str each time through.

[15:43] <flussence> ouch.

[15:43] <jnthn> Ouch

[15:43] <jnthn> It we're calling .match on it, strinfigying self first is maybe a good idea?

[15:43] <colomon> seems like. 

[15:44] <colomon> we need to set up a benchmark so we know if we're talking sense or not.

[15:44] <colomon> and then the optimization is pretty obvious.

[15:45] *** plobsing joined
[15:50] *** drev joined
[15:50] *** drev left
[16:09] *** gbacon joined
[16:10] <masak> people, make sure you send in your trailing solutions to the Perl 6 Coding Contest today!

[16:12] *** Eevee left
[16:13] *** cogno joined
[16:17] *** nadim joined
[16:19] *** aloha joined
[16:21] *** kensanata left
[16:23] <masak> aloha: hi :)

[16:23] <colomon> masak: I'm busy writing the explanatory e-mail for my second p4 submission.

[16:25] *** wolverian left
[16:27] <PerlJam> good * #perl6

[16:27] <masak> colomon: I mostly ignore email content outside of the .zip files.

[16:28] <PerlJam> (obvious optimizations)++   (reading scroll back)

[16:28] *** risou joined
[16:28] *** gbacon left
[16:29] *** risou_ left
[16:39] <dalek> rakudo: 9b41b8f | KodiB++ | src/core/Match.pm:

[16:39] <dalek> rakudo: Whoops, forgot to commit this.

[16:39] *** Eevee joined
[16:39] <dalek> rakudo: review: https://github.com/rakudo/rakudo/commit/9b41b8f3f4

[16:40] *** cogno left
[16:41] <[Coke]> KodiB, yah, but what is that commit for?

[16:41] <[Coke]> clearly you remembered to commit it now. ;)

[16:44] <Kodi> [Coke]: I couldn't think of a better description, really. It may not even have any net effect. :P

[16:49] * masak .oO( a null commit? )

[16:49] *** ashleydev joined
[16:51] <PerlJam> masak: a Mu commit

[16:51] *** jedai_ joined
[16:51] <jnthn> :P

[16:52] <Kodi> PerlJam: That just about describes it.

[16:52] <PerlJam> or maybe a Nil commit, but "Mu commit" fits better with the content of the commit :)

[16:52] *** jedai left
[16:59] *** cogno joined
[17:01] <[Coke]> muck omit

[17:02] *** cogno left
[17:02] *** hanekomu left
[17:03] *** cogno joined
[17:09] <TimToady> phenny: tell sorear make fails on the last step if run/ doesn't exist yet

[17:09] <phenny> TimToady: I'll pass that on when sorear is around.

[17:10] <TimToady> oh, already reported by snarkyboojum++

[17:11] <TimToady> yay for redundancy

[17:15] *** envi left
[17:17] *** cotto joined
[17:24] *** cogno left
[17:29] *** cdarroch joined
[17:29] *** cdarroch left
[17:29] *** cdarroch joined
[17:31] *** cogno joined
[17:34] <dalek> roast: ef6df94 | (Kodi Arfer)++ | S32-list/ (2 files):

[17:34] <dalek> roast: Additions and fudging for slurpy &first and &uniq.

[17:34] <dalek> roast: review: https://github.com/perl6/roast/commit/ef6df94697

[17:35] *** acrussell joined
[17:35] <dalek> rakudo: 89ff888 | KodiB++ | src/core/Any-list.pm:

[17:35] <dalek> rakudo: [core/Any-list] Added slurpy versions of &first and &uniq.

[17:35] <dalek> rakudo: review: https://github.com/rakudo/rakudo/commit/89ff88808c

[17:36] *** leprevost_ joined
[17:37] *** plobsing left
[17:37] *** leprevost left
[17:41] <dalek> nqp-rx/nom: 10b0b0b | jonathan++ | / (2 files):

[17:41] <dalek> nqp-rx/nom: Stub in a DispatcherSub PMC to be used for subs that serve as dispatchers.

[17:41] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/10b0b0b27f

[17:41] <dalek> nqp-rx/nom: bb3de19 | jonathan++ | src/ops/nqp.ops:

[17:41] <dalek> nqp-rx/nom: Port the ops related to multiple dispatch; the one that actually does the dispatch is incomplete, but the rest are complete (though untested).

[17:41] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/bb3de19cf7

[17:41] *** takadonet left
[17:42] *** takadonet joined
[17:43] <dalek> bench-scripts: c15faa0 | (Solomon Foster)++ | non-str-comb.pl:

[17:43] <dalek> bench-scripts: Add benchmark passing a non-string type to comb.

[17:43] <dalek> bench-scripts: review: https://github.com/perl6/bench-scripts/commit/c15faa0a3d

[17:45] *** Kodi left
[17:49] *** rgrau joined
[17:53] *** masak left
[17:53] *** kboga joined
[17:54] *** cogno left
[17:55] *** ingy left
[17:55] *** ingy joined
[18:03] *** plobsing joined
[18:04] *** thoffmeyer left
[18:05] *** dakkar left
[18:07] *** pyrimidine joined
[18:14] *** cogno joined
[18:14] *** cogno left
[18:15] *** cogno joined
[18:19] <dalek> niecza: 430e593 | sorear++ | run/.gitignore:

[18:19] <dalek> niecza: Make sure obj/ and run/ are recorded in git GH-31 snarkyboojum++

[18:19] <dalek> niecza: review: https://github.com/sorear/niecza/commit/430e593fa3

[18:20] <diakopter> * *

[18:21] <jnthn> *, diakopter 

[18:22] <diakopter> :)

[18:22] * moritz_ back

[18:22] * colomon still here

[18:25] <colomon> compiling my attempt at optimizing .comb

[18:26] <colomon> really, it's more of a de-pessimizing

[18:29] <colomon> say [+] (100..200).comb>>.Int;  # before: 8.7s  after: 1.9s

[18:30] <jnthn> colomon++

[18:30] <moritz_> \o/

[18:31] <[Coke]> nice.

[18:32] <colomon> about to start spectest run.

[18:34] *** MayDaniel left
[18:34] <dalek> specs: 308c599 | larry++ | S32-setting-library/Containers.pod:

[18:34] <dalek> specs: redesign of classify, add categorize

[18:34] <dalek> specs: 

[18:34] <dalek> specs: * classify should take any arity-1 mapper including hash or array

[18:34] <dalek> specs: * classify always assumes 1 return value from the mapper

[18:34] <dalek> specs: * a function that assumes a list value from the mapper is needed

[18:34] <dalek> specs: * that function is called categorize, a bigger name for a slower function

[18:34] <dalek> specs:     (it is less efficient than classify since it must loop over mapper values)

[18:34] <dalek> specs: * both classify and categorize now return a hash, since it's stupid to create

[18:34] <dalek> specs:     a hash, return its pairs, only to recreate an identical hash outside,

[18:34] <dalek> specs:     and it's trivial to extract the pairs from a hash if you need them.

[18:34] <dalek> specs: review: https://github.com/perl6/specs/commit/308c599459

[18:35] <dalek> nqp-rx/nom: 194180d | jonathan++ | src/NQP/Grammar.pm:

[18:35] <dalek> nqp-rx/nom: Bring the various multiple dispatch and signature parsing changes introduced in JnthnNQP into the nqp-rx/nom grammar.

[18:35] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/194180db17

[18:35] <dalek> nqp-rx/nom: d3290da | jonathan++ | src/NQP/Actions.pm:

[18:35] <dalek> nqp-rx/nom: Actions for {*}.

[18:35] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/d3290da0b9

[18:37] <dalek> nqp-rx/nom: 2f51f68 | jonathan++ | src/NQP/Actions.pm:

[18:37] <dalek> nqp-rx/nom: Pull the old meta-model's handling of method_def out into something we can easily toss later. (Can't quite toss it yet; grammar is not using 6model yet, and there are grammars with methods within nqp-rx itself, so removing it now would break the bootstrap.)

[18:37] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/2f51f68a29

[18:37] *** rgrau left
[18:39] *** cogno left
[18:39] <diakopter> wheh

[18:43] *** cogno joined
[18:52] * jnthn remembers he should probably eat as well as hack. bbs. :)

[18:52] <TimToady> be happily nominative

[18:54] <colomon> made homemade sushi (no raw fish, alas) today, for the first time in years.

[18:55] *** cogno left
[18:56] <[Coke]> yum.

[18:56] * [Coke] makes plans to go eat a big bowl of sashimi tomorrow.

[18:58] *** Fox5600 left
[18:58] <moritz_> (homemad tasty food)++

[18:58] <moritz_> *made

[19:02] *** MayDaniel joined
[19:04] <colomon> homemad seems just about right

[19:04] <colomon> how are things going today, moritz_?

[19:05] <moritz_> colomon: chaotic

[19:06] <moritz_> I nearly collapsed during the surgery, and had to leave

[19:06] <colomon> you okay?

[19:06] <moritz_> and then the epidural anesthesia didn't work

[19:06] <colomon> ooo, ouch.

[19:06] <moritz_> so they had to knock her out

[19:07] <moritz_> and the baby breathed, but not enough

[19:07] <moritz_> so it needed artificial respiration (and still does)

[19:07] * colomon hugs moritz_++

[19:07] <moritz_> thanks

[19:07] <TimToady> yow, that sucks

[19:07] <moritz_> wife is recovering, baby is stable

[19:08] <[Coke]> hugme: hug moritz_ 

[19:08] * hugme hugs moritz_

[19:08] <moritz_> I'm exhausted, but otherwise OK

[19:08] <[Coke]> don't let her hear you say that. :)

[19:09] <TimToady> well, you know we all expect you to keep your priorities straight wrt your family, so if you have to cheat anyone of your time, cheat us.

[19:09] <colomon> amen

[19:09] <moritz_> TimToady: sure. But #perl6 is not just time drain, but also recovery for me

[19:10] <colomon> (though I did find that #perl6 was a happy relief during long hours of baby rocking.)

[19:11] <sorear> good * #perl6

[19:11] <phenny> sorear: 17:10Z <TimToady> tell sorear make fails on the last step if run/ doesn't exist yet

[19:12] *** vmspb joined
[19:13] *** kjeldahl joined
[19:14] * sorear hugs moritz_ too

[19:15] *** mberends joined
[19:16] <moritz_> thanks

[19:17] *** skangas left
[19:17] *** skangas joined
[19:20] *** mtk joined
[19:20] *** mberends left
[19:24] <moritz_> oh, has niecza changed from xbuild to make?

[19:24] <TimToady> mostly

[19:25] <TimToady> still a bit rough

[19:25] * moritz_ tries

[19:26] *** skangas left
[19:26] *** skangas joined
[19:26] <moritz_> sorear: needs to be updated in README.pod

[19:26] *** skangas left
[19:26] *** skangas joined
[19:26] *** skangas left
[19:28] <moritz_> the first time I run run/Niecza.exe I get a warning from the setting

[19:28] <moritz_> Potential difficulties: $p is declared but not used at /home/moritz/p6/niecza/lib/SAFE.setting line 903:

[19:28] <diakopter> (me2 on windows, a day or two ago)

[19:28] <moritz_> ------> sub take(\‚èè$p) { # should be \|$p

[19:29] * jnthn back

[19:29] *** skangas joined
[19:30] <jnthn> moritz_: Congrats on becoming a father, and best wishes to you and your (now slightly bigger) family. :-)

[19:30] <dalek> rakudo: 9f6a678 | colomon++ | src/core/Cool-str.pm:

[19:30] <dalek> rakudo: Make a string copy of ~self to work with in Cool.comb, so that repeated calls to .match do not do ~self internally each time.

[19:30] <dalek> rakudo: review: https://github.com/rakudo/rakudo/commit/9f6a678811

[19:31] <moritz_> jnthn: thanks

[19:31] <dalek> niecza: e23237d | sorear++ | Makefile:

[19:31] <dalek> niecza: On second thought, don't pass -I to bootstrap

[19:31] <dalek> niecza: 

[19:31] <dalek> niecza: This means the compiler has to cope with an old setting, but the

[19:31] <dalek> niecza: setting need not cope with an old compiler.

[19:31] <dalek> niecza: review: https://github.com/sorear/niecza/commit/e23237d990

[19:31] <dalek> niecza: 4539bcd | sorear++ | README.pod:

[19:32] <dalek> niecza: Update README with new build info

[19:32] <dalek> niecza: review: https://github.com/sorear/niecza/commit/4539bcd3ab

[19:35] <colomon> flussence++: optimization suggested by your (100..200).comb case now in Rakudo.  :)

[19:36] <flussence> \o/

[19:39] * sorear wonders if a "get compiler base directory" function makes any sense in standard Perl 6

[19:40] <moritz_> sorear: what would you use it for?

[19:40] *** orafu left
[19:41] <moritz_> I mean, what would a Perl 6 programmer use it for?

[19:41] *** orafu joined
[19:43] <colomon> flussence: Hmmm... I"ll be the exact same thing happens in split, too.  And probably elsewhere.

[19:44] *** HarryS left
[19:56] *** _twitch joined
[19:58] * sorear is annoyed at how coupled niecza is to the CLR

[19:58] *** _twitch left
[19:59] <diakopter> :P

[19:59] <sorear> like, you run Niecza.exe, it has to find lib/ somewhere

[20:00] <sorear> so it does Q:CgOp { (box Str (rawcall get_BaseDirectory (rawscall System.AppDomain.get_CurrentDomain))) }.IO.append("..").append("lib").realpath

[20:01] *** sECuRE left
[20:01] <moritz_> so embed it into a NIECZA::base_dir class

[20:01] <moritz_> s/class/sub/

[20:02] <moritz_> and provide a facility for other backends to override it

[20:06] *** sECuRE joined
[20:09] <dalek> rakudo: d5b9d90 | moritz++ | src/core/Pair.pm:

[20:09] <dalek> rakudo: Pair.Numeric

[20:09] <dalek> rakudo: review: https://github.com/rakudo/rakudo/commit/d5b9d90ee7

[20:12] <colomon> moritz_++ # elegant solution to the "How to Numify a Pair?" question. 

[20:12] <moritz_> well, better than infinite recursion :-)

[20:20] <flussence> or "method Numeric { 2 }"

[20:21] * flussence ducks

[20:23] *** MayDaniel left
[20:27] *** dju_ left
[20:27] <flussence> spectest passed on one machine, running it on my slow one now. wonder if it'll break sub-2h this time...

[20:31] <dalek> nqp-rx/nom: e0ac587 | jonathan++ | src/pmc/dispatchersub.pmc:

[20:31] <dalek> nqp-rx/nom: s/inherits/extends/ for PMC inheritance. D'oh.

[20:31] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/e0ac5873d0

[20:31] <dalek> nqp-rx/nom: 08ccc35 | jonathan++ | src/ops/nqp.ops:

[20:31] <dalek> nqp-rx/nom: Fix a name-o that made most of the multi-dispatch related ops busted.

[20:31] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/08ccc356c2

[20:31] <dalek> nqp-rx/nom: 75cf4dc | jonathan++ | src/NQP/Actions.pm:

[20:31] <dalek> nqp-rx/nom: Align nqp-rx/nom's method_def more closesly with the nqpclr one. This gets setup of proto methods - at least at the code generation level - in shape; the * or {*} also calls the stub that will eventually enter the multi-dispatcher.

[20:31] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/75cf4dcb56

[20:32] *** mberends joined
[20:33] *** plainhao left
[20:34] *** rindolf joined
[20:34] <rindolf> Hi all.

[20:35] <rindolf> Building Rakudo git HEAD ( 9f6a67881173bcedaf63603e1cfd485a08b112db ) fails here.

[20:35] <rindolf> x86-64 Linux.

[20:35] <jnthn> o/ rindolf 

[20:36] <jnthn> rindolf: Please could you paste the error it fails with?

[20:36] <mberends> moritz_++ # best wishes for wife and baby too

[20:36] <rindolf> jnthn: sure, wait a sec.

[20:36] <jnthn> o/ mberends :)

[20:36] <mberends> yo jnthn :)

[20:37] <rindolf> jnthn: http://pastie.org/1461482

[20:39] <plobsing> rindolf: looks like a linking problem

[20:39] *** orafu left
[20:40] *** orafu joined
[20:40] <plobsing> run 'nm /home/shlomif/Download/unpack/perl/Perl6/rakudo/git/rakudo/parrot_install/lib/libparrot.so | grep Parrot_api_string_export_ascii'

[20:41] <plobsing> it should give a result like '<digits> T Parrot_api_string_export_ascii'

[20:42] <rindolf> plobsing: it doesn't return anything.

[20:45] *** kboga left
[20:45] <plobsing> then your parrot is messed up somehow. is this build failure from a clean checkout? if not, try removing parrot_install and rebuilding.

[20:47] <dalek> nqp-rx/nom: d7ccb41 | jonathan++ | src/pmc/dispatchersub.pmc:

[20:47] <dalek> nqp-rx/nom: Make sure we mark the dispatchees.

[20:47] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/d7ccb41d5a

[20:49] <dalek> nqp-rx/nom: 25f7ff9 | jonathan++ | src/metamodel/how/NQPClassHOW.pm:

[20:49] <dalek> nqp-rx/nom: First piece of the multi-method handling in NQPClassHOW. Direct copy-paste from nqpclr's NQPClassHOW.

[20:49] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/25f7ff934e

[20:51] <rindolf> plobsing: OK.

[21:06] *** carlos joined
[21:06] *** coldhead joined
[21:10] *** pmurias joined
[21:10] <pmurias> hi

[21:10] <rindolf> Hi pmurias 

[21:11] <dalek> nqp-rx/nom: c6b29ec | jonathan++ | src/metamodel/how/NQPClassHOW.pm:

[21:11] <dalek> nqp-rx/nom: Port over incorporate_multi_candidates. No algorithmic changes, just VM munging (yes, I hope to have the nqpclr and nqp-rx versions the same some day soon - for now this is not too far off).

[21:11] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/c6b29ec1f1

[21:13] *** bacek left
[21:16] *** vmspb left
[21:20] <moritz_> mberends: thanks

[21:20] <rindolf> Hmm.... github is slow here.

[21:24] <pmurias> sorear: why do you print out info in grey?

[21:25] <sorear> because I don't know how not to

[21:25] <sorear> hi pmurias

[21:25] <moritz_> TimToady: re http://www.perlmonks.org/?node_id=882415 don't type declarations change the grammar too?

[21:25] <pmurias> so what does that?

[21:25] <moritz_> well, more like the data the drives the parsing

[21:25] <pmurias> s/does/causes

[21:25] <TimToady> moritz_: read the parenthetical remark

[21:26] <pmurias> sorear: if it's something beyond our control we could reset the terminal after the offending code

[21:27] <moritz_> TimToady: right

[21:27] * moritz_ should really go to bed

[21:27] <TimToady> alternately, constants are degenerate type declarations :)

[21:28] *** Tedd1 joined
[21:28] <pmurias> TimToady: is there a way to disable the unused parameter warning?

[21:28] <rindolf> I gave up on git cloning the parrot repository.

[21:28] <rindolf> It's too slow here.

[21:28] <rindolf> I guess my ISP sucks again.

[21:28] <rindolf> Hi TimToady 

[21:28] <TimToady> in STD, put #OK not used

[21:29] <TimToady> dunno if sorear's clone does that though

[21:29] <TimToady> would be low hanging fruit if it doesn't

[21:29] <sorear> it does.

[21:29] <sorear> fwiw, anything STD parses but niecza/src/tryfile doesn't, I consider a bug

[21:29] <TimToady> or, if you really don't want to use the parameter, just put the sigil

[21:29] <sorear> though tryfile is probably a bit bitrotted after the last two weeks

[21:30] <TimToady> std: sub foo ($a) {...}

[21:30] <p6eval> std 625303c: OUTPUT¬´Potential difficulties:‚ê§  $a is declared but not used at /tmp/2Nj3DJbUS6 line 1:‚ê§------> [32msub foo ([33m‚èè[31m$a) {...}[0m‚ê§ok 00:01 120m‚ê§¬ª

[21:30] <TimToady> std: sub foo ($) {...}

[21:30] <p6eval> std 625303c: OUTPUT¬´ok 00:01 120m‚ê§¬ª

[21:31] <TimToady> std: sub foo (:a($)) {...}

[21:31] <p6eval> std 625303c: OUTPUT¬´ok 00:01 120m‚ê§¬ª

[21:32] <TimToady> std: sub foo ($a) {...}  #OK

[21:32] <p6eval> std 625303c: OUTPUT¬´ok 00:01 120m‚ê§¬ª

[21:32] *** spq1 left
[21:33] <pmurias> sorear: i get unable to resolve method keys in class Array when doing mono run/Niecza.exe -e 'say 1'

[21:35] <sorear> *%#@

[21:35] <sorear> I think I just heard the death of the project

[21:37] <TimToady> the flag still seems to be waving...

[21:37] *** slavik1 joined
[21:38] <pmurias> sorear: ?

[21:40] <pmurias> sorear: corrupted bootstrap?

[21:40] <TimToady> maybe it means that we have to turn Perl 6 into C# for it to work...

[21:41] <TimToady> CLR seems to have this effect on other languages too  :)

[21:42] <TimToady> if it's only a currupted bootstrap, sorear++ has recovered from those before

[21:43] <TimToady> or maybe he thinks mono is Just Too Flakey now...

[21:44] <TimToady> or maybe he just needs to take a step back and breathe for a bit

[21:45] * TimToady is far too good at "maybes"

[21:46] *** orafu left
[21:48] *** orafu joined
[21:50] <rokoteko> Haha. yea. start building perl6 designed to run on MS windows, which 80% of the world uses. :)

[21:51] <rokoteko> erm. well.. 80% percent of the cyberspace.

[21:52] <jnthn> rokoteko: AFAIK, Niecza *does* run on Windows too. As do various other Perl 6 implementation efforts. :)

[21:52] <plobsing> rokoteko: rakudo runs on windows SFAIK

[21:52] <rokoteko> jnthn: hey, I have absolutely no idea. I barely know perl6.

[21:52] <jnthn> plobsing: It sure does - because I do just about all my development on Windows. :)

[21:53] <rokoteko> I got debian on my work laptop. :)

[21:53] <sorear> pmurias: right, something is seriously wrong.

[21:53] <plobsing> then you are one of the lucky 20% or so

[21:53] *** rindolf left
[21:53] <sorear> fwiw mono run/Niecza.exe -e 'say 1' works for me

[21:54] <TimToady> incompatible mono?

[21:54] <colomon> To be fair, I've never managed to successfully build Rakudo on my Windows box.

[21:54] *** Patterner left
[21:54] <jnthn> colomon: Really? Oddness.

[21:54] <TimToady> or something different in %*ENV?

[21:55] <jnthn> colomon: Unless you did it with Cygwin, where I can well imagine the Rakudo build is very flakey.

[21:55] <TimToady> sorear: as another datapoint, I get pmurias's error here too

[21:55] <TimToady> I'm running 64-bit, if it makes any difference

[21:56] <diakopter> \/

[21:56] <sorear> rokoteko: Until yesterday, niecza was a mono-only C# program

[21:56] *** Psyche^ joined
[21:56] <colomon> jnthn: I tried building it with whatever it tried to use.  I've got Cygwin and two different versions of Visual Studio on the machine.

[21:56] *** Psyche^ is now known as Patterner

[21:56] <jnthn> colomon: Ah, OK.

[21:56] <sorear> TimToady: does mono boot/run/Niecza.exe -e 'say 1' work?

[21:56] <jnthn> colomon: I've found ActivePerl + Visual Studio + build from the Visual Studio command prompt = success.

[21:56] <TimToady> sorear: no, I get pmurias's error

[21:56] <rokoteko> sorear: wasn't niecza the perl6 implementation of perl6?

[21:57] <diakopter> colomon: wfm same setup as jnthn...

[21:57] <pmurias> sorear: try make in git clean'ed mono

[21:57] <TimToady> pmurias: are you 32 or 64-bits?

[21:57] <pmurias> 32

[21:57] <sorear> pmurias: "make in git clean'ed mono" ?

[21:57] <rokoteko> I should probably follow more closely to the discussion to get a hang of it. :)

[21:57] <TimToady> alternately, we could have something from prior builds out here in the hinterlands

[21:57] <pmurias> mono boot/run/Niecza.exe -e 'say 1' works

[21:57] <pmurias> mono run/Niecza.exe -e 'say 1' works

[21:57] <pmurias> s/works/doesn't work/

[21:58] <pmurias> sorear: git clean removed all the untracked files

[21:58] <TimToady> sorear: would the whole backtrace help you?

[21:58] <pmurias> git clean -f;make;mono run/Niecza.exe -e 'say 1'

[21:58] <plobsing> colomon: there are instructions on how to set up parrot on windows @ http://trac.parrot.org/parrot/wiki/Platforms/Windows . building rakudo is probably much more platform-independant.

[21:59] <pmurias> mono boot/run/Niecza.exe -e 'say 1' works

[21:59] <pmurias> sorear: did you git push?

[21:59] <jnthn> plobsing: Until we accidentally something platform dependent in any of the C bits of Rakudo (binder/dynops/dynpmcs) anyways. :)

[22:00] <colomon> plobsing: thanks.  It would be nice to have Rakudo working on that machine, it's a powerful machine that spends most of its time these days running Lacuna Expanse while I do development work on my OS X laptop.

[22:00] <TimToady> boot/run/Niecza.exe works here too

[22:00] <plobsing> jnthn: you have far less C than parrot. assume an identical C-code defect rate.

[22:00] <diakopter> 'maybe it means that we have to turn Perl 6 into C# for it to work...

[22:01] <diakopter> '

[22:01] *** leprevost_ left
[22:01] * diakopter wants to add that to a quotebot somewhere

[22:01] <jnthn> plobsing: :)

[22:02] <sorear> pmurias: Does git clean make things better or worse?

[22:03] <dalek> niecza: 4b9b5fa | sorear++ | lib/SAFE.setting:

[22:03] <dalek> niecza: Fix obsolescent use of (l) in &take

[22:03] <dalek> niecza: review: https://github.com/sorear/niecza/commit/4b9b5faf19

[22:03] <dalek> niecza: ff486bd | sorear++ | / (5 files):

[22:03] <dalek> niecza: Add abstract primitives for path and bit ops

[22:03] <dalek> niecza: review: https://github.com/sorear/niecza/commit/ff486bdc15

[22:04] <TimToady> git clean does not help here

[22:05] <dalek> niecza: 2c25f13 | sorear++ | / (4 files):

[22:05] <dalek> niecza: Add bit and path ops to setting

[22:05] <dalek> niecza: review: https://github.com/sorear/niecza/commit/2c25f133b2

[22:05] <sorear> ok, let me try a build from a clean checkout :/

[22:06] <TimToady> traceback at https://gist.github.com/780361

[22:09] *** kaare_ left
[22:09] *** molaf left
[22:10] <pmurias> sorear: git clean simultates a clean checkout

[22:12] *** orafu left
[22:12] <TimToady> after pulling latest push, the traceback is longer

[22:14] * [Coke] realizes he's currently at home on a windows laptop and about to "checkout" from work, and should probably try to build rakudo.

[22:14] *** orafu joined
[22:14] <TimToady> gist of longer traceback: https://gist.github.com/780377

[22:17] *** shi joined
[22:17] <TimToady> running Mono JIT compiler version 2.6.7 (Debian 2.6.7-3ubuntu1), Architecture: amd64

[22:18] <TimToady> pmurias: what's your version of mono?

[22:19] <sorear> I cannot reproduce from a clean checkout

[22:19] <TimToady> I'm guessing version skew

[22:19] <sorear> 2.9/869fd03 ...

[22:20] <sorear> I need to set up some kind of multiversion mono env

[22:23] *** Chillance joined
[22:25] <TimToady> maybe we just need to run with a new mono, like we try to do with parrot

[22:26] <diakopter> http://www.chacha.com/question/do-monkeys-eat-parrots

[22:27] <colomon> Does niecza work with .NET?  It just occurred to me I spent all that time trying to get a version of mono that worked, and never considered using one of my .NET installs... 

[22:29] <diakopter> a snapshot of a built one worked for me yesterday

[22:29] <diakopter> I haven't tested whether it builds lately

[22:30] <sorear> the build process requires a unix toolchain (wget, gmake, cp, rm, unzip)

[22:30] <sorear> the v1.5 snapshot from the github downloads page should work though

[22:31] <diakopter> surely the Makefile could be made dmake/nmake compatible

[22:31] <colomon> sorear++.  I'll try it when I'm not up in the train room watching the little guy play with his Little Blue Engine,  Santa Fe Super Chief, and Hiro.

[22:31] <diakopter> (and perl/extensions instead of the rest)

[22:31] <sorear> I'm not entirely sure I can live without $(patsubst)  :)

[22:32] * sorear notices that his mono is over a month old, fixes

[22:38] *** MayDaniel joined
[22:39] <pmurias> sorear: 2.8.1

[22:40] <pmurias> sorear: did the mono from run/ work for you?

[22:40] <diakopter> O.O

[22:46] <pmurias> sorear: the one in boot/ work for me too

[22:47] <pmurias> sorear: what we could use is do have niecza automatically build and tested on different mono versions

[22:57] *** kjeldahl left
[22:58] *** doddo left
[23:00] *** cafesofie joined
[23:11] *** mkramer1 joined
[23:12] *** mkramer left
[23:13] <sorear> pmurias: yes, run/ works for me.

[23:14] <sorear> pmurias: that would be nice though I still need to debug this somehow

[23:22] *** shi left
[23:24] * [Coke] goes "woof" at trying to build parrot on windows.

[23:25] * [Coke] will try to clean that up a bit for strawberry perl users this weekend.

[23:25] <jnthn> [Coke]++

[23:25] *** paroxyzm joined
[23:27] *** paroxyzm left
[23:31] *** shi joined
[23:33] *** dju joined
[23:33] *** dju left
[23:33] *** dju joined
[23:34] *** snearch left
[23:36] <dalek> nqp-rx/nom: 0499684 | jonathan++ | / (2 files):

[23:36] <dalek> nqp-rx/nom: Turns out we need some kind of lightweight signature object just for multis, to store the types but also definedness constraints (thus can't easily use an RPA). This should do it for now.

[23:36] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/049968457a

[23:36] <dalek> nqp-rx/nom: 3a7f05b | jonathan++ | src/ops/nqp.ops:

[23:36] <dalek> nqp-rx/nom: Add an op for putting a multi sig in place.

[23:36] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/3a7f05bdc6

[23:36] <dalek> nqp-rx/nom: d34f3a0 | jonathan++ | src/NQP/Actions.pm:

[23:36] <dalek> nqp-rx/nom: Emit code that builds and installs multisig objects that contain the type and definedness constraint for each multi candidate.

[23:36] <dalek> nqp-rx/nom: review: https://github.com/perl6/nqp-rx/commit/d34f3a0892

[23:39] *** bacek joined
[23:39] *** GinoMan joined
[23:42] *** cdarroch left
[23:48] *** cafesofie left
[23:55] <pmurias> sorear: why are you using an development mono 2.9.*? 2.8.2 is the stable one?

[23:55] *** mkramer1 left
[23:58] <sorear> pmurias: 2.9.* has very valuable bugfixes

