[00:00] * theorb takes a break.

[00:03] <ingy> autrijus: sleep  much?

[00:08] <autrijus> no. :)

[00:26] <autrijus> migration complete.

[00:26] <autrijus> this is history-free though

[00:26] <autrijus> so tomorrow I may still switch back

[00:26] <autrijus> after consulting with foundry people

[00:27] <autrijus> but for now, please commit away

[00:27] <autrijus> http://tpe.freepan.org/repos/autrijus/pugs/

[00:27] *** autrijus changes topic to: Today's svn repo: http://tpe.freepan.org/repos/autrijus/pugs/ | pugscode.org <Overview Journal Logs> | pugs.kwiki.org

[00:40] <autrijus> ok, r521 at tpe.freepan.org.

[00:41] <autrijus> please help unTODO unexpected successes. :)

[00:46] <obra> autrijus: have you thought about pugscode.org having a passthrough http proxy for the svn repo otd?

[00:47] <autrijus> won't help because uuids differ.

[00:47] <autrijus> and revs too.

[00:47] <autrijus> so won't work that way.

[00:49] <obra> point

[00:57] <autrijus> ok. I need to sleep for real.

[00:57] <autrijus> stevan: you can still get the svn logs from "svn log http://svn.perl.org/perl6/pugs/trunk"

[00:57] <autrijus> stevan: please commit changelog to the tpe.freepan.org repo above.

[00:57] <autrijus> zzz &

[00:59] <obra> mm. properly nightshifted

[01:28] <stevan> ingy: ping?

[01:31] *** maluco_ is now known as CapoeiraA

[01:37] *** Odin_ is now known as Odin-LAP

[02:28] *** _meppl_ is now known as meppl

[02:30] <meppl> of this channel here?   http://colabti.de/irclogger/irclogger_logs/perl6

[02:31] <stevan> meppl: yes

[02:33] <meppl> ieks im public

[02:34] <stevan> quick hide

[02:34] <meppl> *hideout*

[02:38] <stevan> autrijus: ChangeLog is done

[02:38] <stevan> but I cannot commit to freepan

[02:38] <stevan> so I emailed it to you 

[02:38] <stevan> enjoy :)

[02:39] <meppl> ive no new email

[02:39] <stevan> meppl: I was refering to autrijus :)

[02:39] <meppl> oh okee

[03:28] <ingy> stevan: pong

[04:39] *** autrijus changes topic to: svn.openfoundry.org/pugs/ back | pugscode.org <Overview Journal Logs> | pugs.kwiki.org

[04:54] *** autrijus changes topic to: svn.openfoundry.org back | Preflight #1: http://xrl.us/fxsg | pugscode.org <Overview Journal Logs> | pugs.kwiki.org

[04:54] <autrijus> please test Preflight #1 and report back any issues.

[04:54] <autrijus> the full URLis

[04:54] <autrijus>  http://wagner.elixus.org/~autrijus/tmp/Perl6-Pugs-6.2.2.tar.gz

[04:55] <autrijus> this preflight is unusual because we'll have ~8 hours of test time while I (finally) sleep.

[04:55] * autrijus waves &

[04:59] <meppl> gute nacht

[05:08] <puetzk> hmm... I sense an evil scheme to get me to look at more of the pugs code. Somehow I'd never noticed all the tolkein poetry until now :-P

[05:08] * puetzk supposes that gives a recommended order to look at things in :-)

[05:19] <gaal> http://forum2.org/gaal/pugs/smoke-cygwin-6.2.2-preflight-1.html

[05:21] <autrijus> thanks. shortly after that I have uploaded under the same name, with the two unexpected success removed

[05:22] <gaal> shall i resmoke? i have time for one more round.

[05:22] <autrijus> no, I think that's just fine

[05:22] <autrijus> thanks :)

[05:23] * autrijus waves &

[05:23] <gaal> bon nuit :)

[05:59] <wolverian> hmm, shouldn't 'for @foo { ... }' be parsed as 'for @foo -> $_ is rw { ... }', not as 'for @foo -> $_ { ... }'?

[05:59] <wolverian> (ChangeLog says the latter)

[06:58] *** gaal_ is now known as gaal|work

[08:40] <theorbtwo> Is it too late to check in my haddock patches?

[08:41] <gaal|work> theorbtwo, i think not; we've past preflight 1 but release isn't due till a few hours

[08:47] *** castaway_ is now known as castaway

[09:01] <skew> is there an optimized + profiled build?

[09:06] <skew> does anybody here understand the stuff around primOp and op2?

[09:06] <gaal|work> skew, i know the very basics

[09:06] <skew> Okay

[09:06] <skew> I just did a test that came up with some strange results

[09:07] <skew> I'd like somebody else to help me interpret

[09:07] <skew> I was slightly worried that op2 was doing the string match on the operator each time a piece of code was executed, rather than just when it was parsed

[09:08] <skew> so I wrapped the right hand side of some operators mandel.p6 uses with trace

[09:08] <skew> which only printed it's text once

[09:09] <skew> then I wrapped op2 itself, and I'm getting lots of output

[09:09] <skew> actually, I used unsafePerformIO, but I should use trace

[09:13] <Corion> r2559 is all green on Win32

[09:14] <theorbtwo> I'd appreciate if people could try 2560, and doing "make haddock" with it.

[09:14] <theorbtwo> (Esp win32 people who nonetheless have haddock on their path, but any tests are very welcome.)

[09:15] <Corion> Is haddock in the default ghc distribution?

[09:15] <Corion> NMAKE : fatal error U1073: don't know how to make 'src\IMC.hpp'

[09:16] <theorbtwo> No.  http://haskell.org/haddock/.  There's even a win32 binary build.

[09:16] <theorbtwo> Blast.

[09:16] <theorbtwo> I may have used a gnuisim in the makefile.

[09:18] <theorbtwo> Dammit!

[09:18] <theorbtwo> Anybody here understand make?

[09:19] <theorbtwo> I need to convert %.hpp : %.hs @prereqs $version_h to portable make.

[09:28] * nothingmuch is proud of his sheep folding haskell code

[09:28] <nothingmuch> but it's probably stupid

[09:28] <nothingmuch> anybody want to review?

[09:28] <nothingmuch> http://www.haskell.org/hawiki/HaskellIrcPastePage

[09:37] <Corion> autrijus: I think you broke t/pugsrun/09* - at least, it runs far fewer tests now and the commandline output still displays the any() junction instead of splitting it up into separate strings.

[09:37] <theorbtwo> Well, I figured out how to do it... by editing the generated Makefile.

[09:37] <theorbtwo> Now I have to figure out how to make Makefile.PL do it.

[09:37] <theorbtwo> This makes me want to cry.

[09:40] <Corion> theorbtwo: I guess that is why Schwern always cries "Makemaker must die" ;-)

[09:40] <theorbtwo> Yes.

[09:40] <theorbtwo> It is.

[09:41] <theorbtwo> But for some reason, this blasted project is using it anyway.

[09:47] <Corion> ... because Module::Build has even worse debugging capabilities than staring at a Makefile

[09:48] <Corion> (but I guess that porting it to M::B is something you could do/try, just to see how it differs from what we have now)

[09:53] <theorbtwo> Corion: svn up and try again, please.

[09:54] <Corion> src/Pugs/Compat.hs:15: pugs_config.h: No such file or directory

[09:54] <Corion> ... so maybe a "make" before "make haddock" fixes that ? (trying)

[09:54] <theorbtwo> It will.

[09:55] <theorbtwo> I had to change from pattern rules to suffix rules, and suffix rules can't handle the extra dependency.

[09:55] <Corion> theorbtwo: aah

[09:56] <skew> I made a profiled-optimized target by copying the two lines of make for the optimized target in Makefile.PL. It seems to work, but is there anything else I was supposed to do?

[09:57] <Corion> Yep - make && make haddock works, except that I don't have haddock installed :)

[09:58] <gaal|work> hey. i got yaml_harness.pl -j 2 working. anyone want to test?

[09:58] <theorbtwo> Yey!

[09:58] <castaway> cool!

[09:58] <gaal|work> Corion - it doesn't wokr on pure win32 though :(

[09:58] * castaway pats theorbtwo on the back.

[09:58] <Corion> gaal|work: Bah. I have a machine that pretends to be 2 CPUs, so I could try, but if it doesn't work ... :)

[09:59] <gaal|work> no fork, no fun.

[10:00] <Corion> gaal|work: You could use "start" to start the process(es) separately.

[10:00] <Corion> (communication doesn't happen then though)

[10:01] <gaal|work> patches welcome :) i won't ci this because i have to got for a few hours and this is a bad time for b0rking the build

[10:01] <gaal|work> but i'm u/ling it for tests

[10:01] <Corion> I heard there is going to be a release ... :)

[10:01] <gaal|work> yeah, muchos speedupos.

[10:02] <skew> what is it, 40% total since the last one?

[10:03] <skew> or was that after the 2x from strictness?

[10:05] <castaway> strictness is faster?

[10:05] <Corion> castaway: Yes, because strictness can use native datatypes (or that's what I think the explanation was)

[10:06] <skew> strictness avoids indirection

[10:06] <skew> and thunks

[10:06] <castaway> sneaky

[10:06] <skew> does pugs use laziness for anything?

[10:07] <lightstep> yes

[10:07] <lightstep> for almost everything

[10:07] <Corion> ... like, lists :)

[10:07] <Corion> 1..Inf works in Pugs. Or it should. Some day. :)

[10:08] <theorbtwo> Well, except we should roll our own lazyness for that.

[10:08] <skew> No, I mean in the interpreter

[10:08] <theorbtwo> Lists currently use haskell-level lazyness, but that should change.

[10:08] <Corion> I like to think of the interpreter as sweet syntactical candy over Haskell. That may be wrong already though.

[10:09] <theorbtwo> Quite wrong, I think.

[10:11] <gaal|work> http://forum2.org/gaal/pugs/yaml_harness.pl - concurrent yaml harness

[10:11] <gaal|work> use with util/yaml_harness.pl -j 3

[10:11] <gaal|work> or

[10:11] <gaal|work> env PUGS_TESTS_CONCURRENT=3 make smoke

[10:12] <theorbtwo> Oh, BTW, I figured out why the versions from the yaml harness and src/Pugs/pugs_version.h don't always match.

[10:12] <gaal|work> on my box at work it gave a 40% speedup for the test run.

[10:13] <gaal|work> cool! why?

[10:13] <Corion> gaal: POSIX.pm is available on native Win32 too :)

[10:13] <gaal|work> is fork?

[10:13] <Corion> gaal|work: Yes, kinda. Except that it doesn't work except in specific cases.

[10:13] <theorbtwo> The pugs_version thing generates it from .svn/entries; the yaml harness uses svn info.

[10:13] <Corion> ... but if all you do is run the harness in parallel, it might Just work

[10:14] <theorbtwo> .svn/entries doesn't exist if you use svk.

[10:14] <theorbtwo> (Somebody who does use svk should fix that, probably... I have no idea what to do in that case.)

[10:14] * Corion downloads and tries

[10:15] <clkao> should use 'svk ls' to get the entries

[10:15] <nothingmuch> gaal++

[10:15] <gaal|work> i have to go now. see y'all later!

[10:22] <Corion> yah. fork emulation and system() don't play well together (resp. fork() emulation blocks all but one thread)

[10:22] <Corion> ... just like in Pugs at the moment :)

[10:27] <Corion> Hah. And by inserting a judicious "sleep 200" before gather_results(), I get 100% CPU usage and the tests seem to run in parallel

[10:28] <theorbtwo> Hm, I suppose I should get around to installing the Test::TAP::* thingies, and start actually running the tests again at some point.

[10:28] <Corion> ... but now, the spotty fork() emulation of Win32 Perl strikes again. :(

[10:38] <Corion> Weird. With 2 parallel tests, one of the tests starves the other, but with three, they run pretty much round robin, as they should (100% CPU usage). So it Just works on Win32

[10:39] <Corion> ingy: Your Spiffy tests are newline sensitive

[10:44] <nothingmuch> is there a nice way to specify that a graph is a supergraph of another?

[10:44] <nothingmuch> i.e., g1 has all the nodes and edges that g2 has, but possibly more

[10:45] <nothingmuch> basically g2 is just g1 with some elements deleted

[10:45] <nothingmuch> (i'm looking for a term, or a module, or a concept, or anything to get farther than I am right now)

[10:45] <lightstep> nothingmuch, say that an injective homomorphism exists

[10:46] <nothingmuch> please wait while i lookup that term

[10:46] <lightstep> ×—×“ ×—×“ ×¢×¨×›×™

[10:46] <lightstep> if f(x)=f(y) then x=y

[10:46] <theorbtwo> An injected hormone?

[10:47] <nothingmuch> lightstep: i have 3 pts of math, and no math education beyond that, so it won't help even in heb ;-)

[10:47] <nothingmuch> lightstep: okay, what's the context of that thing?

[10:47] <lightstep> a graph is a pair of sets: vertices and edges. f is a mapping of vertices from the first graph to the second

[10:48] <autrijus> greetings.

[10:48] <lightstep> the "injective" part is that two distinct vertices in g1 map to distinct vertices in g2

[10:48] <theorbtwo> Greetings, autrijus.

[10:48] <castaway> mornin autrijus 

[10:48] <autrijus> so preflight is largely uneventful?

[10:48] <theorbtwo> make haddock should work now.

[10:48] <Corion> a homomorphism is a function f(X) with f(x+y) = f(x) + f(y)

[10:48] <nothingmuch> hola autrijus

[10:48] <autrijus> theorbtwo: yes, and I improved it a bit

[10:48] <autrijus> theorbtwo++

[10:48] <lightstep> Corion, that depends on context

[10:48] <theorbtwo> Even on backwards platforms that don't use GNU make.

[10:48] <Corion> ... and gaal hacked in but didn't commit parallel smoking. And it half-works on Win32

[10:49] <nothingmuch> lightstep: so what is the question?

[10:49] <nothingmuch> works very well on OSX

[10:49] <autrijus> why not commit?

[10:49] <autrijus> theorbtwo: yes, like my platform :D

[10:49] <Corion> autrijus: Dunno - he's afraid of breaking preflight :)

[10:49] <nothingmuch> if i understand correctly it does exist

[10:50] <autrijus> aww, that's very not pugslike :)

[10:50] <lightstep> nothingmuch, whether an injective homomorphism exists. a homomorphism is a function f such that there is an edge <a,b> in g1 if and oonly if there is an edge <f(a),f(b)> in g2

[10:50] <autrijus> if it breaks, we deal, or we ship the old version

[10:50] <lightstep> nothingmuch, that's the mathematical statement that g is a subgraph of g2

[10:51] <nothingmuch> right

[10:51] <nothingmuch> now on to implementation ;-)

[10:51] <scook0> theorbtwo: just finished make && make haddock; works fine

[10:51] <autrijus> I'll commit it.

[10:52] <theorbtwo> Great, scook0!

[10:52] <nothingmuch> basically i need an efficient way to crete a set of edges, that represents which edges of g2 are in g1

[10:52] <scook0> now work on the actual docs will be easier -- thanks!

[10:53] * nothingmuch will add make haddock to smoke

[10:53] <theorbtwo> You should possibly CI your docs.

[10:54] <nothingmuch> lightstep: my limitations is that I need to know: the border of the subgraph, e.g. nodes which don't inherit all of the edges, and the subgraph itself efficiently

[10:54] <Corion> The parallel make doesn't work as-is on Win32, becuase the fork() emulation does something wrong. I'll rewrite it as parallel processes there.

[10:55] <Corion> ... ugh. Which requires parameter/config passing to an external program. :(

[10:55] <lightstep> nothingmuch, it seems rhard

[10:55] <nothingmuch> that's the reason i'm here ;-)

[10:55] <autrijus> nothingmuch: Data.Graph.Inductive :)

[10:55] <autrijus> I think it gets you those for free

[10:56] <scook0> theorbtwo: I don't have commit yet -- can I get it?

[10:56] <autrijus> scook0: sure! your email?

[10:56] <scook0> [email@hidden.address]
[10:56] <autrijus> invitation sent. welcome aboard!

[10:56] <scook0> autrijus: cheers!

[10:56] <autrijus> scook0++

[10:57] <theorbtwo> Don't forget to add yourself to AUTHORS.

[10:57] <scook0> ok

[10:57] <autrijus> right. if you do it soon enough, you'll make the 6.2.2 list :)

[10:57] <autrijus> welcome to be our 70th committer

[10:57] <theorbtwo> Reminds me, I should check on the AUTHORS file before release.

[10:57] <autrijus> sure.

[10:58] * autrijus is running concurrent smoke

[11:02] <skew> autrijus, could 

[11:03] <skew> could you explain how opN is supposed to fit into the interpreter?

[11:03] <autrijus> skew: gladly

[11:03] <autrijus> skew: it goes like this

[11:03] <autrijus> when you say

[11:03] <autrijus>  print 123

[11:04] <autrijus> it's parsed as

[11:04] <autrijus> (App "&print" [] [Val (VInt 123)]

[11:04] <autrijus> )

[11:04] <skew> I stuck a trace around op2 (the one that takes a string) with unsafePerformIO, and it looked like it was being called once per operator per loop in mandel

[11:04] <autrijus> the reduction rule of App

[11:05] <autrijus> looks up the &print in the lexical environment

[11:05] <autrijus> s/environment/pad/

[11:05] <autrijus> and the global pad

[11:05] <autrijus> the pad was generated with genSym

[11:05] <autrijus> (or genMultiSym)

[11:05] <autrijus> on Prim.hs line 1059

[11:05] <lightstep> nothingmuch, this might be of interest: http://www.iam.unibe.ch/~fki/publications/papersOnGraphMatching/SSPR2002.pdf

[11:05] <autrijus> it looks up the subBody associated with the VCode object associated with  &print symbol

[11:06] <autrijus> where it was defined as "Prim f"

[11:06] <autrijus> where f is defined on lin 1084

[11:06] <autrijus> ahh. I know why it's slow.

[11:06] <autrijus> it should definitely run the case analysis outside "f"

[11:06] <autrijus> and only return a polymorphic-to-argument version when its arity is 1

[11:07] <autrijus> otherwise it should fetch the "op symStr"

[11:07] <skew> I know you suggested starting with the things that took about 6%, but I figured I would look at op2 taking 50% first

[11:07] <autrijus> much coolness.

[11:07] <skew> let's see what my optimzied+profiled build shows

[11:07] <skew> (just finished compiling)

[11:08] <skew> ah, this is much more sensible

[11:09] <nothingmuch> http://nothingmuch.woobling.org/pugs_test_status/ <-- parallel build takes ~55% off the time

[11:09] <nothingmuch> 3 jobs, 2 cpus

[11:09] <skew> op2Number at 13.2%, findList 10.4%, reduce 8.9%, compareList 6.8%, etc. op2 down at 1.6%

[11:09] <skew> -O1 and -prof seem to get along just fine, by the way

[11:10] <autrijus> cool.

[11:11] <skew> so was there some reason op2 would be called repeatedly?

[11:11] <skew> oh, those value constraings

[11:11] <skew> constraints

[11:11] <autrijus> I think under -O0 the "f" doesn't reduce away the constraints

[11:11] <autrijus> I'm also thinking that we should build with -O by default

[11:11] <autrijus> thoughts?

[11:12] <skew> still, op2 should only be called when building the global pad, right?

[11:12] <autrijus> skew: the problem is "Prim f" contains the "f" which may be called repeatedly

[11:12] <autrijus> one way to reduce it ourselves will be saying

[11:12] <autrijus> "Prim $ case arity of ..."

[11:12] <skew> isn't f the result of calling op2, though?

[11:12] <autrijus> it is, but maybe ghc under -O0 doesn't optimize it

[11:12] <autrijus> and so blindly re-call op2

[11:13] <skew> even unoptimized it would put a thunk in the prim

[11:13] <skew> and then only evaluate it once

[11:13] <autrijus> er. I have no idea. :-/

[11:14] <skew> oh, f is a lambda that calls prim

[11:14] <skew> no wonder op2 gets called a lot

[11:14] <autrijus> right.

[11:14] <autrijus> I think under -O it gets optimised away.

[11:15] <skew> I think it probably gets pulled out

[11:15] <skew> okay, I understand what was being slow, and how GHC fixes it

[11:15] <theorbtwo> Anybody know who "adehohum", "gcomnz", "mattc", and "tobez" are?

[11:16] <iblech> http://pastebot.nd.edu/561

[11:16] <skew> why does findList need to walk a tree at all?

[11:17] <skew> it looks like there is a fixed class hierarchy

[11:17] <theorbtwo> Presently, but that's a todo that should be fixed.

[11:17] <autrijus> skew: because envClassTree may change.

[11:18] <autrijus> and in order for it to change, we need to make it a Graph :)

[11:21] <nothingmuch> graphs graphs graphs

[11:24] <theorbtwo> Hm, I feel like doing something different.

[11:25] <castaway> uhoh ;)

[11:26] <skew> I'd like a script for keeping only the expensive parts of the call tree, leaving the ancestors

[11:27] <theorbtwo> nm, while testing Test::TAP::Model: t/comprehensive....ok 22/113Operation `eq': no method found,

[11:27] <theorbtwo>         left argument in overloaded package Test::TAP::Model::Subtest,

[11:27] <theorbtwo>         right argument in overloaded package Test::TAP::Model::Subtest at /usr/share/perl/5.8/Test/More.pm line 1037.

[11:28] <theorbtwo> Should I care?

[11:30] <skew> If I add a new build, do I need to do anything more than adding a new target in Makefile.PL?

[11:31] <castaway> you may need to scrifice code to the gods, or some such

[11:31] <skew> I was hoping to avoid that, if possible

[11:31] <theorbtwo> No, but you do have to write portable make rules.

[11:31] <skew> I thought we lambdafolk were already pure anyway

[11:31] <castaway> hrrm, could be tricky..

[11:31] <theorbtwo> Also, don't forget to backslash approprately.

[11:32] <skew> okay, well I just copied the optimized target, changed the name, and stuck in -prof

[11:32] <theorbtwo> It's not your purity that is in question, but that of ExtUtils::MakeMaker.

[11:32] <theorbtwo> You should be safe, then.

[11:32] <skew> it corrupts everything it touches?

[11:32] <theorbtwo> Yes.

[11:33] <theorbtwo> Often through several levels of indirection, even.

[11:33] <autrijus> * optimized build is now default.

[11:33] <skew> does anybody have suggestions for a script to prune profiling results?

[11:33] <autrijus> please test to see it doesn't break things.

[11:33] <autrijus> I'll be back in ~2hr

[11:33] <autrijus> and release 6.2.2

[11:33] <autrijus> &

[11:34] <theorbtwo> Later.

[11:34] <skew> this is the sort of stuff perl was created for, right?

[11:35] <castaway> See Module::Build

[11:35] <nothingmuch> is anyone sending me messages?

[11:35] <castaway> (some people think its the bees knees, and others go "ick" ;)

[11:35] <castaway> not me

[11:35] * nothingmuch thinks client is has become confused

[11:35] <theorbtwo> Not me, though I did ask you a question a couple of minutes ago.

[11:36] <theorbtwo> OTOH, I didn't actually say "nothingmuch", just "nm".

[11:36] <nothingmuch> ah, i see

[11:36] <nothingmuch> i think that wasn't this time the dock icon bounced

[11:36] <theorbtwo> BTW, "make smoke" throws warnings if there is no .smoker.yml file.

[11:36] <nothingmuch> anyway, the reason is that Test::More is prolly out of date

[11:37] <theorbtwo> Oh.

[11:37] <theorbtwo> OK.

[11:37] <nothingmuch> i think it's doing is($obj, $obj) which works for me

[11:37] <nothingmuch> that test checks the various extractions of data sets

[11:54] <skew> A -> I

[11:55] <skew> hmm, maybe I should use different terminals for different channels...

[11:56] <webmind> ?

[11:56] <webmind> why

[11:56] <skew> well, that A -> I was pointing out a typo to somebody in #haskell

[11:57] <skew> I'm looking at a channel and the stuff I type goes in the minibuffer at the bottom, so I know irssi has focus

[11:58] <skew> sometimes I forget to check if it's going to the right window, though

[11:58] <castaway> ;)

[11:58] <castaway> make the "#XXX" bit in the statusbar a brighter colour?

[11:58] <skew> has anybody written a perl pugs-profile-pruner for me yet?

[11:58] <webmind> hmk

[12:04] <nothingmuch> what is the name for when the universe splits in two

[12:04] <nothingmuch> into two alternate universes

[12:04] <nothingmuch> for each possiblity?

[12:05] <castaway> umm, parallel universes ?

[12:05] <castaway> multiverse?

[12:05] <nothingmuch> that's the result

[12:05] <autrijus> er, sorry, got conflict, didn't really commit the optimnised fix

[12:05] <skew> nondeterminism?

[12:05] <nothingmuch> i mean the event

[12:05] <autrijus> will do so in a bit

[12:05] * autrijus is @ dinner table

[12:05] <theorbtwo> The standard interpretation of quantum physics, IIRC.

[12:05] <skew> autrijus: has IRC @ dinner table?

[12:05] <theorbtwo> Or is that the nonstandard interpretation?

[12:05] <nothingmuch> autrijus: then be nice to your hosts/guests and take a break ;-)

[12:06] <skew> that's the many-worlds interpretation

[12:06] <castaway> autrijus has IRC/computer *everywhere*

[12:06] <theorbtwo> Ah, thank you, skew.

[12:06] <skew> I think the standard is the Copenhagen interpretation, where the wave function collapses

[12:07] <skew> but lately I think everybody believes in unitary evoluation with classical mechanics coming from decoherence

[12:08] <nothingmuch> i see "splitting"

[12:09] * nothingmuch thought there would be a cooler word

[12:09] <autrijus> :)

[12:09] <autrijus> it's getting more and more difficult to find a dinnerplace in taipei that has no wireless access

[12:10] <theorbtwo> You could not take your laptop.

[12:11] <autrijus> I think Copenhagen and Many-worlds has been disproved by Afshar's experiment?

[12:11] <autrijus> er, maybe just copenhagen

[12:11] <castaway> go out without hardware? the horrors!

[12:11] <autrijus> but I know nothing about this, so it's pure hearsay :)

[12:12] <theorbtwo> You appear to know a lot more then I do.

[12:13] <skew> well, the big link on http://users.rowan.edu/~afshar/ goes to a uselessly vauge description of the experiment

[12:13] <autrijus> skew: http://en.wikipedia.org/wiki/Afshar_experiment

[12:13] <autrijus> http://irims.org/blog/index.php/questions

[12:16] <autrijus> rolling preflight #2 now

[12:16] <autrijus> anyone has anything outstanding in progress to declare? :)

[12:18] * theorbtwo declares that he is horrible at tetris.

[12:19] <autrijus> :D

[12:19] <autrijus> try bastet some time.

[12:19] <autrijus> I love that game.

[12:19] <autrijus> (and, less self-abusingly, liquid wars)

[12:21] <iblech> autrijus: Did you look into http://pastebot.nd.edu/561 ("Interactive Pugs forgets lexical variables")?

[12:22] <autrijus> no I did not.

[12:22] <autrijus> investigating

[12:34] <Aankhen``> «autrijus»: Hadn't you decided on that behaviour?

[12:34] <Aankhen``> I seem to recall you saying that variables declared with "my" would be forgotten in the interpreter.

[12:35] <Aankhen``> BBL.

[12:36] <autrijus> did I.

[12:36] <nothingmuch> autrijus: i drew a little diagram for my graph problem

[12:36] <autrijus> no, it was like that, but lightstep figured out how to hack in continuous lexical pads

[12:36] <nothingmuch> Sabrina (the office mom) will scan it when her computer is fixed

[12:36] <nothingmuch> would you like to see?

[12:38] * castaway fixes buggy bits of Everything (bah ,)

[12:42] <nothingmuch> hmm, they're a little illegiable... =/

[12:43] <nothingmuch> http://nothingmuch.woobling.org/pesto_doodle.tif

[12:44] <autrijus> iblech: fixed, try again?

[12:45] <iblech> autrijus: Sure, a sec

[12:45] <nothingmuch> and...

[12:46] <nothingmuch> http://nothingmuch.woobling.org/pesto_doodle2.tif

[12:47] <stevan> nothingmuch: we should write pesto in Perl6

[12:48] <nothingmuch> stevan: perhaps... but i'd need OOP =)

[12:48] <nothingmuch> s/data tree/data graph/;

[12:48] <nothingmuch> for anyone curious but lacking context:

[12:48] <nothingmuch> pesto takes a data tree

[12:48] <nothingmuch> and a tree of template chunks, which know to be patterns

[12:48] <nothingmuch> and then it matches the template grammar on the data tree

[12:48] <nothingmuch> pruning plentifully

[12:49] <nothingmuch> and then using the match tree to construct a template which displays a meaningful output from the data slice it chose

[12:49] <nothingmuch> users give feedback on match quality, and thus search space pruning is made nicer

[12:50] <nothingmuch> the doodles have some nonsense in them

[12:50] <nothingmuch> the first one is an architechtural overview, of how I would like this to work, with lazy inheriting graphs

[12:50] <nothingmuch> and the second doodle is an example of how data is selected

[12:51] * nothingmuch has to go

[12:51] <nothingmuch> ciao!

[12:52] <nothingmuch> oh: the many worlds thing is what I wanted to use to describe how the match graph is composed and then skimmed

[12:53] <autrijus> preflight 2!

[12:53] <nothingmuch> govenment is a leech

[12:53] <nothingmuch> 70% of it was taken away by income tax

[12:53] <nothingmuch> we got a 30% salary bonus this month

[12:53] <nothingmuch> for me at least

[12:54] <nothingmuch> autrijus: smoke results should be on my site soon

[12:54] <nothingmuch> r2672

[12:55] *** autrijus changes topic to: Preflight #2: http://autrijus.org/tmp/Perl6-Pugs-6.2.2.tar.gz | pugscode.org <Overview Journal Logs>  | pugs.kwiki.org

[12:55] <autrijus> I need to go home now

[12:55] <autrijus> bbiab

[12:55] <autrijus> &

[12:56] <nothingmuch> *poof*

[12:56] <iblech> autrijus++ # works :)

[13:00] <iblech> castaway, corion, theorbtwo: You might want to proofread docs/talks/Perl6_genau_jetzt.latex (PDF: http://m19s28.vlinux.de/iblech/p.pdf). bbl

[13:01] <castaway> mm, me?

[13:01] * theorbtwo doesn't know german.

[13:02] <theorbtwo> (I only live here.)

[13:02] * castaway looks

[13:07] <castaway> hm the pdf has pages that look the same but for one line, is that just bad conversion of a slideshow?

[13:11] * castaway thinks the C example should be printf("%s\n", "Hello, World!") ?

[13:13] <castaway> und "?@array" is maybe better described as "Hat @array Elemente?" or some such .. (the negative looks odd)

[13:16] <castaway> the first example under Junctions is more "Wenn $a mindestens eine diese Werte hat, dann.." (the actual titel sounds a bit generic to me)

[13:16] * castaway wonders if iblech is listening..

[13:19] <autrijus> so anyone testing the preflight?

[13:20] <autrijus> I think I'm good to fly

[13:21] <castaway> typin the title of the "Beteiligungsmoeglichkeiten" for Pugs

[13:21] <castaway> typo in, oops

[13:23] <meppl> guten morgen

[13:23] <autrijus> hey.

[13:23] <castaway> guten nachmittag

[13:23] <meppl> good morning castaway

[13:24] * castaway refuses to repeat for X languages ;)

[13:25] <iblech> re. [C] fixed. [?@array] fixed. [Junctions] fixed. [typo] fixed. thanks much :)

[13:26] <autrijus> meppl: got time to test-run preflight #2?

[13:27] * theorbtwo reading &

[13:29] <meppl> ill only use perl6, because of my limited knowledge

[13:29] <autrijus> hm?

[13:29] <castaway> you're welcome

[13:31] * castaway d/ls the 6.2.2 #2

[13:31] <autrijus> castaway++

[13:31] <castaway> somebodies got to ,)

[13:33] <autrijus> :D

[13:34] <castaway> this could take some minutes tho, its not the fastest box in the world.. 

[13:34] <castaway> (PI-233 ;)

[13:35] <castaway> oops PII-300

[13:35] <autrijus> that's fine :)

[13:37] <castaway> dumdidum ;)

[13:37] * puetzk grabs the 6.2.2 for a make test spin

[13:38] <castaway> yay ;)

[13:38] <puetzk> but make -j doesn't appear to work (?) so I don't get to trounce him throughly

[13:38] <puetzk> oh well :-)

[13:38] <castaway> trounce who? me?

[13:38] <puetzk> castaway: yeah, the dual athlon vs the PII-300 :-)

[13:39] <castaway> s/him/her/ ;)

[13:39] <puetzk> oops

[13:39] <puetzk> sorry

[13:39] <castaway> you'll win anyway, even with downloading time ,)

[13:39] <castaway> no worries

[13:42] <puetzk> well, it's playing with a handicap; it has to complete within 15 minutes or I'll be AFK and can't post the results :_)

[13:42] <castaway> hehe

[13:44] * iblech won :) -- All tests successful, 25 subtests skipped. But: Then make tries to test ext/CGI which fails 44/95 subtests... It seems to be a problem with old todo_is, fixing...

[13:44] <autrijus> danke.

[13:44] <castaway> grats :)

[13:44] <autrijus> so of all ext/, only CGI fails?

[13:45] <castaway> still compiling here

[13:45] <iblech> make doesn't continue testing after ext/CGI failed, so I don't know

[13:45] <autrijus> ok.

[13:45] <autrijus> awaiting your fix then

[13:47] <puetzk> Linking...

[13:47] <castaway> heh

[13:47] <castaway> still on Pugs.AST

[13:49] <iblech> committed.

[13:49] <autrijus> testing.

[13:50] <pjcj> Failed 1/234 test scripts, 99.57% okay. 1/4670 subtests failed, 99.98% okay.

[13:50] <pjcj> t/unspecced/eval_haskell.....................FAILED test 2                   

[13:50] <pjcj> debian testing

[13:50] <autrijus> run it separately?

[13:51] <autrijus> and post the log

[13:51] <pjcj> ok

[13:52] * iblech force_todo()ed failing tests of File-Spec too (r2586)

[13:52] <autrijus> k.

[13:52] <autrijus> iblech++

[13:53] <pjcj> perlbot: nopaste?

[13:53] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[13:53] <iblech> Same for HTML-Entities (r2588)

[13:54] <pasteling> "pjcj" at 217.162.93.186 pasted "t/unspecced/eval_haskell.....................FAILED test 2" (12 lines, 428B) at http://sial.org/pbot/9809

[13:54] <puetzk> All tests successful, 25 subtests skipped, barfed in ext/CGI aaas with iblech 

[13:54] <autrijus> ok. your hs-plugins is old

[13:55] <pjcj> aha - ok

[13:55] <autrijus> not a showstopper then

[13:55] <castaway> hmm, mine should go thru then, no plugins installed

[13:55] <castaway> assuming it ever gets Pugs.AST compiled

[13:55] <autrijus> now waiting for castaway :)

[13:56] <autrijus> all green here.

[13:57] <iblech> LWP-Simple is the last one which barfs (parsefail), fixing

[13:57] <autrijus> k.

[14:00] <Aankhen``> Man...

[14:00] <Aankhen``> Running "svn update" from the command line is so much faster than using RapidSVN.

[14:01] <castaway> how big is this Pugs.AST ? zzzz..

[14:02] * autrijus is fixing pugscc

[14:04] <autrijus> iblech: any luck?

[14:04] <iblech> autrijus: yes, almost finished

[14:04] <autrijus> woot

[14:04] <pjcj> t/unspecced/eval_haskell runs fine with a hs-plugins snapshot from today

[14:04] <autrijus> here too

[14:04] <autrijus> pjcj: thanks. good to know!

[14:06] <autrijus> castaway: next time you can try "make unoptimized" :)

[14:06] <autrijus> (which will be very fast)

[14:06] <castaway> ah, thanks.. 

[14:06] <castaway> If it is, it may be worth restarting..

[14:07] <autrijus> alright...

[14:07] <autrijus> cutting #3 now, you can restart with that

[14:07] <castaway> *g*

[14:07] <castaway> ok

[14:07] <autrijus> and "make unoptimized test"

[14:08] * castaway attempts to hit C-c and nothing happens..

[14:08] <castaway> ah, did eventually

[14:09] <autrijus> uploading

[14:10] <autrijus> http://pugscode.org/tmp/Perl6-Pugs-6.2.2.tar.gz # preflight #3

[14:10] *** autrijus changes topic to: Preflight #3: http://pugscode.org/tmp/Perl6-Pugs-6.2.2.tar.gz | pugscode.org <Overview Journal Logs> | pugs.kwiki.org

[14:11] <autrijus> castaway: you can be the tester to make sure that "make unoptimized' works :)

[14:11] <castaway> ;)

[14:13] <castaway> here we go..

[14:14] *** Odin-FOO is now known as Odin-

[14:14] <autrijus> pugscc fixed. it won't affect test output, though

[14:15] <autrijus> so please continue testing preflight #3

[14:16] <castaway> got to AST again.. dumdidum

[14:17] <Aankhen``> Yey, it finally compiled.

[14:17] <Aankhen``> Now time for testing.

[14:17] * Aankhen`` sighs.

[14:19] <castaway> woo, got thru AST ;)

[14:19] <castaway> (5 mins for that one bit to compile)

[14:20] <autrijus> Aankhen``: preflight #3?

[14:21] <Aankhen``> Er, I just synced up a while before that...

[14:21] <autrijus> oh. sure, go ahead :)

[14:21] <Aankhen``> Think it was r2588.

[14:22] <autrijus> ah. then LWP::Simple test will fail

[14:22] <autrijus> but otherwise should be ok

[14:23] <autrijus> hey jhorwitz. we are at preflight now!

[14:23] <autrijus> join the preflight party! :)

[14:23] <Aankhen``> OK.

[14:23] * jhorwitz wakes up slowly

[14:23] *** Odin_ is now known as Odin-LAP

[14:26] * jhorwitz is now ready to party.  :)

[14:27] <Aankhen``> t/unspecced/async.t               ??   ??       %  ??

[14:27] <Aankhen``> Is that supposed to happen?

[14:27] <autrijus> Aankhen``: platform?

[14:27] <Aankhen``> Win32.

[14:27] <Aankhen``> BRB.

[14:27] <autrijus> no it's not supposed to happen.

[14:28] <Aankhen``> Back.

[14:28] <Aankhen``> OK.

[14:28] <Aankhen``> Glad to hear it.

[14:28] <autrijus> disabled on win32 for now.

[14:29] <autrijus> will investigate after release

[14:29] <Aankhen``> Alright.

[14:37] <autrijus> jhorwitz: so are you smoking preflight #3 as well? :)

[14:37] * castaway thinks its more the CPUs that are smoking ;)

[14:38] * jhorwitz got distracted on the phone

[14:42] * Limbic_Region sees that 6.2.2 has been released but doesn't see an announcement anywhere?

[14:44] <castaway> its still in preflight

[14:44] <castaway> ooh, linking

[14:44] <castaway> (Compile time: 30+ minutes unoptimized)

[14:45] <Limbic_Region> oh - gotcha

[14:45] <Limbic_Region> so can I do a checkout or should I download from CPAN to test?

[14:46] <castaway> d/l from pugscode and test

[14:46] <Limbic_Region> k

[14:47] <autrijus> see topic

[14:47] <castaway> autrijus++ # succinct explanation

[14:49] <Limbic_Region> starting "make optimized" now

[14:49] <castaway> thats default now ;)

[14:51] * Limbic_Region knows but has a build script that does all the lifting for him

[14:57] <Limbic_Region> supposedly my machine is at 100% CPU utilization but it isn't acting very sluggish

[14:57] <pjcj> Preflight #3: All tests successful

[14:58] <gaal> hello

[14:58] <gaal> are we preflight?

[14:59] <Limbic_Region> see topic

[14:59] * Limbic_Region steals a page from autrijus's book

[14:59] <castaway> ;)

[15:00] * gaal sees topic

[15:03] <autrijus> :)

[15:03] * autrijus waits for more reports to kick in

[15:03] <castaway> its testing .. ;)

[15:03] <puetzk> r2595 passed here

[15:04] <iblech> r2597 passed, too

[15:04] <Limbic_Region> "make optimized" finished 

[15:05] <autrijus> cool.

[15:05] <Limbic_Region> 15 minutes on a 1.5ghz pentium with 512 MB of memory

[15:05] <castaway> bah :)

[15:05] <Limbic_Region> not really "idle" either

[15:05] <Limbic_Region> "make test" commencing

[15:06] <Limbic_Region> oh Win2K Professional if that matters

[15:09] <gaal> cygwin smoke ETA 230 sec

[15:09] <Limbic_Region> oh yeah - I could check Cygwin too but gaal appears to have that covered

[15:11] <gaal> File::Spec not found, is that okay? several tests.

[15:11] <gaal> (or should i have put blib/ in my PERL6LIB?

[15:11] <gaal> )

[15:11] <autrijus> gaal: did you use "make test"?

[15:12] <gaal> make smoke.

[15:12] <gaal> make smoke, not war.

[15:13] <gaal> i wonder if testgraph could be sped up too.

[15:13] <gaal> http://forum2.org/gaal/pugs/smoke-cygwin-6.2.2-preflight-3.html

[15:14] <Limbic_Region> "make test" finished - 1 tests failed

[15:15] <Limbic_Region> 9 minutes elapsed

[15:15] <Limbic_Region> t/unspecced/async.t # failed

[15:15] <Limbic_Region> t/unspecced/async............................FAILED before any test output arrived

[15:15] <Limbic_Region> Failed 1/234 test scripts, 99.57% okay. 1/4670 subtests failed, 99.98% okay.

[15:16] <Limbic_Region> ok - so should I re-run that test by hand?

[15:17] <autrijus> Limbic_Region: this is preflight 3?

[15:17] <autrijus> that's fine, because async.t is already disabled in trunk

[15:18] <Limbic_Region> this is from the link in the topic

[15:18] <autrijus> yeah, that's ok.

[15:18] <autrijus> i.e. known and fixed

[15:18] <Limbic_Region> ok - well then I am off for breakfast

[15:18] <autrijus> thanks!

[15:19] <Limbic_Region> walang anuman

[15:19] <autrijus> and I've fixed pugscc as well.

[15:20] <gaal> where is archname taken from? why does mine claim i have 64 bits? :)

[15:20] <gaal> ah, it looks like my perl(5) thinks it's 64 bits. weird.

[15:21] <gaal> does anyone here know how to supress opening a DOS box for shell commands? the opposite of START, if you will

[15:21] <gaal> since i started using PuttyCYG, when i make i get a dos box for every thing shelled out

[15:22] <gaal> ie at least 20 times during the pugs build + plenty of times during tests.

[15:22] <jhorwitz> gaal: XP?

[15:22] <gaal> yes.

[15:22] <gaal> and cygwin.

[15:23] <jhorwitz> there was a security update a while back that forced shell commands to be "viewable"

[15:23] <jhorwitz> not sure if you can turn it off though...  :(

[15:23] <gaal> that makes perfect sense.

[15:24] <jhorwitz> it's much more secure when you can actually see the "format C:" happening.  ;-)

[15:24] *** maluco_ is now known as CapoeiraA

[15:25] <jhorwitz> do we need solaris smokes?

[15:25] <gaal> hey, a list of platforms pugs is known to work on would be neat!

[15:26] * gaal edits the README

[15:26] <castaway> just look for the haskell list? ;)

[15:26] <autrijus> ok, I think we're good.

[15:26] <gaal> (or should i wait for after the release?)

[15:26] <gaal> ah, never have to wait long when autrijus is around :)

[15:26] <autrijus> anyone with a fast CPU wants to test for a final time before I announce and upload to CPAN?

[15:26] <jhorwitz> RHEL 3.0:  All tests successful, 22 subtests skipped.

[15:26] <autrijus> http://pugscode.org/dist/Perl6-Pugs-6.2.2.tar.gz

[15:26] <gaal> autrijus, it takes me 14 minutes.

[15:26] <gaal> that fastr enough?

[15:27] *** autrijus changes topic to: Final call: http://pugscode.org/dist/Perl6-Pugs-6.2.2.tar.gz | pugscode.org <Overview Journal Logs> | pugs.kwiki.org

[15:27] <autrijus> yes, please commence.

[15:27] <autrijus> I will be right back. :)

[15:27] <autrijus> &

[15:27] * castaway is on operators, is that anywhere near the end?

[15:27] <autrijus> oh, test pugscc too

[15:27] <autrijus> castaway: about midway... you can finish the run :)

[15:28] <Limbic_Region> autrijus - make testpugscc ?

[15:28] * castaway grins

[15:28] <castaway> (sometime today hopefully..)

[15:28] <autrijus> Limbic_Region: no, just run pugscc on random oneliners

[15:28] <autrijus> it is not showstopping

[15:28] <Limbic_Region> ok

[15:28] <autrijus> just to sanity check

[15:29] <autark-jp> bah, I started compiling 2591 yesterday ... :/

[15:30] <iblech> --runpugs and --runhaskell do *not* work on r2602 (Linux). --runparrot works

[15:30] <iblech> Could not find module `Pugs.Internals':

[15:30] <iblech>   use -v to see a list of the files searched for

[15:30] <iblech>   (imported from /home/iblech/programmieren/pugs/MainCC.hs)

[15:30] <iblech> Bad file descriptor at ./script/pugscc line 101.

[15:31] <iblech> (./script/pugscc --runpugs -e 'say 42')

[15:31] <castaway> t/operators/filetest.........................ok 32/34# Looks like you failed 2 tests of 34

[15:31] <castaway> t/operators/filetest.........................FAILED tests 11-12

[15:32] <iblech> filetest.t worksforme

[15:35] <autrijus> iblech: it needs a "make install"

[15:35] <autrijus> hey stevan.

[15:35] <autrijus> castaway: which two tests was that?

[15:35] <autrijus> and what's the platform?

[15:36] <castaway> I dunno the rest is still running

[15:36] <castaway> Gentoo linux

[15:37] <Limbic_Region> tests 11-12

[15:37] <Limbic_Region>  t/operators/filetest.........................FAILED tests 11-12

[15:37] <autrijus> which two tests are them?

[15:37] <Limbic_Region> ohhh

[15:37] <Limbic_Region> just a sec

[15:37] <autrijus> (my laptop went out of battery, switching to a random mac now)

[15:37] <gaal> i unfortunately can't test pugscc because i don't have support for any of the backends.

[15:38] <iblech> I'm on Gentoo Linux, too, filetest.t worksforme. GHC 6.4, perl5 5.8.5

[15:38] <gaal> but smoke coming in soon.

[15:38] <autrijus> gaal: hm? if you have "make install"ed, just

[15:38] <autrijus> pugscc -e 'say 123'

[15:38] <autrijus> ./a.out

[15:38] <autrijus> should work

[15:38] <autrijus> oh wait, you are on cygwin.

[15:38] <gaal> no TH

[15:38] <castaway> 5.8.6 here

[15:38] <autrijus> gaal: plain pugscc needs no TH

[15:38] <autrijus> or at least, it should not

[15:39] <gaal> oh? okay, then i'll make install.

[15:39] <autrijus> thanks

[15:39] <autark-jp> all tests ok here too (#2591), gentoo with 5.8.6 (but with make optimized)

[15:39] <autrijus> autark-jp: thanks!

[15:39] <autrijus> ok, so we're left with filetest breakage and unconfirmed pugscc

[15:39] <gaal> http://forum2.org/gaal/pugs/smoke-cygwin-6.2.2-preflight-4.html

[15:39] <Limbic_Region> it looks like 11 and 12 have to do with /etc/shadow

[15:39] <Limbic_Region>   ok !-r "/etc/shadow", "-r returns false on unreadable files";

[15:39] <Limbic_Region>   ok !-w "/etc/shadow", "-w returns false on unwritable files";

[15:39] <castaway> crap, attempting to rerun that test elsewhere made it want to recompile :(

[15:39] <gaal> my smoke is all green.

[15:39] * castaway curses

[15:40] <autrijus> so /etc/shadow is readable and writable on gentoo

[15:40] <Limbic_Region> autrijus - perhaps castaway has unsafe permissions

[15:40] <castaway> ah, Im running as root ;)

[15:40] <autrijus> eh. :)

[15:40] <Limbic_Region> so it is a good failure then

[15:40] <Limbic_Region> ;-)

[15:40] * castaway pokes Limbic_Region 

[15:40] <autrijus> I think those two tests are too risky anyway

[15:40] <castaway> sonuds like a daft way to test

[15:40] <Limbic_Region> yeah

[15:40] <autrijus> can someone remove them from the test and readjust forcetodo (if any) ?

[15:40] <Khisanth> has there been anything said about modules in p6 with regards to loading/reloading/unloading?

[15:40] <autrijus> or just skip them, anyway

[15:41] <gaal> pugscc -e 'say "hi"' 

[15:41] <gaal> *** Using the 'Pugs' backend. 

[15:41] <gaal> ghc.exe: can't find file `/tmp/Perl6-Pugs-6.2.2/MainCC.hs' 

[15:41] <gaal> No such file or directory at /usr/bin/pugscc line 104. 

[15:41] <autrijus> I'm still downloading GHC

[15:41] <iblech> autrijus: will do

[15:41] <autrijus> gaal: MainCC.hs is not generated? hrm

[15:41] * autrijus wonders why

[15:41] <gaal> wait, did i have to make anything special?

[15:41] <gaal> make pugscc?

[15:41] <autrijus> no, that is fine

[15:41] <autrijus> that should just work

[15:42] <autrijus> try

[15:42] <autrijus> perl script/pugscc -e 'say 123'

[15:42] <gaal> i *do* have that file.

[15:42] <autrijus> ah. pathname!

[15:42] <autrijus> ghc doesn't grok cygwin style /tmp

[15:42] <autrijus> do you have a fix handy for that?

[15:42] <autrijus> no worries if not

[15:42] <Limbic_Region> Could not find module `Pugs.Internals':

[15:42] <Limbic_Region> does pugscc require a make install?

[15:42] <autrijus> Limbic_Region: yes.

[15:43] <autrijus> gaal: try also just set $base to '.' if $^O is cygwin

[15:43] <autrijus> gaal: instead of cwd()

[15:43] <autrijus> and see if it fix that

[15:43] <stevan> hey all, .. are we still preflighting?

[15:43] <iblech> autrijus: Done as r2603

[15:43] <autrijus> haxx0r script/pugscc as needed

[15:43] <autrijus> iblech++

[15:43] <autrijus> stevan: yes

[15:43] <Limbic_Region> it generated an a.exe that did what I told it too autrijus

[15:43] <autrijus> stevan: but really close :)

[15:43] <autrijus> (or so I hope)

[15:43] <autrijus> Limbic_Region: yay!

[15:43] * Limbic_Region is impressed btw

[15:44] <autrijus> Limbic_Region: try pugscc on examples/mandel.p6

[15:44] <autrijus> Limbic_Region: that .exe has no external dependencies :)

[15:44] <gaal> autrijus, no :(

[15:44] <autrijus> you can just ship it anywhere.

[15:44] * Limbic_Region is even more impressed

[15:44] <castaway> funky

[15:44] <Limbic_Region> Couldn't match `IO (TVar Bool)' against `STM (TVar a)'

[15:44] <Limbic_Region> autrijus - do you want to debug further or just know that it didn't work?

[15:45] <autrijus> Limbic_Region: nopaste your MainCc.hs

[15:45] <autrijus> as well as the error msg by ghc

[15:45] <Limbic_Region> k

[15:45] <Limbic_Region> perlbot nopaste

[15:45] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[15:46] <autrijus> still downloading ghc here :-/

[15:47] <autrijus> gaal: try change line 46 of script/pugscc

[15:47] <gaal> autrijus, now:  perl script/pugscc -e 'say "hi"' 

[15:47] <gaal> *** Using the 'Pugs' backend. 

[15:47] <gaal> Could not find module `Pugs.Internals': 

[15:47] <gaal>   use -v to see a list of the files searched for 

[15:47] <gaal>   (imported from ./MainCC.hs) 

[15:47] <autrijus> instead of cwd(), make it "."

[15:47] <gaal> No such file or directory at script/pugscc line 101. 

[15:47] <gaal> yes, ack that change

[15:47] <gaal> problem further down.

[15:47] <autrijus> ah. the include paths are all wrong as well

[15:48] <autrijus> because cygwin thinks them to be in /usr/ etc

[15:48] <autrijus> but ghc can't grok that

[15:48] <autrijus> oh well, I guess cygwin is out of luck

[15:48] <autrijus> for 6.2.2 :-/

[15:48] <pasteling> "Limbic_Region" at 69.250.48.119 pasted "pugscc error" (26 lines, 6.5K) at http://sial.org/pbot/9812

[15:48] <Limbic_Region> there ya go autrijus

[15:48] <autrijus> danke

[15:49] <Limbic_Region> chum-eh-nayo

[15:49] <gaal> i wonder if there's a cygwin_to_dos_path function. i'll look.

[15:49] <autrijus> Limbic_Region: oh

[15:49] <autrijus> Limbic_Region: your MainCC is incomplete

[15:49] <autrijus> I need the second half

[15:49] <Limbic_Region> Hangul without the character set really doesn't look right

[15:49] <castaway> mmpf, why does "make test" always want to recompile/link ?

[15:49] <Limbic_Region> autrijus - that is from a "select all"

[15:49] <gaal> castaway, IIRC, because of an extra colon somewhere :)

[15:50] <castaway> someone should fix it, its a bug ;)

[15:50] <gaal> after the release :)

[15:51] <gaal> makefiles = teh scary

[15:51] <pasteling> "Limbic_Region" at 69.250.48.119 pasted "pugscc take 2" (23 lines, 6.4K) at http://sial.org/pbot/9813

[15:51] <castaway> right

[15:51] <castaway> thats why I said "someone" :)

[15:52] <Limbic_Region> autrijus - it looks like nopaste isn't pasting everything though

[15:52] <Limbic_Region> perlbot paste

[15:52] <perlbot> Paste your code and #perl will be able to view it: http://sial.org/pbot/perl http://dragon.cbi.tamucc.edu:8080 http://erxz.com/pb

[15:53] * Limbic_Region decides to use his scratch pad instead

[15:54] <Khisanth> Limbic_Region: are you sure your editor isn't having any funny ideas about what "select all" should be? :)

[15:54] <Limbic_Region> Khisanth - yes

[15:54] <Limbic_Region> worked fine in scratchpad

[15:54] <Limbic_Region> http://www.perlmonks.org/index.pl?node_id=358097

[15:56] <autrijus> Limbic_Region: I'm 99% sure you're not using the final call tarball :-/

[15:56] <autrijus> or the recent enough trunk

[15:56] <gaal> autrijus, found a fix for the cygwin path problem, fixing.

[15:56] <autrijus> because that codegen has been fixed

[15:56] <autrijus> gaal++

[15:56] <Limbic_Region> autrijus - I downloaded http://pugscode.org/dist/Perl6-Pugs-6.2.2.tar.gz

[15:57] <autrijus> Limbic_Region: I'm confused. :-/

[15:57] * Limbic_Region can download/recompile/test again if you like

[15:57] <autrijus> lemme check

[15:57] <autrijus> meanwhile you can use svn trunk

[15:57] <Limbic_Region> ok

[15:58] <Limbic_Region> will checkout from trunk

[15:58] <Limbic_Region> 2603 right?

[15:59] <autrijus> right

[15:59] <Limbic_Region> fetching now

[16:00] <Limbic_Region> compiling now

[16:00] <autrijus> you can use "make unoptimised" to save time :)

[16:00] <iblech> pugscc --runpugs|--runhaskell|--runparrot workforme on Gentoo Linux, GHC 6.4, r2603

[16:00] <autrijus> iblech: cool. runpugs on mandel too?

[16:01] <iblech> autrijus: works. :)

[16:02] <Limbic_Region> too late

[16:02] <iblech> FYI, --runparrot on mandel works too, but --runhaskell does not

[16:02] <autrijus> yay!

[16:02] <autrijus> sure, --runhaskell only groks hello world

[16:02] <autrijus> gaal: how's your fix? should I wait for you?

[16:03] <autrijus> I'm all green now too

[16:03] <autrijus> (os x)

[16:03] <gaal> probably not - will take me ~25 min

[16:03] <ingy> le tigre?

[16:03] <autrijus> ok. I'll go ahead then

[16:03] <autrijus> nope

[16:04] <ingy> Corion: ping

[16:04] <Corion> There

[16:04] <ingy> hi nothingmuch 

[16:04] <nothingmuch> hola

[16:04] * nothingmuch tired 

[16:04] <ingy> Corion: can you send me a Spiffy test failure report

[16:05] <Corion> ingy: Will do - there should have been the usual, automatic, useless report already (as that was what I spotted), but I'll send you the output as well. My guess is that you use here-documents with unix newlines and compare them against windows newlines. But that's just my guess.

[16:05] <nothingmuch> sister rollerbladed, and then her friends and her beat the living shit out of me in kungfu

[16:05] <Corion> Yay! Rollerblade kungfu girls!

[16:05] <nothingmuch> actually her friends were boys

[16:06] <nothingmuch> and she doesn't really rollerblade yet (that's why i'm becoming tired)

[16:06] * Limbic_Region wonders at the origins of "beat the living shit out of" phrase

[16:06] <nothingmuch> probably getting hit in the stomache

[16:06] <Khisanth> nothingmuch: so you were carrying her in rollerblades?

[16:06] <nothingmuch> no, i have to drag her up hill

[16:06] <Khisanth> s/in/on/

[16:07] <nothingmuch> (if it's too slow she complains, if it's too fast she complains

[16:07] <Corion> nothingmuch: Ah, so it was a cheap ploy of her, so she looked good/scary in front of her friends when she then beat you up with kung fu :)

[16:07] <Khisanth> heh well at least the wheels made it easier :)

[16:07] <nothingmuch> Khisanth: not when she breaks, that's what she's learning ;-)

[16:07] <Khisanth> ...

[16:07] <nothingmuch> she's doing it spontaneously now

[16:07] <Khisanth> you were dragging her WHILE she was using the breaks? :)

[16:08] <autrijus> ok, 786,055 bytes, with iblech's two fixes

[16:08] <nothingmuch> actually no, not that bad

[16:08] <autrijus> same url as above

[16:08] <autrijus> anyone want to sanity check for the final time? :)

[16:08] <nothingmuch> autrijus: you can commit, the smoke loop is very fast since gaal's fix

[16:08] <nothingmuch> gaal++

[16:08] <nothingmuch> SMP++

[16:08] <autrijus> nothingmuch: I've committed

[16:08] <Corion> ingy: Hmmm. Seems like the report was against 0.23 - should I test 0.24 ?

[16:08] <Limbic_Region> autrijus - how different from 2603 is it?

[16:08] <Limbic_Region> I haven't finished with that one yet

[16:08] <autrijus> Limbic_Region: not at all different

[16:08] <Limbic_Region> ok

[16:09] <autrijus> but it's produced on a os x machine

[16:09] <autrijus> hence "sanity"

[16:09] <gaal> autrijus, send er up, i'll smoke again

[16:09] <Limbic_Region> well I will do pugscc test first and then make test

[16:09] <gaal> my fix is ugly :)

[16:09] <autrijus> gaal: already uploaded

[16:10] <gaal> k, 14 min

[16:10] <gaal> same place? dist/ ?

[16:11] <autrijus> yes.

[16:11] <autrijus> 786055 bytes

[16:12] <gaal> smoking

[16:12] <gaal> beh, hard to type with allthose stupid popups :)

[16:13] <Khisanth> popups?

[16:14] <gaal> Khisanth, we started selling banner ads.

[16:14] <gaal> oop, wrong month.

[16:14] <gaal> on cygwin in some setups, there are popups during the build :)

[16:14] <ingy> Corion: yeah, although 0.24 just fixes some  Exporter issues

[16:15] <Limbic_Region> compile finished - 1 minute off last compile time

[16:15] <ingy> I have to run off for the day now &

[16:15] <nothingmuch> ciao ingy 

[16:15] <Limbic_Region> TTFN ingy

[16:16] <Corion> ingy: Weird. When run manually, all tests for 0.23 succeed. So it's yet another broken CPANPLUS interaction I think... If you care, forward the mail to Jos

[16:16] <Limbic_Region> autrijus - pugscc for mandel.p6 works as of build 2603 for me

[16:16] <Corion> I just hope we do something better than CPANPLUS for Pugs ...

[16:16] <Limbic_Region> though it is a bit slow

[16:16] <Limbic_Region> ;-)

[16:17] <Limbic_Region> running make test again

[16:17] <Limbic_Region> should be finished in 9 minutes or less

[16:18] <autrijus> ok. let me know when it does

[16:20] <Limbic_Region> autrijus - while I am waiting - did there come some resolution to my while $foo() -> @formal_parameter { ... } question?

[16:21] <autrijus> no, I don't believe so

[16:22] <Limbic_Region> ok

[16:22] <Limbic_Region> finishing up t/pugsrun/* ATM

[16:22] <autrijus> so far all clean? :)

[16:23] <Limbic_Region> looks like it

[16:23] <gaal> http://forum2.org/gaal/pugs/smoke-cygwin-6.2.2-preflight-5.html

[16:23] <gaal> all green on my smoke.

[16:23] <Limbic_Region> might just be the one async.t failure

[16:23] <Limbic_Region> but missed it if it did bomb out

[16:23] <autrijus> I think it's now disabled on win32

[16:24] <Limbic_Region> oh - ok

[16:24] <Corion> Still compiling here.

[16:24] <gaal> my cygwin pugscc fix doesn't work yet. by all moose don't wait for me.

[16:24] <Corion> Limbic_Region: async.t is supposed to fail/be disabled on Win32

[16:24] <Corion> autrijus: Did you see my comment about t/pugsrun/09-compile.t ? The junctions there don't expand properly.

[16:24] <autrijus> Corion: I devised a &flatten trick on 09

[16:24] <autrijus> so it'a alright now

[16:24] <iblech> make test reports all pass, but PUGS_TESTS_CONCURRENT=3 make smoke has some failures, probably because there are clashes with temporary files

[16:25] <Corion> autrijus: Ah :)

[16:25] <autrijus> iblech: ok. not showstopper

[16:25] <iblech> yep

[16:25] <gaal> that doesn't happen on two systems i tried on, iblech

[16:25] <autrijus> gaal: that's luck.

[16:25] <autrijus> waiting for Limbic_Region's report to fly

[16:25] <gaal> of course if it does happen, that's bad bugs in the tests.

[16:25] <Corion> iblech: I assume so too - we should (after the release) move all tests to use File::Spec::tempfile or File::Temp::tempfile (as Haskell has tempfile)

[16:25] <gaal> autrijus, certainly.

[16:25] <nothingmuch> autrijus: i expect 6-8 minutes till mine is in

[16:26] <Corion> Anybody knows that -j3 is sure to shake out bugs :)

[16:26] <iblech> Corion: jep

[16:26] <Limbic_Region> heh - that's never happened before

[16:26] <Limbic_Region> I didn't realize some of the tests required network access - my FW was bitching

[16:27] <Limbic_Region> all tests successful

[16:27] <Limbic_Region> 100% + pugscc

[16:27] <autrijus> ok, fly!

[16:27] <Limbic_Region> as of rev 2603

[16:28] <nothingmuch> 2603? svn.perl.org?

[16:29] <Limbic_Region> http://svn.openfoundry.org/pugs/

[16:29] <autrijus> PAUSE upload complete; journal up; announcement sent to p6announce and p6compiler.

[16:29] <autrijus> thanks everybody!

[16:29] * gaal cheers

[16:29] * Limbic_Region just got an offer he can't refuse so he is off to shower with his wife

[16:29] <Limbic_Region> grats autrijus et all

[16:29] <autrijus> Limbic_Region: enjoy :)

[16:29] *** autrijus changes topic to: http://forum2.org/gaal/pugs/smoke-cygwin-6.2.2-preflight-5.html

[16:29] <autrijus> er

[16:30] *** autrijus changes topic to: pugscode.org <Overview Journal Logs> | pugs.kwiki.org

[16:30] *** autrijus changes topic to: 6.2.2 is airborne! | pugscode.org <Overview Journal Logs> | pugs.kwiki.org

[16:30] * puetzk notes the peformance difference between pugs examples/mandel.p6 and pugscc --runparrot examples/mandel.p6 is rather stunning

[16:30] * puetzk hadn't built parrot before

[16:30] <puetzk> I suppose I shouldn't be surprised :-)

[16:31] <autrijus> there is a reason why we target parrot :)

[16:32] <autrijus> this looks like a solid release. :)

[16:32] <puetzk> perl5 still holds the crown by an order of magnitude though :-0

[16:32] <autrijus> ok, now I can finally rest... hopefully in peace :)

[16:33] <autrijus> puetzk: oh? parrot is faster than perl5 last I tried.

[16:33] <autrijus> but then, I used optimized parrot build.

[16:33] <puetzk> perl5 is getting 52ms, pugscc at a bount a second

[16:33] <autrijus> but then, perl5 is optimized too

[16:33] <puetzk> so am I

[16:33] <puetzk> unless I did it wrong

[16:33] <autrijus> puetzk: oh. that is not accurate

[16:33] <puetzk> which is entirely possible

[16:33] <autrijus> time ./mandel.imc

[16:33] <autrijus> is how you do it :)

[16:33] <autrijus> ltherwise you are counting the time that perl5 runs perlcc.

[16:33] <puetzk> ok, 700ms

[16:33] <autrijus> I mean pugscc

[16:34] <autrijus> hm, still slow.

[16:34] <autrijus> try 100x times

[16:34] <puetzk> inside the script, or run the command 100x?

[16:34] <autrijus> the $L > 0

[16:34] <autrijus> make it > 100

[16:34] <autrijus> then > /dev/null

[16:34] <gaal> hey, did someone fix #line completely?

[16:34] <autrijus> gaal: me

[16:35] <gaal> thanks! :)

[16:35] <gaal> where?

[16:35] <autrijus> gaal: Token

[16:35] <nothingmuch> $L?

[16:35] <gaal> after you sleep, <grin>, i'd like to ask you a few Qs about it

[16:35] <autrijus> nothingmuch: in mandel.p?

[16:35] <gaal> unless i figure it out by myself.

[16:35] <autrijus> gaal: sure thing. :)

[16:35] <autrijus> but I think you can figureitoutyourself.

[16:35] * nothingmuch has no idea what anyone is talking about

[16:36] <autrijus> it's all in oneLinecomment anyway

[16:36] <autrijus> nothingmuch: context is puetzk was asking how to run examples/mandel.p[56] 100 times.

[16:36] <gaal> i'll do my best :)

[16:36] <autrijus> you do that by tweaking $L in the script.

[16:36] <nothingmuch> ah

[16:37] <autrijus> puetzk: it is entirely possible that the new codegen make slowwer code for IMC

[16:37] <autrijus> because we now handle nested expressions

[16:37] <puetzk> p5: 0:04.469, parrot: 1:05.972

[16:37] <autrijus> eh. that is a bit much.

[16:38] <autrijus> it was certainly not what I'm seeing in freebsd :/

[16:38] <autrijus> I bet it's wasted allocation in codegen.

[16:38] <autrijus> but it's not critical. we'll fix it one way or another

[16:38] <autrijus> g'nite!

[16:38] <puetzk> indeed

[16:38] * autrijus waves &

[16:40] <nothingmuch>   night

[16:44] <gaal> nothingmuch, trivial bug in the testgraph:

[16:44] <gaal> summary line says "874 todo,31 skipped"

[16:44] <gaal> add a space after the comma :)

[16:45] <gaal> how's that for picky? :)

[16:45] <nothingmuch> okay =)

[16:45] <nothingmuch> want to release it?

[16:45] <gaal> sure, walk me through the darcs stuff?

[16:46] <iblech> FWIW, P5: 1s, Parrot: 11s (50 iterations) This was the case (on my system) revisions ago, too

[16:47] <nothingmuch> gaal: cd to the working dirs of Test::TAP::*

[16:47] <nothingmuch> and do 'darcs pull'

[16:47] <nothingmuch> decide which patches you want to integrate

[16:47] <gaal> sofarsogood

[16:47] <nothingmuch> (you can say 'a' to get them all)

[16:48] <gaal> oh, you fixed it already! you fast one you

[16:48] <nothingmuch> hehe

[16:48] <nothingmuch> ,

[16:48] <nothingmuch> then say darcs tag

[16:48] <nothingmuch> i tag with the format 'Test-TAP-HTMLMatrix-0.04'

[16:48] <nothingmuch> oh

[16:48] <nothingmuch> version bump first

[16:48] <gaal> are you releasing to cpan? won't multiple authors confuse people?

[16:49] <gaal> sure

[16:49] <nothingmuch> naah, multiple authors is OK

[16:49] <gaal> the main .pm is already at 0.04.

[16:50] <nothingmuch> ooh, i'm good, aren't I? ;-)

[16:50] <nothingmuch> want to be squeaky clean and bump the rest too?

[16:50] <nothingmuch> i never do that

[16:50] <gaal> ...so, darcs tag, make dist, pause upload?

[16:50] <nothingmuch> but then there is chas

[16:50] <gaal> no, it was my patch whodun that.

[16:50] <nothingmuch> usually i do ./Build disttest before darcs tag

[16:50] <gaal> a previous one

[16:50] <nothingmuch> but yeah

[16:50] <nothingmuch> ah

[16:50] <nothingmuch> goody

[16:51] <gaal> i always bump in my first fix after a release

[16:51] <gaal> so i fdon't forget afterwards :)

[16:51] <nothingmuch> =)

[16:52] <Aankhen``> What does "UU" mean in the output from "svn up"?

[16:53] <gaal> seriously good patch? :)

[16:53] <puetzk> Aankhen``: content and properties both

[16:53] <Aankhen``> Uber Updated? :-P

[16:53] <nothingmuch> =)

[16:53] <Aankhen``> «puetzk»: Ah, thanks.

[16:53] <mauke> whoa

[16:54] <nothingmuch> whoa?

[16:55] <mauke> «07whoa»

[16:56] <nothingmuch> whoa!

[16:56] <gaal> nm, disttest ok; tag and upload? that's it?

[16:56] <nothingmuch> yup

[16:57] <nothingmuch> want to do ::Model too?

[16:57] <nothingmuch> also, send or push the tag patch so that I have it

[16:58] <gaal> sure, what's to release in the model?

[16:58] <gaal> oh, i had a fix actualyl :)

[16:58] <nothingmuch> Test-TAP-Model-0.04

[16:58] <nothingmuch> so record the patch

[16:58] <nothingmuch> and then tag

[16:58] <nothingmuch> =)

[16:58] <nothingmuch> i'm going to write up a journal entry with Michal

[16:58] <nothingmuch> brb

[16:58] <gaal> when testlevel timing data is suppressed, so should the complete run timing.

[16:58] <gaal> enjoy./

[16:59] * gaal hasn't uploaded anything to CPAN in ages. i hope i remember my password :)

[16:59] <gaal> s/CPAN/PAUSE/; # already i forget :)

[17:04] <Corion> gaal: If Module::Release works for you, use it - no need to remember your password then ;)

[17:05] <castaway> wow, it finished testing.. I'm not doing that again ,)

[17:05] <gaal> Corion, thanks for the tip :)

[17:05] <gaal> https://pause.perl.org/pub/PAUSE/authors/id/G/GA/GAAL/Test-TAP-HTMLMatrix-0.04.tar.gz

[17:11] <gaal> bbiab

[17:25] <nothingmuch> back

[17:27] <castaway> forward

[17:27] <mauke> front

[17:36] <gaal> ever sideways :)

[17:36] <gaal> nm, i

[17:36] <gaal> 'm waiting with the model patch

[17:36] <nothingmuch> which model patch?

[17:36] <gaal> release

[17:36] <nothingmuch> to change timing behavior?

[17:37] <gaal> i'm thinking the yaml concurrency might do better elsewhere

[17:37] <nothingmuch> concurrency IMHO should be a subclass of Test::Harness::Straps

[17:37] <gaal> yeah

[17:37] <nothingmuch> and this code should know to deal

[17:38] <gaal> anyway i prefer not to work on this today

[17:38] <gaal> the timing patch is two lines, but it's at work

[17:39] <gaal> so - later. the matrix is on cpan and in your mailbox.

[17:39] <gaal> i think i'll go watch a film :)

[17:44] <nothingmuch> ciao

[17:47] <gaal> i just got a note from cpan that the upload wasn't indexed because i'm not listed as a maintainer. please fix?

[17:53] <nothingmuch> oops

[17:53] <nothingmuch> err, yes

[17:54] <nothingmuch> i thought that was only for registered modules

[17:54] <gaal> thanks. i'm off for now &

[17:54] <nothingmuch> adios

[17:54] <gaal> ciao ciao

[17:55] <nothingmuch> done

[17:56] <nothingmuch> anybody else want co maintainership of anything while I'm at it?

[17:56] <nothingmuch> gaal: i think you can ask it to force reindexing

[19:37] * autrijus wakes up and accidentally implemented system(Str: List) and exec(Str: List)

[19:37] <justatheory> autrijus: Man, I hate when I do that.

[19:37] * castaway laughs

[19:37] <autrijus> yeah. I need to recover from this

[19:37] <nothingmuch> autrijus++

[19:38] * castaway wants those sorta accidents

[19:38] * nothingmuch actually hopes he'll never have them

[19:39] <theorbtwo> You know, I'm much more likely to wake up and accidentially break toes, computers, or tea mugs.

[19:39] <theorbtwo> I don't think I've /ever/ woken up and accidentally done something useful.

[19:40] * castaway has often woken up with ideas/solutions..

[19:40] * nothingmuch normally dreams he has a magic pill

[19:40] * theorbtwo has often woken up with the idea he had a solution.

[19:41] <nothingmuch> then when i wake up i realize it's utter crap

[19:41] <castaway> ;)

[19:41] <nothingmuch> i am known to speak crap too

[19:41] <nothingmuch> i have this amazing mode of concienceness

[19:41] <nothingmuch> it takes about 3-4 minutes of conversation to realize that I am not really awake,

[19:42] <autrijus> #!/usr/bin/pugs

[19:42] <autrijus> 'w3m'.exec("http://www.google.com.tw/search?q=@ARGS[]");

[19:42] <autrijus> ok. nothing earth shattering

[19:42] <autrijus> but I'd like to convert all my ~/bin/ to perl6 :)

[19:42] <nothingmuch> =)

[19:47] <autrijus> s/// in void context operates on $_... right?

[19:47] <autrijus> it's not specced

[19:47] <autrijus> so I assume p5 semantics applies

[19:47] <castaway> one would suppose so

[19:48] <mauke> s/// in scalar context also operates on $_, at least in p5

[19:49] <autrijus> any idea of whether

[19:49] <autrijus> my $foo = shift;

[19:49] <autrijus> still shifts @ARGS?

[19:50] * castaway says yes for the hell pf it

[19:50] <theorbtwo> I'd like to say that it shifts @_, but @_ might be the same as @ARGS in global scope?

[19:50] <castaway> what he said

[19:51] <theorbtwo> OTOH, I have no idea if that's specced.

[19:51] <theorbtwo> But were I Larry, that's how I'd spec it.

[19:51] * autrijus purrs.

[19:51] <theorbtwo> Mmm?

[19:51] <autrijus> not sure. I think it's worth raising

[19:53] <autrijus> $ cat rename

[19:53] <autrijus> #!/usr/bin/pugs

[19:53] <autrijus> my $op = @ARGS.shift; $op ~~ s:P5/^s\b(?!:P5)/s:P5/;

[19:53] <autrijus> for @ARGS { my $was = $_; eval $op; die $! if $!; rename($was, $_) unless $was eq $_;

[19:53] <autrijus> }

[19:53] <autrijus> use it like:

[19:53] <autrijus> rename s/.pm$/.bak/ *

[19:54] * autrijus decides to tackle something more interesting

[19:54] <autrijus> cpan-upload!

[19:54] <castaway> ;)

[19:54] <nothingmuch> autrijus: how long did you sleep?

[19:55] <autrijus> nothingmuch: 20 minutes

[19:55] <castaway> strange guy

[19:55] <nothingmuch> how long do you plan on sleeping later?

[19:56] <autrijus> 20 more minutes?

[19:57] <autrijus> hm, we really want yaml.

[19:57] <nothingmuch> how long do you plan to sleep in the next 36 hours?

[19:57] <autrijus> about 37 hours, I think

[19:57] <gaal> do compiled targets have a way to be annotated with their source code? i'm thinking, it'd be nice to do pugscc --recompile a.out

[19:57] <autrijus> give or take 74

[19:58] <autrijus> gaal: not unless you imbue them with strange arg processing 

[19:58] <nothingmuch> i think you need them soon ==)

[19:58] <castaway> math not your strong point, autrijus ? ;)

[19:58] <autrijus> ./a.out +PUGS -dumpsource -PUGS

[19:59] <autrijus> gaal: we need to think about instrumentation

[19:59] <gaal> it can be useful to keep your ~/bin fast, but also upgradable.

[19:59] <autrijus> but maybe it can be shoved to imc level

[19:59] <autrijus> oh. I don't quite care if my ~/bin is fast or not.

[19:59] <gaal> well, your /bin then :)

[19:59] <autrijus> I think keeping a .pbc is valid

[19:59] <gaal> your perl6 bin!

[20:00] <gaal> p6pt

[20:00] <gaal> i'd like to have pugwin :)

[20:00] <autrijus> otoh, I like on the fly compilation.

[20:01] <autrijus> so maybe by default we do on the fly compilation like pugscc --runparrot

[20:01] <autrijus> (in the future)

[20:01] <autrijus> if you have parrot installed on your system

[20:01] <gaal> #!/bin/cpr

[20:01] <autrijus> it may also make sense to save a compiled file next to the source

[20:02] <autrijus> and regenerate it as needed

[20:02] <autrijus> by comparing sha1 or some such.

[20:02] <gaal> like cpr does, except for the near the source bit.

[20:03] <autrijus> where does cpr save stuff?

[20:03] <autrijus> . o O (maybe we can shove things into sqlite)

[20:03] <gaal> in ~/.inline/ i think.

[20:03] * theorbtwo ponders.

[20:04] <theorbtwo> I can possibly do an XML parser with the existing pugs.

[20:04] <gaal> but that's unmaintainable.

[20:04] <autrijus> theorbtwo: just write an expat binding :D

[20:04] <autrijus> or better, HaXml binding.

[20:04] <gaal> a libxml binding!

[20:04] <autrijus> HaXml is very powerful.

[20:04] <gaal> but one that isn't hell to install

[20:04] <castaway> libxml!

[20:05] <gaal> theorbtwo, you know evan did xml in ocaml, yes?

[20:06] <theorbtwo> I was somewhat looking forward to writing my own XML parser; I've never done it before.

[20:07] <gaal> then maybe you can also do yaml, which is more perlish in feel?

[20:08] <theorbtwo> I don't know that it purticularly is.

[20:08] <gaal> a streaming yaml would be nice for the harness.

[20:08] <theorbtwo> In any case, I don't think it's as useful.

[20:09] <gaal> plenty of things to do :)

[20:11] <gaal> autrijus, maybe the source-annotated executable is not very important - if we have PAR in the core. :)

[20:13] <theorbtwo> Why isn't AUTHORS svn:eol-style native?

[20:14] <autrijus> no reason. just add it

[20:15] <pjcj> d

[20:20] <autrijus> hrm.

[20:20] <autrijus> for some reason I've accidentally done a YAML parser for pugs.

[20:21] <autrijus> since cpan-upload doesn't need emitter

[20:21] <autrijus> I think that's good enough for now

[20:21] <autrijus> anyone oppose me from including it in core pugs?

[20:21] <gaal> wow

[20:21] <gaal> that means we can port htmlmatrix

[20:21] <autrijus> it's based on libsyck. I'm not that crazy :)

[20:21] <masak> :)

[20:22] <gaal> modulo a templating libraray, of course.

[20:22] <theorbtwo> libsyck ?

[20:22] <autrijus> theorbtwo: the ruby syck parser

[20:22] <autrijus> but actually works for php python perl cocoa too

[20:22] <theorbtwo> syck?

[20:22] <autrijus> syck whytheluckystiff.net/syck/

[20:22] <autrijus> http://whytheluckystiff.net/syck/

[20:22] <autrijus> oh, OCaml as well.

[20:24] <autrijus> I think I'll be a good haskell citizen

[20:24] <autrijus> and make a independent-to-pugs Data.YAML

[20:25] <autrijus> Data.Yaml.Syck

[21:04] <meppl> autrijus, just today i realized, pugs does not compile the new class-syntax

[21:04] <meppl> so, shit happens ;)

[21:05] <theorbtwo> We haven't quite gotten that far.

[21:05] <theorbtwo> Soon, hopefully.

[21:11] <meppl> ack

[21:18] <mj> congratulations

[21:18] <mj> r1600 - 1308/4135 subtests failed, 68.37% okay.

[21:18] <mj> r2608 -   863/4670 subtests failed, 81.52% okay.

[21:24] <nothingmuch> mugwump: ping

[21:28] <mugwump> hi

[21:28] <nothingmuch> S::O 1.11 never made it to CPAN?

[21:28] <mugwump> oh, I'll try again

[21:29] <nothingmuch> goody

[21:29] <nothingmuch> could you put it up somewhere? i need the fix and I don't want to patch yet another core module

[21:29] <nothingmuch> and pause delays are usually more than an hour

[21:33] <mugwump> http://tangram.utsl.gen.nz/download/Set-Object-1.11.tar.gz

[21:33] <nothingmuch> mugwump++

[21:35] <mj> Is "for @a -> $val is rw" same as "for @a.values -> $val is rw " ?

[21:35] <nothingmuch> i would expect it to be

[21:35] <nothingmuch> .values is lvaluable

[21:35] <nothingmuch> in p5

[21:35] <nothingmuch> but it would be a shame if this wouldn't remain

[21:36] <nothingmuch> and for completeness the array counterpart should be have like it's hash predecessor

[21:37] <mj> second end with ... Error: Can't modify constant item

[21:38] <elmex> time pugs -e 'my ($i, $a); loop ($i = 10000; $i > 0; $i -= 1) { $a += 3.234 }'

[21:38] <elmex> err

[21:38] <elmex> weirs

[21:39] <elmex> where is my bug? that doesn't halt...

[21:40] <elmex> ah, wait

