[00:00] <luqui> Darren_Duncan, you can do that in Perl 5.  And yes, you can do that in perl 6.

[00:01] <Darren_Duncan> I guess I never really tried to do that in either language

[00:01] <Darren_Duncan> it smacks of using something before its declared

[00:02] <Darren_Duncan> which seems to be what 'use strict' should prevent but doesn't

[00:02] <Jonathan_> autrijus: Any chance you can make Pugs look for Parrot in the current working directory, not just in the path? If you can, then I should be able to get this Pugs binary distribution thing working...

[00:03] <Darren_Duncan> doesn't the path include the cwd?

[00:03] <luqui> I use autovivi all the time

[00:03] <Jonathan_> Darren_Duncan: It appears not.

[00:03] <obra> 84

[00:04] <Darren_Duncan> odd, I saw it there before

[00:04] <obra> mischan

[00:04] <Jonathan_> Darren_Duncan: Have a parrot.exe anywhere in the path, it works out fine. Drop one in the CWD instead, I get errors.

[00:04] <autrijus> obra: yes, I can test on whiteg's laptop

[00:04] <Darren_Duncan> maybe there are multiple paths

[00:05] <autrijus> Jonathan_: problem is that the "current directory" is ~/src/pge/

[00:05] <Darren_Duncan> when I 'use' a module that doesn't exist, the error message includes the path, which ends with '.'

[00:05] <autrijus> (For PGE)

[00:05] <clkao> autrijus: fix av return before release! :)

[00:05] <autrijus> Jonathan_: and it has to be that way

[00:05] <obra> autrijus: cool

[00:05] <autrijus> clkao: p5_apply _always_ return a av?

[00:05] <autrijus> clkao: even when GIMME_SCALAR?

[00:06] <clkao> autrijus: ya. when multiplevalues are returned.

[00:06] <clkao> should i make it scalar directly?

[00:06] <autrijus> clkao: nah... that is fine

[00:06] <autrijus> Jonathan_: so I don't know... place parrot.exe inside ~/src/pge

[00:06] <autrijus> should fix it

[00:06] <clkao> right, i thought it'd be handled up there. since it's already generated it doesn't matter

[00:06] <Jonathan_> autrijus: I did, and

[00:06] <Darren_Duncan> as an example, *** Can't locate Fafdsfd.pm in @INC (@INC contains: /System/Library/Perl6/darwin-thread-multi-2level /System/Library/Perl6 /Library/Perl6/darwin-thread-multi-2level /Library/Perl6 .).

[00:06] <Jonathan_> pugs> /\w+/;

[00:06] <Jonathan_> *** Cannot parse PGE: \w+

[00:06] <Jonathan_> *** Error: Cannot find the parrot executable in PATH

[00:06] <Jonathan_> undef

[00:06] <Jonathan_> pugs> system('src\pge\parrot.exe');

[00:06] <Jonathan_> parrot -[abcCEfgGhjprStvVwy.] [-d [FLAGS]] [-O [level]] [-o FILE] <file>

[00:06] <Jonathan_> undef

[00:07] <Darren_Duncan> the CWD is at the end of the list

[00:07] <autrijus> oh well...

[00:07] <clkao> autrijus: btw i'm diving into monad this week i think

[00:07] <autrijus> clkao: cool. I think you'll like what you'll find.

[00:07] <clkao> is there a taichi glyph ?

[00:07] <clkao> can we overload that when defining monad?

[00:07] <Darren_Duncan> back in a bit

[00:08] <autrijus> â˜¯

[00:09] <clkao> orz

[00:09] <autrijus> but monad is more like â˜®

[00:10] <autrijus> the identity supported by an endofunctor and natural transofmration

[00:10] <autrijus> to form a triad

[00:10] <autrijus> Jonathan_: hm.

[00:11] <clkao> not dual before that?

[00:15] <Jonathan_> autrijus: Gotta run, I'll look at it again soon...

[00:17] <autrijus> jonathan: I attempted a fix. let me know if it works when you backlogeth

[00:19] <clkao> autrijus: what happens if p5 land is returning a raw hash not hashref?

[00:20] <autrijus> clkao: how do you do that.

[00:20] <autrijus> (without a lvalue sub)

[00:20] <clkao> ? just return %foo

[00:20] <clkao> as multiple value

[00:20] <autrijus> I thought that explodes %foo?

[00:20] <autrijus> (into k,v,k,v)

[00:20] <clkao> yes. so can this be somehow easily reconstructed to p6 hash?

[00:21] <clkao> so you can just add such wrapper around those sick function

[00:21] <autrijus> it's not what we want.

[00:21] <autrijus> in p6 when you say return %foo

[00:21] <autrijus> er

[00:21] <autrijus> in p5 when you say return %foo

[00:21] <jql> no. it explodes into :k<v>, :k<v>

[00:21] <autrijus> it means return *%foo in p6

[00:21] <jql> I thought we went over this last night. :)

[00:21] <clkao> ok

[00:21] <autrijus> jql: we're talking about p5 man.

[00:21] <luqui>  depends on context in p6

[00:21] <jql> ahh. p5. true

[00:22] <clkao> alright. it's fine then.

[00:22] <luqui> return %hash when want(Scalar);  # returns \%hash

[00:22] <clkao> next. getopt.

[00:22] <autrijus> luqui: p5!

[00:22] <luqui> okay

[00:22] * jql sees the confusion

[00:22] <clkao> sorry for brining in perl6 here. but it's a necesary evil

[00:22] <clkao> autrijus: \$foo in perl6.

[00:22] <clkao> should became a tied evil in p5

[00:22] <luqui> I just assumed you were discussing perl 5 for some analogy to perl 6

[00:22] <luqui> but I guess you guys are doing the p5 bindings for haskell?

[00:23] <autrijus> luqui: ah. no. clkao is writing SVK in perl6

[00:23] <autrijus> reusing existing cpan modules

[00:23] <clkao> luqui: we are trying to make pugs looks lovely.

[00:23] <clkao> perl5 isn't lovely without pcan

[00:23] <clkao> cpan

[00:23] <autrijus> CPAN is the language, Perl5 just the syntax

[00:23] <autrijus> (samtregar++)

[00:23] <clkao> bwaha

[00:23] <luqui> CPAN is the vocabulary

[00:23] <clkao> autrijus: so, scalarref?

[00:24] <autrijus> clkao: a Ref in p6 when passed in p5 land is just another wrapped thing

[00:24] <clkao> yes. but it needs to be flag

[00:24] <clkao> flagged

[00:24] <autrijus> clkao: but we need to defined ${}

[00:24] <clkao> so i can tie it

[00:24] <autrijus> for it

[00:24] <luqui> btw, what does svk buy me if I'm always online

[00:24] <autrijus> via overload

[00:24] <clkao> ${} ?

[00:24] <autrijus> or some such.

[00:24] <clkao> luqui: faster

[00:24] <autrijus> luqui: no .svn/

[00:24] <autrijus> luqui: incremental merges.

[00:25] * luqui doesn't understand that last one

[00:25] <autrijus> luqui: say you have a branch and trunk

[00:25] <clkao> you don't have to, justjump on the wagon

[00:25] <autrijus> you can say "merge new changes from trunk to branch"

[00:25] <autrijus> and then some 10 days later

[00:25] <luqui> clkao, that's what I did :-)

[00:25] <autrijus> "merge new changes from trunk to branch"

[00:25] <clkao> autrijus: what overload? that should be just tied no?

[00:25] <luqui> ooh

[00:25] <autrijus> and svk will just pick up the changes in the last 10 days

[00:25] <autrijus> can't do that with svn.

[00:25] <luqui> you can, but you have to be explicit

[00:26] <autrijus> that is the same to say you can't.

[00:26] <luqui> heh ok

[00:26] <autrijus> clkao: you can approach it with tie or with ov

[00:26] <clkao> ya being explicit = too much invasion from the tool to real work!

[00:26] <clkao> i would avoid overload

[00:26] <clkao> it's bringing lots of problem

[00:27] <luqui> autrijus, where should I look to implement BUILD ($.foo) ?

[00:27] <clkao> plus if someday people are crazy enough to support io::all... 

[00:27] <luqui> we're doing that in p6...

[00:27] <autrijus> luqui: what does that do again?

[00:27] <luqui> it automatically initializes $.foo

[00:27] <autrijus> clkao: alright.. so if I pass in a [] from p6 you'll TIEARRAY

[00:27] <autrijus> and a \$ you'll TIESCALAR

[00:27] <autrijus> etc

[00:28] <clkao> *nod*

[00:28] <autrijus> clkao: that's not for this release ;)

[00:28] <clkao> wait

[00:28] <autrijus> I'll look at handling av returns

[00:28] <clkao> sure av.

[00:28] <clkao> but 

[00:28] <clkao> pugs_MkValRef

[00:29] <clkao> do the same isa thing and bless them into pugs:scalar and pugs:array

[00:29] <clkao> i'll do the rest

[00:29] <clkao> maybe this can get finished tomorrow.

[00:29] <autrijus> luqui: it automatically initialized in what way?

[00:29] <clkao> when's the release?

[00:29] <autrijus> clkao: in 12 hours or so

[00:29] <luqui> new Bar(42);  # $.foo becomes 42

[00:29] <luqui> I mean Bar.new(42), of course

[00:29] <autrijus> luqui: oh. wow.

[00:30] <autrijus> sick.

[00:30] <clkao> sucks. i am busy in the morning i think. but it should be trivial right?

[00:30] <clkao> autrijus: can i use ref() rather than doing multipl &isa call to pugs?

[00:30] <autrijus> clkao: sure, you can just call &ref

[00:30] <autrijus> and stringify the rv

[00:30] <clkao> good.

[00:30] <clkao> want to make a stub and i continue when i wake up?

[00:31] <clkao> if getopt actually works i can do real first step svk in p6  :))

[00:31] <autrijus> so in pugs_MkValRef

[00:31] <autrijus> you have 

[00:31] <autrijus>     sv_setref_pv(sv, "pugs", val);

[00:31] <autrijus> and you don't want that

[00:31] <autrijus> instead you want to call &ref 

[00:31] <autrijus> first

[00:31] <autrijus> and analyse the rv

[00:31] <autrijus> and bless accordingly

[00:31] <autrijus> I don't see why it needs anything at hs side

[00:31] <autrijus> it's all C

[00:32] <clkao> it still has to be blessed as the entrace back to haskell

[00:32] <clkao> ya, it's a call. how to stringy return value from &ref

[00:32] <autrijus> "bless accordingly"

[00:32] <clkao> no, blesseed and then wrapped in closure.

[00:32] <autrijus> eh.

[00:32] <autrijus> you just clal pugsapply

[00:32] <autrijus> then SvPV_nolen

[00:32] <autrijus> piece of cake

[00:32] <clkao> otherwise you can't get back

[00:32] <clkao> ok. good.

[00:32] <autrijus> yeah yeah

[00:33] <clkao> i'll do it tomorrow.

[00:33] <autrijus> clkao++

[00:33] <clkao> \

[00:33] <clkao> now zz &

[00:33] <clkao> make av return work!

[00:33] <autrijus> (sigh) sure

[00:33] <clkao> and maybe write some tests for ref accessing

[00:34] <clkao> (or find people to write tests :)

[00:34] <autrijus> luqui: I'm not sure how to attack this.

[00:34] <autrijus> luqui: I guess you can hack Bind.hs

[00:35] <luqui> shouldn't it go right where the parameters are bound from the signature

[00:35] <autrijus> but is it just BUILD?

[00:35] <autrijus> method blah ($.y) {}

[00:35] <luqui> I think it's everywhere

[00:35] <autrijus> it will automagically become set-accessor to $.y?

[00:35] <autrijus> instead of just lexically set $.y ?

[00:35] <autrijus> and how does it play with the "param is ro by default"?

[00:35] <luqui> right, because $.y isn't a valid parameter name anyway

[00:35] <autrijus> surely you can always write to $.y?

[00:36] <luqui> yeah, that has to be an exception

[00:36] <autrijus> ($:y) too?

[00:36] <autrijus> yay exceptions

[00:36] <luqui> I think ($.y) is just short for ($dot_y) { $.y = $dot_y }

[00:36] <luqui> maybe with a : before the =, not sure.

[00:36] <autrijus> except it happens at binding time

[00:36] <luqui> oh, right

[00:36] <autrijus> method foo ($.y, ?$z=$.y) {}

[00:37] <autrijus> having it to be := will be terribly surprisin.

[00:37] <luqui> I expect $:y works too

[00:37] <autrijus> because you end up with random aliasing.

[00:37] <autrijus> foo(@x[1])

[00:37] <autrijus> $obj.foo(@x[1])

[00:37] <svnbot6> r4181, autrijus++ | * VType to p5 land becomes a String, so clkao can typecase from C.

[00:37] <svnbot6> r4182, autrijus++ | * try finding parrot in cwd, for Jonathan.

[00:37] <autrijus> $obj.y = 4; # touches @x[1]

[00:37] <autrijus> oops

[00:38] <luqui> good point

[00:38] <autrijus> so line 1167 Eval

[00:38] <autrijus> is where you want to attack

[00:38] <autrijus> analyse "name" for $. and $: forms

[00:38] <autrijus> and turn it into assignment somehow.

[00:38] <autrijus> I need to run -- $work and $food

[00:38] <autrijus> good luck!

[00:39] <luqui> okay thanks

[00:43] <meppl> gute nacht

[00:43] <svnbot6> r4183, autrijus++ | * delay the ifdef call in Parrot.hsc

[00:47] <Darren_Duncan> autrijus, I want to revisit that test suite thing where uppercase file names have special meanings ...

[00:47] <Darren_Duncan> if it wasn't already done, that hack should be removed where files with uppercase chars are not executed

[00:48] <Darren_Duncan> I want to name my tests using uc chars and have them execute

[00:48] <Darren_Duncan> I think a better way to say 'don't run this' in the short term is to put the non-running files in a different dir name, such as 'todo_t' rather than 't'

[00:48] <Darren_Duncan> its much more self-documenting too

[00:49] <luqui> why do you want uppercase chars?

[00:49] <Darren_Duncan> it reads better

[00:49] <luqui> than lowercase with underscores?

[00:49] <Darren_Duncan> for example, one of my desired test file names is 'LKT_00_Compile.t'

[00:50] <luqui> oh I get it

[00:50] <Darren_Duncan> the hack requires it to be 'lkt_00_compile.t' which is harder to read

[00:50] <luqui> yeah I agree with you

[00:50] <Darren_Duncan> besides, module names are mixed case

[00:50] <luqui> maybe non-running tests should just be named .T

[00:50] <Darren_Duncan> that's fine too

[00:51] <jql> works like \s and \S in rules

[00:51] <jql> I like

[00:51] <Darren_Duncan> I just want the hack gone that prevents me from using uc chars

[00:52] <Darren_Duncan> since the next release is 12 hours away, is it reasonable to get this change in for that?  I hope so

[00:53] <luqui> the next release is 12 hours away?

[00:54] <Darren_Duncan> autrijus: clkao: in 12 hours or so

[00:54] <Darren_Duncan> twas said about 30 mins ago

[00:56] <IshaCocoa_> Anyone here built Parrot on win32? I'm getting a "Expanded command line '...' too long error whenit tries to "lib -out:blib/lib/libparrot_s.lib". Workarounds?

[00:56] <Darren_Duncan> no win here

[01:03] <Darren_Duncan> I believe the problem is this portion of the Makefiles: @ARGV = grep !/[A-Z]/, map glob, @ARGV;

[01:04] <Darren_Duncan> right now I'm trying to figure out where that is added to them

[01:06] <Darren_Duncan> actually, we can't use T for the alternative, unless the whole test suite is turned off

[01:06] <Darren_Duncan> because some platforms that Pugs has to run on don't have case insensitive file systems

[01:06] <Darren_Duncan> so we can't have both a 't' and a 'T' in parallel on them

[01:08] <luqui> right

[01:08] <luqui> .tx?

[01:08] <Darren_Duncan> sure

[01:08] <luqui> nobody likes textans

[01:08] <luqui> texans

[01:09] <Darren_Duncan> it just has to be different characters

[01:36] <Darren_Duncan> okay, I never found it

[01:37] <Darren_Duncan> where is this being put into the Makefiles, so we know what to edit so this doesn't happen: @ARGV = grep !/[A-Z]/, map glob, @ARGV;

[01:37] <Darren_Duncan> ?

[01:50] <mugwump> Darren_Duncan: didn't you say you were going to rewrite ExtUtils::MakeMaker?  :)

[01:50] <svnbot6> r4184, autrijus++ | * handle multiple return values.  It segfaults still --

[01:50] <svnbot6> r4184, autrijus++ |   clkao, please take a look.

[01:51] <Darren_Duncan> I thought about it and then changed my mind

[01:51] <Darren_Duncan> also it sounds like someone else was going to do it

[01:52] <mugwump> that statement has conflicting tenses

[01:53] <Darren_Duncan> wasn't there an announcement recently where someone else said they would do it?

[01:53] <mugwump> anyway, makefiles are generated there.  I think ingy played with them last, but first he was possessed by a demon.  We later revived him and now he's OK

[01:54] <Darren_Duncan> I tried doing a number of string searches and couldn't find what I wanted in either the Pugs or Perl distro

[01:56] <Darren_Duncan> I figured the ignore-uc thing was added explicitly for Pugs as a temp measure

[01:56] <Darren_Duncan> normal CPAN makefiles certainly don't act that way

[01:56] <Darren_Duncan> I just did a search for "!/[A-Z]/" and it only appears in the Makefiles themselves, not the makefile generators

[01:57] <Darren_Duncan> still, I'm hoping that someone who wrote that functionality can speak up

[01:57] <Darren_Duncan> seen ingy

[01:57] <jabbot> Darren_Duncan: ingy was seen 1 days 9 hours 5 minutes 1 seconds ago

[02:00] <Darren_Duncan> mugwump, re makemaker rewrite, more to the point it seemed like since I last discussed it someone already had did what needed doing, a month or 2 ago

[02:01] <Darren_Duncan> ingy probably

[02:01] <Darren_Duncan> so I thought it was done

[02:50] <eric256> quite in here

[02:50] <eric256> err quiet

[02:56] <Darren_Duncan> tis

[03:01] <luqui> AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'

[03:01] <mugwump> what's all this racket about!?

[03:02] <luqui> contrast?

[03:02] <Darren_Duncan> the A key is stuck down

[03:02] <luqui> no, I was screaming

[03:03] <Darren_Duncan> I'm writing a quick note to p6c re the test file name issues so it gets more attention

[03:03] <luqui> That or you just have to be here when somebody who has any idea what's going on is here

[03:04] <Darren_Duncan> yes

[03:04] <Darren_Duncan> I'll try both

[03:10] <mugwump> Darren_Duncan: just hack a s/// into lib/Perl6/MakeMaker.pm, I think

[03:11] <Darren_Duncan> could do, but isn't there a more elegant solution?

[03:11] <mugwump> NO

[03:11] <mugwump> not unless you want to rewrite ExtUtils::MakeMaker ;)

[03:15] <Darren_Duncan> I get the impression that Perl6::MakeMaker isn't being used anymore, but rather inc::Module::Install is, so the latter should be hacked, correct?

[03:19] <mugwump> Somewhere like inc/Module/Install/Makefile.pm (sub fix_up_makefile) perhaps

[03:19] <Darren_Duncan> that's what I thought

[03:20] <mugwump> That might be copied from the Module::Install distribution, but in either case a commit there will communicate more clearly than a p6c post methinks :)

[03:21] <Darren_Duncan> I'm deferring the p6c post 

[03:21] <Darren_Duncan> it may never go up

[03:21] <Darren_Duncan> commit instead

[03:27] <Darren_Duncan> how does this line look to you ...

[03:27] <Darren_Duncan> $makefile =~ s|\@ARGV = grep !/\[A-Z\]/, map glob, \@ARGV;|\@ARGV = map glob, \@ARGV;|;

[03:27] <IshaCocoa> Does (GNU) make support inline files?

[03:27] <Darren_Duncan> that's in fix_up_makefile() after all the other substitutions

[03:27] <mugwump> use \Q ... \E please :)

[03:27] <mugwump> oh, wait, no that wouldn't work either would it

[03:27] <Darren_Duncan> what does that mean?

[03:27] <mugwump> would interpolate

[03:28] <Darren_Duncan> I thought my backslashing would prevent interpolation

[03:28] <Darren_Duncan> all characters in regexp should be treated literally

[03:28] <mugwump> \Q disables pattern metacharacters, but not interpolation

[03:29] <mugwump> extremely handy with untrusted search strings

[03:29] <mugwump> or when you've got a lot of brackets etc in your pattern

[03:30] <mugwump> that change looks sufficiently harmless to me, commit and I'll smoke it for you

[03:30] <Darren_Duncan> okay

[03:31] <mugwump> jabbot: seen svnbot6 ?

[03:31] <jabbot> mugwump: svnbot6 was seen 1 hours 40 minutes 25 seconds ago

[03:32] * mugwump smokes r4184 as a control

[03:32] <jql> hmm

[03:34] <Darren_Duncan> committed 4185

[03:35] <jql> I think literal syntax is <'@ARGV = grep !/[A-Z]/ ...'>

[03:35] <mugwump> that's perl6 rules, though, innit?  :)

[03:35] <jql> yes

[03:35] <mugwump> This is a Perl5 module

[03:35] <jql> I'm trying to remember p6

[03:35] <mugwump> good

[03:35] <Darren_Duncan> the literal text is: @ARGV = grep !/[A-Z]/, map glob, @ARGV;

[03:36] <Darren_Duncan> I removed the grep

[03:36] <mugwump> you could use \Q${\( '@ARGV = grep !/[A-Z]/, map glob, @ARGV;' )}\E :-)

[03:36] <mugwump> but I think at that point it starts to defeat the purpose ;)

[03:37] <jql> heh

[03:37] <jql> @ doesn't interpolate, at least

[03:37] <jql> you just need to escape [

[03:37] <mugwump> it doesn't?

[03:37] * mugwump tries

[03:37] <luqui> what would it interpolate as?

[03:37] <Darren_Duncan> while I could find nothing else in Pugs containing just '!/[A-Z]/', I thought a s/// with the longer string was more future proofing

[03:37] <svnbot6> r4185, Darren_Duncan++ | updated inc/Module/Install/Makefile.pm so that generated Makefiles do not ignore t/*.t scripts having uppercased chars in file names -- if you want your scripts to be ignored during 'make test', place them in a different dir than t/, such as tX/

[03:37] <jql> well, that was a guess

[03:38] * jql didn't try it

[03:38] <jql> ok, you can laugh at me

[03:39] <luqui> hahahahaha

[03:39] <mugwump> perl -le 'my @a = qw(1 2 3); my $qr = qr/@a/; print $qr'

[03:39] <mugwump> (?-xism:1 2 3)

[03:39] <luqui> really

[03:39] <luqui> that's unexpected in an expected sort of way

[03:39] <jql> s/@// doesn't interpolate @, s/@@// doesn't interpolate. s/@foo// interpolated

[03:39] <jql> damn perl

[03:40] * mugwump notes that the perl5 embedding is causing a compile failure on 4184, and switches it off

[03:40] <jql> even though @@ is a perfectly legal variable

[03:40] <Darren_Duncan> is it now?

[03:40] <jql> I know and love @@

[03:40] <jql> perl -le 'push @@, 1; print @@'

[03:41] <jql> %% is also good

[03:41] <jql> I love me some @@

[03:42] <luqui> it doesn't mean anything, right?

[03:42] <luqui> '

[03:42] <jql> define 'mean'?

[03:42] <luqui> it's not magical

[03:42] <jql> no, not magical

[03:42] <jql> it's legal because $@ is legal

[03:42] <luqui> right

[03:43] <mugwump> but what about %%?

[03:43] <luqui> that's legal too, I believe

[03:43] <jql> %% is legal because $% is legal

[03:43] <Darren_Duncan> how about @$ or %$

[03:43] <jql> && is probably not legal, for obvious reasons

[03:43] <jql> those are all fine

[03:43] <luqui> Darren_Duncan, those are dereferencers

[03:43] <mugwump> &{'&'} :)

[03:43] <jql> well, of course. :)

[03:43] <Darren_Duncan> by themselves?

[03:44] <luqui> oh my god, it looks like @$ is fine by itself

[03:44] <jql> sure it's fine

[03:44] <luqui> just don't put \w after it

[03:44] <Darren_Duncan> I always use braces for derefs for readability

[03:44] <Darren_Duncan> eg, @{$foo}

[03:44] <mugwump> yuck :)

[03:44] <luqui> yeah, I always avoid braces when I can

[03:45] <luqui> but, tmtowtdi, teho, etc.

[03:45] <mugwump> I use them when ambiguous

[03:45] <Darren_Duncan> of course, I'm often doing this: @{$foo->{'bar'}}

[03:45] <jql> perl -le 'print %++%%

[03:45] * jql hides

[03:45] <luqui> in which case you have no other choice

[03:45] <Darren_Duncan> you can't take the braces out then

[03:45] <luqui> well, yeah you do I guess

[03:45] <luqui> @{$$foo{bar}}

[03:45] <luqui> but, uh, no

[03:46] <mugwump> I use $foo->bar and let the accessor and context return a list :)

[03:46] <luqui> and people say perl is linenoise

[03:47] <Darren_Duncan> the result of $foo->bar is an array ref, which is a scalar

[03:47] <jql> @{ my $bar = $foo->{bar}; my $baz = $bar->{baz}; $baz->{blurfl} }

[03:47] <Darren_Duncan> I'm talking p5 here

[03:47] * jql takes indirection to the Nth

[03:47] <luqui> jql, I'm not even sure that's legal

[03:47] <jql> it's legal

[03:47] <mugwump> I like my array accessors to return lists in list context.

[03:47] <luqui> no, it is

[03:48] <jql> the {} is a do{} block which has its return-value array-derefed

[03:48] <jql> except for a bareword, which is special-cased

[03:48] <jql> ala. hash

[03:49] <Darren_Duncan> question ...

[03:49] <Darren_Duncan> do you know what the insanta/outsanta files are for?

[03:50] <mugwump> elves?

[03:50] <jql> sleds?

[03:50] <Darren_Duncan> they seem related to Pugs' compilatoin

[03:50] <Darren_Duncan> eg, insanta.988.59

[03:50] <Darren_Duncan> but I don't know why they stick around

[03:51] * jql knows not the ways of GHC

[03:53] <Darren_Duncan> it seems my file change didn't work

[03:53] <Darren_Duncan> trying again

[03:54] <Darren_Duncan> mugwump, hold off the smoke for the moment

[03:54] * mugwump puts down the crackpipe

[03:54] <Darren_Duncan> I mean my version; continue with the control one

[03:55] <mugwump> yup

[04:14] <mugwump> Darren_Duncan: there seem to be lots of test scripts that make foo.$$.NNNN temps..

[04:14] <svnbot6> r4186, mugwump++ | force_todo / un-TODO various tests for release - round 1

[04:15] <Darren_Duncan> I'm continuing to isolate the problem

[04:15] <Darren_Duncan> I think the Makefile is post processed after Build is done with it, and that's where the A-Z etc is added, hence my change had no effect

[04:17] <mugwump> ok, well why don't you commit something that works for you first ;)(

[04:18] <Darren_Duncan> working on it

[04:20] <Darren_Duncan> meanwhile, my change didn't break anything

[04:20] <Darren_Duncan> twas a no-op

[04:32] <Darren_Duncan> I have confirmed a change following when fix_up_makefile() is run

[04:33] <luqui> mugwump, by the way, I warnocked the message that you mentioned got warnocked because I didn't understand it

[04:33] <luqui> There aren't too many people on p6l who grok Haskell, and I couldn't understand the message by ignoring the haskell

[04:33] <mugwump> fair enough.  I barely understood it myself ;)

[04:35] <Darren_Duncan> found the problem

[04:36] <Darren_Duncan> inc/Module/Install/Pugs.pm is what's adding the offending line in the first place

[04:36] <Darren_Duncan> I failed to find it before because my grepping didn't account for the target having the slashes escaped

[04:36] <Darren_Duncan> will commit momentarily

[04:40] <svnbot6> r4187, mugwump++ | :todo / fix various tests for release - round 2

[04:44] <Darren_Duncan> committed

[04:46] <Darren_Duncan> mugwump, smoke away

[04:47] <svnbot6> r4188, Darren_Duncan++ | undid r4185's change to Makefile.pm and redid the fix properly, by altering inc/Module/Install/Pugs.pm to not add the offending section in the first place

[04:47] <mugwump> I'm still smoking 4184 :)

[04:47] <Darren_Duncan> no prob

[04:47] <mugwump> or, rather, I'm marking the failures as known

[04:47] <Darren_Duncan> meanwhile, I'm doing a clean smoke on my machine

[04:50] <Darren_Duncan> quickie ...

[04:50] <Darren_Duncan> is there a svn command to rename a file, or do I have to delete + add?

[04:50] <Darren_Duncan> nevermind

[04:50] <Darren_Duncan> found it

[04:52] <nothingmuch> good morning

[04:52] <Darren_Duncan> time to rise and shine

[04:57] * luqui feels like watching a movie

[04:57] <luqui> any suggestions?

[04:57] <mugwump> The Triplets of Belleville

[04:57] <luqui> yeah, I loved that one

[04:57] <mugwump> Shaolin Soccer

[04:58] <luqui> oh right

[04:58] <luqui> I saw kung fu hussle

[04:58] <luqui> okay, thanks

[04:58] <mugwump> if you've seen that, ... ah, beat me to it :)

[04:59] <mugwump> what about Snatch, or Two Hands 

[05:02] <nothingmuch> Battleship Potemkin

[05:07] <Darren_Duncan> so now the LKT test file names are back to what they should be

[05:07] <svnbot6> r4189, Darren_Duncan++ | LKT test file rename stage 1 of 2

[05:07] <svnbot6> r4190, Darren_Duncan++ | LKT test file rename stage 2 of 2

[05:17] <mugwump> Darren_Duncan: sadly I've run out of time to smoke the new version - those tests took 47m to run on my system!  Must be due to the NFS directory :)

[05:17] <svnbot6> r4191, mugwump++ | :todo / fix various tests for release - round 3

[05:18] <Darren_Duncan> mugwump

[05:19] <Darren_Duncan> that's fine, I'm doing a full run on my system

[05:19] <Darren_Duncan> realclean, make, test

[05:20] <mugwump> not only that, but the smoking I did didn't even cover testing the modules ... but hopefully it will free up autrijus' time a bit :)

[05:20] <Darren_Duncan> yep

[05:21] <Darren_Duncan> now, you only updated the test files, right, no haskell files?

[05:22] <mugwump> that's right

[05:27] <Darren_Duncan> okay, I'm on 4191 and beginning make test

[06:00] *** joepurl is now known as joepurl28730292

[06:00] <svnbot6> r4192, mugwump++ | Document Set.pm unicode operators as requested on p6l

[06:08] *** joepurl28730292 is now known as joepurl

[06:17] <svnbot6> r4193, autrijus++ | * allow calling Perl 5 methods with named arguments

[06:17] <svnbot6> r4193, autrijus++ |   (which are flattened into two positional arguments each). 

[06:24] * mugwump sidles off home

[06:24] <svnbot6> r4194, mugwump++ | Add some more unicode operators for the hell of it ;)

[06:30] <jql> good one

[06:32] <Darren_Duncan> finished 'make test' for 4190 ...

[06:32] <Darren_Duncan> Failed 1/319 test scripts, 99.69% okay. 498/6489 subtests failed, 92.33% okay.

[06:32] <autrijus> lkt?

[06:32] <Darren_Duncan> failed test: t/rules/Disabled/rules.t              683  498  72.91%

[06:32] <autrijus> oh, all tests

[06:32] <autrijus> the "Disabled" test is not supposed to run anyway

[06:32] <Darren_Duncan> I didn't do anything with LKT since yesteday except rename the test scripts

[06:33] <Darren_Duncan> yes

[06:33] <Darren_Duncan> so Disabled should be moved out of t/

[06:33] <autrijus> I thought our harness already ignored it. hm

[06:33] <Darren_Duncan> it did, but I fixed that

[06:33] <autrijus> heh, "fixed".

[06:34] <Darren_Duncan> now the harness will run test files no matter what their name is

[06:34] <luqui> \did someone try to implement that "describe" program that was mentioned on the list?

[06:34] <autrijus> Darren_Duncan: please svn mv the disabled tests somewhere else then.

[06:34] <autrijus> t_disabled

[06:34] <autrijus> or something. improvise.

[06:34] <Darren_Duncan> will do

[06:34] <autrijus> darren++

[06:35] <autrijus> <- in $work... doing a Class::DBI based perl6 script

[06:35] <Darren_Duncan> and thats a much more elegant solution than the old hack

[06:35] <autrijus> Darren_Duncan: sure, I agree

[06:35] <Darren_Duncan> funny thing is, we discussed this before, but such a remedy didn't come up

[06:36] <luqui> autrijus, oh, I just saw the six in @autrijus[-2]

[06:36] <luqui> lucky you, wish I could use p6 in my job

[06:36] <Darren_Duncan> autrijus, r4185,4188 contained my fix ... it even says in the checkin comment that a good alternate way to disable is to move out of t/

[06:36] <Darren_Duncan> so your suggestion is in line with that

[06:36] <autrijus> luqui: the six?

[06:36] <autrijus> Darren_Duncan: cool, please proceed then

[06:37] <luqui> Class::DBI based perl >>6<< script

[06:37] <autrijus> ahh.

[06:37] <luqui> hmm.. we don't have a hyper 6 operator yet...

[06:37] <luqui> so you don't know if anybody tried to write "describe" ?

[06:38] <autrijus> no.

[06:38] <luqui> okay.  time to re-invent if someone did, then :-)

[06:39] <Darren_Duncan> autrijus, there are a lot of other files in Disabled, and they did not fail

[06:40] <autrijus> Darren_Duncan: do you have parrot in path?

[06:40] <Darren_Duncan> no

[06:40] <autrijus> then those tests didn't run.

[06:40] <Darren_Duncan> probably the reason

[06:41] <Darren_Duncan> will move entire folder

[06:41] <autrijus> nod.

[06:45] *** castaway_ is now known as castaway

[06:56] <Darren_Duncan> autrijus, is it fine to 'svn mv' a whole folder, or should I do each file inside separately?

[06:56] <autrijus> Darren_Duncan: the whole folder.

[06:56] <autrijus> (that will preserve history)

[06:56] <Darren_Duncan> ok

[06:58] <Darren_Duncan> I wasn't sure, cause when I did a trial run the info spat out just said "A + folder" but didn't mention each file, whereas it did mention each file for the "D" part

[06:59] <Darren_Duncan> actually it just said "A   folder"

[07:00] <autrijus> the "+" is right.

[07:00] <autrijus> ah.

[07:00] <autrijus> don't worry. it's fine

[07:06] <Darren_Duncan> committed

[07:07] <autrijus> cool. bbl &

[07:16] <svnbot6> r4195, Darren_Duncan++ | moved tests from t/rules/Disabled/* to t_disabled/rules/*; removed old Disabled

[07:16] <Darren_Duncan> fyi, assuming that 6.2.6 will be going up in a few hours, I'll defer any further LKT work until afterwards ... its midnight here

[07:18] <Darren_Duncan> fyi, all of my commits today are related -- they are all specifically about letting test files have uc chars in their names, allowing those to run, and making sure files that should be disabled stay that way

[07:19] <Darren_Duncan> I didn't do anything else

[07:19] <Darren_Duncan> oh yeah, and actually renaming some tests to uppercase

[07:36] <Darren_Duncan> is there a dedicated ChangeLog updater, or does anyone do that?

[07:37] <castaway> you can volunteer :)

[07:38] <castaway> (generally someone does, or gets volunteered by autrijus)

[07:44] <Darren_Duncan> in any event its, obviously, out of date right now

[07:47] <castaway> quite likely

[07:47] <castaway> someone usually compiles it from the journal entries iirc

[07:54] <Darren_Duncan> good night

[07:54] <svnbot6> r4196, Darren_Duncan++ | some MANIFEST.SKIP updates

[08:25] <masak> castaway: I think "gets volunteered" is a quite blatant contradiction in terms

[08:27] <arcady> say, does perl6 allow underscores in numeric literals?

[08:28] <arcady> because apocalypse 2 says it does, and pugs doesn't allow it

[08:31] <scook0> arcady: probably just unimplemented--care to write some tests?

[08:34] <arcady> I kind of don't have any free time at the moment

[08:34] * castaway grins

[08:34] <castaway> I think its correct tho masak :)

[08:34] <arcady> eval("42_000") should be 42000

[08:35] <castaway> ?eval 42_000

[08:35] <evalbot6> Error:  unexpected "_" expecting digit, fraction, exponent, term postfix, operator, postfix conditional, postfix loop, postfix iteration, ";" or end of input 

[08:35] * castaway pats evalbot on the head

[08:36] <scook0> I've just written up that one, any other useful test cases?

[08:36] <arcady> with operators

[08:36] <castaway> umm.. 42_000_000 and 42_000.31 ?

[08:36] <castaway> right

[08:37] <arcady> and 42.0_32

[08:37] <scook0> castaway: good thinking

[08:37] <autark-jp> and 4_2000

[08:37] <arcady> and possibly 42__0 not being valid

[08:38] <scook0> arcady: 42__0 is valid P5

[08:39] <arcady> oh, is it?

[08:39] <arcady> didn't know

[08:39] <castaway> umm, whats 42.0_32 ?

[08:39] <arcady> underscores in a number are ignored

[08:40] <arcady> btw, this goes for all kind of numbers

[08:40] <arcady> float as well as int

[08:40] <arcady> and octal and hex too

[08:40] <castaway> oh, sounds like an easy implementation then

[08:40] <autark-jp> throw away all '_' except at the beginning or something maybe.

[08:41] <arcady> yes

[08:41] <castaway> right

[08:41] <svnbot6> r4197, bsmith++ | Added an export list.

[08:41] <svnbot6> r4198, bsmith++ | Moved some parser types to Pugs.Parser.Types.

[08:42] <autark-jp> anyone on good terms with the haskell type system btw?

[08:42] <scook0> autark-jp: depends, what's your issue?

[08:43] <autark-jp> scook0: in Pugs.Lexer.hs, interpolatingStringLiteral

[08:43] <autark-jp> scook0: it takes in something called 'RuleParser x'

[08:44] <scook0> autark-jp: aye, do you understand what that is supposed to mean?

[08:44] <integral> autark-jp: A (RuleParser x) is a just a parser than returns some unspecified type

[08:45] <autark-jp> scook0: it says (in comments) that it is a delimiter (for strings)

[08:45] <integral> autark-jp: notice that where endrule is used lower down we don't use it's value

[08:45] <autark-jp> integral: ok, but I want to use it's value ;)

[08:45] <autark-jp> integral: and then the type system starts yelling at me :/

[08:45] <integral> hmm, you'll probably need to change it to RuleParser Exp then

[08:46] <integral> what type of value do you expect it to have?  an expression?

[08:46] <scook0> the type system should be telling you the type it's expecting

[08:46] <autark-jp> scook0: it says something about rigid variable x can't be match to 'char' or 'string' (depeneding on whether delim is a single char or mulit-char)

[08:47] <autark-jp> ie. <<foo>> vs. <foo>

[08:47] <scook0> hmm

[08:47] * autark-jp wants q(foo(bar)baz) to be legal.

[08:47] <scook0> so, people are already giving it both chars and strings?

[08:48] <scook0> or is that what you're trying to do?

[08:48] <integral> this is harder.   You'll have to change where it's called so that they always use strings

[08:48] <castaway> hmm, that got discussed a while back , but I cant remember what the outcome was

[08:48] <autark-jp> it is being given both both string (symbol?) and char it seems.

[08:48] <autark-jp> integral: hm, I should maybe try that.

[08:50] <clkao> bad autrijus can't write c

[08:51] <castaway> who wants to write C :)

[08:57] <luqui> autark-jp, I think we've said that the delimiters nest unless they're backwhacked

[08:57] <svnbot6> r4199, clkao++ | Fix perl5_apply returning multiple values and the use in mkval generating closure.

[08:58] <autark-jp> luqui: sounds reasonable.

[08:58] *** theorbtw1 is now known as theorbtwo

[09:08] <svnbot6> r4200, scook0++ | Tests for numeric literals with underscores

[09:10] <fireartist> warnocked :) Could someone take a look and set me straight?...

[09:10] <fireartist> http://www.mail-archive.com/perl6-language@perl.org/msg20241.html

[09:10] <fireartist> (question about class construction)

[09:13] <luqui> lookin

[09:13] <luqui> g

[09:14] <luqui> Oh, I read that

[09:14] <luqui> I'm not really sure what you were asking

[09:14] <luqui> But in any case, if you write your own new, you have to call BUILD yourself

[09:14] <fireartist> oh, ok, I'll try again now,

[09:14] <fireartist> hmm, didn't realise I'd have to call build myself

[09:15] <luqui> the recursive BUILD call is something that is done by the default new

[09:15] <luqui> we generally don't write our own news (no pun intended) in perl 6

[09:15] <fireartist> is build not called by BUILDALL? Do I have to call that too?

[09:16] <luqui> maybe that's the one you call

[09:16] <fireartist> the reason I defined my own 'new', is the object's usually constructed with only one arg

[09:16] <fireartist> I wanted a shortcut, rather than having to pass it my name everytime

[09:17] <luqui> oops

[09:17] <luqui> I'm wrong

[09:17] <fireartist> (by name everytime)

[09:17] <luqui> apparently bless calls BUILDALL for you

[09:18] <fireartist> the email was trying to clarify if that's what is supposed to happen, because I was seeing some strange behavour with pugs...

[09:19] <luqui> what were you seeing

[09:20] <fireartist> just a minute, I'm opening my editor to make sure I get this right

[09:20] <luqui> Couldn't you just write:

[09:21] <luqui> submethod BUILD (Str $.date, +$.time, +$.offset)

[09:21] <fireartist> my explicit new method was being run, when I was calling 'new' with a named pair of args

[09:21] <luqui> oh, you want your multi to "append" behavior to the default new?

[09:22] <luqui> hmm

[09:22] <fireartist> and in my build, the arg was undef

[09:22] * luqui writes up a little test case to see what you're talking about

[09:23] <fireartist> I wanted the option of either a single arg, or all named args

[09:23] <fireartist> http://www.fireartist.com/foo.pl shows the behaviour

[09:25] <fireartist> it prints 'ok', showing my new is called, rather than the new inherited from Class

[09:25] <fireartist> it also prints date: ''

[09:25] <fireartist> meaning the arg in build is undef

[09:25] <luqui> hmm, I think it should call your new.

[09:26] <luqui> but the fact that date is undef looks wrong

[09:26] <fireartist> I thought Foo.new(date => 'blah') wouldn't match my 'new' signature

[09:27] <luqui> that depends on whether the default new is a multi

[09:27] <luqui> well, and whether that makes any sense with our multi system

[09:27] <luqui> a couple of us (including me) think that the multi system needs a rework

[09:27] <fireartist> I'm not sure whether the design I'm going for is perl6'ish

[09:28] <luqui> what I find perplexing is the fact that your "return $class.new(...)" doesn't fall into infinite recursion

[09:29] <fireartist> if I change it to Foo.new, it does!

[09:29] <Juerd> For some reason, pugs locks itself

[09:29] <luqui> But $class should be the Foo object

[09:29] <Juerd> So I had to kill evalbot6 in order to be able to upgrade pugs

[09:29] <luqui> I mean Foo class object

[09:29] <fireartist> If I add 'say $class.perl' in 'new', it reads \{obj:Class}

[09:29] <Juerd> autrijus: Any idea how to avoid this? 

[09:29] <luqui> right, not very informative

[09:30] <Juerd> 1;0 juerd@feather:~/auto/pugs$ cp pugs ../bin

[09:30] <Juerd> cp: cannot create regular file `../bin/pugs': Text file busy

[09:30] <fireartist> Should it not be \{obj:Foo} ?

[09:30] <luqui> something like that

[09:30] <clkao> how's mod_pugs?

[09:30] <luqui> If you just "say Foo.perl"

[09:30] <luqui> you get the same thing

[09:31] <luqui> okay, this is definitely not what is supposed to be happening

[09:31] <luqui> I don't grok the object internals though

[09:31] <fireartist> outside of the class, after I've constructed $foo, is reads \{obj:Foo}

[09:31] <luqui> maybe you should post the example and behavior to p6c

[09:32] <luqui> Not for me

[09:32] <fireartist> I'll do that thanks, I'll try to be more clear what I'm asking though!

[09:32] <luqui> $foo.perl does, but not Foo.perl.

[09:32] <luqui> as far as how you would do it in Perl 6, though

[09:32] <luqui> I think you're best off putting all the logic into BUILD

[09:32] <luqui> and avoid writing your own new altogether

[09:32] <vcv> how do i create a list of 26 items (the letters of the alphabet)? i feel stupid, but my brain isnt working

[09:33] <luqui> 'a'..'z' ?

[09:33] <vcv> doesnt seem to be working.

[09:33] <luqui> works for me

[09:33] <luqui> what codE?

[09:33] <fireartist> thanks for your help luqui, I'll start on that email now.

[09:33] <luqui> thanks for the email ;-)

[09:34] <vcv> pugs> @chars »~« '+'

[09:34] <vcv> 'a b c d e f g h i j k l m n o p q r s t u v w x y z+'

[09:34] <vcv> that cant be right

[09:34] <vcv> @chars >>~<< '+' works

[09:34] <luqui> huh?

[09:35] <luqui> it looks like its working to me

[09:35] <luqui> arrays join on spaces when interpolated (just like in p5)

[09:35] <scook0> vcv: maybe your pugs is hosed

[09:36] <luqui> the example that he just showed looks like it's working fine

[09:36] <vcv> ok. why would @chars »~« '+' and @chars >>~<< '+' return different results

[09:36] <luqui> because one is stringifying @chars and then appending '+'

[09:36] <luqui> the other is appending '+' to each element of @chars, and returning that list

[09:36] <luqui> the same reason @chars + 1 and @chars >>+<< 1 are different

[09:36] <vcv> i thought >><< was ascii version of »«

[09:37] <scook0> vcv: Â»~Â« worksforme

[09:37] <vcv> i just cant understand why »~« and >>~<< are working differently

[09:38] <luqui> so, "@chars >>+<< 1" means "map { $_ + 1 } @chars"

[09:38] <scook0> vcv: I'm not seeing any difference when I try it

[09:38] <luqui> whereas "@chars + 1" means [email@hidden.address] + 1"

[09:38] <luqui> vcv, are you a perl 5 programmer?

[09:38] <vcv> i understand what it does luqui

[09:38] <vcv> im tellin you »~« and >>~<< are doing different things

[09:38] <scook0> vcv: maybe you need to update & rebuild

[09:38] <luqui> than what they're supposed to, or than each other

[09:38] <vcv> just did

[09:38] <vcv> than each other

[09:38] <luqui> they're supposed to

[09:39] <luqui> oh!

[09:39] <luqui> I must be unicode-stupid

[09:39] <luqui> You're probably typing the unicode version of >>~<< and I'm just seeing ~

[09:39] <luqui> okay

[09:39] <vcv> oh! haha

[09:39] <vcv> i bet i looked like a real idiot ;)

[09:39] <luqui> but now it is I hahaha!

[09:39] <luqui> :-)

[09:40] <luqui> are you doing this on the pugs command line?

[09:40] <vcv> yes

[09:40] <luqui> have you tried writing it in a script?

[09:40] <vcv> ill try that

[09:40] <luqui> the pugs command line might be unicode stupid too

[09:40] <arcady> it works fine for me though

[09:41] <luqui> terminal settings?  all that unicode bullshit that we knew we'd run across once we accepted the latin-1 variants

[09:41] <scook0> hmm, it must be the command line

[09:41] <theorbtwo> ...or your shell might be unicode-stupid.

[09:41] <theorbtwo> Mine was, until I started tweaking things.

[09:41] <arcady> ?eval ("a", "b", "c") Â»~Â« (1, 2, 3)

[09:41] <scook0> Juerd had to kill evalbot for a bit

[09:42] <arcady> oh whoops

[09:42] <arcady> it's kinda early

[09:42] <arcady> didn't notice that

[09:42] <castaway> hmm? it was there just now..

[09:42] <arcady> yeah, I think it's the unicode issue

[09:42] <castaway> oh, missed that, so he did

[09:42] <vcv> >pugs test2.p6

[09:42] <vcv> a b c d e f g h i j k l m n o p q r s t u v w x y z,

[09:42] <vcv> a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,

[09:43] <vcv> code is: my @chars = 'a'..'z';

[09:43] <vcv> say @chars »~« ',';

[09:43] <vcv> say @chars >>~<< ',';

[09:43] <scook0> vcv: your terminal seems to be throwing away Â«Â»

[09:43] <arcady> yeah, that really looks like it

[09:43] <vcv> but im running it from a file darn it! :/

[09:43] <arcady> because you get @chars ~ ',' for the first one

[09:44] <luqui> vcv, it's got to be unicode, because it works for me

[09:44] <scook0> vcv: yeah, the file seems to be working correctly

[09:44] <vcv> no that cant be it

[09:44] <vcv> watch..

[09:44] <scook0> sorry, no, that's wrong

[09:44] <lumi> vcv: Are you sure you're doing it in unicode and not latin1?

[09:44] <vcv> abcdefghijklmnopqrstuvwxyz

[09:44] <vcv> a b c d e f g h i j k l m n o p q r s t u v w x y z,

[09:44] <vcv> a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,

[09:44] <vcv> say @chars;

[09:44] <vcv> say @chars »~« ',';

[09:44] <vcv> say @chars >>~<< ',';

[09:44] <luqui> that makes sense too

[09:44] <vcv> errrr

[09:44] <theorbtwo> vcv: I think you are outputting latin1 into the channel instead of utf8.

[09:45] <vcv> whoops made a mistake

[09:45] <theorbtwo> Could you give us a euro sign, please?

[09:45] <vcv> alright. thanks. stupid latin1

[09:45] <vcv> hm.. yeah

[09:45] <theorbtwo> (A good test because the euro sign is not in latin-1, since it didn't exist at the time.)

[09:47] <vcv> im a unicode newb.

[09:47] <vcv> well i use alt+0171 and alt+0187 to get the characters

[09:47] <vcv> if that helps

[09:47] <luqui> you're on windows

[09:47] <luqui> ?

[09:48] <vcv> yes

[09:48] * luqui doesn't know anything about windows unicode

[09:48] * theorbtwo knows very little about it.

[09:48] <theorbtwo> What IRC client are you using?

[09:48] <theorbtwo> Somewhere, there should be a setting for what charset it expects data from the server to be in.

[09:49] <vcv> mirc because there is no good client for windows. yet. :)

[09:49] <luqui> xchat on cygwin ;-)

[09:49] <vcv> ha!

[09:49] <lumi> irssi

[09:49] <vcv> irssi is nice, but some reason i cant stand it when im on windows.

[09:49] <osfameron> xchat on windows it pretty good

[09:50] <luqui> oh, there's an xchat for windows

[09:50] <luqui> well, screw cygwin then

[09:50] <vcv> Yeah. used it and didnt like it

[09:50] <vcv> i like to customize my stuff a lot and mircs scripting is easy, so

[09:50] <luqui> afaik xchat is scriptable with perl

[09:50] <luqui> never used it though

[09:51] <arcady> is there no irc client written in perl6 yet?

[09:51] <luqui> hahaha

[09:51] <luqui> no, I don't think so

[09:51] <kungfuftr> you can, Net::IRC runs on pugs

[09:51] <arcady> yeah, someone better write one

[09:52] <luqui> does curses or gtk or ptk or any of those?

[09:52] <vcv> i use this when im bored: http://weakmind.org/zephyr/zephyr.png

[09:53] <theorbtwo> Looks like mIRC has no utf8 support.

[09:53] <vcv> figures

[09:54] <vcv> though it doesnt look like its mirc, since the file does it too

[09:55] <IshaCocoa> Anyone know there way around the Parrot makefile on Windows?

[09:55] <vcv> doubt there is

[09:55] <vcv> whats wrong with the makefile?

[09:55] <luqui> heh, I was trying to see if I had a combining key and accidentally pushed ctrl-alt-backspace :-p

[09:55] <theorbtwo> Swift there, luqui.

[09:55] <scook0> luqui: fantastic

[09:56] <Aankhen``> theorbtwo >> That is correct.

[09:56] <Aankhen``> There are many petitions and requests for Unicode in mIRC.

[09:56] <Aankhen``> The author has said he will add it... eventually.

[09:56] <theorbtwo> xmodmap -pk|grep -i multi will tell you if you have one.

[09:56] <vcv> No he wont. he's too busy sailing on his yacht

[09:56] * luqui is unskilled in xmodmapfu

[09:56] <Aankhen``> vcv >> I'm just relaying what he said. :-P

[09:57] <vcv> Yeah. he's said a lot of things :p

[09:57] <luqui> theorbtwo, doesn't seem I do

[09:57] <theorbtwo> I use xmodmap -e 'keycode 94 = Multi_key', which makes the 102nd key on my european keyboard in en_US layout be the compose key.

[09:57] <luqui> how do I give myself one

[09:57] <luqui> ok

[09:57] <vcv> then i realize mirc sucks and is going no where, so i starting writing my own client

[09:57] <luqui> what's the keydump utility so I can find the scancode of a key

[09:58] <theorbtwo> Do xev, and hit the key until you figure it out.

[09:58] <theorbtwo> It's not exactly nice, but it works.

[09:58] <luqui> yep

[09:59] <luqui> ?woo? unicode

[10:00] <luqui> and that goes into .xmodmaprc?

[10:00] <luqui> vim thinks so, so I'll trust it

[10:01] <Aankhen``> vcv >> Are you seriously writing a new IRC client?

[10:02] <luqui> that may be a bit hubristic

[10:02] <luqui> got to make sure you're lazy and impatient about it, otherwise it will go nowhere

[10:02] <luqui> (I've found that the three virtues only work well when you have all three together in one room)

[10:04] <theorbtwo> luqui: Haven't quite figured out where it goes, sorry.

[10:05] <theorbtwo> luqui: Since you probably write better then me, put that info in the unicode minihowto thingy?

[10:05] <luqui> where's that?

[10:07] <theorbtwo> docs/quickref/unicode

[10:07] <clkao> summon autrijus

[10:07] <clkao> VType typ   -> vstrToSV (showType typ)

[10:08] <luqui> oh, it seems that there's already a url there that does it

[10:08] <clkao> this doesn't seem to catch what ref() returns

[10:08] <clkao> so it's doing infinite recusion on mkValRef

[10:08] <luqui> nope, it doesn't

[10:08] <luqui> it's lower level than what we need

[10:08] <luqui> adding it

[10:11] <nothingmuch> yum yum dum dee dum

[10:11] * theorbtwo wonders if nothingmuch is going to break our bones to make his bread.

[10:12] * nothingmuch instead eats a jewish chicken

[10:12] <nothingmuch> eek, what horrible english.

[10:12] <Aankhen``> Racist!

[10:12] <Aankhen``> What's wrong with us normal people, huh?

[10:12] <Aankhen``> We're not good enough for you?

[10:12] * Aankhen`` pouts.

[10:12] <nothingmuch> well, i was paraphrasing

[10:12] <theorbtwo> s/jewish/kosher/

[10:12] <nothingmuch> nay nay

[10:13] <Aankhen``> Hang on a sec while I look up 'kosher' in the dictionary.

[10:13] <nothingmuch> jewish as in jewish mother (or father, in my dad's case)

[10:13] <Aankhen``> Hrm.

[10:13] * Aankhen`` goes back to calling nothingmuch a racist.

[10:13] <castaway> the chicken had jewish parents?

[10:14] <nothingmuch> http://www.amazon.com/exec/obidos/tg/sim-explorer/explore-items/-/067084487X/0/101/1/none/purchase/ref%3Dpd%5Fsxp%5Fr0/104-4000845-8113544

[10:14] <nothingmuch> no, it was just behaving jewishly

[10:14] * nothingmuch goes to help something compile

[10:14] <theorbtwo> No, just a jewish father.  (Which is nice, and all, but neither neccessary nor sufficent, at least according to some people.)

[10:15] <theorbtwo> Of course, I don't think chickens can have souls, much less Jewish ones, so it's really a pretty moot point.

[10:16] * Aankhen`` koshers theorbtwo.

[10:16] <luqui> oh, now you're being politically correct for sure theorbtwo 

[10:16] <Aankhen``> Why can't chickens have souls?

[10:16] * scook0 nominates this for "most OT discussion EVER" :-)

[10:16] <luqui> this will lose

[10:17] <luqui> The jewish faith and perl 6 have tons in common

[10:17] * theorbtwo waits for luqui to give an example.

[10:17] <svnbot6> r4201, luqui++ | Add unicode tips.

[10:17] <luqui> exactly what is left as an exercise for the reader

[10:17] * Aankhen`` waits too.

[10:17] <Aankhen``> Cop out!

[10:17] * Aankhen`` glares at luqui.

[10:17] <theorbtwo> Total cop-out.

[10:17] <luqui> I'm american

[10:18] <luqui> roll a dice

[10:18] <Aankhen``> Ah, that explains it. ;-)

[10:18] <luqui> if it doesn't come up six, then I was being sarcastic

[10:18] <theorbtwo> "They are both not-so-secretly run by the Cabalists."

[10:19] <theorbtwo> "They both require Unicode."

[10:19] <luqui> huh?

[10:19] <luqui> oh

[10:19] <luqui> haha

[10:19] <luqui> there we go

[10:19] <luqui> and we were just talking about unicode

[10:19] <luqui> see, not OT

[10:20] <pjcj> Old Testament?

[10:20] <theorbtwo> The word Cabal comes from Kabbalah, a Jewish tradition of hidden knowladge.

[10:20] <luqui> Apocalypses

[10:20] <luqui> or Perl 5

[10:20] <luqui> can't decide

[10:20] * luqui steps back to hide in his ignorance

[10:20] <luqui> and watch a movie

[10:20] * luqui &

[10:21] * castaway declares lunch

[10:21] <theorbtwo> Blast, scared away the Great Summorisor.

[10:22] <castaway> ?

[10:23] <theorbtwo> luqui is Luke Palmer, who... oh, nevermind.

[10:23] * theorbtwo was thinking of somebody else.

[10:23] * theorbtwo is very good at confusing people.

[10:24] <castaway> as long as you dont confuse me with someone :)

[10:24] <theorbtwo> You're Jill, right.

[10:24] <castaway> close

[10:24] <theorbtwo> Jane?

[10:24] <castaway> nope

[10:25] <theorbtwo> Ann?

[10:25] * theorbtwo kisses his Jess.

[10:25] <castaway> :)

[10:25] * castaway munches a salad sandwich

[10:25] <castaway> soup time!

[10:27] * theorbtwo wonders what the best way of making a haskell-level Param into a perl6-accessable scalar is.

[10:28] <scook0> theorbtwo: trying to expose params as perl6 values?

[10:28] <castaway> hmm, dont bits already do that.. like $?PUGS_VERSION ?

[10:29] * nothingmuch wants tea

[10:29] * castaway passes the thermos

[10:31] <nothingmuch> so anyway, in the stinky cheese man there's a giant, which says that he'll make bread out of several characters

[10:31] <nothingmuch> and there is also an annoying chicken

[10:31] <nothingmuch> which says that no one helped her make the bread or something

[10:32] <nothingmuch> and then  the giant eats the chicken with the chicken's bread, IIRC

[10:36] * Aankhen`` pokes nothingmuch and runs around laughing maniacally.

[10:36] <nothingmuch> tee hee

[10:36] <nothingmuch> anyway, i meant to get me some tea

[10:36] <theorbtwo> Oh.

[10:37] <theorbtwo> I was thinking of Jack and the Beanstalk, and didn't get the Jewish Chicken reference at all.

[10:40] <nothingmuch> lemon tea with  honey

[10:40] * nothingmuch feels sick

[10:42] <clkao> my $rw = 1; warn \$rw; why is it still 1 ?

[10:43] <nothingmuch> clkao: i think autodereferencing goodness, but I'm not up to date on that stuff

[10:44] <theorbtwo> s/goodness/badness/

[10:45] <nothingmuch> i think autodereferencing could have it's goodness, if it were not confusingly special cased

[10:45] <nothingmuch> the problem is that sane semantics for autodereferencing, are.... well... tough.

[10:45] <nothingmuch> i don't like having to explicitly dereference with @{ } and so on in p5

[10:45] <nothingmuch> but at least if I do it slowly and surely, balancing everything beforehand, things turn out OK

[10:46] <theorbtwo> I don't like having to explicitly dereference all the time either.

[10:47] <theorbtwo> But it means that I know what's going to happen in any given situation, and can treat things generically without too much worries.

[10:47] <nothingmuch> exactly

[10:47] <theorbtwo> I can have a tree class, into which you can put references or nonreferences, without having to do anything special.

[10:47] <theorbtwo> I'd like a simple rule that says when something gets autodereferenced and when it does not.

[10:48] <theorbtwo> ...and I'd like the answer to be "does not" most of the time.

[10:49] <nothingmuch> i think this is like lazyness and autothreading

[10:49] <nothingmuch> the only place where it should be controlled is the absolute edge

[10:49] <nothingmuch> either at the lowest level, or the highest level

[10:49] <theorbtwo> Oh!  Lathos is Simon Cozens!

[10:50] <theorbtwo> Now I get his references to being in the Cabal.

[10:50] <nothingmuch> Oh!

[10:50] <nothingmuch> He Is Indeed!

[10:51] <nothingmuch> I on the other hand googled yesterday, and didn't have to realize it in a boom

[10:51] <nothingmuch> BUAHAHAHA

[10:51] <theorbtwo> Oh.

[10:51] <theorbtwo> I looked in AUTHORS, but he wasn't there.

[10:51] <nothingmuch> ah

[10:51] <theorbtwo> I didn't google, after assuming that "lathos" didn't sound very googleable -- there were probably too many.

[10:52] <autark-jp> gah! any way to speed up 'make test'? splice.t just took 1m15s :/

[10:52] <castaway> get a faster machine

[10:52] <castaway> ,)

[10:52] <autark-jp> ;)

[10:52] <nothingmuch> autark-jp: use feather

[10:52] <autark-jp> feather?

[10:52] <nothingmuch> Juerd's machine

[10:55] <autark-jp> ah, and suddenly the topc makes sense :)

[10:55] * autark-jp <- slow

[10:58] <clkao> how do i call assignment with a sub? &infix:<=> ?

[10:58] <nnunley> theorbtwo:  You probably got a few too many references to Chrono Trigger.

[10:59] <theorbtwo> That should do it, clkao.

[11:00] <clkao> it doesn't work. *** Undeclared variable: "&infix:="

[11:00] <theorbtwo> The emphasis may be on /should/.

[11:01] <clkao> ok. if i want to write a failing test where does it belong?

[11:01] <clkao> to

[11:03] <scook0> currently '=' only exists as a Syn, not a regular function...

[11:03] <clkao> eek. will that change?

[11:03] <scook0> clkao: I don't know what the specced behaviour is, that's just the current implementation

[11:03] <scook0> t/operators/assign.t ?

[11:04] <theorbtwo> scook0: I don't know of anything specced on = that would make it different from any other op.

[11:04] <theorbtwo> (And every op should be a function with a strange name.)

[11:05] <scook0> the only difficulty is evaluating the LHS in LHS context, but I suppose that should be feasible somehow

[11:07] <theorbtwo> Hm, good point.

[11:08] <theorbtwo> It might need to be a macro (and we don't have those yet... something which I should work more on fixing).

[11:08] <kungfuftr> perl6 is moving way too quickly for me to keep track... =0(

[11:11] <castaway> ditto, kungfuftr 

[11:11] <theorbtwo> macros have been semispeced for a while.

[11:11] <theorbtwo> They just haven't been implemented.

[11:13] <nothingmuch> hah! in our product we have a method named dearHierarchyGiveMePleaseHeightOfMember

[11:14] * theorbtwo laughs aloud at nothingmuch's product.

[11:15] <castaway> .)

[11:15] <scook0> reminds me of INTERCAL...

[11:15] <nothingmuch> i'm 90% sure I Know who wrote it too =)

[11:16] <theorbtwo> You don't have a svn blame (or equiv) to tell you?

[11:24] <theorbtwo> Mornin, IshaCocoa.

[11:25] <nothingmuch> theorbtwo: p4 can do that in an acward way

[11:25] <nothingmuch> ackward

[11:25] <nothingmuch> i have to trace back through branches manually

[11:25] <theorbtwo> Oh, perforce, not perl 4.

[11:25] <theorbtwo> Ugh.

[11:25] * castaway wondered there too

[11:25] <nothingmuch> and I have to convert changelist numbers to authors

[11:25] <theorbtwo> You could write a script to do it... but it probably wouldn't be worth the effort.

[11:26] <nothingmuch> and just to find out who has a nice sense of humor, it's too much work =)

[11:27] <clkao> the accessing perl6 data as reference requires the assigment function to work.

[11:27] <clkao> failed test committted.

[11:27] <clkao> s/the/to

[11:27] <autrijus> greetings.

[11:27] <autrijus> clkao: I want auto TIEHASH

[11:28] <clkao> autrijus: i'm having it.

[11:28] <clkao> autrijus: doesn't work because i can't assign

[11:28] <clkao> i'll finish the tie stuff later

[11:28] <IshaCocoa_> Howdy theorbtwo.

[11:28] <autrijus> clkao: what can't assign?

[11:29] <clkao> if you can fix the assignment, and ($rw = 1; ref(\$rw) eq 'Scalar') i'll be hapy

[11:29] <clkao> autrijus: see my last comit

[11:29] <autrijus> ref(\$rw) is Int

[11:29] <autrijus> always is

[11:29] <clkao> it returns '1' :)

[11:29] <autrijus> pugs> my $rw = 1; ref(\$rw)

[11:29] <autrijus> ::Int

[11:29] <autrijus> ?eval my $rw = 1; ref(\$rw)

[11:30] <clkao> not right 

[11:30] <castaway> evalbot is gone walkies

[11:30] <svnbot6> r4202, clkao++ | Failed test for assignment operator.

[11:30] <castaway> (Juerd said recompiling pugs confuses it or something)

[11:30] <clkao> it's same as ref($rw) wtf?

[11:30] <castaway> why not, if $rw is an int?

[11:31] <clkao> so reference is the same?

[11:31] <clkao> because we have "is rw" so we don't use reference to scalar anymore?

[11:31] <castaway> $rw = 'foo'; ref($rw); -> still an int?

[11:31] <castaway> oops ref(\$rw)

[11:32] <autrijus> pugs> my $rw = 'foo'; ref(\$rw)

[11:32] <autrijus> ::Str

[11:32] <clkao> and try print ref(\$rw)

[11:32] <theorbtwo> say ref 1; say ref \1; say ref \\1;

[11:32] <autrijus> pugs> my @x; (ref(@x), ref(\@x))

[11:32] <autrijus> (::Array, ::Array)

[11:32] <theorbtwo> At least one of those is wrong.  I'd argue that two of them are.

[11:32] <autrijus> pugs> ref \(\1)

[11:32] <autrijus> ::Int

[11:32] <theorbtwo> Autoderef is ucky.

[11:32] <clkao> autrijus: the value of that is wrong

[11:32] <autrijus> clkao: the value of what?

[11:33] <castaway> ok, I'm confused too now

[11:33] <autrijus> theorbtwo: I don't disagree.

[11:33] <clkao> my $rw = 1

[11:33] <clkao> print \$rw

[11:33] <clkao> this is what got passed into p5

[11:33] <clkao> and fscked

[11:33] <autrijus> ok.

[11:33] <autrijus> I agree it's a bug.

[11:34] <autrijus> I further agree that infinite dereferece, although at one time mandated by larry, is now out of fashion

[11:34] <autrijus> so pugs will fix

[11:34] <autrijus> but probably not today

[11:34] *** ChanServ sets mode: +o autrijus

[11:34] <theorbtwo> On a completely different note...

[11:34] <clkao> eek, fix that before i come back from lunch

[11:34] <autrijus> clkao: not possible...

[11:34] <clkao> otherwuise perl5 accessing p6 ref won't work

[11:34] <clkao> it invovles p6l?

[11:35] *** autrijus sets mode: -o autrijus

[11:35] <autrijus> clkao: no, it involves rewriting 30% of AST.Internals.

[11:35] <theorbtwo> I'd like to have programatic access to the body of expressions.  Is doing instance Value Exp sane?

[11:35] <autrijus> theorbtwo: go ahead. see DirStream code

[11:36] <autrijus> use opaque and fromObj

[11:36] <castaway> ?eval $?PUGS_VERSION

[11:36] <evalbot6> \'Perl6 User\'s Golfing System, version 6.2.5, May 24, 2005 (r4201)' 

[11:36] <theorbtwo> Cool!

[11:36] <autrijus> ok, dinner now. bbiab &

[11:43] <theorbtwo> Allo, bro.

[11:47] <broquaint> Hey, theorbtwo.

[11:47] <broquaint> What's the latest?

[11:48] <theorbtwo> I'm trying to make expressions introspectable.

[11:49] <broquaint> Huzzah!

[11:49] <theorbtwo> LISP with syntax, baby.

[11:49] <broquaint> More introspection would be very handy at the moment.

[11:49] <broquaint> LISP has syntax? ;)

[11:49] <theorbtwo> No -- perl6 does.

[11:50] <broquaint> Hehe.

[11:50] * theorbtwo wonders what the difference between vCast and doCast is.

[11:50] <Odin-LAP> Which is rapidly becoming the single difference between the two...

[11:50] <theorbtwo> (They have the same signature.)

[11:50] <broquaint> vCast is a lazy cast?

[11:51] <theorbtwo> Ah.

[11:51] <theorbtwo> Wait, no.

[11:51] <broquaint> That was a guess.

[11:51] <theorbtwo> Those would have different signatures -- the nonlazy version would have a !.

[11:52] <nothingmuch> blah!

[11:52] <nothingmuch> Class::Events takes 20 seconds to parse on feather

[11:52] <nothingmuch> and then generates an error

[11:53] <theorbtwo> Oh.  Everything in value has default instances anyway.

[11:53] <theorbtwo> So I only need to implement vCast and castV and everything else hopefully just works.

[11:56] * broquaint tries to track down a recursive infinite loop in some mjd code ...

[11:57] * broquaint 's brain teh splode

[12:02] <broquaint> Awesome. Tron.

[12:18] *** sekimura is now known as sekimuraway

[12:23] * luqui just finished watching shaolin soccer

[12:23] <luqui> very much fun :-)

[12:24] <luqui> thanks mugwump

[12:35] <broquaint> ?eval my $s = -> { say @_ }; $s.(q[b0rk])

[12:35] <evalbot6> Error: Undeclared variable: "@_" 

[12:36] <broquaint> That's not right, is it?

[12:37] <broquaint> Yeah, that used to work. Hrm ...

[12:38] <theorbtwo> Looks wrong to me, but I'm not sure.

[12:39] <autark-jp> isn't -> {} saying, I take no variables? 

[12:39] <autark-jp> but $_ get set.

[12:40] <broquaint> ?eval sub f(Code $a) { $a } my $s = f { say @_ }; $s.(1)

[12:40] <evalbot6> Error: Undeclared variable: "@_" 

[12:40] <broquaint> Using sub {} works, but -> {} and a bare {} doesn't work. It seems odd. It also means a program that was working, does so no longer.

[12:42] <castaway> oops

[12:43] <theorbtwo> ?eval [(sub {}).arity, (-> {}).arity, ({}).arity]

[12:43] <evalbot6> [1, 0, 0] 

[12:43] <theorbtwo> Yup.

[12:43] <castaway> whats that?

[12:43] <broquaint> Shouldn't they all behave the same?

[12:44] <scook0> broquaint: they used to, but it was explicitly changed recently

[12:44] <theorbtwo> I seem to recall Autrijus mentioning the other day that they were clarified not to.

[12:44] <autark-jp> so if you define f { say @_ }, f(1,2) will work, but not f(1)?

[12:44] <broquaint> Could someone point me to where this was clarified?

[12:46] <scook0> I don't think it's on p6l...checking the irc logs...

[12:46] <Juerd> re evalbot6: it can run on feather if it doesn't use the global pugs

[12:46] <Juerd> Because for some reason, the pugs executable gets hard-locked when in use

[12:47] <Juerd> And then the automatic upgrades can no longer take place

[12:47] <Juerd> I hope autrijus has a solution for this, and that the locking isn't necessary

[12:47] <clkao> autrijus: aarrg. :/

[12:48] <scook0> broquaint: start looking from http://colabti.de/irclogger/irclogger_log/perl6?date=2005-05-30,Mon&sel=891#l1346

[12:48] <broquaint> Thanks, scook0 :)

[12:49] <theorbtwo> r4160 | autrijus | 2005-05-30 11:04:07 +0200 (Mon, 30 May 2005) | 2 lines

[12:49] <theorbtwo> * according to luqui, bare {} and pointy -> both have no

[12:49] <theorbtwo>   default argument at all, unlikes sub/method/coro that has *@_.

[12:50] <theorbtwo> Whoops, sorry.

[12:50] <theorbtwo> Too slow.

[12:50] <scook0> just checked S06

[12:51] <broquaint> Thanks, theorbtwo, that makes sense quicker than reviewing IRC logs ;)

[12:51] <scook0> it implies that only sig-less (p5-style) subs get @_, but it isn't 100% clear

[12:51] <castaway> hmm

[12:54] <broquaint> That should probably be noted in autrijus' next use.perl update.

[12:55] * castaway wonders where that is declared..

[12:55] <castaway> I cant find it anywhere in S06 or 04

[12:56] <scook0> castaway: the @_ thing?

[12:56] <broquaint> It makes porting functional perl5 code a little verbose.

[12:56] <castaway> yes

[12:56] <scook0> in S06 under 'perl5ish subroutine declarations'

[12:57] <scook0> but it doesn't explicitly say that @_ doesn't show up for  {} & ->{}

[12:57] <castaway> well under the stuff about pointy subs it says

[12:57] <castaway> The arrow operator -> is almost a synonym for the anonymous sub keyword, except that the parameter list of a pointy sub does not require parentheses, it does not require a preceding comma when included in a list, and a pointy sub may not be given traits.

[12:57] <broquaint> Seems odd you have to declare the arguments for what is meant to be huffmanized :/

[12:58] <castaway> (hmm, those are to anon subs not real subs.. )

[12:58] <scook0> I think the 'almost a synonym for anonymous sub' thing is misleading

[12:58] <castaway> the perl5ish bit doesnt mention anon subs not having @_ at all

[12:59] <scook0> In my mind, ->{} is closer to {} than sub {}

[13:00] <castaway> ah but what about Larrys? :)

[13:00] <scook0> castaway: perhaps we need a p6l ruling

[13:01] <broquaint> @_ should always be the default arg stack. *Having* to declare it every time seems oddish.

[13:01] <broquaint> Oh well, another quirk to learn, or unlearn, as it were.

[13:02] <castaway> sounds crazy to me

[13:02] <scook0> perhaps we need @?ARGS or something

[13:02] <scook0> then @_ can default to an alias to that

[13:02] <castaway> surely thats just a name for the same thing?

[13:02] <scook0> (I'm trying to crystalise my thoughts at the moment...)

[13:03] <scook0> anyway, I think there's a difference between @_ as implicit argument, and @_ as an extra array that gets all arguments

[13:04] <scook0> we also need to figure out whether ->{} and {} take 0 args or unlimited args

[13:05] <broquaint> I don't see why @_/@?ARGS shouldn't be the default for all codesque things that don't have an signature, no signature shouldn't imply no args/$_.

[13:05] <broquaint> Pointy and bare subs should have 'unlimited' args.

[13:05] <scook0> broquaint: that's probably best

[13:05] <broquaint> It just means that if the args aren't used then the compiler can just optimize them away.

[13:06] <broquaint> Or something.

[13:06] <scook0> I think @_ should be an alias to (or copy of) all the arguments, rather than being an argument itself

[13:06] <broquaint> For sure.

[13:07] <castaway> makes sense to me.. isnt it now?

[13:07] <scook0> currently, sub {} effectively expands to sub (*@_) {}

[13:07] <scook0> which works, but is less general

[13:07] <scook0> (IIRC)

[13:07] <broquaint> Where as -> {} and {} now have an implicit arity of 0.

[13:08] <broquaint> &code.arity = Inf ;)

[13:11] <scook0> so sub {}, ->{} and {} should all get an implicit slurpy param that doesn't have a name

[13:11] <scook0> and you access the arguments through @_

[13:11] <scook0> (which isn't a param, but an array of all the arguments)

[13:12] <broquaint> a la Perl5 :)

[13:12] <svnbot6> r4203, autrijus++ | * Kwid::Event::Parser unbroken and test fixed.

[13:13] <arcady> whoa, the unary + makes the multiple dispatch confused

[13:13] <scook0> I must remember to take this proposal further...

[13:13] <arcady> or am I just confusing myself

[13:14] <arcady> ah, so I am

[13:14] <broquaint> A perl6-lang post perhaps, scook0?

[13:15] <arcady> but I'd think that +$a is more like an Int than an Str

[13:15] <arcady> (though it's really a Num)

[13:19] <arcady> specifically, if I have a multi sub foo(Int) and a multi sub foo(Str)

[13:19] <arcady> foo(2) call the Int one

[13:19] <arcady> and foo(+2) calls the Str one

[13:23] <svnbot6> r4204, autrijus++ | * small random typo fix to hw2005 talk

[13:23] <svnbot6> r4205, autrijus++ | * &infix<=> can now be used as the asignment operator.

[13:23] <Limbic_Region> having read the recent commits - are we preparing for a release today?

[13:28] <castaway> AFAIK

[13:29] <scook0> broquaint: I'm writing up a p6l post, but I'm not getting very far--I'm just about to go to bed

[13:29] <svnbot6> r4206, autrijus++ | * unTODO and remove unneccessary unshift @*INC

[13:29] <svnbot6> r4207, autrijus++ | * guarantee access to blib6/lib in `make smoke`.

[13:29] <svnbot6> r4208, autrijus++ | * unTODO and fix bad :todo syntax.

[13:29] <svnbot6> r4209, autrijus++ | * declaring `sub Qulified::name` inside a package no longer

[13:29] <svnbot6> r4209, autrijus++ |   prepends the package name to the sub name.

[13:29] <castaway> karma autrijus

[13:29] <jabbot> castaway: autrijus has karma of 511

[13:30] <castaway> (hmm, that should read Inf :)

[13:30] <broquaint> I could take a stab if you like, scook0.

[13:31] <scook0> broquaint: feel free--I probably won't get another chance in the next 24h :(

[13:31] <broquaint> Alrighty.

[13:31] <scook0> well, goodbye all

[13:32] <castaway> when do you start the job, bro?

[13:32] <broquaint> June 13th.

[13:32] <castaway> nifty

[13:33] * castaway hopes they allow PM/IRC access :)

[13:33] <broquaint> So two weeks of intense relaxtion :)

[13:33] <castaway> *g*

[13:33] <broquaint> I should think so. They seem a like a very sensible outfit.

[13:33] <castaway> yay

[13:34] <castaway> hmm, their list claims to still be looking for perl devs

[13:36] <castaway> mm, "other european languages" :)

[13:38] <broquaint> Is Haskell a European language?

[13:39] <castaway> Umm.. probably?

[13:39] * castaway was thinking of german :)

[14:05] * Limbic_Region isn't sure but he thinks efforts have been taken to prevent users from using anything other than IE

[14:05] * Limbic_Region had to go through strange steps to get FF working this morning

[14:05] <Khisanth> with pugs?

[14:05] * Limbic_Region hopes it is all just a bad dream and tomorrow things will work fine

[14:05] <Limbic_Region> huh?

[14:06] <Limbic_Region> I was referring to sensible outfits allowing access to certain locations

[14:06] <Limbic_Region> and commenting on the fact that I am not sure I work for a sensible outfit

[14:06] <Limbic_Region> one could argue that "The U.S. Government" by definition could never be considered a sensible outfit

[14:06] <Limbic_Region> but hey - who am I to judge

[14:07] <Khisanth> hmm slightly different imo :)

[14:08] <Khisanth> anyone who pays taxes should be able to access those!

[14:08] <Khisanth> what the hell are they doing that would require IE specific features anyway?

[14:08] <theorbtwo> Not quite sensible -- the hemline on the skirt is /all/ wrong.

[14:08] <Khisanth> (otoh a FF specific site is equally bad)

[14:08] <Limbic_Region> completely wrong perspective Khisanth

[14:08] <Limbic_Region> it is about control

[14:08] <Limbic_Region> not features

[14:09] <theorbtwo> Khisanth: Not IE specific features -- only allowing the computers to run IE.

[14:09] <Limbic_Region> they can lock you down to a specific app with a specific set of plugins with a specific proxy with a specific set of configurations

[14:09] <Khisanth> ah see THAT could be useful

[14:09] <Khisanth> for a politician

[14:10] <Khisanth> a press diverting tool ;)

[14:11] <Limbic_Region> given the number of people and sub organizations and geographic dispersity - it makes sense to have security controlled at a cetral location

[14:11] <Limbic_Region> you can't trust that people will do the right thing (either intentionally or accidently)

[14:12] <Limbic_Region> anyway - back to being on topic

[14:12] <Limbic_Region> so there is a release scheduled sometime in the near future?

[14:12] <Limbic_Region> 6.2.6?

[14:13] <theorbtwo> I think Autrijus wanted to release it a bit ago, but that didn't happen somehow.

[14:14] <Limbic_Region> I was just a bit confused - normally the topic changes

[14:14] <Limbic_Region> when I looked at the commit history I got excited

[14:15] <castaway> afaik, yes there is

[14:15] <castaway> (didnt I answer that just now?)

[14:15] <Limbic_Region> a while back

[14:16] <Limbic_Region> I have ulterio (sp?) motives castaway

[14:16] <castaway> oh dear :)

[14:16] <Limbic_Region> I need to go fight with the INS in a couple hours but was thinking about pinging a few people who have said they are waiting for a stable release of Pugs that has features x, y, and/or z

[14:17] <Limbic_Region> I think I convinced blokhead to join the madness 

[14:19] <castaway> we need more cooks?

[14:19] <svnbot6> r4210, autrijus++ | * MMD tiebreaking: remove sub type and globalness from the criteria

[14:19] <svnbot6> r4211, fireartist++ | * updated porting_howto with dotted-patenthesis requirement on method calls

[14:21] <Khisanth> .()?

[14:21] <fireartist> <whitespace>.()

[14:21] <fireartist> S12

[14:21] <Limbic_Region> castaway - yes, I think so

[14:24] <svnbot6> r4212, duff++ | Added whitespace sensitivity of subs/arrays/hashes to the porting guide

[14:25] <Arathorn> cooks are a state of flux, anyway, surely :)

[14:38] <clkao> my @a = (1,2);my $ar = \@a;warn $ar.elems;

[14:38] <clkao> is this right?

[14:38] <svnbot6> r4213, duff++ | Slight reformat of docs/other/porting_howto

[14:38] <clkao> we i need to (@$ar).elems?

[14:38] <clkao> (it works in pugs, i am just unsure about p6l)

[14:39] <Limbic_Region> why wouldn't it work?

[14:39] <Limbic_Region> that isn't meant to be flippant btw

[14:39] * Arathorn (very) vaguely remembers something about autodeferencing

[14:39] <Arathorn> uh, autodereferencing even

[14:39] <Limbic_Region> you would expect $ar[1] = 42; # to work right?

[14:40] <Limbic_Region> the . is -> afterall

[14:40] <Limbic_Region> and so $ar.elems is dereferning

[14:40] * Limbic_Region can't speel

[14:43] <clkao> ok, so @ar[1] and $ar[1] will both work. any of them is recommended form?

[14:43] <Limbic_Region> hang on as that is a bit confusing

[14:43] <Limbic_Region> at least to me

[14:43] <autrijus> clkao: depends on what you expect it to behave in slurpy context.

[14:43] <autrijus> say @ar; # each elements

[14:43] <theorbtwo> clkao: They both do something, but they do different things.

[14:43] <autrijus> say $ar; # a single ref

[14:44] <Limbic_Region> thanks theorbtwo and autrijus 

[14:44] <autrijus> clkao: think of sigils as a context hinter.

[14:44] * Limbic_Region was hung up on the "both work" part

[14:44] <autrijus> they probably only have that much use now.

[14:45] <theorbtwo> Eh?  @a[1] works on the array in @a.  $a[1] works on the array reference in $a.

[14:45] <theorbtwo> Different things.

[14:45] <clkao> autrijus: ya, but the problem is single ref odesn't work right?

[14:47] <autrijus> clkao: single ref doesn't work right how?

[14:49] <clkao> my @a = (1,2);my $ar = \@a;warn $ar;

[14:49] <clkao> i thought $ar should just give me a reference so i can pass it as a single value to perl5

[14:49] <castaway> Im guessing it does, but warn is dereffing it?

[14:50] <castaway> warn $a.[0] also works there

[14:50] <clkao> hmmm. ok.. i will try

[14:50] <autrijus> clkao: $ar is a reference.

[14:51] <autrijus> you don't need the \, even.

[14:51] <castaway> (annoying tho, how do you now tell if you have a reference?)

[14:52] <autrijus> castaway: I think the idea is you don't :)

[14:52] <castaway> Ugg

[14:52] <castaway> why not? how does one debug there?

[14:52] <autrijus> well you can do 

[14:52] <autrijus> ?eval (1,2).perl

[14:52] <evalbot6> '(1, 2)' 

[14:53] <autrijus> ?eval my $x = (1,2); $x.perl

[14:53] <evalbot6> '[1, 2]' 

[14:53] <castaway> having @a and \@a printed looking the same sounds like it will just lead to confusion

[14:53] <PerlJam> Who was it that was talking about transparent vs. opaque references on p6l?

[14:53] <PerlJam> This is exactly why.

[14:53] <autrijus> luqui was it.

[14:54] <castaway> well thats something at least

[14:54] <clkao> oh ok.

[14:54] <castaway> hmm, and is there a code-ish way of telling whether $ref is a hashref or an arrayref?

[14:55] <clkao> ref($ref) ?

[14:55] <autrijus> ?eval my $x=(1,2); $x.ref

[14:55] <evalbot6> ::Array 

[14:55] <autrijus> ?eval my $x={1=>2}; $x.ref

[14:55] <evalbot6> ::Hash 

[14:55] <castaway> did you just say that gave Str etc?

[14:55] <castaway> Ok

[14:55] <clkao> autrijus: so if i use pugs_apply for @a, and i want to apply &infix:<=>, @a[1], 123

[14:56] <clkao> how do i do that?

[14:56] <autrijus> clkao: simple

[14:56] <autrijus> cv = pugs_eval("{ @^x[1] = $^y }")

[14:57] <Limbic_Region> PerlJam - the opaque vs transparent references has implication on the number of levels dereferences (1 vs Inf)

[14:57] <autrijus> pugs_apply(cv, @a, 123)

[14:57] <clkao> what what what?

[14:57] <Limbic_Region> basically, it sounds like Luke sees both sides of the argument and wants both

[14:57] <autrijus> clkao: use the â˜¯!

[14:57] <Limbic_Region> but isn't sure how the syntax should work

[14:57] <clkao> i don't see pugsS_eval is exported?

[14:58] <autrijus> clkao: it's exported.

[14:58] <clkao> ok.

[14:58] <clkao> i'll try tonight

[14:58] <autrijus> extern Val *pugs_Eval ( char *code );

[14:58] <autrijus> in pugsembed.h

[14:58] <autrijus> so just use â˜¯ to implement them

[14:58] <clkao> ok ok

[14:58] <clkao> but what was the \$ thing.

[14:59] <clkao> it was passed in as the int value

[14:59] <kolibrie> well, I posted my time formatting proposal to p6l -- hopefully no flames erupt

[14:59] <clkao> my $rw = 1, p5_code(\$rw)

[14:59] <PerlJam> Limbic_Region: it's too bad we can't say something like $ref.*{$foo}  to mean infinite deref, while $ref{$foo} would be only one

[15:00] <clkao> what's in p5_code is 1, not a pugs blessed thing

[15:00] <autrijus> clkao: you need to declare the prototype is "is rw" I think

[15:00] <Limbic_Region> PerlJam - I don't fully grasp the implications

[15:00] <Limbic_Region> If you feel you do and have a good idea for solving, please post to Luke's thread

[15:00] <autrijus> clkao: I can do that for all methods 

[15:00] <autrijus> clkao: in the p5 side thatis

[15:00] <autrijus> ?eval role Class::Events::Publisher {};

[15:00] <evalbot6> undef 

[15:00] <Limbic_Region> I am sure that there are at least 1 pending decision by @larry that is going to mean a significant overhaul of pugs code

[15:00] <PerlJam> Limbic_Region: nah, I'm straddling the fence right now and don't see what I would consider a good solution

[15:01] <Limbic_Region> as autrijus has said in the past - thanks for having lots of tests

[15:01] <clkao> autrijus: ok. let me know when it's done

[15:01] <autrijus> clkao: so just method invocation for now?

[15:01] <jhorwitz> autrijus: fully qualified subs have broken mod_pugs -- so now i'd like to extract the package & subname using breakOnGlue in Compile/Parrot.hs, but of course i'm running into monad issues, which still perplex me...

[15:01] <clkao> autrijus: wait, if declareed as rw it's still not a refernece that p5 sees? because i need to tie it

[15:02] <autrijus> clkao: if declared as rw, ref won't deref.

[15:02] <autrijus> clkao: which is what you want I persume

[15:02] <autrijus> clkao: i.e. $x = 1; perl5_sub($x)

[15:02] <autrijus> is _always_ going to pass $x as ref

[15:02] <autrijus> only perl5_sub(1) gets 1

[15:02] <autrijus> as int

[15:02] <clkao> what? gets 1 then it's not ref?

[15:03] <autrijus> perl5_sub(1) # gets 1

[15:03] <autrijus> $x = 1; perl5_sub($x) # gets VRef

[15:03] <autrijus> of course 1 is not a ref

[15:03] <clkao> haha.

[15:03] <autrijus> I hope, at least

[15:03] <clkao> ahah, i misread.

[15:04] <clkao> ok, but does mkvalref already seess that ref?

[15:04] <autrijus> clkao: yeah

[15:04] <clkao> good then.

[15:04] <autrijus> jhorwitz: hrm, sorry. :-/ what monad issue?

[15:04] <Juerd> autrijus: Do you know why pugs locks itself?

[15:04] <jhorwitz> autrijus: sorry, got distracted...

[15:04] <autrijus> Juerd: hm?

[15:04] <autrijus> let (Just (package, name')) = breakOnGlue "::" name

[15:04] <autrijus> that should do

[15:05] <Juerd> autrijus: The automated upgrades broke, because evalbot kept ~juerd/auto/bin/pugs locked

[15:05] <jhorwitz> autrijus: i've tried that, except for the "let".  will try that now.

[15:05] <Juerd> autrijus: And it seems every running pugs locks itself

[15:05] <autrijus> "locked" ?

[15:05] <Juerd> 11:36 < Juerd> cp: cannot create regular file `../bin/pugs': Text file busy

[15:05] <autrijus> as in flocked?

[15:05] <Juerd> no, a flock can be ignored...

[15:05] <autrijus> try "cp -f"

[15:05] <Juerd> I have no idea what kind of lock this was.

[15:06] <Juerd> Never saw this error message before, and I wonder why pugs is a "text file"

[15:06] <Juerd> I'll try

[15:06] <autrijus> clkao: meanwhile focus on hash and array first

[15:06] <autrijus> clkao: I'll get the scalar ref thing done

[15:07] <Juerd> autrijus: That work

[15:07] <Juerd> autrijus: That works

[15:07] <jhorwitz> autrijus: that worked.  i'm still not completely grokking this though -- why did the let work where "<-" didn't?

[15:08] <autrijus> jhorwitz: because <- takes, as rhs, a compuatation

[15:08] <autrijus> of type (Eval a)

[15:08] <autrijus> and the lhs is of type (a)

[15:08] <autrijus> but breakOnGlue has type

[15:08] <autrijus> [a] -> [a] -> Maybe ([a], [a])

[15:08] <clkao> autrijus: yes, i've had something. i ugess i can finish them tonight if the cv pugs_eval thing works

[15:08] <autrijus> so no Eval is involved

[15:08] <autrijus> clkao: I think it'd work

[15:08] <jhorwitz> autrijus: getting it, thanks

[15:08] <autrijus> :)

[15:09] <autrijus> clkao: nice... I got SB and Class::DBI working with pugs today

[15:09] <autrijus> if passing hashref can work I wouldn't need the helper modules anymore

[15:10] <clkao> autrijus: oh ?? but export doesn't work yet.

[15:10] <clkao> autrijus: see the readme items.

[15:10] <autrijus> clkao: both modules are OO

[15:10] <autrijus> clkao: so export is irrelevant

[15:10] <autrijus> (but yeah)

[15:10] <clkao> alright

[15:10] <clkao> i've got plans for export.

[15:10] <clkao> need some help from you

[15:11] <autrijus> cool. I'd love to hear about them and what I can do

[15:11] <autrijus> but I need to take a nap now

[15:11] <autrijus> stayed awake for far too long again

[15:11] <autrijus> bbl :) &

[15:20] <clkao> autrijus: hear about them = i wrote them in perl5/README

[16:15] <gaal> how do i get runEvalIO env & opEval to not dump the AST?

[16:17] <gaal> and does the eval name argument have magic significance anywhere?

[18:05] <ninereasons> msg evalbot6 eval 1+1

[18:05] <ninereasons> oops

[18:05] <Arathorn> :o

[18:11] <gaal> where's the place to put a util i use in building pugs, but is itself in haskell? till now things like this were put in util, but they were all perl5.

[18:13] <gaal> yay! namespaces were fixed! who did that?

[18:15] <gaal> okay, i have a working prelude on my box. it's still a little rought though.

[18:15] <gaal> seen autrijus

[18:15] <jabbot> gaal: autrijus was seen 3 hours 3 minutes 57 seconds ago

[18:21] <integral> is there a spec for pack in perl6 yet?

[18:21] <gaal> i don't think so, integral.

[18:21] <integral> pity :-)

[18:21] <gaal> inline c code and use a struct? *duck*

[18:22] <integral> inline perl5 ;-)

[18:40] <nothingmuch> fucking beurocrats! i have so far found 10 pages telling me when to replace my "Travel Document in lieu of National Passport" but I still don't have the slightest bit of a clue what the fuck it is!

[18:41] <nothingmuch> GAH!

[18:41] <gaal> what you need, my friend, is an agent.

[18:41] <nothingmuch> i have an agent, i just forgot to call her

[18:41] <nothingmuch> today, that is

[18:41] <nothingmuch> so i said "oh, i'll google instead"

[18:42] <Chewie[]> Do Parrot's string functions support multi-byte characters?

[18:42] <gaal> call your agent. it's like calling your mother, only it's more likely to get you a trip abroad.

[18:43] <Chewie[]> If so, is there a way to take bytes out of a string individually? I'm trying to implement base64.

[18:43] <nothingmuch> Chewie[]: i think so, since parrot has unicode, but we don't know much about it as a rule of thumb

[18:43] <nothingmuch> #parrot on irc.perl.org is a better place to ask

[18:43] <Chewie[]> ah.

[18:43] <nothingmuch> afaik leo posted some string changes about 2-3 months ago

[18:44] <nothingmuch> regarding the way strings are stored inline, i think

[18:44] <nothingmuch> but i'm not sure

[18:44] <nothingmuch> string register OTOH have 

[18:44] <nothingmuch> are supposed to have full unicode support

[18:45] <Chewie[]> Hmm.

[18:50] <gaal> anyone with Makefile-fu around? Any reason why Config.hs isn't unshifted to @srcfiles?

[18:57] <gaal> how do i locally turn off debug prints, the ones trifggered by Pugs.Eval.evaluate ?

[18:58] <gaal> .... or is that a leftover debug message someone forgot to remove?

[18:59] <eric256> what is with all the temp files created?  why arn't they cleaned up with some sort of batch rm temp* after testing is done?

[19:00] <gaal> are you on windows?

[19:00] <eric256> yea

[19:00] <gaal> there's an unhappy condition there. it goes like this:

[19:00] <gaal> they are unlinked

[19:00] <gaal> but handles aren't closed at the right time yet

[19:00] <gaal> and on windows you can't delete an open file

[19:01] <gaal> so... junk. :(

[19:01] <eric256> why don't the tests explicitly close the handles? or is that the borked part you mean?

[19:01] <gaal> however! i'm just about to check in standard pipe open, so you're welcome to refactor some of the tests not to use temp files at all :-)

[19:02] <eric256> Pipe.open?  that was part of the namespace thing you where waiting for right?

[19:02] <gaal> they do close on the p6 level, but apparently there's a problem deeper down. Ask Corion next time he's around.

[19:02] <gaal> yes. for now you need to call it Pipe::pipeopen (note the ::)

[19:03] <eric256> Pipe::pipeopen seems a bit redundant. why not juse Pipe::open?

[19:03] <gaal> because namespaces are still a little bit flaky :)

[19:03] <gaal> it will be Pipe.open

[19:08] <clkao> autrijus: bah, pugs_Eval isn't working properly. i think it evals twice or something weird. i'm going to do some svk refactoring tonight instead

[19:09] <gaal> r4216. if the debug prints bother you, don't svn  up, or better yet, make a patch  :-)

[19:11] <gaal> ./pugs -e 'File::openfile(<AUTHORS>).slurp.print'

[19:16] <gaal> ./pugs -e 'Pipe::openpipe("pugs -v", :r).slurp.say'

[19:16] <gaal> hmm, the :r is required, i think it's a bug.

[19:17] <gaal> when you say sub foo (+$r is Bool), but call &foo w/o :r, $r 

[19:17] <gaal> ESCdd

[19:18] <gaal> my bad, i should 'is copy'.

[19:29] <gaal> (fixed as 4217)

[20:02] *** khisanth_ is now known as Khisanth

[20:13] <gaal> is eval(Str $code, +$lang = "perl") the correct signature?

[20:16] <gaal> and: if it is, will this now break? is(eval 'some_code', "expected_result", "look ma, no parens")    ?

[20:32] <Aankhen``> G'night.

[20:35] <Corion> Shouldn't @foo[-1] work? It's a parsefail for me ...

[20:35] <gaal> Hey Corion! :)

[20:35] <Corion> Hi gaal 

[20:35] <gaal> I'd imagine it should.

[20:35] <Corion> Then my error is elsewhere I guess :)

[20:36] <gaal> say, does concurrent smoke work for you? i want it back :-)

[20:36] <Corion> gaal: No, doesn't work for me, but I didn't try it

[20:36] <Corion> It says "Concurrent smoking disabled" or something like that

[20:37] <gaal> ah :) does homegrown perl on w32 have fork?

[20:37] <gaal> it says that because i put in that message.

[20:37] <Corion> gaal: It has fork emulation. Fork emulation only works in very specific cases.

[20:38] * eric256 wonders if concurrent smoking is anything like chain smoking

[20:38] <gaal> hmm. where's the specific specified? :)

[20:38] <Corion> eric256: Faster.

[20:38] <Corion> gaal: In the minds of the people programming the fork emulation.

[20:38] <Corion> And incidentially, the fork emulation only does what these programmers wanted/needed

[20:38] <gaal> that is unfortunate. well, i'll try it, i guess.

[20:38] <Corion> (sockets and filehandles don't really survive fork)

[20:39] <Corion> (pipes are also a bad idea)

[20:40] <gaal> pipes? really!? beh

[20:41] <Corion> I think that's what made me decide that parallel smoking won't be. But you're free to try. I'd recommend a pipe-free approach though.

[20:41] <gaal> hmm, this debug message is annoying. i think i'll remove it.

[20:41] <Corion> I think that open(F, "|-") mostly works.

[20:41] <gaal> no, it forks now.

[20:42] <gaal> i'm sure open |- works, because Test::Harness depends on it on all platforms.

[20:43] <gaal> btw, the channel is curiously quiet today.

[20:44] <Corion> Not my fault I hope

[20:44] <gaal> well, you could try making more noise.

[20:45] <gaal> but it's funny considering autrijus said he was planning a release this local_morning

[20:47] <eric256> why does smoke testing require so many modules?

[20:47] <eric256> what ever happened to the KISS theory? ;)

[20:47] <gaal> eric256, 'make test' is the kissy alternative

[20:48] <mj41> hello, 

[20:48] <mj41> my $fh = open 'mjserver-dyn.p6';  my $code = slurp $fh;  print $code;  

[20:48] <mj41> Has slurp problem with long  (>550 B) files?

[20:48] <Corion> It shouldn't

[20:48] <eric256> yea. since i can't get the modules needed for smoke running i guess i'll settle for that

[20:49] <gaal> seeing as "make smoke" outputs nice HTML, not having it use external modules would require inlining a templating tool, thus violating KISS badly

[20:49] <gaal> what can't you get?

[20:50] <gaal> Test::TAP::Model requires a new Test::More. it's s a known bug that it doesn't say so.

[20:51] <eric256> Test::TAP was the problem.

[20:51] <eric256> in my world KISS normaly refers to the end users experience not the programmers. ;)  in this case endusers just happen to be programmers.

[20:53] <eric256> thanks that seems to have fixed the problem

[20:53] <mugwump> morning

[20:53] <gaal> hmm, nothingmuch about?

[20:53] <gaal> we really should update the module's META.yml and fix that already.

[20:54] <eric256> couldn't Test::TAP::Model be updated to show that as a requirment? or is that what you meant gaal?

[20:55] <mj41> perlbot nopaste

[20:55] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[20:55] <gaal> yes, it is.

[20:56] <Corion> Oy. Is the build broken? Or do I need a clean checkout ?

[20:56] <pasteling> "mj41" at 147.229.221.107 pasted "Should anybody verify slurp bug (for file >550B) ?" (18 lines, 300B) at http://sial.org/pbot/10624

[20:57] <Corion> I get lots of loading errors for (for example) ext\CGI\t\params.t

[20:58] <gaal> paste, Corion? those coudl be just the debug messages i was looking to eliminate

[20:58] <pasteling> "Corion" at 84.176.33.233 pasted "Debug message?" (4 lines, 96B) at http://sial.org/pbot/10625

[20:58] <Corion> Yeah - it could be  a debug message

[20:59] <Corion> Yeah - it's a debug message. That'll screw with some of my tests ;)

[21:00] <gaal> yes, it's that. gimmie a minute, it's on its way out.

[21:07] <gaal> do you grok ControlEnv?

[21:08] <Corion> Who, me?

[21:08] <Corion> I don't grok much Haskell

[21:09] <gaal> np, i'll figure it out.

[21:10] <Corion> BTW, I imagine reading earlier that autrijus wanted glob() in Pugs ... That'll get ugly again, because Win32 usually has spaces in filenames/directories, and Unix folks never consider that.

[21:10] <gaal> well, at least now you can implement it in perl.

[21:10] <Corion> (other than that, globbing is a problem of the shell - it should come as a module instead of a builtin)

[21:11] <gaal> (see Prelude.pm -- it's loaded automatically now.)

[21:11] <Corion> Ah

[21:11] <gaal> http://www.livejournal.com/users/gaal/164263.html

[21:13] <Corion> gaal: Heh - maybe I should have given you %ENV<PUGSOPT> for that. %ENV<PUGSOPT> = '-MPrelude' should do the same, but PUGSOPT doesn't exist yet :)

[21:14] <gaal> i can't imagine why anyone wouldn't want a way to open files :)     (much of prim is going there too)

[21:15] <Corion> Yeah - it's cool to have the things that are easy in Perl6 directly available as Perl6 code :)

[21:16] <gaal> r4219

[21:17] <gaal> i hope i didn't turn on debugging globally, but i'm sure i'll hear about it if i did. :-p

[21:17] <eric256> shouldn't that be class Pipe { sub openpipe } so that  stuff can happily go after it?

[21:17] <gaal> yes, but i think that still doesn't work.

[21:18] <gaal> see t/pugsbugs/namespace.t

[21:18] <eric256> stubs of what needs implemented would be good too... like an S29 outline in there....maybe S29 could be pod in that document. dunno

[21:18] <gaal> (which need more tests!)

[21:18] <gaal> indeed! go for it, eric256.

[21:19] <gaal> also, there's a big job waiting to be done to p6ify eval_*

[21:19] <gaal> it's big because of t/.

[21:21] <gaal> sysinternals.com++ # tools that make w32 nicer to use

[21:40] <Corion> Does ext\Perl-MetaModel\t\00-compile.t Just Run very long or does it hang?

[21:40] <Corion> Pugs has already taken 6 minutes running it I believe ...

[21:42] <gaal> i'd forgotten to start a smoke... checking.

[21:43] <gaal> are you sure you're optimized?

[21:43] * eric256 has been running a smoke for a while now...

[21:43] <eric256> almost an hour in fact...that is insane

[21:44] <Corion> gaal: "nmake && perl run_smoke.pl"

[21:44] <gaal> if that's from clean, it should be optimized.

[21:44] <Corion> I guess there is an infinite loop, as pugs.exe has amassed 10 minutes of CPU now. Killing it.

[21:44] <gaal> but you may have a leftover unopt ast?

[21:44] <Corion> gaal: I do a "make clean" before that always.

[21:45] <Corion> ext\Perl-MetaModel\t\10_Perl_Meta_MetaClass_test.t crashes after a few seconds. That's better than running forever :)

[21:47] <geoff__> Is there a doc or url that lists all of the packages a pugs user should have installed to enable everything that pugs can do?  I must be missing something obvious, because that info seems very distributed.

[21:47] <eric256> you shouldn't need any modules installed for pugs to enable all the core stuff.

[21:48] <gaal> you need parrot for p6 rules...

[21:48] <gaal> that's pretty core imo

[21:48] <Corion> geoff__: Parrot and Perl5

[21:48] <geoff__> eric256, the kind of stuff gaal is mentioning.

[21:48] <gaal> geoff, that's a good document to have. start one?

[21:48] <Corion> The rest is included with Pugs from what I know. And GHC of course...

[21:48] <geoff__> gaal, I will as soon as I have pugs running the first time.  :-)

[21:48] <Corion> (and Parrot isn't as crucial yet :) )

[21:49] <gaal> well, i'd say test::tap::htmlmatrix and dependencies (many!) for smokes, but that isn't required for pugs itself.

[21:50] <geoff__> My eventual goal is to port some of my SDL / OpenGL stuff to PUGS, so any stuff I might need to do that linkup would be cool to know about as well.  Inline for P5, at least, yes?

[21:50] <gaal> Corion, I'm worried a bit about w32, because fancy ghc stuff doesn't work there. have you looked at native ghc there? or is that as crazy as it sounds to me? :)

[21:50] <Corion> ext\Set\t\overload.t is taking 2 minutes already ... Weird ...

[21:51] <Corion> gaal: I haven't compiled GHC from source there, but I'm considering trying to build GHC for MSVC7 there so that it uses cl.exe instead of gcc

[21:52] *** Obadiah is now known as mml

[21:52] <gaal> can anyone with a fast machine back to r4215 and see if the problems appear there too? that's before the Prelude patch

[21:53] <Corion> I'm going to bed now, sorry :)

[21:53] <gaal> night, Corion!

[21:54] <gaal> won't hurt if i did that too actually, $work tomorrow...

[21:54] * eric256 needs a faster machine to run smoke tests like this on....or concurrent testing

[21:56] <eric256> 827 todo tests.. thats huge even out of 5763 tests.

[21:56] <gaal> that's TDD for ya.

[21:57] <gaal> better 827 todo tests than 827 missing tests.

[22:00] *** geoff__ is now known as geoffb

[22:04] <mrborisguy> i've spent all day pouring over the subroutine portions of the apocolypse and synopsis, and i think this is right, but i'd love for somebody to comment on these:

[22:04] <mrborisguy>  multi sub split (  Str $delimiter ,  Str $input = $CALLER::_ ) returns List

[22:04] <mrborisguy>  multi sub split ( Rule $delimiter ,  Str $input = $CALLER::_ ) returns List

[22:04] <mrborisguy>  multi sub split (      Str $input :  Str $delimiter          ) returns List

[22:04] <mrborisguy>  multi sub split (      Str $input : Rule $delimiter          ) returns List

[22:04] <mrborisguy>  &split<> := &split<Str>.assuming:delimiter(' ');

[22:05] <mrborisguy> (for S29)

[22:05] <gaal> i think you want Str ?$input = $CALLER::_

[22:05] <gaal> ("?" cause it's optional)

[22:05] <mrborisguy> oh yeah... yep, you're right.

[22:06] * gaal zzzZZzz &

[22:08] <clkao> summon autrijus

[22:11] <eric256> does that actualy do anything? or do they setup there client to alert them when it sees that?

[22:13] <mrborisguy> i was wondering the same thing

[22:14] <mrborisguy> it reminds me of the movie "The Anchorman"... "News team, ASSEMBLE!!!!"

[22:14] <mrborisguy> (and other vague references in my head)

[22:14] <eric256> summon eric256

[22:14] <eric256> yea i don't think it acutaly does anything

[22:14] <mrborisguy> do anything?

[22:15] <eric256> that is a BAD movie

[22:15] <mrborisguy> summon eric256

[22:15] <clkao>  

[22:16] <clkao> perlbot: status?

[22:16] <clkao> evalbot6: uc('SUMMON')

[22:16] <clkao> evalbot6: ?uc('SUMMON')

[22:17] <clkao> ?eval uc('summon')

[22:17] <evalbot6> 'SUMMON' 

[22:18] <clkao> evalbot6: $summon = {((uc(shift)~' ') x 4) ~ 'COME TO ME'}.('autrijus')

[22:18] <clkao> evalbot6: $summon = {((uc(shift)~' ') x 4) ~ 'COME TO ME'}; $summon.('autrijus')

[22:18] <clkao> ?eval $summon = {((uc(shift)~' ') x 4) ~ 'COME TO ME'}; $summon.('autrijus')

[22:18] <evalbot6> Error:  unexpected ( expecting expression 

[22:20] <mrborisguy> can somebody give me commit rights to perl6 so i can upload those split prototypes?

[22:22] <ninereasons> ?eval my &summon = {((uc($^name)~' ') x 4) ~ 'COME TO clkao'}; summon('autrijus')

[22:22] <evalbot6> Error:  unexpected ( expecting expression 

[22:22] <ninereasons> hm

[22:22] <clkao> ?eval $x = { ( ( uc ( $_[0] ) ~ " ") x 4) ~ "COME TO ME"}; $x.('autrijus')

[22:22] <evalbot6> Error: Undeclared variable: "$x" 

[22:22] <clkao> ?eval my $x = { ( ( uc ( $_[0] ) ~ " ") x 4) ~ "COME TO ME"}; $x.('autrijus')

[22:22] <evalbot6> 'AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS COME TO ME' 

[22:22] <clkao> ?eval my $x = { ( ( uc ( $_[0] ) ~ " ") x 10) ~ "COME TO ME"}; $x.('autrijus')

[22:22] <evalbot6> 'AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS COME TO ME' 

[22:23] <clkao> ?eval my $summon = { ( ( uc ( $_[0] ) ~ " ") x 10) ~ "COME TO ME"}; 

[22:23] <evalbot6> \sub {...} 

[22:23] <clkao> ?eval $summon.('autrijus')

[22:23] <evalbot6> Error: Undeclared variable: "$summon" 

[22:23] <clkao> hate

[22:24] <clkao> ?eval $::summon = { ( ( uc ( $_[0] ) ~ " ") x 10) ~ "COME TO ME"}; 

[22:24] <evalbot6> Error: Undeclared variable: "$summon" 

[22:24] <ninereasons> my $summon = {((uc($^name)~' ') x 4) ~ 'COME TO clkao'}; $summon.('autrijus')

[22:24] <ninereasons> ?eval my $summon = {((uc($^name)~' ') x 4) ~ 'COME TO clkao'}; $summon.('autrijus')

[22:24] <evalbot6> Error:  unexpected ( expecting expression 

[22:24] <ninereasons> ??

[22:26] <mrborisguy> does anybody here have such authority to allow me to commit?

[22:27] <clkao> you need to get a hold of one of: autrijus, bestian, hcchien, iblech, jesse, nothingmuch, Stevan, theorbtwo

[22:28] <mrborisguy> clkao: thanks

[22:29] <clkao> damnit, autrijus keeps commiting but not answering to summon

[22:29] <obra> clkao: hi. I'm here

[22:30] <obra> what's up?

[22:30] <clkao> ?eval my $x = { ( ( uc ( $_[0] ) ~ " ") x (70/$_[0].chars)) ~ "COME TO ME"}; $x.('autrijus')

[22:30] <evalbot6> 'AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS COME TO ME' 

[22:31] <clkao> ?eval my $x = { ( ( uc ( $_[0] ) ~ " ") x (70/$_[0].chars)) ~ "COME TO ME"}; $x.('perl6')

[22:31] <evalbot6> 'PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 PERL6 COME TO ME' 

[22:34] <mrborisguy> clkao: 70/($_[0].chars + 1) because you add the space?

[22:34] <clkao> right

[22:35] <clkao> ?eval my $x = { ( ( uc ( $_[0] ) ~ " ") x (70/(1+$_[0].chars))) ~ "COME TO ME"}; $x.('chicks')

[22:35] <evalbot6> 'CHICKS CHICKS CHICKS CHICKS CHICKS CHICKS CHICKS CHICKS CHICKS CHICKS COME TO ME' 

[22:35] <clkao> too many nails

[22:35] <obra> mrborisguy: hang on

[22:35] <obra> mrborisguy: has someone reviewed your patches?

[22:36] <mrborisguy> i haven't patched anything

[22:36] <theorbtwo> Somebody was looking for me?

[22:36] <mrborisguy> and i just posted my split prototypes here

[22:36] <theorbtwo> Ah, I see.

[22:36] <mrborisguy> (or, i mean, i haven't submitted any patches)

[22:36] <theorbtwo> mrborisguy: Email address?

[22:36] <mrborisguy> mrborisguy at gmail dot com

[22:41] <theorbtwo> mrborisguy: Invitation is on it's way.

[22:42] <mrborisguy> theorbtwo: thanks

[22:42] * eric256 waits for someone to mod evalbot so you can bind commands to perl snippets ;)

[22:43] <eric256> where is the svn bot?

[22:47] <mugwump> it's a bit slow, eric256 

[22:47] <mugwump> jabbot: seen svnbot6?

[22:47] <jabbot> mugwump: svnbot6 was seen 8 hours 8 minutes 54 seconds ago

[22:47] <ninereasons> perlbot metacommit?

[22:47] <perlbot> ?eval my @meta= <autrijus bestian hcchien iblech jesse nothingmuch Stevan theorbtwo>; sub commit { return 'summon'~ ~@_ }; commit @meta;

[22:47] <autrijus_> g'morning

[22:47] *** autrijus_ is now known as autrijus

[22:48] <clkao> autrijus!

[22:48] <obra> HAH

[22:48] <ninereasons> hmm. experiment didn't work.

[22:48] <autrijus> gaal++ # Prelude

[22:48] <clkao> ?eval my $x = { ( ( uc ( $_[0] ) ~ " ") x (70/(1+$_[0].chars))) ~ "COME TO ME"}; $x.('autrijus')

[22:48] <theorbtwo> Allo, autrijus!

[22:48] <autrijus> yo

[22:48] * autrijus just woke up and relenging

[22:48] <clkao> autrijus: quick, ifx pugs_Eval

[22:49] <mugwump> <evalbot6> 'AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS COME TO ME'

[22:49] <autrijus> clkao: how is it broken?

[22:49] <clkao> autrijus: it's evaling twice

[22:49] <autrijus> clkao: test case?

[22:49] <autrijus> clkao: can you export it to p5 space?

[22:49] <autrijus> like bind it to xsinit

[22:49] <autrijus> as eg. pugs::_eval("...")

[22:50] <clkao> hang on

[22:50] <clkao> i did

[22:50] * gaal wakes up, checks flist, finds this: http://code.google.com/summerofcode.html

[22:50] <evalbot6> 'summonautrijus bestian hcchien iblech jesse nothingmuch Stevan theorbtwo' 

[22:50] <evalbot6> 'AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS AUTRIJUS COME TO ME' 

[22:51] <clkao> autrijus: 

[22:51] <clkao> eval ({ $^x[0] })

[22:51] <clkao> VError "Insufficient number of required parameters: 0 actual, 1 expected" [(MkPos "t/unspecced/p5/method.t" 126

[22:51] <clkao> 5 126 26)]

[22:51] <clkao> that's what gets into pugs_Eval

[22:51] <clkao> it works in raw pugs

[22:51] <gaal> what does 'is primitive' signify?

[22:52] <autrijus> gaal: it signifies that it should not be compiled into Parrot (yet) :)

[22:52] <autrijus> other than that it means its subtype is SubPrim

[22:52] <autrijus> so doesn't add to caller stack

[22:52] <autrijus> and you can't use return() there

[22:52] <ninereasons> perlbot metacommit?

[22:52] <perlbot> ?eval my @meta= <autrijus bestian hcchien iblech jesse nothingmuch Stevan theorbtwo>; sub commit { return 'PERLBOT can speak to EVALBOT6: summon '~ ~@_ }; commit @meta;

[22:52] <evalbot6> 'PERLBOT can speak to EVALBOT6: summon autrijus bestian hcchien iblech jesse nothingmuch Stevan theorbtwo' 

[22:53] <theorbtwo> ?eval '?eval "Hi!"'

[22:53] <evalbot6> '?eval "Hi!"' 

[22:53] <gaal> ah! great, i was wondering how to do stacktraces and things like that without messing up the stack.

[22:53] <autrijus> :)

[22:53] <gaal> i want to add java-like response to SIGQUIT by default

[22:54] <clkao> autrijus: so, any idea? can you make sure the pugs_eval thing work in haskell land? cause it's not used elsewhere

[22:54] <gaal> now we can add caller() that returns a real object

[22:56] <autrijus> clkao: wait

[22:57] <autrijus> clkao: 

[22:57] <autrijus> $ ./pugs -e "say eval_perl5('pugs::guts::eval(q[{$^x[0]}])')"

[22:57] <autrijus> CODE(0x8577910)

[22:57] <autrijus> worksforme.

[22:58] <autrijus> please check r4227.

[22:58] <clkao> orz

[23:01] <autrijus> $ ./pugs -e "say eval_perl5('pugs::guts::eval(q[{$^x[0]}])->([9])')"

[23:01] <autrijus> 9

[23:01] <autrijus> seems it's not my problem

[23:02] <autrijus> gaal: er.

[23:02] <autrijus> pugs::guts:: is a perl5 side thing

[23:02] <gaal> oh. oops. :) merging back.

[23:03] <autrijus> not sure if we want to be consistent with that... seems to be more confusing

[23:03] <clkao> weird

[23:03] <autrijus> please reverse :)

[23:03] <Limbic_Region> bit OT, but if anyone is a student and wants to earn $4500 USD this summer - see http://code.google.com/summerofcode.html

[23:03] <clkao> Could not find module `Pugs.Prelude':

[23:03] <gaal> clkao, perl Makefile.PL and make again

[23:05] <gaal> autrijus, i should do 'svn merge -r4226:4227', right? not 100% used to this yet

[23:05] <autrijus> gaal: if your change was 4227, do -r4227:4226

[23:05] <gaal> ah :)

[23:05] <autrijus> the bigger number comes first

[23:05] <gaal> thanks.

[23:07] <autrijus> :)

[23:07] <autrijus> breakfast, bbiab &

[23:17] <clkao> my bug. hate

[23:17] <clkao> it's when applying that eval result

[23:17] <clkao> now it worked! ship it!

[23:22] <clkao> autrijus: make things rw!

[23:22] <clkao> i'm almost done

[23:24] <clkao> where's svnbot?

[23:24] <clkao> gaal: what's these pugs:guts open stuff for?

[23:27] <clkao> how to make subs with placeholder varaible rw ?

[23:27] <clkao> can't find in s06

[23:28] <gaal> clkao, my mistake, it isn't p5-related

[23:28] <clkao> ok..

[23:29] <gaal> it's the glue functions between haskell openFile and perl6 open

[23:30] <stevan> seen nothingmuch

[23:30] <jabbot> stevan: nothingmuch was seen 4 hours 45 minutes 50 seconds ago

[23:30] <stevan> hmm

[23:30] <stevan> hey all :)

[23:30] <eric256> hello

[23:30] <clkao> win42

[23:30] <gaal> hey stevan :)

[23:30] <stevan> hey gaal, how goes it?

[23:31] <mugwump> do we have units in Pugs yet?

[23:31] <gaal> very well! see src/perl6/Prelude.pm

[23:31] <stevan> units?

[23:31] <mugwump> eg, 1`m

[23:31] <gaal> of all the p6 features, /me is scared of that the most

[23:31] <eric256> what?

[23:32] <stevan> gaal: this is very very cool

[23:32] <autrijus> where is units specced?

[23:32] <stevan> this gets loaded into Pugs?

[23:32] <gaal> stevan: yes

[23:33] <gaal> autrijus, i don't thiung they were finalized, but there was a debate on p6-l

[23:33] <autrijus> stevan: got time to catch up changelog a bit?

[23:33] <stevan> so we can start writing Perl 6 in Perl 6 now ? 

[23:33] <clkao> autrijus: rw func! arrayref access is complte, pending the rw function in assignment only

[23:33] <mugwump> autrijus: remember that discussion about a superposition of all possible unit types for numbers?

[23:33] <autrijus> clkao: k k. do hashref too

[23:33] <stevan> autrijus: I only have about 20 minutes right now, but I can find some time later 

[23:33] <gaal> stevan: exactly :)

[23:33] <autrijus> mugwump: yes?

[23:33] <autrijus> stevan: thanks!

[23:33] <clkao> autrijus: can't do hashref tonight.... drank champagne

[23:33] <gaal> however, limitations apply.

[23:33] <stevan> when is the release scheduled for?

[23:33] <autrijus> heh

[23:33] <mugwump> well, this is what I was referring to, so I thought you saw a post from one(@Larry) about it..

[23:33] <theorbtwo> Units is unspecced, AFAIK.  I'd like to see the assumption that they are an external module.

[23:34] <gaal> 1. can'y use "return()"

[23:34] <clkao> champagne++

[23:34] <autrijus> stevan: any time in the next 14 or so hours

[23:34] <autrijus> theorbtwo: <aol />

[23:34] <stevan> autrijus: sounds good to me, I will update later tonight (about lunchtime for you)

[23:34] <clkao> quick, let's make arrayref access work in this release

[23:34] <gaal> 2. can't use more files, it's all inlined from Prelude.pm (but i can fix that)

[23:34] <autrijus> stevan: cool

[23:34] <clkao> next one we fix scalar crap (30% in ast?) and hashref

[23:34] <autrijus> clkao: just go sleep :)

[23:35] <autrijus> I need hashref so i'll make it happen.

[23:35] <clkao> no, i want tosee it owrks

[23:35] <stevan> gaal: why no return?

[23:35] <eric256> for units it would be easy to make postfix operators that converted a number into a Unit object.  then you don't worry about it at all internaly..

[23:35] <clkao> autrijus: make it rw, and i'll make hashref tomorrow

[23:35] <clkao> autrijus: see the current STORE code

[23:35] <theorbtwo> I think it should be an infix operator ` on Any and Type.

[23:35] <clkao> in perl5.c

[23:36] <gaal> autrijus, can you take a look at Run.hs:157 and see if i turned off debugging correctly? i don't understand why this is local :-)

[23:36] <autrijus> $$self?

[23:36] <autrijus> ah. I see.

[23:36] <eric256> infix / postifx... doesn't matter much. just the fact that we will have such power with creating operators means somehting like units doesn't need to be part of the actual language

[23:36] <autrijus> gaal: that's correct

[23:37] <clkao> autrijus: also have you seen my plan for exportation in perl5/README?

[23:37] <eric256> as soon as coerce:<as> or infix:<+>  dispatch correctly for classes that will be easy...hint hint. ;)  /me would love to see operator overloading for classes work...

[23:37] <mugwump> So, if I'm returning a number of days, then you'd expect that to be a Num and a Num Gregorian::Day

[23:37] <autrijus> clkao: yeah.

[23:37] <clkao> anyawy, i shall go sleep and expect everything to work when i get up, right, autrjus?

[23:37] <autrijus> clkao: right.

[23:38] <clkao> ok. good night

[23:38] <theorbtwo> (Though I'm not sure how you spell type... possibly on Any and Unit, and then export functions with the name of units.

[23:38] <gaal> stevan: http://colabti.de/irclogger/irclogger_log/perl6?date=2005-05-31,Tue&sel=1302#l1954

[23:38] <autrijus> nite!

[23:38] <gaal> autrijus, but why is it correct? :) am i passing a copy of the env and modifying it on the fly?

[23:39] <autrijus> gaal: you're passing a modifier function.

[23:39] <autrijus> or rather

[23:39] <gaal> also: woudl it be wiser to pull out the modification from initPrelude and put it in the caller, so that someone else could theoretically call initPrelude themselves?

[23:39] <autrijus> you're passing in the env that was modified

[23:39] <gaal> (with different debugging options)

[23:40] <autrijus> sure, if you want that (although I don't quite see why), move the {envDebug} thing up to line 151

[23:40] <mugwump> I want it to be a conjunctive type.  One a plain num and one a higher order type.  Num&::(Num of Date::Gregorian::Day) or something

[23:40] <mugwump> Actually maybe auto-casting is a better way for that to work.

[23:41] <gaal> back to my previous question, what causes the change to the env to be temporary? how come if beforehand envDebug was Just True, it would revert to that afterwards?

[23:41] <mugwump> or maybe just being Num of Something matches the plain type Num

[23:42] <autrijus> gaal: updates are never destructive.

[23:42] <autrijus> env is not a IORef.

[23:43] <autrijus> you can't change anything really.

[23:43] <autrijus> so this

[23:43] <autrijus> env{ envDebug = Nothing }

[23:43] <autrijus> merely creates a clone of env

[23:43] <autrijus> changes one field

[23:43] <autrijus> lazily reusing all other fiends

[23:43] <autrijus> fields, even, freudian slip

[23:43] <gaal> ah, like OS environment, cute.

[23:43] <autrijus> something like that, yeah.

[23:44] <autrijus> bbiab again...

