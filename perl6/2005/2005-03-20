[00:07] <pasteling> "zgrim" at 10.0.0.1 pasted "cpu intensive math and pugs mem leaks" (19 lines, 412B) at http://sial.org/pbot/8376

[00:41] <theorb> Anybody about who has a clue from POD?

[00:41] <webmind> clue? hmmm.. no.. I lost clue a few hours a go i think..

[00:44] <theorb> I need a sub that converts a /string/ of POD and gives me back a /string/ of HTML.

[00:48] <Jonathan_> Not quite a sub, but http://search.cpan.org/~swmcd/Pod-Tree-1.11/pod2html

[00:50] <theorb> Dammit!

[00:51] <theorb> 1. If dest is a HTML::Stream... 2. If dest is a reference... IO::File... 3. ...name of a file.

[00:51] <bd_> Is there a defined name for the exit continuation (or a function anyway) to escape the current block?

[00:51] <theorb> I don't want it in a frikin file!

[00:51] <theorb> I hate it when modules try to be too smart.

[00:52] <bd_> theorb: can you pass it an IO::String?

[00:52] <theorb> Possibly.

[00:52] <theorb> I'd prefer not to resort to tricks like that.

[00:52] <theorb> ...though.

[00:52] <jabbot> theorb: thou speakst also ye olde English?

[00:53] <theorb> jabbot,  I wish I did, it could come in handy when trying to speak german.

[00:53] <jabbot> theorb: Do you really doubt you did?

[00:53] <theorb>    

[00:53] <theorb> D'oh.

[00:53] <theorb> Did what?

[01:15] <bd_> hmm, if I name a lexical eg "_block_exit" will it be invisible from the perl 6 code?

[01:15] <theorb> Yes, but don't do that.

[01:15] <theorb> Instead, give it a $=_name... I think.

[01:15] <bd_> $=?

[01:16] <theorb> $= is used for scalar variables that are metadata from the compiler to the program being compiled.

[01:16] <bd_> ah

[01:16] <theorb> There's no reason that it can't be visible from the p6 code, is there?

[01:16] <bd_> this is lexically scoped to the innermost block - $? would be better probably

[01:16] <bd_> no reason, it's just not defined afaik

[01:17] <theorb> Oh, $? might be better... donno.

[01:17] <bd_> It's basically a function which exits from the innermost brace-delimited block

[01:17] <theorb> That was why I was thinking _.

[01:17] <bd_> my when construct aliases it to break

[01:17] <bd_> hm, $?_BLOCK_EXIT sound good?

[01:18] <theorb> Oh, so it's like $?CALLER_CONTINUATION, but for the ret block and not the return block.

[01:18] <theorb> Sounds good to me.

[01:18] <bd_> Okay. *tweaks*

[01:18] <theorb> (But I don't know much.)

[01:18] <bd_> meh, it can be changed by altering a few strings

[01:19] <theorb> Right.

[01:19] <bd_> hm, when I rebind it to break; do I need to change subName in the Sub structure?

[01:19] <codesnik> perl6 definitely going to have much more ALL_UPPER_CASE identifiers. :\

[01:20] <theorb> ...no idea.

[01:21] <theorb> codesnik, that's rather a good thing, in my mind.  Most of them will never, or very rarely, be used.

[01:21] <theorb> But when they are used, and used well, they can do amazing things.

[01:23] <codesnik> 799 unread messages in perl.perl6.language.. damned work:) there's definitely something cool going on last month

[01:24] <bd_> hmm, interesting, I can't access the automatic $?_BLOCK_EXIT from the perl6 code, but I can create a new one and override it

[01:24] <bd_> oh, nm

[01:45] <autrijus> greetings.

[01:45] <theorb> Allo, autrijus!

[01:46] <autrijus> bd_: your email? I need to make you a committer

[01:46] <bd_> autrijus: [email@hidden.address] should work

[01:46] <autrijus> ok. add yourself to AUTHORS too

[01:46] <autrijus> welcome aboard!

[01:47] <bd_> Thanks :)

[01:47] <jabbot> pugs - 925 - * libpcre is now built dynamically.

[01:47] <autrijus> so, people who had pcre segfaults, try again?

[01:49] <bd_> hmm:

[01:49] <bd_> pugs> { my $_ = 4; $_ }

[01:49] <bd_> *** Error: Insufficient arguments for slurpy scalar at undef

[01:50] <autrijus> right.

[01:50] <autrijus> a sec

[01:50] <autrijus> commit a test?

[01:50] <autrijus> I just moved to this new tamsui place

[01:50] <autrijus> will be a bit of time before I resume hacking

[01:51] <bd_> willdo

[01:51] <bd_> should that be ok or todo_ok>?

[01:51] <autrijus> ok

[01:51] <autrijus> let them fail!

[01:51] <bd_> :)

[01:52] <theorb> PERL6LIB=./blib6/lib ./pugs -e '"foo" ~~ rx:perl5/o/' -- segmentation fault.

[01:52] <theorb> (t/rules/perl5.t gives me a parse fail.)

[01:52] <autrijus> theorb: and that is built with pcre?

[01:52] <autrijus> libpcre that is

[01:52] <autrijus> weird.

[01:52] <autrijus> what about linking against your own libpcre?

[01:53] <autrijus> i.e. fix Makefile.PL

[01:53] <autrijus> and instead of -Lsrc/blib/pcre/ etc

[01:53] <theorb> I saw it build a pcre; I assume it linked against it.

[01:53] <autrijus> -L/usr/local/lib etc

[01:54] <theorb> Got rid of the pcre -I, -L, and -i, should pick up the system one automagically.  (From deb-packages.)

[01:55] <theorb> Going from make clean...

[01:56] <theorb> Still segfaults.

[01:56] <autrijus> sad.

[01:56] <autrijus> linux 64bit?

[01:56] <theorb> Nope, P4/HT.

[01:57] * autrijus frowns

[01:57] <autrijus> got a ssh for me?

[01:58] <theorb> Hold on a bit, I can make one.

[01:58] <bd_> hmm, that's interesting. The openfoundry TOS seems to be in chinese

[01:59] <autrijus> http://wagner.elixus.org/~hcchien/termtouse.html

[01:59] <autrijus> sf.net boilerplate

[02:00] <bd_> ah

[02:01] <theorb> autrijus, ssh info in /msg.

[02:06] <autrijus> okie.

[02:07] <autrijus> I don't get segfaults.

[02:07] <autrijus> oh wait.

[02:07] <autrijus> nvm, rx:perl5 does.

[02:08] <autrijus> dreaming a fix now

[02:08] <autrijus> s/dreaming/attempting/

[02:08] <autrijus> this HOP on my left hand side keeps distracting me.

[02:09] <theorb> I'm torn about that; from the chapters I've read it looks like a great book.

[02:09] <autrijus> it is a great book!

[02:09] <theorb> OTOH, it's expensive and I don't need yet another distraction.

[02:09] <autrijus> will probably convince you that perl 6 is the way of future.

[02:09] <autrijus> (as many things there is verbose to write in perl5 and some are downright impossible)

[02:09] <metaperl> what's a great book?

[02:10] <autrijus> metaperl: { $^perl }

[02:10] <autrijus> obra: try ./pugs -e '1 ~~ rx:perl5/1/'

[02:10] <metaperl> smartmatching...

[02:10] <autrijus> metaperl: mjd's new book, "metaperl"

[02:10] <metaperl> oh

[02:10] <autrijus> I mean, "higher order perl"

[02:10] <metaperl> that's good to hear

[02:11] <theorb_> autrijus, reconnect.  That was the 24-hourly IP change.

[02:11] <autrijus> ok

[02:11] <autrijus> so, obra here has the same segfault

[02:11] <autrijus> so persumably it's a linux thing.

[02:12] <autrijus> I'll fix locally :)

[02:13] *** theorb_ is now known as theorbtwo

[02:15] <autrijus> ahh. -fPIC

[02:15] <autrijus> that was it.

[02:16] * autrijus thinks a bit

[02:38] <stevan> hey autrijus 

[02:38] <stevan> howdy metaperl 

[02:39] <theorbtwo> Howdy, stevan.

[02:40] <stevan> hey orb

[02:40] <stevan> im compiling with reg-exp again

[02:40] <obra> stevan: autrijus is off reading manga

[02:40] * stevan crosses his fingers

[02:41] <stevan> obra: hows Taiwan?

[02:41] <stevan> ld: warning -L: directory name (src/blib/arch/auto/pcre) does not exist

[02:41] <stevan> ld: can't locate file for: -lpcre

[02:41] <theorbtwo> stevan, autrijus figured out the problem a bit ago, and is thinking of a solution... read recent backlog.

[02:41] <stevan> whoops

[02:41] <stevan> theorbtwo: yes I am reading now

[02:41] <theorbtwo> Oh, obra, that was you he was picking up?

[02:42] <obra> theorbtwo: yes

[02:45] <theorbtwo> I recently heard that the Japanese use more paper on manga then toilet paper.

[02:45] <theorbtwo> (I suspect this says more about the prevalance of bidets then anything else, however it is amuzing.)

[02:46] <stevan> theorbtwo: my friend recently came back from teaching english in japan

[02:46] <stevan> some of the manga he brought back was like 600+ pages thick on cheap newsprint

[02:47] <autrijus> theorbtwo: still fixing your bug

[02:47] <jabbot> pugs - 928 - * fix link path

[02:47] <jabbot> pugs - 927 - Test for { my $_ = 1; $_ }

[02:47] <jabbot> pugs - 926 - Add myself to AUTHORS

[02:47] <autrijus> stevan: try again?

[02:47] <stevan> cool stuff, couldnt read a word of it :P

[02:47] <stevan> autrijus: trying right now

[02:47] * theorbtwo wonders if he should take up reading german comic books.

[02:48] <stevan> theorbtwo: I used to collect them when I lived over there

[02:48] <stevan> english is so close to german in some ways it actually helped me learn the languaage

[02:49] <metaperl> hi stevban

[02:49] <metaperl> stevan, sorry

[02:49] <stevan> hey metaperl 

[02:49] <theorbtwo> Still segfaults for me.

[02:49] <metaperl> hi

[02:49] <autrijus> theorbtwo: right, I'm still fixing that.

[02:49] <autrijus> stevan: if it builds, try

[02:49] <autrijus>  ./pugs -e 'say(3 ~~ rx:perl5{3})'

[02:49] <autrijus> theorbtwo: GHC 6.4 or 6.2.2?

[02:49] <stevan> autrijus: ok

[02:50] <autrijus> obra has 6.2.2, so I guess it's independent of ghc version

[02:50] <theorbtwo> 6.2.2

[02:50] <autrijus> oh.

[02:50] <autrijus> then maybe dependent after all.

[02:50] <stevan> should I upgrade to 6.4? 

[02:50] <theorbtwo> There's an uninstalled ghc 6.4 sitting in /usr/src/ghc6.4, IIRC.

[02:50] <autrijus> stevan: no, probably no need too

[02:50] <autrijus> stevan: still building?

[02:50] <stevan> autrijus: yes

[02:51] <theorbtwo> Oh, no, I rm'd it.

[02:51] <autrijus> that's fine. obra is looking for ghc 6.4 update

[02:51] <autrijus> theorbtwo: so do you have a correctly munged hsregex 0.2 tree

[02:51] <stevan> autrijus: the build failed

[02:51] <autrijus> that builds?

[02:51] <stevan> Linking ...

[02:51] <stevan> ld: can't locate file for: -lpcre

[02:51] <autrijus> if yes, let me know hte path

[02:51] <autrijus> stevan: ok. is there a src/blib ?

[02:51] <stevan> yes

[02:52] <autrijus> and what is in its arch/ ?

[02:52] <theorbtwo> I have a hsregex 0.2, and it seems to run.

[02:52] <stevan> and auto/ folder

[02:52] <stevan> thats all

[02:52] <autrijus> theorbtwo: ok, path to it?

[02:53] <autrijus> stevan: so, empty?

[02:53] <autrijus> stevan: is there a src/pcre/blib/ ?

[02:53] <theorbtwo> /usr/src/hsregex-0.2

[02:53] <autrijus> danke.

[02:53] <stevan> nope, arch/auto/libpcre/libpcre.bs & libpcre.bundle

[02:53] <theorbtwo> You may need to log out and back in to pick up your src group, just added you.

[02:54] <autrijus> ok.

[02:54] <autrijus> stevan: which arch? src/blib/arch or src/pcre/blib/arch ?

[02:54] <stevan> that is src/blib/arch

[02:54] <stevan> src/pcre/blib does not exist

[02:55] <autrijus> got it.

[03:04] <SMK> 2,15 ☆ <快乐IRC> 新年版 ☆

[03:05] <theorbtwo> English, please?

[03:05] * SMK 10对13autark-jp10说:12 10how to install pugs?I have downloaded the win32 bin package.but no .exe file! 12

[03:06] * SMK 10对13大家10说:12 1210Here are many fans!:-) 12

[03:06] <theorbtwo> There aren't any binary packages of pugs yet, as far as I know.

[03:06] * SMK 10对13大家10说:12 1210how to install pugs?I have downloaded the win32 bin package. but no .exe file 12

[03:06] <obra> hang on

[03:06] <autrijus> hey.

[03:06] * SMK 10对13大家10说:12 1210http://www.jwcs.net/users/jonathan/perl6/ 12

[03:06] * SMK 10对13大家10说:12 1210<quote>Download Binary Build Of Pugs For Win32: ZIP File 12

[03:07] <jabbot> pugs - 929 - Correct next test

[03:07] <autrijus> SMK: 中文的色可以P掉 :p

[03:07] <autrijus> SMK: 或是移到 #perlchina

[03:07] * SMK 10对13大家10说:12 1210just a moment 12

[03:07] <autrijus> SMK: @e很多人]有@示 GBK 的能力 , sorry

[03:08] <autrijus> SMK: just unzip the .zip file using WinZip

[03:09] * SMK 10对13大家10说:12 1210I can't find any file run correctly 12

[03:10] <obra> SMK: autrijus is on the telephone

[03:10] <ninereasons> I don't see any binaries in that "binary", either

[03:10] <obra> he says that binary build appears broken

[03:10] * SMK 10对13大家10说:12 1210how to disable the color 12

[03:11] <autrijus> SMK: try download mIRC

[03:11] <autrijus> www.mirc.com

[03:11] <Odin-LAP> Hm.

[03:11] * SMK 10对13大家10说:12 1210thanks:) 12

[03:12] <Odin-LAP> What's the replacement for $#foo variables, again?

[03:12] * SMK 10对13大家10说:12 1210邪恶的东西 IO::Promt :) 12

[03:12] <autrijus> Odin-LAP: not sure.

[03:12] <Odin-LAP> Hm.

[03:13] * Odin-LAP goes off into the specs.

[03:13] <autrijus> Jonathan's build is broken.

[03:13] <theorbtwo> I think .kv or .keys, but that's certianly not a direct replacement.

[03:13] <autrijus> bad.

[03:13] <autrijus> taking it down.

[03:14] <Odin-LAP> theorbtwo: Very far from it, in fact. $#foo -= 2 or somesuch is handy, sometimes. ;)

[03:14] * SMK 10对13Odin-LAP10说:12 10why .kv ,but not .value? 12

[03:14] <autrijus> SMK: try getting mIRC or Chatzilla :-)

[03:14] <autrijus> SMK: http://irc.elixus.org/ has instructions

[03:15] * SMK 10对13大家10说:12 1210I'm downloading Mirc now.just a moment 12

[03:15] <stevan> Odin-LAP: are you talking about getting an array length? $#foo is length of @foo?

[03:15] <autrijus> the length of @foo - 1

[03:15] <theorbtwo> $#foo is the index of the last element.

[03:15] <theorbtwo> 0+@foo is the length.

[03:16] <stevan> 1 - +@foo then

[03:16] <autrijus> S02.pod:The C<$#foo> notation is dead.  Use C<@foo.end> or C<[-1]> instead.

[03:16] <Odin-LAP> stevan: Yes. A mutable value.

[03:16] <stevan> actually, what autrijus  said is better

[03:16] <Odin-LAP> Damn. :/

[03:16] <autrijus> @foo.end can still be mutable.

[03:16] <Odin-LAP> True.

[03:16] <autrijus> ok, I need to take a nap and get the pcre bug fixed.

[03:16] <autrijus> then, I'll look into remaining multidim hash deref things

[03:17] <autrijus> and cut a new releast tonight.

[03:17] <autrijus> release, even.

[03:17] <autrijus> meanwhile, have fun :)

[03:17] <theorbtwo> Cool.

[03:17] * autrijus &

[03:17] * bd_ hopes to get given and when in soon :)

[03:18] <Odin-LAP> Exceptions!

[03:18] <Odin-LAP> :p

[03:18] <Odin-LAP> MACROS! ;)

[03:18] <theorbtwo> ...can wait until the release after next.

[03:18] <bd_> I think perl6 rules would be a good idea before macros ;)

[03:18] * Odin-LAP isn't making demands, just noting lusted-for features. ;)

[03:18] <Odin-LAP> bd_: ;>

[03:18] <stevan> bd_: I am hoping for objects first :)

[03:19] <obra>  mm. objects

[03:19] <theorbtwo> Objects are my big wishlist item.

[03:19] <bd_> Well, yeah, objects would be nice

[03:19] * SMK 10对13大家10说:12 1210I use mIRC , but how to disable color display? 12

[03:19] <bd_> perl5 regexes plus objects would make a usable language imo :)

[03:19] * stevan has been porting perl5 object to perl6, and is already in love 

[03:19] <stevan> and they dont even compile yet :)

[03:20] <bd_> roles will be great for Acme:: modules :)

[03:20] <stevan> I could wait on roles, I just want classes and methods 

[03:20] <stevan> multi-methods .... yummy

[03:21] * metaperl sticks his neck out

[03:21] <metaperl> I'm not sure this is entirely true, but it probably is

[03:22] <stevan> metaperl: not sure what is true?

[03:22] <metaperl> the cool thing about Haskell is that syntactic sugar is just that. List Int and [Int] mean the same thing

[03:22] <metaperl> I wish I could demonstrate this somhow

[03:22] <metaperl> what I just said

[03:22] * metaperl heads to #haskell

[03:22] <theorbtwo> OK, I'm going to bed before I face-plant into my laptop.

[03:22] <metaperl> lol@theorbtwo

[03:23] <stevan> guten nacht theorbtwo 

[03:23] <stevan> metaperl: that makes sense

[03:23] <stevan> assuming [] is list notation of some kind

[03:23] <metaperl> yes it is

[03:24] <stevan> I like the wordier, but still cool perl 6 C< Array of Some::Object @objects > 

[03:25] * SMK 10对13metaperl10说:12 10ok ,now? 12

[03:25] <stevan> or Array of Int rather 

[03:25] * SMK 10对13autark-jp10说:12 10ok? now,I mean the color 12

[03:26] <autrijus> still bad :-(

[03:26] <bd_> SMK: AFAIK, mIRC does not insert those colors by default - do you have a script installed of some sort?

[03:26] <autrijus> but, I really need to be off &

[03:28] * SMK 10对13autark-jp10说:12 10me too 12

[03:28] * SMK 10对13autark-jp10说:12 10how to turn off? 12

[03:29] <cm> o0

[03:29] <bd_> Close the window?

[03:31] *** mandarin is now known as Qiang

[03:32] <Steve_p> Eeek, holy unicode! :)

[03:33] <bd_> Is that even unicode? It's hard to tell, the charset convertor script here acts weird at times

[03:35] <ingy> hola

[03:43] <firzen> hello , I've came back

[03:43] <firzen> Is it ok ? now

[03:44] <cm> yes

[03:45] <firzen> I want to try pugs , but just have a win2003 platform with 5G harddisk

[03:46] <firzen> Is pugs need ghc virtual machine first?

[03:46] <bd_> ghc is a compiler actually, but yes

[03:47] <bd_> http://haskell.org/ghc/download_ghc_64.html#windows

[03:47] <jabbot> pugs - 930 - Implement given and when; un-todo some o

[04:15] <firzen> A report said that your good English is cause by a paper game,so I hope by developing my love for the pugs as well as impove my English. So I can get A mark in test :-)

[04:16] <firzen> autrijus

[04:16] <Odin-LAP> A worthy goal!

[04:18] <firzen> Thanks 

[04:19] <firzen> I have written a session package in perl5,named DigiSession.I hop I could covent this package into pugs.

[04:29] <Khisanth> you convert it into perl6

[04:42] <firzen> I hope I could finish this worthy job.And thanks "convert"

[05:17] <gaal> morning all.

[05:21] <autrijus> greetings!

[05:22] * autrijus wakes up and resumes haxx0ring

[05:22] <gaal> autrijus, the sleep golfer

[05:22] <autrijus> heh :)

[05:23] <ingy> hola autrijus 

[05:23] <firzen> Is anyone like listen music while working

[05:23] <firzen> Are there

[05:24] <gaal> autrijus, don't even know if it's relevant any longer, but that warning about qualifiers in PCRE you asked me to try s/register //-ing? it didn't help

[05:25] <ayrnieu> Does anyone like to listen to music while working?  Yes, firzen; I tend to listen to cliqhop on SomaFM(.org)

[05:25] <gaal> i do except before coffee/tea because at those times my mind is foggy and i forget important things like music.

[05:28] <ingy> autrijus: http://yapc.kwiki.org/taipei/index.cgi?hackthon

[05:28] <ingy> doing a little rerranging

[05:32] <firzen> somafm.org wonderful work

[05:33] <dvergin> Hi, all. I'm just back from 2 days off-line. Can compile pugs on my WinXP system -- Says: " 'cl' is not recognized as an internal or external command". What's up with that and how do I get back in business?

[05:33] <dvergin> s/Can/Can't/

[05:34] <autrijus> dvergin: just a sec

[05:34] <autrijus> I'll fix it in a minute

[05:35] <gaal> autrijus, on mingw at least there are build failures related to pcre

[05:35] <firzen> Can't support a built package on win32

[05:35] <firzen> ?

[05:36] <firzen> I don't want to install a big complier

[05:41] <autrijus> firzen: we will make built package on 6.2.0 and on

[05:41] <autrijus> Jonathan contributed automated builds

[05:41] <autrijus> but it is apparently broken

[05:42] <autrijus> if you can help writing him an e-mail, that'd be best

[05:42] <autrijus> but if you want to help pugs development, you will need GHC eventually :)

[05:50] <firzen> ok, I will do it

[05:50] <autrijus> dvergin: still there?

[05:50] <dvergin> Yup.

[05:50] <autrijus> dvergin: try compiling things again.

[05:50] <autrijus> r931

[05:50] <dvergin> Which respository? http://svn.openfoundry.org/pugs/ or http://svn.perl.org/perl6/pugs/trunk/ ?

[05:51] <autrijus> pugs -e "say 4 ~~ rx:perl5/4/"

[05:51] <autrijus> openfoundry.

[05:51] <dvergin> Stand by.

[05:54] <pasteling> "dvergin" at 209.166.89.145 pasted ""ghc.exe: no input files" on WinXP" (35 lines, 1.5K) at http://sial.org/pbot/8382

[05:57] <jabbot> pugs - 931 - * back out to plan A.

[05:58] <autrijus> is it possible that you have a ghc.bat in PATH?

[05:58] <autrijus> try typing "ghc.bat"

[05:59] <firzen> I don't know Jonathan's email

[06:00] <autrijus> [email@hidden.address] I think.

[06:00] <autrijus> dvergin: ok, try r932.

[06:00] <dvergin> autrijus: Yes I do have a ghc.bat. That's the way I set it up.

[06:00] <dvergin> C:\bin\perl6\svn.openfoundry.org>type \bin\ghc.bat

[06:00] <dvergin> \ghc\ghc-6.4\bin\ghc.exe %1 %2 %3 %4 %5 %6 %7 %8 %9

[06:00] <autrijus> yes. and that was why it breaks.

[06:00] <autrijus> r932 should work for you.

[06:01] <dvergin> Trying now...

[06:01] <autrijus> if it does not, fix your %1 etc

[06:01] <autrijus> so it says

[06:01] <autrijus> \ghc\ghc-6.4\bin\ghc.exe %*

[06:01] <autrijus> because there are more than 9 args.

[06:03] * dvergin watches happy-making things flash by on the cmd window...

[06:04] <nothingmuch> morning

[06:04] <autrijus> dvergin: when it's done try

[06:04] <autrijus> pugs -e "say $1 if 'regex' ~~ rx:perl5/.(e.e)./"

[06:04] <autrijus> hi nothingmuch

[06:05] <pasteling> "dvergin" at 209.166.89.145 pasted "Many warnings when compiling under WinXP - should I worry??" (109 lines, 6.1K) at http://sial.org/pbot/8384

[06:05] <autrijus> those warnings are known.

[06:05] <dvergin> But it seems to end okay. Now making test.

[06:05] <autrijus> uh, try that oneliner first.

[06:06] <dvergin> OUTPUT: ege

[06:06] <autrijus> yes! yes!

[06:06] <autrijus> congratulations, you have the perl 5 regex at your disposal.

[06:06] <dvergin> Yah, I saw that in your daily post.

[06:07] <jabbot> pugs - 932 - * address GHC by name.

[06:07] <dvergin> But make test emits icky things

[06:07] <autrijus> yes. I need to get to that.

[06:08] *** cnhackTNT|work is now known as cnhackTNT

[06:09] <autrijus> o/~ for god wrote in lisp code / when he filled the leaves with green o/~

[06:09] <autrijus> nice music for coding sessions.

[06:09] <dvergin> OK. This is enough to let me go to bed with a smile on my face and pick up tomorrow. Thanks autrijus.

[06:09] <autrijus> good night dvergin!

[06:14] <ninereasons> eek 932 gives me my first build error with pugs.

[06:15] <autrijus> eek.

[06:15] <autrijus> nopaste?

[06:16] <ninereasons> perlbot nopaste

[06:16] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[06:17] <pasteling> "ninereasons" at 199.107.164.126 pasted "build error in 932" (24 lines, 1.2K) at http://sial.org/pbot/8385

[06:17] <autrijus> linux?

[06:17] <ninereasons> yes - debian 

[06:17] <autrijus> ix86?

[06:18] <ninereasons> i686 (sorry - I'm slow in irc)

[06:22] <autrijus> ninereasons: so

[06:23] <autrijus> gcc 3.4?

[06:23] <ninereasons> gcc version 3.3.5 (Debian 1:3.3.5-8)

[06:23] <autrijus> ok.

[06:23] <ninereasons> is that the problem?

[06:24] <ninereasons> Glasgow Haskell Compiler, Version 6.4, for Haskell 98, compiled by GHC version 6.2.2

[06:25] <autrijus> ok.

[06:26] * ayrnieu gets five undefined reference errors to pcre functions on 932, in the final Linking step.

[06:26] <ninereasons> and I left out the context of that nopaste.

[06:26] <ninereasons> "In file included from /tmp/ghc32080.hc:6:"

[06:26] <ayrnieu> is a particular version of PCRE needed?

[06:27] <autrijus> try again

[06:27] <autrijus> both ninereasons and ayrnieu 

[06:27] <autrijus> ayrnieu: no, pugs comes with pcre

[06:27] <nothingmuch> work &

[06:29] <pasteling> "ninereasons" at 199.107.164.126 pasted "build error in 933" (6 lines, 282B) at http://sial.org/pbot/8386

[06:29] <ayrnieu> likewise.  Probably because of this: Use of uninitialized value in concatenation (.) or string at Makefile.PL line 56

[06:29] <autrijus> fixed.

[06:29] <autrijus> r934.

[06:31] <ayrnieu> seems OK, now.

[06:31] <ninereasons> yay

[06:32] <autrijus> does regex work?

[06:32] <autrijus> ./pugs -e "say 1 ~~ rx:perl5/1/"

[06:32] <autrijus> I expect a segfault :)

[06:32] <ayrnieu> it prints the 1 first, though =)

[06:33] <autrijus> so it does segfault =)

[06:33] <ninereasons> no segfault in the interactive shell

[06:33] *** Aankh|Clone is now known as Aankhen``

[06:34] <autrijus> even if you quit it?

[06:34] <ayrnieu> It segfaults for me in the interactive shell, however.

[06:34] <ninereasons> none from my CLI either.

[06:34] <autrijus> so it Works for ninereasons.

[06:34] <ayrnieu> er, spooky.

[06:35] <ninereasons> "SUCEEDS UNEXPECTEDLY"

[06:35] <autrijus> ayrnieu: r935.

[06:36] <ninereasons> I still get a seg fault with :r, though :-(

[06:36] <ninereasons> and with "?"

[06:37] <jabbot> pugs - 935 - * trade segfault for memleak.

[06:37] <jabbot> pugs - 934 - * it's _o, not _obj

[06:37] <jabbot> pugs - 933 - * on non-win32 just use gcc.

[06:37] <ayrnieu> missing from my kit: util/split_test_catalog.pl

[06:37] * lightstep is astonihed: more than 100 revisions in 3 days

[06:38] <ayrnieu> autrijus - no segfault, now.

[06:39] <autrijus> lightstep: that is the normal rate. :)

[06:39] <autrijus> 30~40 per day

[06:40] <autrijus> ayrnieu: well, commit a MANIFEST fix then?

[06:40] <autrijus> ok. I hope people are fine with me trading segfault for memleak

[06:40] <autrijus> at least for this release.

[06:40] <autrijus> it's not like it's terribly leaky anyway.

[06:40] <ingy> autrijus: let's svn:ignore the MANIFEST

[06:40] <autrijus> ingy: sure, let's.

[06:40] <autrijus> and rm it

[06:40] <autrijus> is that the plan?

[06:40] <ayrnieu> oh, duh.

[06:41] <ingy> only you need it

[06:41] <autrijus> sure.

[06:41] <autrijus> do it for me?

[06:41] <ingy> I'll nuke it

[06:42] <lightstep> i hope it will stay for the releases

[06:42] <autrijus> lightstep: "make manifest" will gen it for releases

[06:47] <jabbot> pugs - 936 - Removing the MANIFEST

[06:52] <lightstep> why are there .r811 and .r936 versions of many files in the tree?

[06:52] <autrijus> because I fixed line endings

[06:52] <autrijus> I think

[06:53] <autrijus> hi ozone.

[06:53] <lightstep> err, the current versions contain some diffs

[06:54] <lightstep> which causes compile errors. are everyone but me using svk?

[06:54] <autrijus> what diffs?

[06:54] <autrijus> nopaste the errors?

[06:54] <lightstep> perlbot: nopaste

[06:54] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[06:54] <ayrnieu> I'm *not* using svk, lightstep.

[06:55] <pasteling> "lightstep" at 217.132.251.24 pasted "src/AST.hs:28:0: parse error o" (22 lines, 695B) at http://sial.org/pbot/8387

[06:56] <lightstep> both the error and the relevant part of the source

[06:57] <lightstep> i can patch them manually, but it might be a local problem

[06:59] <autrijus> I think it results from your previous work.

[06:59] <autrijus> I applied a different chunk than yours.

[06:59] <autrijus> so just take the r936 part.

[07:02] <ninereasons> shouldn't "make realclean" solve that?

[07:02] <autrijus> ninereasons:no. lightstep had a local branch

[07:03] <ninereasons> I see.

[07:03] <lightstep> how do i undo the upping?

[07:06] <autrijus> lightstep: not sure what you mean

[07:07] <lightstep> nm

[07:07] <lightstep> i din't understand what happened. i forgot what 3-way merge is about

[07:09] <lightstep> how should a 2-element list be cast into a pair?

[07:09] <lightstep> (if it should be)

[07:10] <pasteling> "viirya" at 203.204.198.109 pasted "error msg during compilation with ghc 6.2.2" (6 lines, 328B) at http://sial.org/pbot/8388

[07:11] <autrijus> \[x,y]->(x,y)

[07:11] <autrijus> something like that?

[07:11] <lightstep> in p6, i meant

[07:11] <autrijus> oh.

[07:11] <lightstep> one test crashes on that

[07:11] <autrijus> -> *$x, *$y { $x => $y }

[07:11] <autrijus> I think.

[07:17] <jabbot> pugs - 937 - * tell PCRE to use utf8; /^$/ no longer 

[07:17] <lightstep> what is a reference for p6 syntax, except A2?

[07:19] <autrijus> S2? E2?

[07:20] <lightstep> S2 refers to \qq, but i can't see \qw in it, or <>

[07:22] <lightstep> err, qw//

[07:24] <ninereasons> do I misunderstand, lightstep?  ./t/Synopsis/S02.pod  shows  "              qw//        q:w//" && The built-in "<...>" is equivalent to "q:w/.../".)

[07:26] <ninereasons> erk .. I'm too late, as usual.

[07:39] <nothingmuch> morning

[07:40] <nothingmuch> autrijus: want to go through .assuming?

[07:42] <autrijus> sure thing!

[07:42] <nothingmuch> i read the IRC log about doApply

[07:42] <nothingmuch> that's what made me think it was trivial

[07:47] <autrijus> nod

[07:47] <autrijus> ok. we now require GHC 6.4 on Win32.

[07:48] <autrijus> nothingmuch: so, I'm ready ~ whenever you are

[07:49] <nothingmuch> well, i'm here

[07:49] <nothingmuch> i'd like to know roughly how a sub is represented

[07:50] <nothingmuch> is it a copy of a bunch of bits of code, with a scope tree thrown in?

[07:50] <nothingmuch> which you can then bind params to?

[07:50] <nothingmuch> and then run?

[07:52] * autrijus purrs

[07:53] <autrijus> ok. so look first at Parser.hs

[07:54] <autrijus> line 170

[07:54] <autrijus> let me know when you're there

[07:55] <autrijus> I'll type away.

[07:55] <autrijus> a sub in Pugs is represented by the VSub type.

[07:55] <autrijus> the important thing in it is its params (subParams)

[07:55] <autrijus> its actual function (subFun)

[07:56] <autrijus> and its lexical pad when it was created (subPad).

[07:56] <autrijus> see definition in AST.hs line 386 on.

[07:56] <nothingmuch> subExp is the err, data

[07:56] <nothingmuch> right?

[07:56] <autrijus> subFun you mean?

[07:56] <autrijus> yeah, it is the body.

[07:56] <autrijus> I should've call it subBody.

[07:57] <jabbot> pugs - 938 - * We now require 6.4 on Win32.

[07:57] <autrijus> but anyway.

[07:57] <autrijus> so, when calling a sub, what happens is

[07:57] <autrijus> 1) bind the params into subParams and create "args" (bound params) list

[07:57] <autrijus> 2) enter a lexical pad with those args

[07:57] <autrijus> 3) evaluate subFun.

[07:57] <autrijus> that's all. yay

[07:58] <autrijus> oh, and of course, enter the subPad lexical pad as well.

[07:58] <nothingmuch> subFun being a closure that represents the evaluation of the perl code?

[07:58] <autrijus> it is just an Exp.

[07:58] <autrijus> a Exp is an expression.

[07:58] <nothingmuch> ok

[07:58] <autrijus> so it's the same as any parsed expression

[07:58] <autrijus> it's just a simple AST.

[07:58] <nothingmuch> so maybe subFun should have been called subExp ;-)

[07:59] <autrijus> sure.

[07:59] <autrijus> but anyway, I call it subFun now.

[07:59] <nothingmuch> ;-)

[07:59] <nothingmuch> so when evalling Exps

[07:59] <nothingmuch> =)

[07:59] <nothingmuch> who takes care of invocating subs?

[07:59] <nothingmuch> doApply?

[08:02] <autrijus> yup

[08:02] <nothingmuch> ok, so what does it do?

[08:02] <autrijus> line by line

[08:02] <autrijus> 650:

[08:02] <autrijus> try to bind the params

[08:02] <autrijus> 651: if fails, fails

[08:02] <nothingmuch> ok

[08:02] <autrijus> 653: enter dynamic scope by setting envCaller 

[08:03] <autrijus> $CALLER:: and return() from this point on works

[08:03] <nothingmuch> envCaller is basically a stack head, in that respect?

[08:03] <autrijus> you can say that although it's not really used for returning stuff

[08:03] <nothingmuch> enterScope pushes a new one, and leaveScope(?) pops it?

[08:03] <autrijus> no, nother pops it

[08:03] <autrijus> enterScope takes an action as param

[08:03] <autrijus> that action has the scope

[08:04] <autrijus> nothing else.

[08:04] <autrijus> keep in mind in haskell everything is lexical :)

[08:04] <nothingmuch> so the do blah is the action with the scope

[08:04] <autrijus> yup.

[08:04] <nothingmuch> ok

[08:06] <autrijus> ok. line 654

[08:06] <autrijus> doBind evaluates the args

[08:06] <autrijus> for real

[08:06] <nothingmuch> what is bindings?

[08:06] <autrijus> it's [(Param, Exp)]

[08:06] <nothingmuch> a type?

[08:06] <autrijus> a list of (Param, Exp) pairs.

[08:06] <autrijus> Param is the subParam entry

[08:06] <autrijus> Exp is the thing that it binds to.

[08:07] <nothingmuch> <!-- how do i close $*ERR? it seems to err, not work -->

[08:07] <autrijus> err.

[08:07] <nothingmuch> oh, wait, it does work

[08:07] <nothingmuch> it's dying with $*ERR closed that doesn't work

[08:07] <autrijus> it worksforme.

[08:07] <nothingmuch> how can i die silently?

[08:08] <autrijus> exit() ?

[08:08] <autrijus> exit(1)?

[08:08] <nothingmuch> no, with die ;-)

[08:08] <nothingmuch> [email@hidden.address]
[08:08] <autrijus> err. eh.

[08:09] <nothingmuch> morning lumi

[08:10] <nothingmuch> ok, back to haskell

[08:11] <nothingmuch> so basically doBind takes a pad, and returns a pad, with ,err stuff in it?

[08:12] <autrijus> doBind takes two params

[08:12] <autrijus> an empty Pad (accumulator)

[08:12] <nothingmuch> and stuff to bind

[08:12] <autrijus> the bindings of Param<=>Exp

[08:12] <autrijus> and it gives you back

[08:12] <autrijus> a bound pad

[08:13] <autrijus> and a set of "ApplyArg"s

[08:13] <nothingmuch> param is the var, and exp is the thing to evaluate to get the value going into param?

[08:14] <autrijus> yup.

[08:14] <nothingmuch> so what does a pad look like on the inside?

[08:14] <nothingmuch> sort of like a hash?

[08:14] <nothingmuch> maps lookups of vars?

[08:14] <autrijus> type Pad = [Symbol]

[08:14] <autrijus> data Symbol

[08:14] <autrijus>     = SymVal { symScope :: Scope

[08:14] <autrijus>              , symName  :: String

[08:14] <autrijus>              , symVal   :: Val

[08:14] <autrijus>              }

[08:14] <autrijus> I think that answers your question :)

[08:14] <crysflame> heh

[08:15] <crysflame> pads!

[08:15] <autrijus> you can look for definitions in AST.hs

[08:15] <nothingmuch> ok

[08:15] * crysflame cheers.

[08:15] <nothingmuch> hola crysflame

[08:15] <crysflame> greetings.

[08:15] <nothingmuch> and Scope is the way to find outer pads?

[08:16] <autrijus> no.

[08:17] <autrijus> see AST.hs :)

[08:17] <jabbot> pugs - 939 - Test that END { } executes even when dyi

[08:17] <nothingmuch> nevermind now

[08:17] <nothingmuch> beh, i looked anyway

[08:18] <nothingmuch> it's the type of symbol it is?

[08:18] <nothingmuch> so every pad has every possible var in it?

[08:18] <nothingmuch> or otherwise, how is the search extended outwards

[08:18] <nothingmuch> ?

[08:19] <autrijus> yes, every pad has every possible var in it.

[08:19] <autrijus> when you enter a lexical scope, you just push new things on the pad.

[08:19] <nothingmuch> [lazily?]

[08:19] <autrijus> (sure)

[08:19] <nothingmuch> [haskell is cool!]

[08:19] <autrijus> {[(of course!)]}

[08:19] <autrijus> now back to work

[08:19] <nothingmuch> yup =)

[08:20] <autrijus> so.

[08:20] <nothingmuch> ok, so what is in bindings?

[08:20] <nothingmuch> everything?

[08:20] <jabbot> nothingmuch: everything is subject to change once implementation starts.

[08:20] <autrijus> bindings is [(Param, Exp)]

[08:20] * nothingmuch /ignores jabbot

[08:20] <nothingmuch> just the params of the sub?

[08:20] <autrijus> yeah

[08:20] <nothingmuch> what confuses me: doBind [] bindings

[08:20] <nothingmuch> if the pad is, err empty

[08:20] <nothingmuch> how does it fill up?

[08:21] <autrijus> the [] is accumulator

[08:21] <autrijus> it starts empty

[08:22] <autrijus> then gradually accumulates

[08:22] <autrijus> say you have

[08:22] <autrijus> sub foo ($a, $b, $c)

[08:22] <nothingmuch> it comes back from doBind as just having $a, $b, and $c defined

[08:22] <autrijus> then [] is first expanded to [($a, exp_a)]

[08:22] <autrijus> right.

[08:22] <nothingmuch> and the thing that looks for a variable in the pad, fills it?

[08:22] <autrijus> the reason why we need an accumulator

[08:22] <nothingmuch> ok

[08:22] <autrijus> is that $b needs to see $a if it is optional

[08:22] <autrijus> ?$b = $a

[08:22] <nothingmuch> ah

[08:22] <autrijus> that was the whole reason why we need an accumulator.

[08:22] <nothingmuch> that makes sense

[08:23] <nothingmuch> ok

[08:23] <autrijus> so.

[08:23] <autrijus> we now have evaluated all args.

[08:23] <nothingmuch> one last thing:

[08:23] <nothingmuch> what is bound, the second half of the pair coming out of doBind?

[08:23] <autrijus> it is a list of ApplyArg

[08:23] <autrijus> data ApplyArg = ApplyArg

[08:23] <autrijus>     { argName       :: String

[08:23] <autrijus>     , argValue      :: Val

[08:23] <autrijus>     , argCollapsed  :: Bool

[08:23] <autrijus>     }

[08:24] <autrijus> it's like a pad

[08:24] <nothingmuch> splain

[08:24] <autrijus> but has no scope yet

[08:24] <autrijus> just name and value

[08:24] <nothingmuch> ah, ok

[08:24] <autrijus> the bit that says argCollapsed controls collapsing

[08:24] <autrijus> if it is true

[08:24] <autrijus> then it won't be autothreaded even if it contains a junk

[08:24] <autrijus> I mean Junc

[08:24] <autrijus> if it's false

[08:24] <autrijus> then it's autothreaded.

[08:24] <nothingmuch> junk is ok ;-)

[08:24] <autrijus> so yeah. junktive autothreading

[08:25] <nothingmuch> it will be autothreaded by juncApply?

[08:25] <autrijus> yup!

[08:25] <nothingmuch> i.e., juncApply takes the action that executes the code

[08:25] <autrijus> yup.

[08:25] <nothingmuch> and just applies it for every comb?

[08:25] <autrijus> yes.

[08:25] <autrijus> done :)

[08:25] <nothingmuch> so if we don't have junctions in the bindings, then bound is nothing special?

[08:25] <autrijus> yup.

[08:25] <autrijus> then it is just realBound

[08:25] <nothingmuch> it's just what goes to applyExp?

[08:25] <autrijus> yes.

[08:26] <autrijus> so, look at applyExp

[08:26] <autrijus> it has two case

[08:26] <autrijus> line 632 is the prim case

[08:26] <autrijus> we just take all params 

[08:26] <autrijus> filtering out @_ and %_

[08:26] <nothingmuch> what is applyExp, that fills in the env with the realBound and err, applies the Exp fun?

[08:26] <autrijus> then runs the primitive

[08:26] <autrijus> line 636's XXX is out of date

[08:26] <autrijus> I'll kill it now

[08:27] <nothingmuch> prim case: like to run a pugs primitive?

[08:27] <nothingmuch> e.g. 'slrup'?

[08:27] <autrijus> yup

[08:27] <autrijus> or "+"

[08:27] <autrijus> a primitive is a special form of expression

[08:27] <autrijus> in that it can't be reduced

[08:27] <autrijus> so we run it directly

[08:28] <nothingmuch> because it's actually just a wrapper for haskell ops?

[08:28] <autrijus> yup.

[08:28] <nothingmuch> ok

[08:28] <autrijus> Prim ([Val] -> Eval Val)

[08:28] <autrijus> is the type.

[08:28] <autrijus> "a primitive is something that takes a list of Val and evals a Val for you"

[08:28] <autrijus> easy?

[08:28] <nothingmuch> sort of

[08:28] <nothingmuch> ;-)

[08:28] <autrijus> ok.

[08:28] <autrijus> so back to Eval.hs

[08:29] <autrijus> line 634

[08:29] <nothingmuch> ok, and the general case takes body, which is the sub, right?

[08:29] <autrijus> yup.

[08:29] <autrijus> the subFun

[08:29] <autrijus> or subExp

[08:29] <autrijus> or subBody

[08:29] <autrijus> you decide

[08:29] <nothingmuch> subFun =)

[08:29] <autrijus> ok.

[08:29] <autrijus> so now it takes the applyarg

[08:29] <autrijus> slap a SMy on them

[08:29] <autrijus> making them lexical

[08:29] <autrijus> enter the lexical scope

[08:30] <autrijus> and evaluate the body.

[08:30] <autrijus> that's all.

[08:30] <nothingmuch> formal is the err, lexical scope returner thingy?

[08:30] <autrijus> no, see line 637

[08:30] <autrijus> it's just a simple mapping

[08:30] <autrijus> from bound :: [ApplyArg]

[08:30] <autrijus> to formal :: [Symbol]

[08:30] <nothingmuch> ah

[08:31] <autrijus> by dropping the argCollapsed bit and adding a SMy scope

[08:31] <nothingmuch> it sets the symScope

[08:31] <nothingmuch> ok

[08:31] <nothingmuch> so how would currying look?

[08:31] <nothingmuch> oh i see now

[08:31] <nothingmuch> ok

[08:31] <autrijus> you create a new sub

[08:31] <nothingmuch> lets assume that .assuming is dealt with

[08:32] <autrijus> that has one less param

[08:32] <nothingmuch> at the syntax level

[08:32] <autrijus> or "n" less param

[08:32] <autrijus> uh. you can deal with .assuming at syntax level easily by adding a line to Prim.hs

[08:32] <nothingmuch> right, lets ignore that for now

[08:32] <autrijus> ok.

[08:32] <nothingmuch> i'm more interested in the internals

[08:32] <nothingmuch> subParams

[08:33] <autrijus> yes?

[08:33] <nothingmuch> contains err, placeholder stuff, right?

[08:33] <nothingmuch> so basically assuming will take a VSub

[08:33] <nothingmuch> and return a VSub whose subFun evals the vsub

[08:33] <autrijus> kill one or more of its Param

[08:33] <autrijus> yup.

[08:33] <nothingmuch> and whose subParams is simply filtered

[08:34] <autrijus> yeah.

[08:34] <nothingmuch> and whose bindings are in the closure body itself?

[08:34] <autrijus> yeah.

[08:34] <autrijus> I suggest you first prototype it with &goto hack

[08:34] <nothingmuch> and then evaling the vsub would basically be combining the bound from the closure with the bound given to the closure

[08:34] <autrijus> yeah.

[08:34] <nothingmuch> err, bound to the closure

[08:34] <nothingmuch> can i just ++ the two lists?

[08:34] <autrijus> it's good for first cut.

[08:35] <autrijus> but not really

[08:35] <autrijus> sub foo ($a, ?$b = $a)

[08:35] <autrijus> &foo.assuming( a => 3 );

[08:35] <autrijus> you need to remember its position

[08:35] <nothingmuch> so i just do previouslyBound ++ newBound

[08:35] <nothingmuch> no?

[08:35] <autrijus> the param's position that is

[08:35] <nothingmuch> that way a is first??

[08:35] <autrijus> no, because you can assume by name

[08:35] <autrijus> &foo.assuming( b => 4 );

[08:36] <autrijus> then the newBound will be actually the first one

[08:36] <wilx> Heh, *reading RSS of pugs commits* 935 looks funny :)

[08:36] <autrijus> in param position

[08:36] <wilx> "trade segfault for memleak"

[08:36] <nothingmuch> in that case what does it matter?

[08:36] <xerox> wilx: what is the url?

[08:36] <wilx> http://rt.openfoundry.org/Foundry/Project/Source/index.html/pugs/rss/

[08:37] <jabbot> pugs - 940 - * resetT is in doApply now, kill XXX

[08:37] <xerox> Danke.

[08:37] <nothingmuch> &foo.assuming(b => 4)

[08:37] <autrijus> nothingmuch: nvm, it probably doesn't matter.

[08:37] <autrijus> sorry for that :)

[08:37] <nothingmuch> $returned(a => 3)

[08:37] <nothingmuch> ---> foo(b => 4, a => 3); # is this right?

[08:37] <autrijus> this is right.

[08:37] <autrijus> so it doesn't matter.

[08:37] <nothingmuch> =)

[08:39] <nothingmuch> please explain doAppy's type again

[08:39] <nothingmuch> Env -> VSub i understand

[08:39] <nothingmuch> but what are the two lists of [Exp]?

[08:39] <autrijus> invocants, arguments.

[08:39] <nothingmuch> ah

[08:39] <nothingmuch> bindings is a slurp of invs and args?

[08:40] <nothingmuch> where is bindParams?

[08:40] <wilx> Warning: retaining unknown function `_pcre_compile' in output from C compiler

[08:40] <wilx> Lots of these.

[08:40] <autrijus> bindParams is defined in Bind.hs

[08:40] <autrijus> wilx: yeah. can't quite do away with it now

[08:41] <nothingmuch> ok

[08:41] <nothingmuch> so makeCurry :: Exp ->VSub -> [Exp] -> [Exp] -> VSub

[08:41] <nothingmuch> right?

[08:41] <nothingmuch> and it will bindParams

[08:41] <autrijus> what's the first Exp?

[08:41] <autrijus> you mean Env?

[08:42] <nothingmuch> yes, i mean env

[08:42] <autrijus> yes. that looks like it

[08:42] * nothingmuch blames it on dyslexia

[08:42] <nothingmuch> if bindParams is Right bindings

[08:42] <Schwern> What's the recommended book to learn Haskell?

[08:42] <nothingmuch> then it will return a ...

[08:42] <nothingmuch> perlbot YAHT

[08:42] <perlbot> Yet Another Haskell Tutorial -- http://www.isi.edu/~hdaume/htut/

[08:42] <autrijus> Schwern: "Algorithms"

[08:42] <nothingmuch> does it know about 'gentle'?

[08:42] <autrijus> Algorithms : A Functional Programming Approach (International Computer Science Series) [Paperback]

[08:42] <autrijus> By: Fethi A. Rabhi, Guy Lapalme

[08:43] <autrijus> or, http://haskell.org/tutorial

[08:43] <nothingmuch> whose body will look something like

[08:43] <Schwern> Already grabbed the Gentle tutorial

[08:43] <autrijus> the problem of .assumign is

[08:44] <autrijus> bindParams in Bind.hs currently checks

[08:44] <autrijus>     when (length invs /= length invocants) $ do

[08:44] <autrijus>         fail $ "Wrong number of invocant parameters: "

[08:44] <Schwern> Thanks

[08:44] <autrijus> as well as 

[08:44] <autrijus>     when (length positional < length required) $ do

[08:44] <autrijus>         fail $ "Insufficient number of required parameters: "

[08:44] <nothingmuch> so what if we delay bindParams?

[08:44] <xerox> Is `when' standard Haskell?

[08:44] <autrijus> xerox: yes. in Control.Monad

[08:44] <nothingmuch> if we just closureInvs ++ givenInvs and 

[08:44] <autrijus> nothingmuch: sure, you can simply remember invs and args

[08:44] <nothingmuch> doApply in the sub?

[08:45] <nothingmuch> i think that could be simpler

[08:45] <autrijus> but then, you can't quite know which param to eliminate.

[08:45] <autrijus> so your resulting VSub's arity will be all wrong.

[08:45] <nothingmuch> which param to eliminate?

[08:45] <autrijus> in foo ($a,$b)

[08:45] <autrijus> if you assuming $b

[08:45] <autrijus> then the resulting vsub has only 1 param

[08:46] <autrijus> if you don't care about that

[08:46] <autrijus> then the quickest hack is to extend the VSub

[08:46] <nothingmuch> so lets fix bindParams

[08:46] <autrijus> add a "subCurried" field of ([Exp], [Exp])

[08:47] <autrijus> which will be added to invs and prms when you are applying it.

[08:47] <jabbot> pugs - 941 - * symlink pcre.o for freebsd sanity

[08:47] <autrijus> and fix subArity to subtract subCurried from arity.

[08:47] <autrijus> that is sick but will work.

[08:47] <autrijus> the correct way is of course to fix bindParams.

[08:47] <nothingmuch> i say fix bindParams

[08:49] <autrijus> then you need to do:

[08:49] <autrijus> 1. give it a "partial" Bool

[08:49] <nothingmuch> i think bindParams should be made into bindParamsPartial

[08:49] <autrijus> 2. if partial, and length does not agree, ignore the extra invocants.

[08:49] <nothingmuch> and defatalized

[08:49] <nothingmuch> fatalization goes to a new bindParams

[08:49] <nothingmuch> which uses bindParamsPartial

[08:49] <autrijus> 3. only return the partially bound params.

[08:50] <autrijus> sure.

[08:50] <autrijus> I'm happy to answer your questions

[08:50] <autrijus> but I must work on releng now.

[08:50] <nothingmuch> ok, i'll read a bit then

[08:50] <autrijus> so, ask away.

[08:50] <nothingmuch> releng? release?

[08:50] <autrijus> release engineering.

[08:50] <nothingmuch> bindParams seems simpler, conceptually

[08:50] <nothingmuch> ah

[08:51] <nothingmuch> btw, could you find more committerbitters? since you guys are now all again in the same TZ ;-)

[08:52] <autrijus> sure. how about you?

[08:52] <nothingmuch> well, i could, but i'd rather not be /the/ one

[08:52] <nothingmuch> it's a, err, responsibility

[08:52] <autrijus> ok. you're one now. http://rt.openfoundry.org/Foundry/Project/Admin/Members/ is the place to add / invite people.

[08:52] <crysflame> heh

[08:53] <nothingmuch> i vote for stevan too, since he is in america time

[08:53] <autrijus> you're not?

[08:53] <nothingmuch> so could you talk to him?

[08:53] <nothingmuch> no, Israel

[08:53] <autrijus> stevan: you're admin now.

[08:53] <nothingmuch> =)

[08:53] <autrijus> I'll brb :)

[08:53] <crysflame> autrijus++ # distributed power

[08:53] <nothingmuch> ciao autrijus

[08:54] <crysflame> i'm learning healthy project management skills from all this, for whatever it's worth

[08:54] <crysflame> and not a bit of haskell syntax too

[08:54] <wilx> Hmm, when I define my $i = 0 in pugs shell and then do ? $i it complains *** Evl: Var "$i"    *** Error: Undefined variable $i at Var "$i"

[08:55] <autrijus> pugs> my $i = 1

[08:55] <autrijus> 1

[08:55] <autrijus> pugs> $i

[08:55] <autrijus> 1

[08:55] <wilx> ? $i

[08:55] <nothingmuch> hola lightstep

[08:55] <autrijus> it worksforme. you using latest?

[08:55] <wilx> Yup.

[08:55] <wilx> I mean the ? <exp>         = evaluate an expression in small steps

[08:55] <nothingmuch> Broadcast Message from root@omega (???) at 10:54 ...

[08:55] <nothingmuch> ~

[08:55] <nothingmuch> Redundant Power Supply has failed.

[08:55] <nothingmuch> my boss is an electrical engineer

[08:55] <crysflame> nothingmuch: !

[08:56] <autrijus> lightstep: the ? thing is segfaulting people.

[08:56] <nothingmuch> he made that box boot regardless

[08:56] <autrijus> lightstep: including me. care to take a look? since that's your baby

[08:56] <ayrnieu> ah.

[08:56] <ayrnieu> pugs> ? my $z = 1

[08:56] <ayrnieu> pugs> $z   # breakage

[08:56] <nothingmuch> =)

[08:56] <nothingmuch> sorry, crysflame

[08:56] <crysflame> about what?

[08:57] <crysflame> phrased differently, my "!" expresses admiration that the box was still alive to send such a message in the first place.

[09:08] <nothingmuch> autrijus: ok, i think i have a direction

[09:08] <nothingmuch> bindSomeParams

[09:08] <nothingmuch> bindParams

[09:09] <nothingmuch> and finalizeBind

[09:09] <nothingmuch> bindSomeParams takes the args to old bindParams, and also takes prebound

[09:09] <nothingmuch> finalizeBind takes [Param] -> [(Param, Exp)] -> MaybeError [(Param, Exp)]

[09:09] <nothingmuch> bindParams just does bindSomeParams .... []

[09:09] <nothingmuch> and then finalizeBind's that

[09:13] <lightstep> autrijus, you mean `?' on the shell?

[09:17] <nothingmuch> autrijus: err, the result of binding

[09:17] <nothingmuch> what is it really?

[09:17] <nothingmuch> i mean, line 105, for example

[09:17] <nothingmuch> what does it construct?

[09:17] <nothingmuch> i don't understand that code at all

[09:18] <lightstep> btw, i'm reworking the shell anyway to enhance the debugging abilities

[09:22] <nothingmuch> lightstep: about your home page, if you ever need CGI support, etc, just ask me

[09:23] <nothingmuch> i doubt it's configured for anything like that right now though

[09:24] <lightstep> it feels good to touch it once in a while. you surely noticed that there isn't any content to server yet

[09:24] <nothingmuch> well, i was curios as to what you sent autrijus, but aside from that, i didn't snoop around

[09:26] <lightstep> it's a primitive version of the symExp->symVal hask, which caused many casts to crash

[09:26] <lightstep> and still causes them

[09:26] <lightstep> *hack

[09:27] <nothingmuch> i.e., it changes the semantics of how to make a value of an expression?

[09:27] <jabbot> pugs - 943 - * make goto.t parse correctly; add -O to

[09:27] <jabbot> pugs - 942 - * make perl5.t run

[09:27] <nothingmuch> what is a sym*?

[09:29] <lightstep> the Symbol structure. Pad was once a mapping from symbols to expressions, now from symbols to values, thich is arguably correct, and non-arguably necessary to implement p6

[09:30] <nothingmuch> what is the difference between the two approaches?

[09:31] <autrijus> nothingmuch: the old way throws the pad away.

[09:31] <nothingmuch> that the old way caused variable interpolation to be performed lazily?

[09:31] <autrijus> but := binding needs to remember the pad when it was defined.

[09:31] <nothingmuch> autrijus: i needed help

[09:31] <nothingmuch> ah, ok

[09:31] <autrijus> say (do { my $a = 3; my $b := $a; $b })

[09:31] <autrijus> $b will be an error in the old way

[09:32] <nothingmuch> because when do exits then the pad containing $a is destroyed

[09:32] <nothingmuch> and then $b is emptied?

[09:32] <autrijus> yup.

[09:32] <nothingmuch> ok

[09:32] <nothingmuch> so anyway, back to binding params ;-)

[09:34] <autrijus> yes?

[09:36] <nothingmuch> read up about 20 lines

[09:36] <nothingmuch> what is the diff betwen Parm and Param?

[09:37] <jabbot> pugs - 944 - * unTODO passing regex tests

[09:37] <autrijus> there's no Parm

[09:38] <autrijus> line 105 of what?

[09:39] <nothingmuch> Bind.hs

[09:39] <nothingmuch> ok

[09:39] <nothingmuch> boundParams is a list of paris

[09:40] <nothingmuch> whose values are the input of prms

[09:40] <nothingmuch> (Parm was a typo i did, sorry!)

[09:40] <autrijus> bindParams

[09:40] <autrijus> returns a list of pairs. yes.

[09:40] <nothingmuch> ok, so to validate it

[09:40] <nothingmuch> i take the bound list

[09:40] <nothingmuch> and the params list

[09:40] <autrijus> what validation?

[09:40] <autrijus> nono

[09:41] <nothingmuch> i'm splitting up

[09:41] <autrijus> oh ok.

[09:41] <nothingmuch> finalizeParams :: [Param] -> [(Param, Exp)] -> MaybeError [(Param, Exp)]

[09:42] <nothingmuch> bindSomeParams :: [Param] ... [(Param, Exp)] -> MaybeError [(Param, Exp)] -- appends the already bound list

[09:42] <autrijus> ok..

[09:42] <nothingmuch> -- this one dies if a wrong param tries to be bound, etc

[09:42] <autrijus> ok

[09:43] <nothingmuch> finalizeParams will make sure a param list is good enough to be used to actually invocate

[09:43] <nothingmuch> invoke?

[09:43] <nothingmuch> beh

[09:43] <nothingmuch> and then bindParams will just be a bindSomeParams with an empty prebound list, and finalizeParams on that

[09:43] <nothingmuch> and there will also be a bindParams with a different signature

[09:44] <nothingmuch> that takes a prebound list

[09:44] <nothingmuch> and also finalizes

[09:44] <nothingmuch> just for symetry

[09:44] <nothingmuch> i think

[09:44] <nothingmuch> this will take me a long while though, i have job tasks coming in

[09:45] <autrijus> nod.

[09:45] * nothingmuch programs bash a bit... *sniff*

[09:47] <jabbot> pugs - 945 - * remove # from test descriptions bcause

[10:07] <jabbot> pugs - 946 - * numification now uses the same lexing 

[10:27] <jabbot> pugs - 950 - * TODO and SKIP more things

[10:27] <jabbot> pugs - 949 - * fix some tests.

[10:27] <jabbot> pugs - 948 - * ps

[10:27] <jabbot> pugs - 947 - * separate numify test out; basic.t is t

[11:17] <jabbot> pugs - 952 - changing the command line again, featuri

[11:17] <jabbot> pugs - 951 - Correcting the test failure of number 26

[11:27] <gaal> where did the examples go? hanoi etc.

[11:28] <gaal> they are referenced in t/examples/eamples.t bt i don't see them

[11:28] <gaal> ah

[11:28] <gaal> examples/ in the top dir

[11:28] <gaal> that's a little wierd :)

[11:29] <elmex> ??

[11:30] <gaal> elmex: there's a test in t/ that runs examples outside the t/ dir. i found it weird.

[11:31] <elmex> well, if examples are in the manifest...

[11:31] <gaal> after svn up: do you get htis on 6.4/linux?

[11:31] <gaal> Compiling Lexer            ( src/Lexer.hs, src/Lexer.o ) 

[11:31] <elmex> it's more weird to refer to files outside the dist imho

[11:32] <gaal> elmex: it'm just surprised because previously these files were in t/ (i think)

[11:32] <gaal> (gcc 3.3.5)

[11:33] <elmex> what abotu compiling lexer?

[11:34] <gaal> warnings

[11:34] <elmex> /tmp/ghc11417.hc: In function `Lexer_zdwisWordAlpha_entry':

[11:34] <elmex> /tmp/ghc11417.hc:69: warning: implicit declaration of function `stg_hack_u_iswalpha'

[11:34] <gaal> ah

[11:34] <gaal> yes yes

[11:34] <gaal> me too.

[11:34] <elmex> in parser too

[11:35] <gaal> y

[11:53] <lightstep> the manifest is gone, so there is distinction between "in" and "out" of the distro

[11:54] <gaal> why is the manifest gone?

[11:55] <lightstep> i think that because of the problems created all the time, forcing `make manifest'. there was some discussion this morning (8~10am ist)

[11:56] <gaal> beh, sounds like the time i was on the way to work. is there a log somewhere?

[11:56] <lightstep> at pugscode.org

[11:57] <gaal> lightstep, thanks

[11:57] <lightstep> btw, Lexer compiles fine on debian GHC6.4 on Linux

[11:57] <gaal> i have debian ghc 6.4 :(

[11:58] <lightstep> try to perl Makefile.PL perhaps? it sounds like missing object files to the linker

[11:58] <gaal> oh, it compiles, those are just warnings

[11:59] <gaal> though prove t/rules doesn't work...

[12:02] <lightstep> pugs is really slow on this

[12:46] <nothingmuch> what exactly is when, in haskell?

[12:46] <nothingmuch> it causes the function to vary?

[12:46] <nothingmuch> or is it a case statement?

[12:46] <nothingmuch> or is there no difference?

[12:47] <nothingmuch> is it part of an action?

[12:47] <nothingmuch> and what is 'fail'?

[12:52] <wilx> It mask computation fail :)

[12:52] <wilx> For Maybe it is Nothing and for [a] it is [].

[12:53] <wilx> s,mask,makes,

[12:58] <nothingmuch> hmm

[12:58] <nothingmuch> ok

[12:59] <nothingmuch> so it doesn't have to be in an action, right?

[12:59] <wilx> Hmm, and when seems like equivalent of if condition then <do with something returning ()> else return ()

[12:59] <gaal> is anyone working on the symbol table hash?

[13:00] <wilx> fail is method of Monad type class.

[13:01] <nothingmuch> so i can't use fail in a simple function, can i?

[13:02] <nothingmuch> if (cond) then fail else blah

[13:02] <wilx> Well, you cannot use it in a function that does not monad...

[13:03] <wilx> errr

[13:03] <wilx> What's wrong with me.

[13:03] <wilx> *does not use monads...

[13:03] <nothingmuch> =/

[13:03] <nothingmuch> perlbot nopaste

[13:03] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[13:04] <pasteling> "nothingmuch" at 212.143.92.226 pasted "is this valid haskell?" (21 lines, 1K) at http://sial.org/pbot/8396

[13:04] <nothingmuch> i'm traying to refactor bindParams

[13:04] <nothingmuch> to work on currying

[13:04] <nothingmuch> eek, that has tabs in it. Assume it's OK anyway ;-)

[13:08] <nothingmuch> damnit, back to real work

[13:10] <wilx> Either is apparently a monad too.

[13:10] <wilx> fail in Either monad returns Left x.

[13:12] <nothingmuch> ok

[13:12] <wilx> So teh function you pasted returns Either String [(Param, Exp)] with the string being error message.

[13:12] <nothingmuch> what i'm asking is whether i'm mixing too much crap together

[13:12] <nothingmuch> the function i factored this out of is monadic

[13:13] <nothingmuch> and i thought i might be able to be a clever ass, and make it regular

[13:13] <nothingmuch> but appearantly that doesn't work with fail

[13:13] <wilx> Hmm, I cannot judge that, I myself am not that much of a Haskell guru either :)

[13:14] <wilx> you can change the fail to Left $ msg and it will be the same.

[13:15] <wilx> Almost...

[13:15] <nothingmuch> so basically, err the MaybeError is who declares the type

[13:15] <nothingmuch> and MaybeError is monadic?

[13:15] <nothingmuch> or imposes monadicity, whatever that means =P

[13:16] <wilx> It is monadic because Either a b is instance of Monad type class.

[13:16] <nothingmuch> Either is monadic? eek

[13:16] <nothingmuch> that's news

[13:16] <nothingmuch> why should it be, actually?

[13:17] <wilx> Because it is instance of Monad type class.

[13:17] <nothingmuch> i mean, in terms of it's purpose

[13:17] <nothingmuch> not why, but rather what for

[13:18] <lumi> Because you can use it to determine the following flow of processing, I think

[13:18] <lumi> But I might be way off

[13:18] <lumi> And hi :)

[13:18] <nothingmuch> we have some very nice words to make that distinction in hebrew, yet I lack to find them in english

[13:18] <nothingmuch> s/to find//

[13:18] <nothingmuch> hola

[13:19] <wilx> Yeah, because it can represent computations that can fail. Monads are representations of computations...

[13:19] <wilx> I think.

[13:19] <wilx> I just makes sense :)

[13:19] * nothingmuch needs to read on

[13:19] <theorbtw1> Ah, nothingmuch!

[13:19] <nothingmuch> hola theorbtw1

[13:19] <lumi> So an Either is a good monadic way to fail and keep the error you failed with, I think

[13:19] <wilx> s/I/It/

[13:19] <wilx> Bah.

[13:19] <wilx> Bad typo.

[13:19] <nothingmuch> do you forgive me for yesterdays atrocity?

[13:22] <theorbtw1> nm: I really like the idea of your test cataloger, but I have to admit that I can't make heads or tails of your code -- probably my failing, not yours.

[13:22] <nothingmuch> nono, it's horrible code

[13:22] <nothingmuch> i'll explain it in brief

[13:22] <nothingmuch> the recursive function is either stevan's or autrijus

[13:22] <nothingmuch> i don't know

[13:22] <nothingmuch> it calls catalog_file on each file

[13:23] <nothingmuch> each /test/

[13:23] <nothingmuch> it calls parse_file on the test, and makes a hash with documentation, test cases, and other interesting data

[13:23] <nothingmuch> and links

[13:23] <nothingmuch> then the prettify_file sub is called with that structure

[13:23] <nothingmuch> and it spewes out a pod that has this data

[13:23] <nothingmuch> it's pretty ugly

[13:24] <nothingmuch> and then there's cross_index, which is even worse

[13:24] <nothingmuch> it also takes the hash structure

[13:24] <nothingmuch> and iterates the link

[13:24] <nothingmuch> planting a backlink in the synopses

[13:24] <nothingmuch> which are slurped as strings

[13:24] <nothingmuch> and fudged with substr($synopses{$syn}, $pos, 0, "replacement")

[13:24] *** theorbtw1 is now known as theorbtwo

[13:24] <nothingmuch> and then saved

[13:25] <nothingmuch> (sorry)

[13:25] <theorbtwo> Yeah... I think I'm going to stick with my initial plan, and rewrite it.

[13:25] <nothingmuch> good plan =)

[13:25] <nothingmuch> first of all, it needs to use File::Find

[13:26] <nothingmuch> second of all, it needs to abstract a bit more

[13:26] <theorbtwo> Well, the "first of all" is covered, I think.

[13:26] <nothingmuch> lastly, it needs to change the text a bit nicer

[13:26] <nothingmuch> using HTML::blah

[13:26] <nothingmuch> and not do nasty tricks and all

[13:26] <nothingmuch> and all the transformations of content should be in one flow block

[13:27] <nothingmuch> and all the extractions of content should be in a different distinct one

[13:27] <nothingmuch> (at the abstract level)

[13:27] <nothingmuch> etc

[13:27] <nothingmuch> i could do it, and i'd be happy too

[13:27] <nothingmuch> s/o$//

[13:27] <nothingmuch> my point was to get that one working and working fast. Unfortunately Pod::Simple made it complicated, and instead it was not very simple =(

[13:28] <theorbtwo> I think we should convert to HTML as early as possible, rather then as late as possible.  I'm going to try to work on it today pretty exclusively.

[13:29] <nothingmuch> i think so too

[13:29] <nothingmuch> Pod::Simple was supposed to be a quick hack that just work

[13:29] <nothingmuch> and it did

[13:29] <nothingmuch> until i had to read Pod::Simple's code to find out why it didn't

[13:29] <nothingmuch> =(

[13:29] <theorbtwo> ...anyway, I have the first 1/16th or so working.

[13:44] <nothingmuch> theorbtwo: there is some useful code in there

[13:44] <nothingmuch> steal the regexes that dissect the test file

[13:44] <nothingmuch> especially the links

[13:44] <nothingmuch> but also the test cases

[13:44] <theorbtwo> I'm not sure I actually want to disect the test cases.

[13:44] <nothingmuch> how come?

[13:45] <nothingmuch> too messy?

[13:45] <theorbtwo> It doesn't give any better information then just showing the actual test file.

[13:45] <nothingmuch> that's true

[13:45] <nothingmuch> hence the Devel::Cover mention

[13:45] <nothingmuch> might want to optionally use vim coloring

[13:45] <nothingmuch> luquy wrote a perl6 mode

[13:56] <lightstep> nothingmuch, if you still want an introduction to monads in haskell, you might be interested in this tutorial: nomaware.com/monads/html (all about monads)

[13:57] <nothingmuch> i'll read it when I get home

[13:57] * nothingmuch has a new monitor

[13:57] <nothingmuch> yay!

[13:58] <lightstep> i always get old monitors

[13:58] <nothingmuch> anyway, going home... ciao!

[13:58] <theorbtwo> See you in a bit, nm?

[13:58] <theorbtwo> (You were in the office on Sunday?)

[14:00] <lightstep> theorbtwo, nothingmuch is in israel, where they work on sundays, but not on saturdays

[14:01] <theorbtwo> Ah, I figured they'd get sat&sun off, but go to temple on sat (natrually).

[14:03] <lightstep> the usual arrangment is fri&sat off. all the parties are on friday, so you get back to work on sunday without a hangover. few people go to the temple, though

[14:03] <theorbtwo> Ah.  Makes sense.

[14:03] <theorbtwo> Yeah, I figured most people don't go to temple.

[14:19] <stevan> morning theorbtwo, lightstep 

[14:20] <lightstep> good morning

[14:20] <theorbtwo> Morning, stevan.

[14:20] <stevan> or at least it's morning where I am :)

[14:21] <lumi> Pugs doesn't seem to make optimized

[14:21] <stevan> hmm, seems we have regexp matching, but not substitution

[14:22] <theorbtwo> That sounds right, stevan.

[14:22] <stevan> but we do have $1, etc

[14:22] <stevan> oh well, the File::Spec port goes back on the "to-do later" shelf

[14:23] <stevan> unless I re-write all the s/// stuff with substr :P

[14:41] *** Aankh|Clone is now known as Aankhen``

[15:40] <gaal> meow

[16:27] <jabbot> pugs - 954 - un-TODO tests from t/subroutines/sub_ret

[16:27] <jabbot> pugs - 953 - started some t/oo/ tests *hint* *hint* ;

[16:43] <gaal> stevan, do you remember the tests -> synopses url on woobling?

[16:45] <gaal> oops, ride home.

[16:45] * gaal &

[16:46] <autrijus> hey.

[16:46] <autrijus> just got back home.

[16:47] <autrijus> s/// will land tomorrow.

[16:48] <theorbtwo> Hey, autrijus.

[16:48] <autrijus> heya.

[16:48] <nothingmuch> morning

[16:49] <elmex> hoi

[16:53] <theorbtwo> WIP of my catalog_tests checked in.

[16:53] <autrijus> coolio.

[16:53] <autrijus> heads-up: 6.0.12 within an hour.

[16:53] <autrijus> (weekly release)

[16:53] <theorbtwo> Oh: Your fixed my RE segfault.

[16:54] <autrijus> yup.

[16:54] <theorbtwo> Er, s/Your/You/

[16:54] <autrijus> r3297 (orig r935):  autrijus | 2005-03-20 06:35:26 +0000

[16:54] <autrijus> * trade segfault for memleak.

[16:54] <autrijus> basically I stopped calling &free.

[16:54] <autrijus> ;)

[16:54] <theorbtwo> I know, I saw.

[16:54] <autrijus> good.

[16:54] <autrijus> so I've talked with obra a lot today.

[16:55] <autrijus> I _think_ I have a pretty solid idea of Compile.hs now.

[16:55] <autrijus> chip: I need to talk to you wrt parrot.

[16:55] <autrijus> chip: I'd like a walkthru with you or other parrot people about how to generate a "hello, world" pasm from a pugs ast.

[16:56] <autrijus> chip: the idea is to implement the parrot ast interface in haskell.

[16:56] <autrijus> if that happens, that instantly bootstraps perl 6.

[16:56] <autrijus> as a proof of concept I'll do the hello world compiler to haskell first.

[16:57] <jabbot> pugs - 956 - * more test cleanup; changelog draft

[16:57] <jabbot> pugs - 955 - WORK IN PROGRESS of a new test cross-ref

[17:03] <nothingmuch> dinner, then teach mom how to use camera, then maybe currying! ciao

[17:04] <nothingmuch> autrijus: if you're willing i'd like to SEE, because i think i'm a little over my head

[17:04] <autrijus> nothingmuch: I will sleep in 30 mins

[17:04] <autrijus> and wake up in 9

[17:04] <autrijus> hrs after it

[17:37] <jabbot> pugs - 957 - * fix pugscc; disable die_and_end.t for 

[17:37] <gaal> i'

[17:37] <gaal> i'm happy to report pugs builds on mingw again

[17:38] <gaal> someone++ :)

[17:38] <autrijus> that'd be me :)

[17:38] <autrijus> preflight check time!

[17:38] <gaal> i'm sad, however, to say that i realized duff's device won't work in perl6.

[17:38] <gaal> probably.

[17:38] <autrijus> you can lobby for it.

[17:38] <autrijus> or write inline C code.

[17:39] <gaal> i'd need labels for arbitrary code,

[17:39] <gaal> and even then i'm not sure it would work:

[17:39] <gaal> how would those interleaved braces define closures?

[17:40] <gaal> if i inline, i may as well inline perl5 code :)

[17:40] <autrijus> ;)

[17:40] <autrijus> that's actually much harder.

[17:40] <autrijus> please help me out in preflight check:

[17:41] <gaal> then we have a problem, because it does exist in p5: http://perlmonks.org/index.pl?node=Duff%27s+Device+in+Perl&go_button=Search

[17:41] <gaal> yes

[17:42] <gaal> is that a new version fligh, or a going somewhere flight?

[17:42] <theorbtwo> autrijus: Yes, you did pack your bags yourself, and no, they have not been out of your sight.  That help?  ;)

[17:42] <gaal> and, you're coming from home

[17:42] <autrijus> (and report platform, ghc version, and whether it went ok or not; preferably, "pugscc examples/life.p6" as well)

[17:43] <gaal> and don't haee anything anyone gave you to give someone.

[17:43] <autrijus> the url is http://autrijus.org/tmp/Perl6-Pugs-6.0.12.tar.gz 

[17:43] <gaal> whoa, too many tests pass on mingw. did somebody do a todo run?

[17:44] <autrijus> try the tarball and nopaste the unexpected successes, if any?

[17:44] <gaal> autrijus, no unexpected successes yet -- except i was suprised to see all ok :)

[17:44] <autrijus> eh.

[17:44] <gaal> but that was with the latest r

[17:45] <gaal> trying the tgz now.

[17:45] <autrijus> oh. same thing.

[17:45] <autrijus> Your new level imbues you with super-powers! Check out Level 6: Friar for the details!

[17:45] <gaal> w00t

[17:45] <theorbtwo> Congrats, autrijus.

[17:47] <gaal> someone mentioned on his home node that he became saint six times in one day. i wonder how that happened -- must have posted a very controversial node.

[17:47] <autrijus> so Friar is the last superpower level, right?

[17:48] <theorbtwo> Yup.

[17:48] <theorbtwo> The additional powers are all at the whim of the gods.

[17:48] <pasteling> "gaal" at 192.115.25.249 pasted "linux ghc6.4" (7 lines, 355B) at http://sial.org/pbot/8403

[17:48] <theorbtwo> (Read: me.)

[17:49] <theorbtwo> linux/intel ia32/ghc6.2.2 -- no test fails, some compile warnings, from latest SVN.

[17:49] <gaal> ah yes, i get the warnings too (forgot to say)

[17:50] <elmex> kinder

[17:50] <autrijus> gaal: what is line 419?

[17:50] <autrijus> it reads

[17:50] <autrijus> ok(eval 'not ("aaaaaaaaa" ~~ rx:perl5/^(a\1?){4}$/)', 're_tests 635  (819)');

[17:50] <autrijus> to me.

[17:50] <autrijus> doesn't see a [ there.

[17:50] <gaal> but i *don't* get warnings on my mingw

[17:50] <gaal> hold on

[17:50] <gaal> oh, crap, my bad

[17:51] <autrijus> :)

[17:51] <gaal> i was attempting to todoify it after it appeared and forot about it

[17:51] <gaal> so a later svn up made a conflict

[17:52] <gaal> oll korrekt now.

[17:53] <autrijus> ok. boarding :)

[17:53] <gaal> yay :)

[17:53] <autrijus> gaal++

[17:53] <autrijus> theorbtwo++

[17:53] <gaal> do i get a window seat? :)

[17:54] * theorbtwo wonders what he got a ++ for.

[17:54] <autrijus> sure, inside the pilot cabin

[17:54] <autrijus> theorbtwo: for preflight checking

[17:56] <gaal> need to ask nm about publishing make tests results automatically after every ci

[17:56] <gaal> reports can come in within minutes.

[17:57] <gaal> oh, autrijus, didn't you ci a change to allow verbose test output to a file?

[17:58] <autrijus> yes I did.

[17:58] <autrijus> 01:55  * CPAN upload: Perl6-Pugs-6.0.12 by AUTRIJUS

[17:58] <gaal> AVTRIIVS++

[18:00] <gaal> how do you activate it?

[18:01] <autrijus> setting an env I think

[18:02] <autrijus> so, journal up. pugs will move toward a parrot-compatible ast model and compiler.

[18:03] <autrijus> I hope no-one is surprised. :)

[18:03] * Odin-LAP is shocked.

[18:04] <theorbtwo> No, Odin, you were supposed to cut the /purple/ wire, not the /violet/ wire!

[18:04] <autrijus> good night. enjoy, folks! &

[18:04] <Odin-LAP> So ... build pugs, port pugs to parrot, port pugs to perl6 ... et voila?

[18:04] <Odin-LAP> :D

[18:04] <autrijus> yup. :D

[18:04] <Odin-LAP> theorbtwo: Ah. I knew there was something I was doing wrong.

[18:10] <pasteling> "gaal" at 192.115.25.249 pasted "problem in src/RRegex/PCRE.hs" (14 lines, 321B) at http://sial.org/pbot/8405

[18:10] <gaal> (this breaks build under Eclipse)

[18:10] <gaal> (on windows)

[18:12] <gaal> changing it to #include "../pugs_config.h" seems to help Eclipse, now to see it didn't break anything else...

[18:14] <pasteling> "gaal" at 192.115.25.249 pasted "hmm, many warnings in mingw/gcc 3.3.5/ghc6.4 (but this passes all tests)" (50 lines, 3.9K) at http://sial.org/pbot/8406

[18:27] <jabbot> pugs - 958 - Eclipse build fix; +fine-tune EU::MM dep

[18:42] <elmex> ?

[18:42] <gaal> what?

[18:42] <jabbot> gaal: what is supposed to happen automagically 

[18:42] <elmex> huh?

[18:43] <gaal> jabbot, who's on first?

[18:43] <jabbot> gaal: Have you asked anyone else?

[18:43] <gaal> elmex: what puzzles you?

[18:44] <gaal> jabbot, are you the manager?

[18:44] <jabbot> gaal: We were discussing you -- not me.

[18:44] <gaal> jabbot, i mean the person's name.

[18:44] <jabbot> gaal: I am not interested in names.

[18:44] <gaal> jabbot, Yes.

[18:44] <jabbot> gaal: Please go on.

[18:45] <gaal> jabbot, that's who?

[18:45] <jabbot> gaal: Why do you ask?

[18:45] <gaal> jabbot, would you like to play questions?

[18:45] <jabbot> gaal: You're not really talking about me -- are you?

[18:45] <gaal> jabbot, who isn't?

[18:45] <jabbot> gaal: What answer would please you most?

[18:45] <gaal> jabbot, how do you mean?

[18:45] <jabbot> gaal: Oh, I mean?

[18:46] <gaal> jabbot, did you read Stoppard?

[18:46] <jabbot> gaal: Oh, I read Stoppard?

[18:46] <gaal> Evasion! one love.

[18:46] <gaal> jabbot: are you ready?

[18:46] <jabbot> gaal: You're not really talking about me -- are you?

[18:46] <gaal> Repetition! two love.

[18:46] <gaal> jabbot: think you can win?

[18:46] <jabbot> gaal: We were discussing you -- not me.

[18:46] <gaal> Repetition! Game and match.

[18:47] <gaal> tsk, tsk.

[18:48] <gaal> (tha't http://www.unseelie.org/rpg/question.html and http://www.baseball-almanac.com/humor4.shtml, to all befuddled spectators)

[19:17] *** Aankh|Clone is now known as Aankhen``

[19:30] <nothingmuch> http://www.cs.uu.nl/~afie/haskell/tourofprelude.html

[19:30] <stevan> hey there nothingmuch 

[19:30] <nothingmuch> hola

[19:30] * nothingmuch tries to get at currying

[19:30] <stevan> I am writing up a Test Suite README

[19:31] <stevan> would you mind looking at it when i am done?

[19:31] <nothingmuch> sure

[19:39] <nothingmuch> is anyone else having trouble running ghci on src files since RRegex joined the mess?

[19:39] <stevan> nothingmuch: I do occasionally

[19:39] <stevan> the regexp stuff is kinda buggy 

[19:40] <nothingmuch> =P

[19:49] <nothingmuch> woot!

[19:53] <stevan> nothingmuch: do you have a second to read it now?

[19:53] <nothingmuch> sure

[19:53] <stevan> should I paste it? or just check it in?

[19:54] <gaal> ci

[19:54] <nothingmuch> whichever you prefer

[19:54] <nothingmuch> OWOWWWW! i didn't break anything!

[19:54] <nothingmuch> i'm so, err, astounded

[19:55] <stevan> ok checked in

[19:55] <stevan> t/README

[19:55] <gaal> oh, nm, i was meaning to ask you. any thoughts on publishing test results? i have two machines that can build after every ci, and i bet other people can do that too

[19:56] <stevan> nothingmuch: there is a section in the README on the backlinks, if you could fill that in it would be great

[19:56] <nothingmuch> me too

[19:56] <nothingmuch> eris is alive again

[19:56] <nothingmuch> and safta at work is pretty decent

[19:56] <gaal> but we need (a) to trust committers (b) something to prettify tests results (c) aggregate them from different sources

[19:56] <nothingmuch> and pasta is ok

[19:57] <gaal> (a) is probably no problem

[19:57] <nothingmuch> aggregation should be by HTTP post, i think

[19:57] <nothingmuch> trusting committers: eerrr, we don't care, i think

[19:57] <gaal> how do you think?

[19:57] <nothingmuch> i think that it doesn't matter

[19:57] <nothingmuch> you run it as a nobody user

[19:57] <gaal> no no

[19:57] <nothingmuch> and then you trust your kernel

[19:57] <nothingmuch> then?

[19:58] <gaal> how do you think aggregation is helped by http post

[19:58] <nothingmuch> ah

[19:58] <nothingmuch> loop runs on somewhere

[19:58] <nothingmuch> says 'hi, i'm UUID xyz

[19:58] <nothingmuch> (remains)

[19:58] <gaal> i don't trust one of my kernels (xp) :)

[19:58] <nothingmuch> here is the result for rxxx

[19:58] <nothingmuch> i'm on $OSTYPE-$MACHTYPE-$HOSTTYPE

[19:58] <nothingmuch> ghc version is:

[19:58] <nothingmuch> gcc version is:

[19:59] <nothingmuch> perl version is:

[19:59] <nothingmuch> here are the results:

[19:59] <nothingmuch> YAMLYAMLYAMLYAML

[19:59] <nothingmuch> a cgi takes that, and says 'uhuh'

[19:59] <gaal> that's transport, which is hardly a problem. i mean once you find a host for all this info, how do you manage it?

[19:59] <nothingmuch> and rebuilds a pretty report

[19:59] <nothingmuch> taking only the latest r, and showing what fails everywhere, and what only at x...

[19:59] <nothingmuch> which tries to merge

[19:59] <nothingmuch> sqlite, methinks

[20:00] <gaal> work

[20:00] <nothingmuch> row per test test file

[20:00] <nothingmuch> has many test case

[20:00] <nothingmuch> per number

[20:00] <nothingmuch> current revision is stored

[20:00] <gaal> sounds like too much of it.

[20:00] <nothingmuch> i.e., revision table

[20:00] <nothingmuch> then each test per each revision per each host has a result

[20:01] <nothingmuch> which is an enum

[20:01] <nothingmuch> that's, err, typical sql schema

[20:03] <gaal> hmm, a yaml output mode for test::harness would be nice.

[20:03] <nothingmuch> indeed

[20:03] <nothingmuch> it's not that hard

[20:03] <nothingmuch> 30 minutes of work head to head with ::Straps

[20:04] <nothingmuch> maybe we should ask on [email@hidden.address] if andy lester has such plans

[20:04] <stevan> nothingmuch: I doubt andy will do anything with YAML

[20:05] <stevan> but there is talk about making ::Straps friendlier

[20:05] <gaal> from the pod: The interface is currently incomplete.  I<Please> contact the author 

[20:05] <gaal> if you'd like a feature added or something change or just have

[20:05] <gaal> comments.

[20:07] <jabbot> pugs - 959 - adding a README for the test suite

[20:15] <gaal> stevan: nice start for the readme. i'd include the policy for marking hard parsefails

[20:15] <stevan> good idea

[20:15] <gaal> and emphasize "the failing test is the bug report"

[20:15] <stevan> I am thinking I might convert it into a more FAQ style doc

[20:15] <nothingmuch> someone please fix my fix to the readme

[20:15] <stevan> ?

[20:16] <nothingmuch> hmm, conflict, one moment please

[20:16] <stevan> what did you do?

[20:16] <nothingmuch> ah, not conflict

[20:16] <nothingmuch> document backlinks

[20:17] <jabbot> pugs - 961 - Move unless...elsif tests from t/stateme

[20:17] <jabbot> pugs - 960 - Grammar fix: +so in t/README

[20:17] <stevan> nothingmuch: did you commmit it?

[20:18] <nothingmuch> yes

[20:18] <nothingmuch> 962

[20:18] <gaal> stevan, mind if we use a different quote style in t/README? this is super-pedant, i know, but `..` looks fishy to me.. either '..' or `..' ?

[20:19] <stevan> gaal: sure

[20:20] <stevan> ok fixed the quotes

[20:21] <stevan> and added gaal's point about failing tests

[20:21] <stevan> r963

[20:21] <gaal> ah, darn :) was about to ci it with also an "it's" -> "its" fix

[20:21] <nothingmuch> is there a lambda head around?

[20:21] <stevan> nothingmuch: your section looks good, I will fiddle with the wording a bit

[20:21] <nothingmuch> wording is not my strong side

[20:22] <stevan> nothingmuch: I am sure it sounds better in Hebrew :)

[20:22] <nothingmuch> it would probably not make sense in hebrew at all

[20:22] <nothingmuch> i actually write worse in it

[20:22] <stevan> my Hebrew is rusty too :P

[20:23] <stevan> *cough* non-existsant *cough*

[20:23] <nothingmuch> har.

[20:23] <nothingmuch> ;-)

[20:23] * nothingmuch considers checking in his bindParams refactoring

[20:24] <stevan> nothingmuch: why not, we can test it for you

[20:24] <nothingmuch> it's supposed to be transparrent

[20:24] <nothingmuch> and i've already tested what it's going to let me do ;-)

[20:25] <nothingmuch> although you can edit t/subroutines/currying.t

[20:25] <nothingmuch> it needs special cases for binding of required and non required params

[20:25] <stevan> ahh curry

[20:26] <nothingmuch> and binding of invalid params

[20:26] <nothingmuch> and OOP binding with invocant crap

[20:26] <nothingmuch> basically, try to curry infix:<+>

[20:26] <nothingmuch> so that MMD is tested too

[20:26] <stevan> MMD?

[20:27] <nothingmuch> multimethod dispatch

[20:27] <stevan> ah

[20:27] <jabbot> pugs - 963 - fixing quotes in README and adding point

[20:27] <jabbot> pugs - 962 - lousy documentation of backlink format

[20:27] <nothingmuch> see L<S06/Currying> ;-)

[20:29] <lucs> Mmm. Curry.

[20:30] <nothingmuch> i looove the fact that osx terminal does vt100 codes

[20:31] <nothingmuch> while true; do dock; svn up; make optimized test; raise; read foo; done

[20:31] <nothingmuch> minimizes the window, runs the tests

[20:31] <stevan> nice

[20:31] <nothingmuch> window pops up when it's done, i press enter, and it does it again

[20:32] <integral> vt100s could minimise to the dock? :-P

[20:32] <nothingmuch> yes

[20:33] <nothingmuch> err, in theory

[20:33] <nothingmuch> there's a code to hide or something

[20:33] <nothingmuch> and osx's term implements it as minimizing it

[20:34] <nothingmuch> 964

[20:36] <nothingmuch> now how do i fabricate a closure

[20:45] <nothingmuch> ah, i know

[20:45] <nothingmuch> i'll make the exp be of type Prim,

[20:45] <nothingmuch> and just use a haskell closre

[20:47] <jabbot> pugs - 964 - Refactor bindParams to possibly be incre

[21:04] <gaal> nothingmuch, can you do 'dock > somefile' and see what the escape code is so i can try that on my box?

[21:04] <nothingmuch> dock is a simple script adapted from:

[21:04] <nothingmuch> http://homepage.mac.com/uucee/macosx/terminal-app-hints.html

[21:04] <nothingmuch> which used vttest

[21:05] <nothingmuch> short answer: go get vttest

[21:05] <nothingmuch> i also have a wait_for cmd

[21:05] <nothingmuch> which is perl -ne 'BEGIN { ($r, @cmd) = @ARGV } system if /$r/o'; 

[21:05] <gaal> just alias dock 'echo -n "^[[2t"'

[21:06] <nothingmuch> well, it needed to run on various ugly systems at work

[21:06] <nothingmuch> aliasing wasn't perfect

[21:06] <nothingmuch> also, then came this wait_for

[21:06] <nothingmuch> so i say 'make 2>&1 | wait_for '\*\*\*' raise; raise'

[21:06] <nothingmuch> and then it pops up when it's done, or when there's an error

[21:07] <nothingmuch> s/perl -ne/perl -pe/

[21:07] <gaal> doesn't work on mingw's rxvt :(

[21:07] <nothingmuch> s/system/system @cmd

[21:07] <nothingmuch> =/

[21:08] <gaal> well, i'm off.. later!&

[21:20] <nothingmuch> ciao

[21:21] <nothingmuch> err, too late

[21:28] <pasteling> "iblech" at 80.81.8.24 pasted "make test fails in ext/Test" (24 lines, 1.5K) at http://sial.org/pbot/8413

[21:29] <nothingmuch> export HARNESS_PERL=$PWD/../../pugs should fix it

[21:29] <nothingmuch> but it's a makefile problem

[21:29] <nothingmuch> iblech: errm.

[21:29] <nothingmuch> theorb: i'm butchering your script

[21:30] <theorb> Oh.  I should have possibly checked in the corrections I made prior to starting that movie.

[21:30] <nothingmuch> hehe

[21:30] <nothingmuch> check them in now, i'll resolve conflicts

[21:30] <theorb> Jay and Silent Bob Strike Back.

[21:30] <iblech> nothingmuch: No, problem remains... But I suspect it's actually a bug of my old Test::Harness -- checking...

[21:30] <nothingmuch> haven't seen that one

[21:31] <theorb> It certianly has it's good points, but it wears horribly.

[21:32] <theorb> Oddly, there were no conflicts.

[21:35] <nothingmuch> i didn't checkin anything

[21:35] <iblech> Ok, with Test::Harness 2.42 everything works. But I think (might be wrong) the whole point of pugs/inc is, that users don't have to install (for example) Test::Harness globally. -Iinc works fine in the top-level-directory, but it breaks in ext/Test, because there's no ext/Test/inc...

[21:43] <nothingmuch> -Ilib wout work

[21:43] <nothingmuch> err, wait

[21:43] <nothingmuch> test::harness is perl, not pugs

[21:45] <iblech> nothingmuch: Yes. ext/Test/Makefile has to have -I../../inc instead of plain -Iinc to have make test working

[21:46] <nothingmuch> ah

[21:46] <nothingmuch> test::harness is bundled

[21:46] <nothingmuch> that's nasty

[21:46] <nothingmuch> well, whatever

[21:46] <nothingmuch> you want to fix it?

[21:46] <theorb> nm, how's my driving?

[21:46] <theorb> Er, coding?

[21:46] <nothingmuch> theorb: pretty fun to keep up with

[21:47] <jabbot> pugs - 965 - catalog_tests_jmm.pl: Minor fixes mostly

[21:48] * theorb tries to figure out if that's a good thing or not.

[21:48] <nothingmuch> heh

[21:48] <nothingmuch> it's nice, clean code

[21:49] <iblech> nothingmuch: /me doesn't have any experience with the Makefile.pl system

[21:49] <nothingmuch> i was surprised at how pretty the HTML output is

[21:50] <nothingmuch> iblech: i don't either... theorbtwo: can you help?  

[21:50] <iblech> nothingmuch: Maybe it's easier to not bundle Test::Harness and demand a reasonable recent version of Test::Harness

[21:50] <nothingmuch> i think so too

[21:50] <nothingmuch> since we're alreayd demanding MM

[21:50] <nothingmuch> and it's a pretty standard module, and core is good enough on recent perl

[21:50] <nothingmuch> (a recent MM, that is)

[21:51] <iblech> nothingmuch: Exactly

[21:52] <theorb> I don't have all that much either; I prefer avoiding make where I can.

[21:52] * theorb tries to figure out what the problem is...

[21:52] * nothingmuch will brb

[21:54] <nothingmuch> back

[21:55] <nothingmuch> ibelch: why don't you edit the top level Makefile.PL, and remove inc/Test?

[21:55] <nothingmuch> theorb: can't i specify multiple criteria to look_down?

[21:55] <nothingmuch> i.e. (_tag=>"h1", _content=>$heading)?

[21:56] <nothingmuch> oh, seems like you can

[21:58] <theorb> You can, but I don't think _content does what you want.

[21:58] <nothingmuch> [ $heading ]?

[21:58] <nothingmuch> or is that too much ;-)

[21:59] <theorb> (_tag=>"h1", sub {$_->as_text =~ /whatever/})

[22:00] <nothingmuch> oi

[22:05] <nothingmuch> theorb: pearpc->status?

[22:07] <theorb> Last I tried, pretty toasted, though I suppose I can try again or try the other one -- and Jess is asleep, so I have no purticular wish to stay in bed.

[22:15] <nothingmuch> metaperl: you're proficient in haskell, right?

[22:16] <metaperl> not proficient, no

[22:16] <metaperl> i have been studying it as well as I can though

[22:16] <nothingmuch> errm, sort of capable?

[22:16] <metaperl> that would be a much better term

[22:16] <nothingmuch> =)

[22:16] <nothingmuch> much better than me

[22:17] <nothingmuch> theorbtwo: we have HTML backlinks without regex skip

[22:17] <nothingmuch> metaperl: so anyway, i refactored bindParams

[22:17] <nothingmuch> and now i'd like to use it to get &sub.assuming($params) working

[22:17] * metaperl does svn update

[22:17] * theorbtwo returns.

[22:17] <metaperl> ok i'm updated

[22:18] <nothingmuch> basically it's split up into 3 functions now

[22:18] <nothingmuch> bindParams, which retains the old interface

[22:18] <nothingmuch> veryifyBind, which takes a param list, and a binding, and returns MaybeError or the binding

[22:19] <metaperl> you mean in the file Bind.hs?

[22:19] <nothingmuch> it checks that the binding is complete (required args all there)

[22:19] <nothingmuch> which will take a VSub and a list

[22:19] <nothingmuch> and there's bindSomeParams

[22:19] <nothingmuch> yes

[22:19] <nothingmuch> now, my next step is to make an assuming op in Prim.hs

[22:19] <nothingmuch> and bindSomeParams like doApply does

[22:20] <nothingmuch> and then return a haskell closure, which pretends to be Prim

[22:20] <nothingmuch> which when invoked will take it's invocation params, and finalize the binding with what it already has, and invoke the sub it wraps

[22:20] <nothingmuch> but i have no clue how to do that

[22:20] <nothingmuch> =)

[22:21] <metaperl> you have no clue how to invoke the sub?

[22:21] <metaperl> or create the closure?

[22:22] <nothingmuch> create the closure

[22:22] <nothingmuch> as a VSub whose SubFun is a Prim

[22:23] <metaperl> well you know the syntax for an anonymous sub in Haskell right?

[22:23] <metaperl> (\x -> blah blah x)

[22:23] <nothingmuch> (\x -> ..)

[22:23] <nothingmuch> yes

[22:23] <metaperl> well, let me see what a VSub is...

[22:23] <nothingmuch> a VSub is a code ref

[22:24] * metaperl greps for VSub

[22:24] <nothingmuch> grrr... why can't Pod::Simple::HTML create <divs> between heads

[22:25] <metaperl> there seem to be a lot of examples of that: VSub $ Sub ....

[22:26] <metaperl> in Monads.hs

[22:27] <nothingmuch> hmm

[22:27] <theorbtwo> My pearpc didn't even make it to the point of letting me click on my username before the input subsystem got totaled.

[22:27] <nothingmuch> theorbtwo: =(

[22:28] <nothingmuch> are you going to reinstall?

[22:28] <metaperl> nothingmuch, I am very behind on how Perl6 is implemented in haskell

[22:28] <metaperl> i'm afraid I am just wasting your time

[22:28] <theorbtwo> What the hey, I'll give it a try.

[22:29] <nothingmuch> metaperl: i'm not sure

[22:29] <nothingmuch> i usually leap forward in understanding in a very jerky behavior

[22:29] <nothingmuch> i need lots of prods

[22:29] <nothingmuch> theorbtwo: I can just check in

[22:30] <metaperl> i have been studying Haskell without studying Haskell compiling perl6

[22:30] <theorbtwo> That's probably for the best; a reinstall will take several hours.

[22:30] <nothingmuch> metaperl: oh well

[22:31] <nothingmuch> theorbtwo: ok... i'll just whip in conversion of Sxx.pod to Sxx.html

[22:34] <theorbtwo> Grrr!  Now it's dying in the installer.

[22:34] <nothingmuch> i don't think ti's the software

[22:35] <nothingmuch> it sounds more like the config

[22:38] <theorbtwo> I think it's the emulator, and not the install.

[22:38] <theorbtwo> But it was doing pretty well for a while.

[22:40] <nothingmuch> that's what i meant

[22:41] <nothingmuch> maybe the rom image is burnt?

[22:42] <nothingmuch> http://nothingmuch.woobling.org/pugs_test_status/

[22:42] <ingy> hola

[22:42] <nothingmuch> hola ingy

[22:42] <nothingmuch> S09.html#Subscript_and_slice_notation

[22:43] <nothingmuch> oops... http://nothingmuch.woobling.org/pugs_test_status/Synopsis/S09.html#Subscript_and_slice_notation

[22:43] <ingy> kwid_to_html is progressing nicely

[22:45] <ingy> nothingmuch: neat (if it worked ;)

[22:45] <nothingmuch> uh

[22:45] <nothingmuch> one sec ago it did

[22:45] <nothingmuch> oh, i see

[22:45] <nothingmuch> =)

[22:45] <nothingmuch> one moment please

[22:45] <ingy> heh

[22:46] <nothingmuch> s#usr/local/src/pugs/t_index/pugs_test_status/;

[22:46] <nothingmuch> this is theorbtwo's fault, for being too trigger happy with rel2abs ;-)

[22:48] * theorbtwo grins.

[22:48] <elmex> i just read .../pugs_teen_status/...

[22:49] <nothingmuch> it takes a long while to generate on my crummy laptop

[22:50] <nothingmuch> ok, fixed

[22:50] <ingy> nothingmuch++

[22:51] <ingy> what happened to the L<>?

[22:51] <elmex> jabbot: score

[22:51] <jabbot> elmex: I'm not sure I understand you fully.

[22:51] <nothingmuch> theorbtw++ actually

[22:51] <nothingmuch> oh wait, i zapped that temporarily

[22:51] <nothingmuch> theorbtwo++; # typo previously

[22:52] <elmex> this scoring is cool....

[22:52] <elmex> lets cheat:

[22:52] <elmex> elmex += 1000

[22:52] <ingy> *yawn*

[22:52] <nothingmuch> perlbot karma elmex

[22:52] <perlbot> Karma for elmex: 1

[22:52] <nothingmuch> perlbox karma theorbtwo

[22:53] <nothingmuch> perlbot karma theorbtwo

[22:53] <perlbot> Karma for theorbtwo: 11

[22:53] <nothingmuch> perlbot karma nothingmuch

[22:53] <perlbot> Karma for nothingmuch: 25

[22:53] <elmex> elmex++

[22:53] <perlbot> What kind of idiot karmas himself?  Your kind of idiot!

[22:53] <nothingmuch> ook

[22:53] <elmex> perlbot: karma elmex

[22:53] <perlbot> elmex doesn't have any karma

[22:53] <jabbot> elmex: elmex has karma of 2

[22:53] <nothingmuch> hah!

[22:53] <elmex> ;p;

[22:53] <nothingmuch> elmex++; # for being curious

[22:53] <elmex> jabbot: karma elmex

[22:53] <jabbot> elmex: elmex has karma of 2

[22:53] <elmex> perlbot: karma elmex

[22:53] <perlbot> Karma for elmex: 1

[22:53] <jabbot> elmex: elmex has karma of 2

[22:53] <elmex> ack

[22:53] <elmex> ...

[22:53] <nothingmuch> ok, cut it out, or i'm -- you ;-)

[22:53] <ingy> nothingmuch++

[22:54] <nothingmuch> perlbot karma ingy

[22:54] <perlbot> Karma for ingy: 18

[22:54] <elmex> ingy++

[22:54] <nothingmuch> perlbot karma autrijus

[22:54] <perlbot> Karma for autrijus: 23

[22:54] <nothingmuch> oh my god

[22:54] <theorbtwo> perlbot karma top

[22:54] <perlbot> top doesn't have any karma

[22:54] <elmex> autrijus++

[22:54] <theorbtwo> perlbot highest karma

[22:54] <perlbot> The top 5 karma entries: ~brad2901: 26, nothingmuch: 26, autrijus: 24, ingy: 19, stevan: 18

[22:54] <theorbtwo> Now, can we stop asking for everybody's karma, and agree that mine is too low?

[22:54] <nothingmuch> who is brad?

[22:55] <nothingmuch> theorbtwo++

[22:55] <nothingmuch> theorbtwo++

[22:55] <nothingmuch> ;-)

[22:55] <nothingmuch> theorbtwo++

[22:55] <nothingmuch> actually, i think we can do this by private message

[22:55] <elmex> hmm

[22:55] <elmex> i guess exploiting this feature might not be the best

[22:55] <ayrnieu> sigh.  if theorbtwo has low karma, it because he *deserves it*!  Please be letting normal gushing appreciation make the changes.

[22:55] <nothingmuch> hmm... no, only in public chat

[22:56] <theorbtwo> I was actually joking.

[22:56] * theorbtwo couldn't care much less.

[22:56] <nothingmuch> ayrnieu: theorbtwo++ deserves it =)

[22:57] <ingy> nothingmuch: do you munge out the L<...> links?

[22:57] <nothingmuch> theorbtwo wrote that

[22:57] <nothingmuch> but i think based on my "parsing"

[22:57] <nothingmuch> which used Regex::Common

[22:58] <nothingmuch> s/:/p:/

[22:58] <nothingmuch> delim and balanced

[22:59] <ingy> ok, must hackhack

[22:59] <ingy> bye

[22:59] <nothingmuch> ciao

[23:00] <nothingmuch> theorbtwo: how do i say _tag=>(h2|h1)?

[23:00] <theorbtwo> _tag=>qr/h[12]/

[23:01] <nothingmuch> ah

[23:02] <nothingmuch> how do i unescape pod with a snippet?

[23:03] <nothingmuch> like

[23:03] <nothingmuch> foo E<blah> C<ding> ...

[23:04] <nothingmuch> i guess into 'foo ⑩⑩ ding' *** being special char blah

[23:09] <theorbtwo> Hmm, well, as a final step, s/E<([a-z]+|[0-9A-Fx]+)>/$2?chr hex $2:$podescapes{$1}/ge;

[23:10] <nothingmuch> ook

[23:11] <theorbtwo> So for the rest... well... um... I donno?

[23:22] <theorbtwo> gaal++ # http://www.livejournal.com/users/gaal/158565.html

[23:27] <nothingmuch> that DWIM

[23:27] <nothingmuch> ok, $Pod::Parser->interpolate,

[23:31] <nothingmuch> ok, checking in new backlinker

[23:32] <elmex> gn8

[23:35] * theorbtwo waits impatidnetly.

[23:35] <nothingmuch> sorry, last minute fixes ;-)

[23:35] <nothingmuch> noticed links were not in order (reverse, since i'm doing $h->postinsert repeatedly)

[23:35] <nothingmuch> and that they have no pretty ", " between them

[23:36] <nothingmuch> .... merging conflict

[23:40] <nothingmuch> eek, difficult merge

[23:40] <nothingmuch> same fixes, different solutions

[23:40] <nothingmuch> gotta love 3 way tools

[23:45] <nothingmuch> final QA: http://nothingmuch.woobling.org/pugs_test_status/

[23:46] <nothingmuch> wait a minute, it didn't finish generating yet

[23:46] <nothingmuch> links should be bidi

[23:46] <nothingmuch> no regex skips yet

[23:46] <nothingmuch> some links are unresolved, i think they are errors in the tests

[23:46] <nothingmuch> ok, try now

[23:46] <nothingmuch> theorbtwo, you crazy goon!

[23:47] <theorbtwo> The links in tests point to tests.

[23:47] <nothingmuch> right

[23:47] <nothingmuch> that's your fault ;-)

[23:47] <theorbtwo> Haven't looked at the code yet... oh.

[23:47] <theorbtwo> That was just me not being done.

[23:48] <theorbtwo> I'm going to be on something else for a while.

[23:48] <nothingmuch> ok, one minute, i'll fix it

[23:48] <nothingmuch> then i'll commit

[23:51] <nothingmuch> eek, i hope this is the last thing

[23:57] <nothingmuch> damnit

[23:57] <nothingmuch> 	  my $synpath = catfile($output_dir, "Synopsis", "$linkfile.html");

[23:57] <nothingmuch> 	  warn "abs2rel($synpath, dirname($output_path)) -> " . abs2rel($synpath, dirname($output_path));

[23:58] <nothingmuch> abs2rel(/usr/local/src/pugs/t_index/Synopsis/S03.html, dirname(/usr/local/src/pugs/t_index/t/builtins/list/zip.html)) -> ../Synopsis/S03.html

[23:58] <nothingmuch> what the flying ****?!

