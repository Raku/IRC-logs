[00:00] <ingy> I think I had the wrong password file

[00:00] <mugwump> ingy: just sent you a patch to YAML for 5.6.1...

[00:00] <ingy> cool

[00:00] <ingy> I'll be back in a couple hours

[00:00] <ingy> then I can release it

[00:01] <ingy> mugwump: fyi the freepan jail is freebsd

[00:01] <mugwump> yar

[00:01] * mugwump & # lunch

[00:27] <stevan> autrijus: ping

[00:28] <stevan> anyone ping?

[00:28] <shapr> pong?

[00:28] <stevan> I am working on a major Test.pm refactor and I would like to discuss it 

[00:28] <stevan> shapr!!!

[00:29] <shapr> hiya stevan!

[00:29] <stevan> hows things up north 

[00:29] <shapr> Back down to freezing, I can't unicycle in just shorts now.

[00:30] <shapr> But we're getting more sun all the time.

[00:30] <stevan> ouch, it was hot here today 

[00:30] <stevan> I was building playground equip for the kids,.. I think I actually got a little sunburn :)

[00:30] <shapr> Wow, cool, I love playgrounds.

[00:31] <stevan> it was interesting,.. the directions were good up to a point

[00:31] <stevan> then they kind of stoped

[00:31] <shapr> heh :-)

[00:31] <shapr> That's when it's good to have a leatherman.

[00:31] <stevan> LOL

[00:31] <stevan> I had a large rubber mallet,.. which works just as well :)

[01:38] <stevan> I wonder if I can refactor Test::is() to use a smart-match (~~) and then get rid of Test::like(), etc?

[01:38] <stevan> Since the smart-match should handle all cases polymorphic-ly

[01:54] <Alias_> Might I suggest not?

[01:54] <Alias_> being DWIM and smart could be quite bad in a test suite

[01:55] <stevan> Alias_: however many people use is() for more than just Str types (which is what the signature is)

[01:56] <stevan> therefore relying on auto-stringification

[01:56] <Alias_> say what?

[01:57] <Alias_> So anything P5 that is( something, undef, ... ) is no longer valid?

[01:57] <stevan> the signature for 'is' is 'is (Str $got, Str $expected, Str ?$desc)'

[01:57] <stevan> Alias_: I am talking about p6

[01:59] <Alias_> stevan: And I'm talking about the implication for porting over the million lines of code that use is

[01:59] <Alias_> :)

[02:01] <stevan> Alias_: it should still be able to handle is(something, undef, ...)

[02:01] <stevan> pugs -e 'say undef ~~ undef ?? "true" :: "false"'

[02:01] <stevan> prints "true"

[02:01] <stevan> pugs -e 'say 1 ~~ undef ?? "true" :: "false"'

[02:01] <stevan> prints "false"

[03:11] <jabbot> pugs - 2189 - This is a fairly large refactor of Test.

[03:49] <Alias_> grr.... (wanting purl)

[03:49] <Alias_> autrijus?

[03:49] <Alias_> oh, not even here

[04:17] <masak> morning

[05:44] *** chady_ is now known as chady

[05:44] <mj> morning

[05:44] <autrijus> hey

[05:56] <Alias_> aha!

[05:56] <Alias_> Greetings fearless overlord

[05:56] <Alias_> A word if I may?

[05:56] <autrijus> hey Alias_.

[05:57] <Alias_> You got my forwarded email about M:Install?

[05:57] <autrijus> yes I did. I don't have 5.00504 here, and I'm not sure if include('ExtUtils::AutoInstall') (as suggested in the POD) will cure it

[05:58] <autrijus> I thought it would, but I simply had no experience with 5.00504.

[05:58] <autrijus> rindolf volunteered to investigate.

[05:58] <Alias_> neato

[05:58] <autrijus> hadn't heard from him, though

[05:58] <Alias_> I was thinking that you could actually modify what gets included, based on the perl version dependency

[05:59] <autrijus> actually if you declare a perl()

[05:59] <autrijus> err

[05:59] <autrijus> require( perl => ... )

[05:59] <Alias_> right

[05:59] <autrijus> then include_deps uses that info to calculate depdendency.

[05:59] <autrijus> as does all _deps, I think

[05:59] <autrijus> it's already there

[05:59] <autrijus> that's why we depend on Module::CoreList

[05:59] <Alias_> ok

[05:59] <Alias_> So why isn't ExtUtils::AutoInstall included now?

[06:00] <Alias_> .... (automatically)

[06:00] <autrijus> Alias_: there isn't a very good reason. patch Module::Install::AutoInstall to add a line of include('ExtUtils::AutoInstall'), remove the bootstrap block and test that for me?

[06:00] <autrijus> I'll roll a new M::I from that

[06:01] <Alias_> The second half of that was your use of /usr/bin/perl

[06:01] <Alias_> I know even less about that issue

[06:01] <autrijus> this is weird because I use $^X throughout.

[06:02] <Alias_> I know all of my tests are done as /usr/bin/perl... but the test harness should fix that right?

[06:02] <Alias_> It will run the test file with the appropriate version?

[06:02] <autrijus> 5.0050x has an old harness

[06:02] <autrijus> that doesn't fix that.

[06:02] <autrijus> even 5.00600 has that.

[06:02] <autrijus> oh and old EUMM too.

[06:03] <Alias_> So maybe if ( < 5.006 ) { load Test::Harness; replace appropriate function; }

[06:03] <autrijus> that's why in Pugs we include our own version of Harness 2.46

[06:03] <autrijus> Alias_: but I'm not sure that's the way to go. some people just remove the #! line from their tests

[06:04] <autrijus> some people don't care about #!.

[06:04] <Alias_> I need them to encorce compulsory -w

[06:04] <Alias_> enforce

[06:04] <autrijus> #!perl -w

[06:04] <autrijus> is the canonical way

[06:04] <Alias_> According to reporter, that's just as bad

[06:04] <autrijus> oh. his PATH perl is not his $^X perl.

[06:04] <Alias_> right

[06:04] <autrijus> a new set of FileSpec, EUMM and Harness would fix that long ago.

[06:04] <Alias_> He has normal perl, with a non-path 5.005 install

[06:05] <Alias_> That's how he was testing it

[06:05] <autrijus> I'm not sure if it's a great idea to include them with every M::I.

[06:05] <Alias_> I know

[06:05] <autrijus> but in any case I don't think it's fair to say it's a M::I problem :)

[06:05] <Alias_> But maybe one could do some form of selective patching

[06:05] <autrijus> if you use EU::MM it will just fail as hard.

[06:05] <Alias_> <him> "I just run Makefile.PL and expect it to work"

[06:06] <Alias_> <me> "I'm just a dumb M:I user... I follow the instuctions and expect it to work"

[06:06] <Alias_> :)

[06:06] <autrijus> ok. well, if you'd like, I can just mandate 5.6.x for M::I users ;)

[06:06] <Alias_> Still... some form of auto-patching M:I:Legacy would be handy :)

[06:06] <Alias_> hahahaha

[06:06] <autrijus> but somehow that doesn't seem right.

[06:06] <Alias_> No, that would be even worse

[06:07] <Alias_> I still take 2/3rd of my work at 5.005

[06:07] <Alias_> Maybe it's time to make the jump

[06:07] <autrijus> auto-patching is a great idea, but that means I need to setup an outofpath vanilla 5.005 to test and patch things

[06:07] <Alias_> Maybe this dude has a HOWTO for setting it up

[06:07] <autrijus> which I'm sad to report that it's not my forte. I will very happily accept patches.

[06:07] <Alias_> I've also wanted some form of pre-configured VMWare-like image for years

[06:08] <Alias_> So I can do consistent 5.005 testing

[06:08] <Alias_> "Run test, revert to start"

[06:08] <autrijus> but feel free to switch to M::B if you want 5.005 sanity. or maybe it doesn't have that sanity either, not sure

[06:08] <Alias_> It's an existing problem with the CPAN Testers system too

[06:08] <autrijus> (you can, in M::I, just rename Makefile.PL to Build.PL)

[06:08] *** Flash___ is now known as Flash_

[06:08] <Alias_> Because they install stuff, stuff is installed, and problems with missing modules don't get caught

[06:08] <autrijus> right, that is a known problem that I also don't have time to help :-/

[06:09] <Alias_> me either

[06:09] <Alias_> :)

[06:09] <autrijus> so... feel free to investigate; if you want to dump M::I for EU::MM (which may still break too), that is fine by me too, and sorry for the problems.

[06:09] <Alias_> Well... I don't WANT to :)

[06:09] <autrijus> I'm pretty sure M::B doesn't break in that regard, but it may in other regards.

[06:10] <Alias_> I like M:I, and I've already commited 90% of my work to it

[06:10] <Alias_> It would take days-weeks to switch again

[06:11] <Alias_> Doing incremental releases on 65 modules to enforce a new repository-wide policy sucks ass

[06:11] <Alias_> As you should know

[06:11] <autrijus> I know it very well.

[06:11] <Alias_> I'm actually looking at write an increment script

[06:12] <Alias_> Use PPI to hack the versions higher, add a Changes entry, and trigger my module build script for each one

[06:12] <Alias_> That, or somehow adding a backend database to the module builder :)

[06:13] <Alias_> "How to know when you have released too much shit"

[06:33] *** rob__ is now known as rob_

[06:38] <autrijus> Juerd: ping

[06:38] <autrijus> Juerd: consider these:

[06:38] <Juerd> AHHH

[06:38] <Juerd> You're scary!

[06:39] <Juerd> I *just* turned on my screen.

[06:39] <autrijus> :D

[06:39] <autrijus> my @a = 1,2,3;

[06:39] <autrijus> this obvious works

[06:39] <autrijus> my @a = (1,2,3);

[06:39] <autrijus> what about this? `=` flattens, right?

[06:39] <autrijus> so it's the same as 

[06:39] <autrijus> my @a = [1,2,3]

[06:39] <Juerd> First one is (my @a = 1), 2, 3

[06:40] <autrijus> oh. right.

[06:40] <autrijus> so, never mind

[06:40] <autrijus> my @a = (1,2,3);

[06:40] <autrijus> my @a = [1,2,3]

[06:40] <autrijus> are these two the same thing?

[06:40] <Juerd> Third one is, I hope, my @a; @a[0] = [1,2,3]

[06:40] <autrijus> what about

[06:40] <autrijus> my @a = (1,(2,3));

[06:40] <Juerd> They're the same thing according to whatever was the spec when P6Now was written, I think it's been changed back to sanity in the meantime

[06:41] <Juerd> Plural context, so list in list flattens, so 3 element list.

[06:41] <autrijus> my @a = (1,(2,(3)));

[06:41] <autrijus> even this?

[06:41] <Juerd> Yes

[06:41] <autrijus> my @a = (1,[2,[3]]); # but not this

[06:41] <Juerd> my @a = ((((("hug"))))) too.

[06:41] <Juerd> Indeed, [] is not (), and this is exactly why they must be different

[06:42] <autrijus> so, to recap

[06:42] <autrijus> (,) always flattens at plural context

[06:42] <autrijus> [,] never do

[06:42] <Juerd> comma in singular context makes () behave like []

[06:42] <autrijus> right

[06:42] <autrijus> now, consider

[06:42] <autrijus> my $x = (1);

[06:42] <Juerd> (so to speak - in reality, () only groups)

[06:42] <autrijus> my $x = (1,);

[06:42] <Juerd> my $x = 1;

[06:42] <Juerd> my $x = [1];

[06:43] <autrijus> my $x = ();

[06:43] <autrijus> what is () anyway?

[06:43] <Juerd> () is two things

[06:43] <Juerd> 1. When used in subscript-like syntax, it calls the sub on its LHS

[06:43] <autrijus> yeah, ignore that

[06:43] <autrijus> we are at term level

[06:44] <Juerd> 2. When used in any other situation, it merely groups for precedence.

[06:44] <autrijus> so it should be a syntax error?

[06:44] <autrijus> but p5 accepts it just fine.

[06:44] <autrijus> my @x = (); # and this is natural

[06:44] *** castaway_ is now known as castaway

[06:45] <autrijus> should it be considered "," with zero elements?

[06:45] <autrijus> if so, then isn't (1) inconsistent?

[06:45] <autrijus> if not, what then?

[06:45] <Juerd> I think (\s*) in scalar context is a different way to write undef.

[06:45] <autrijus> what about list context?

[06:45] <autrijus> or rather, plural context

[06:45] <autrijus> is () the same as not() ?

[06:45] <Juerd> Then it's an empty list

[06:45] <Juerd> Just like with return

[06:46] <Juerd> return;  # return wantarray ? () : undef;  # perl 5

[06:46] <Juerd> I have a problem with

[06:46] <autrijus> hrm, () is the same as not(). 

[06:46] <Juerd> my @foo = [ 1, 2 ]

[06:46] <Juerd> versus

[06:46] <Juerd> my @foo = ([1, 2])

[06:46] <Juerd> Should be different for feeling, but are the same, and that really doesn't please me

[06:47] <autrijus> I think it's a mess ;)

[06:47] <autrijus> so why can't we say that (1) is always the same as (1,) ?

[06:47] <autrijus> since () means (,)

[06:47] <Juerd> Because that screws (1 + 2) * 3 into $aref * 3, which makes little sense

[06:48] <autrijus> aha.

[06:48] <castaway> morning folks

[06:48] <Juerd> Hi

[06:48] <autrijus> Juerd: so, three classes of things

[06:48] * Juerd breakfast, shower, to_office

[06:48] <Juerd> ttyl

[06:48] <autrijus> ttyl

[06:49] <nothingmuch> ingy++

[06:49] * castaway is already in_office :)

[06:49] <ingy> hola

[06:50] <ingy> is there a way to toggle between to windows in irssi?

[06:50] <bsb> Hi.  "GHC=ghc-6.5 perl Makefile.PL" gives me a ghc-pkg usage message

[06:50] <bsb> Should inc/Module/Install/Pugs.pm line 178 have an $ENV{GHC} option like line 147?

[06:50] <bsb> fixed it for me

[06:51] <Juerd> ingy: meta+digit

[06:51] * Juerd is skipping the office thing to get more time for fun

[06:51] <castaway> sure, ingy..

[06:52] <castaway> alt-# gets you the # window, for eg

[06:52] <castaway> C-p and C-n are previous/next

[06:52] * Juerd never understood minus-notation for key presses. It's like "press alt, then release #"

[06:53] <autrijus> Juerd: are [1], [1,] always the same?

[06:54] <Juerd> Yes

[06:54] <autrijus> and is

[06:54] <autrijus> [term] and [(term)] always the same?

[06:54] <Juerd> Yes

[06:54] <Juerd> [] provides plural context

[06:54] <autrijus> I see.

[06:54] <autrijus> so although they may parse differently

[06:54] <Juerd> In which comma, arrays and function calls all flatten

[06:54] <autrijus> the end result is always the same

[06:54] <Juerd> Note: arrays, not arrayREFs

[06:55] <autrijus> sure

[06:55] <ingy> so no way to toggle between window 6 and window 66?

[06:55] <autrijus> so it's like [term] is really \(scalar (*term))

[06:55] <Juerd> I'm not sure.

[06:55] <Juerd> I don't understand or see the use for rvalue *.

[06:56] <autrijus> it provides the plural context, no?

[06:56] <autrijus> or is it the "list" marker?

[06:56] <Juerd> I don't know

[06:56] <autrijus> eh...

[06:56] <Juerd> But providing plural context would make it an alias for "list"

[06:56] <autrijus> print(*@_);

[06:56] <autrijus> print(*@foo);

[06:56] <Juerd> Which at some point we decided it was not

[06:56] <autrijus> print(list @foo);

[06:56] <Juerd> print already has a *@slurpy signature

[06:56] <autrijus> right. assume it doesn't

[06:57] <Juerd> So the caller doesn't have to force context

[06:57] <Juerd> Oh, right, that was it, * spreads over parameters

[06:57] <autrijus> assume it just take an nonslurpy array

[06:57] <Juerd> Assuming they're all slurpy.

[06:57] <Juerd> i.e. substr(*@param)

[06:57] <autrijus> is "slurpy" the same concept as "plural context" ?

[06:57] <Juerd> No

[06:57] <autrijus> and somehow `substr(list @param)` won't work?

[06:57] <castaway> ingy: umm, Id have to look in the manual.. sec :)

[06:57] <Juerd> Slurpy provides that context, but it is the thing that deals with arguments

[06:58] <Juerd> autrijus: Indeed, because list @param would still be in singular context, returning an arrayref

[06:58] <Juerd> autrijus: Which makes list a very inefficient noop

[06:58] <Juerd> autrijus: list @param in singular context, I expect, is the same, semantically, as [ @param ]

[06:59] <autrijus> [1,,,3]

[06:59] <autrijus> is it the same as [1,3] ?

[06:59] <Juerd> There was some discussion about repeated commas, I'm not sure about the outcome

[06:59] <autrijus> (it is in p5. I assume p6 isn't going to change that)

[07:00] <autrijus> so, let me write a lot of tests... ;)

[07:01] <autrijus> Juerd: so essentially the runtime context has two different bits

[07:01] <autrijus> one is envContext, which is either CxtNull, CxtOne, or CxtMany

[07:01] <autrijus> one is envType, which is a Type

[07:02] <autrijus> the Type is entirely ignored in CxtNull

[07:02] <autrijus> and serves as the member type for CxtMany

[07:03] <autrijus> only I'm not sure about the name anymore... I think I'll keep saying CxtVoid, CxtScalar and CxtList

[07:03] <autrijus> but it is indeed maximally confusing.

[07:03] <autrijus> we have a scalar container class, a scalar value type, and a scalar context.

[07:03] <Juerd> autrijus: Yes

[07:03] <autrijus> IScalar, VScalar and CxtScalar

[07:03] <autrijus> in pugs internals

[07:03] <autrijus> not sure I like it

[07:04] <Juerd> And to top things, a scalar value can be both numeric and stringy at the same time.

[07:04] <autrijus> isn't p6 supposed to clarify things?

[07:04] <Juerd> (In Perl 5 -- I assume it'll stay)

[07:04] <autrijus> this is clear as deep ink

[07:04] <Juerd> autrijus: Yes.

[07:05] <castaway> ah, ingy: You will need to bind a key to "/window last" which seems to do what you mean

[07:05] <Juerd> I think that the Perl 5 concept of lists and arrays works better.

[07:05] <castaway> The startup-HOWTO.html of irssi describes vaguely how to do this

[07:05] <castaway> (there may already be a key, but you'd need to RTFS.. the docs are lousy)

[07:06] <Juerd> /bind lists all key bindings

[07:06] <Juerd> And lets you set new ones

[07:07] <castaway> now you tell us :)

[07:07] <autrijus> yay, time to rewrite all evaluator code again.

[07:08] <Juerd> castaway: This has been my public opinion all the time :)

[07:08] <Juerd> Lists as some kind of array, or the other way around, just doesn't work well imo

[07:08] <castaway> sorry, Juerd?

[07:08] <castaway> (hm,m I dont see one for last_window or some such)

[07:08] <Juerd> Oh, thought the "now you tell us" was about lists

[07:09] * nothingmuch finally goes to work

[07:09] <castaway> no, that was about /bind :)

[07:09] <Juerd> autrijus: I must tell you that with the current specs, I can't be sure that what I'm saying is actually correct

[07:09] <castaway> (someone should finish the irssi docs, and no, Im not volunteering ,)

[07:10] <Juerd> Are you vo... oh.

[07:10] <castaway> folks, although p6 is supposed to clarify some things, its also supposed to (IIRC) not be terribly hard to port to from p5..

[07:10] <autrijus> Juerd: I think the only way to win is to codify this as operational semantics instead of vague synopsis chapters.

[07:10] <Juerd> The thing is that everyone says irssi's docs need finishing

[07:10] <castaway> well that would make it true, Juerd 

[07:10] <mauke> castaway: /bind meta-s /window last

[07:10] <Juerd> While at the same time, millions of people just happen to know how things work in it :)

[07:11] * castaway redirects maukes advice to ingy

[07:11] <Juerd> Partly by guessing, partly because of common IRC client sense, partly because the thing itself lets you ask someone else

[07:11] <castaway> (while making note of it herself)

[07:11] <castaway> is meta-l used?

[07:11] <Juerd> If it's not listed in /bind, it's not used.

[07:11] <castaway> ask someone else?

[07:12] <Juerd> And if it's listed, you can unbind it if you want it for something else.

[07:12] <Juerd> castaway: Someone else, as in not yourself

[07:12] <autrijus> Juerd: so, Type and Cxt are two things

[07:12] <castaway> oh, you mean because its a chat client, I see

[07:12] <Juerd> As you yourself, if you need to ask the question, probably don't know the answer.

[07:12] <autrijus> Juerd: the user can freely add things to the Type enumeration by using `subtype` or `class` or whatever

[07:12] <autrijus> Juerd: can user somehow add things to the Cxt enumeration?

[07:13] <castaway> werent you off to the office, or has that already happened?

[07:13] <autrijus> or is Cxt fixed?

[07:13] <Juerd> 08:53  * Juerd is skipping the office thing to get more time for fun

[07:13] <castaway> oops, missed that bit

[07:13] <castaway> lucky bugger .)

[07:13] <Juerd> autrijus: I expect it's rather fixed

[07:13] <Juerd> castaway: Not really, but that's a different story

[07:14] <Juerd> autrijus: Especially since context is a compile time thing

[07:14] <castaway> (yay, meta-l now works :)

[07:14] <autrijus> Juerd: as you well know, user code can run at compile time ;)

[07:14] * castaway reluctantly looks at actual work.

[07:14] <Juerd> autrijus: No, it can run during one of the many runtimes only :)

[07:15] <autrijus> Juerd: heh ;)

[07:15] <autrijus> ok, "inbetween" compile time

[07:15] <Juerd> autrijus: One of which is often called compile time, but it really is a runtime that is inserted during compile time, and before that code runs it has its own compile time anyway :)

[07:15] <Juerd> That'd be the short description :)

[07:15] <autrijus> Juerd: basically I'm exposing the compiler to user space as we speak

[07:16] <Juerd> But context happens much and happens everywhere

[07:16] <Juerd> Making it flexible means giving up a big bunch of speed and possible optimization

[07:16] <autrijus> oh btw, can you write to %::OUTER ?

[07:16] <autrijus> and %::MY for that matter

[07:16] <autrijus> by write I mean delete

[07:16] <autrijus> or tie

[07:16] <autrijus> and I mean %OUTER:: and %MY::.

[07:17] <Juerd> autrijus: I think the elements are usable as normal variables, but the hash itself is readonly

[07:17] <Juerd> autrijus: And %::MY oughta do the same as %MY:: :)

[07:17] <autrijus> ok :)

[07:17] <autrijus> because if you can delete things fro mit

[07:17] <autrijus> in a BEGIN block

[07:18] <Juerd> In fact, I think postfix :: is weird now that we have a :: sigil

[07:18] <autrijus> that can have very interesting consequences.

[07:18] <Juerd> And with a :: sigil, why is the % still needed? The % tricks us into believing it can be used as a real hash...

[07:18] <autrijus> sometimes I think regularity isn't a bad idea after all.

[07:19] <Juerd> I'd second any vote for ::OUTER<_>, but I guess this is taking things too far for many people

[07:19] <Juerd> autrijus: I think that if you delete from it in a BEGIN block, Perl'd have to start forking or threading to try and interpret it correctly :)

[07:19] <autrijus> oh btw. the .isa Type tree is a Graph not a Tree right?

[07:20] <autrijus> an acyclic one, because we have multiple inheritance 

[07:20] <Juerd> I know neither of Tree and Graph

[07:20] <autrijus> but we don't allow cyclic inheritance?

[07:20] <autrijus> Juerd: class Foo is Bar is Baz

[07:20] <autrijus> class Bar is Foo is Baz

[07:21] <mauke> class Loop is Loop

[07:21] <Juerd> In the second declaration's context, Foo may be a lexical class that is different from the global Foo

[07:22] <Juerd> mauke: Same story - Loop may be a previously declared class that the class Loop is Loop declaration is masking (with a warning, unless you use "ok" or whatever ok is spelled now)

[07:22] <autrijus> Juerd: ok... see mauke's

[07:22] <autrijus> whoa, masking

[07:22] <autrijus> that's something missing in ase12 :)

[07:22] <mauke> perl -wle '@ISA = "main"; main->x'

[07:22] <Juerd> It can't mask if it's global class Loop

[07:22] <Juerd> But with my class Loop is Loop, it can

[07:22] <autrijus> ok. what happens when it is a global class?

[07:23] <Juerd> Hm, no, mauke's statement can't mask

[07:23] <ingy> thanks mauke 

[07:23] <autrijus> do we throw out fatal error?

[07:23] <Juerd> autrijus: I think that's the most sane way to handle it

[07:23] <autrijus> ok. thanks, acyclic directed graph it is then.

[07:23] * autrijus switches alrogithm simply by changing a `data` statement

[07:23] <Juerd> Although trying to resolve unknown methods into infinity would be a more appropriate punishment for the programmer who wrote it.

[07:24] <autrijus> Juerd: and there's the problem of mutuallly recursive modules

[07:24] <mauke> I like interesting non-terminating programs; loops in the method resolver would be cool

[07:24] <Juerd> autrijus: Hm, those should work, though

[07:25] <Juerd> class Foo is Bar { method foo { ... } }

[07:25] <Juerd> class Bar is Foo { method bar { ... } }

[07:25] <Juerd> Foo->bar should call Bar::bar, Bar->foo should call Foo::foo

[07:25] <Juerd> Yikes.

[07:25] <mauke> and what about Foo->huhu?

[07:25] <Juerd> mauke: That can either fail or take forever.

[07:26] <Juerd> mauke: There's no concensus about that among my brain cells

[07:26] <mauke> .oO(the interpreter should detect it and simulate an infinite loop with sleep())

[07:26] <Juerd> But that doesn't quite use enough memory to get the machine into a swapping halt, mauke

[07:27] <mauke> oh, is that the ultimate goal of perl 6?

[07:27] <Juerd> Nor would it increase the machine's load, keeping other processes from doing their jobs fast.

[07:27] <Juerd> mauke: One of many.

[07:29] <Juerd> afk

[07:29] <Juerd> (wrists hurt already - not a good sign)

[07:39] <nothingmuch> morning

[07:40] <gaal> heya nm

[07:41] <nothingmuch> what's up?

[07:41] <castaway> rehi nm

[07:41] <jabbot> pugs - 2190 - Leftover from renaming. (p5 embedded sti

[07:41] <Juerd> It took me half a minute to realise that nm stands for nothingmuch

[07:41] <nothingmuch> hola castaway 

[07:41] <gaal> what does rehi mean?

[07:41] * Juerd knows it as never mind

[07:41] <Juerd> gaal: re, hi

[07:41] <Juerd> gaal: re is back

[07:41] <Juerd> or again

[07:41] <Juerd> or return

[07:41] <gaal> ACK :)

[07:42] <Juerd> or back again because of the return, or any other combination you think is nice

[07:42] <castaway> sorry, picked up in Muds and never really lost it again :)

[07:42] <castaway> it just means "hi again"

[07:42] <Juerd> Yep

[07:42] <gaal> i want to work on p6 smokes today. # if you can't backport, pugsport.

[07:42] <Juerd> Or, I'm back and say hi.

[07:43] <Juerd> "re" by itself just means I'm back

[07:43] <Juerd> Example:

[07:43] <Juerd> afk  # toilet

[07:43] * gaal get the idea

[07:43] <gaal> ^t^ts

[07:44] <Juerd> re!

[07:45] <Juerd> Now I go watch 24s04e18

[08:05] <autrijus> hey Juerd.

[08:05] <Juerd> Me?

[08:05] <nothingmuch> autrijus: want to try the spork fudgery?

[08:05] <autrijus> sub foo (@x)

[08:05] <autrijus> this means

[08:05] <autrijus> sub foo (Array @x)

[08:05] <autrijus> right?

[08:06] <autrijus> not

[08:06] <autrijus> sub foo (List @x)

[08:06] <Juerd> Yes. I'm even willing to think

[08:06] <Juerd> sub foo (Array $x) { my @x := @$x; ... }

[08:06] <autrijus> so, am I correct in thinking that

[08:06] <autrijus> sub foo (*@x)     imposes Plural context

[08:06] <autrijus> sub foo (@x)     imposes Singular context

[08:06] <autrijus> when I call

[08:06] <Juerd> Yes

[08:06] <autrijus> foo(blah())

[08:06] <autrijus> good.

[08:07] <autrijus> that means isSlurpy is really a disguise of CxtList

[08:07] <autrijus> and I can unify them.

[08:09] * autrijus continues to rip everything apart

[08:09] <Juerd> I'm so sorry, autrijus :)

[08:09] <autrijus> np :)

[08:09] <autrijus> data Cxt = CxtVoid | CxtScalar Type | CxtList Type deriving (Eq, Show, Ord)

[08:09] <autrijus> this is really the gist of all

[08:09] <autrijus> I'm just fixing all the type errors :)

[08:09] <gaal> do we have open|  in pugs? (to a pipe)

[08:10] <autrijus> gaal: no. want to hack?

[08:10] <autrijus> gaal: you can use System.Command iirc.

[08:10] * Juerd wants open :pipe :r

[08:10] <Juerd> And

[08:10] <gaal> yes. i need it to take over the world^W^W^W^Wport test::harness.

[08:10] <Juerd> open :pipe :w

[08:10] <Juerd> And even open :pipe :rw

[08:10] <autrijus> mmm hierarchical types. how are they handled?

[08:10] <Juerd> autrijus: does suffices

[08:11] <autrijus> ok. so they are in that "Other" chain

[08:11] <Juerd> Do you by chance understand esperanto? :)

[08:11] <autrijus> not the .isa chain, but the .does chain

[08:11] <autrijus> no :)

[08:11] <Juerd> The does chain is more important than the isa chain

[08:11] <Juerd> does.isa(isa) :)

[08:12] <Juerd> It's like meat. You don't care if the thing you're eating is actually meat, as long as it tastes and looks like meat :)

[08:13] <nothingmuch> unless you're some kind of hippy

[08:14] <gaal> nm: I want to port Test::Harness to p6 (and eventually our TAP stuff). Start thinking of things that can get changed :)

[08:14] <nothingmuch> IMHO Test::Harness should be modeled around the SAX mindset

[08:15] <nothingmuch> at the basic level it knows how to take lines, and generate events for them

[08:15] <nothingmuch> and it has smarter methods for:

[08:15] <nothingmuch> filehandles

[08:15] <nothingmuch> commands to open pipe from

[08:15] <nothingmuch> append string, etc

[08:15] <nothingmuch> the events represent state, sort of:

[08:16] <nothingmuch> tap started ... got_plan ... case($num, $ok, $desc)... ..tap end

[08:16] <gaal> it should certainly use its own Straps for make test-like output

[08:16] <nothingmuch> on top of this raw layer I think you should have a by default verifying layer

[08:17] <nothingmuch> that is Test::Harness::SAX should verify by default

[08:17] <nothingmuch> and Test::Harness::SAX::Raw should just generate events for what it sees

[08:17] <nothingmuch> the 'default' interface maintains a simple state which you can use to construct your objects

[08:17] <nothingmuch> or you can get events for errors and illogical output

[08:18] <nothingmuch> the default harness will implement the reporting that Test::Harness does today

[08:18] <nothingmuch> but it shouldn't be called Test::Harness, it should be called Test::Harness::TTY or something like that

[08:18] <nothingmuch> and Test::Harness should be more like CPAN

[08:18] <nothingmuch> CPANPLUS

[08:18] <nothingmuch> it lets you choose what frontend you prefer

[08:18] <nothingmuch> and does the right thing when it needs to find a frontend that works

[08:19] <nothingmuch> that's the best I can come up with

[08:20] <gaal> autrijus: do you remember where 'span' in op1 "open" comes from?

[08:21] <autrijus> gaal: it's Data.List

[08:21] <gaal> thanks. shall i hack p5-like syntax now and do the adverb stuff later? i don't know if it's hard or not.

[08:21] <autrijus> just hack p5like now I think

[08:23] <gaal> k

[08:25] <gaal> oh dear this is a hack :)

[08:25] <nothingmuch> wow! the flight plus everything is only about $900

[08:25] <gaal> but then again p5's open is a hell of a hack :)

[08:26] <castaway> lucky, nm :(

[08:26] <nothingmuch> it's through budapest though

[08:27] <nothingmuch> but who cares, i have more time than money

[08:27] <nothingmuch> how is your search coming along?

[08:27] <gaal> budapest is supposed to be beautiful, if ytou have a long connection you might enjoy it

[08:27] <nothingmuch> perhaps

[08:27] <nothingmuch> my bass teacher will be proud

[08:29] <nothingmuch> now to arrange for accomodations

[08:29] <nothingmuch> (also free! wooo!)

[08:29] <Juerd> gaal: Isn't sub open(Str $fn, Bool +$pipe, Bool +$r, Bool +$w, Bool +$rw) { $r = $w = $rw if defined $rw; ... } a good solution for now?

[08:30] <nothingmuch> err, s/also/it's/; # makes more sense?

[08:30] <nothingmuch> Juerd++

[08:30] <Juerd> $r = 1 if not defined $r and not defined $w

[08:30] <nothingmuch> maybe we want to define Mode is Pair { }

[08:31] <Juerd> Pair $mode?

[08:31] <nothingmuch> not really

[08:31] <Juerd> As in :mode<r>?

[08:31] <nothingmuch> :r

[08:31] <Juerd> That's a good idea.

[08:31] <nothingmuch> no, it's a pair whose keys have to be qw/r rw w)

[08:31] <Juerd> Why that?

[08:31] <Juerd> We have named arguments for this purpose...

[08:32] <nothingmuch> this is named arguments

[08:32] <Juerd> :rw equals rw => 1

[08:32] <nothingmuch> i know

[08:32] <nothingmuch> one second, i'll exemplify:

[08:32] <Juerd> And :r and :w should be combineable

[08:32] <Juerd> :rw is just a shortcut

[08:32] <Juerd> As :gi is for :global :insensitive

[08:33] <nothingmuch> open(Str $fn, Mode +$mode = :r){ my ($read, $write) = -> (Bool +$pipe, Bool +$r, Bool +$w, Bool +){ ... } }

[08:33] <gaal> autrijus: i couldn't find System.Command; but System.Process.runInteractiveProcess looks promising, no?

[08:33] <nothingmuch> this just simplifies the top level prototype

[08:33] <nothingmuch> Mode is more of a subtype of Pair

[08:33] <nothingmuch> where the key is constrained

[08:33] <nothingmuch> and the value is a bool

[08:34] <nothingmuch> maybe i'm going too far

[08:34] <Juerd> nothingmuch: Simplifies, but adds a dependency and disables open $fn :r syntax

[08:34] <Juerd> Because + is for named arguments

[08:34] <Juerd> And we don't want positional optional arguments, do we?

[08:35] <Juerd> 'Cause we want a *@args instead, so we can open "cat", "/etc/passwd" :pipe

[08:35] <nothingmuch> good point

[08:35] * nothingmuch likes perl6 mental masturbation

[08:35] <Juerd> What's mental masturbation?

[08:35] <Juerd> Do I even want to know?

[08:35] <nothingmuch> it's a thought process that is fun, but has no practical yield

[08:36] <Juerd> Physical masturbation has practical yield.

[08:36] <nothingmuch> appearantly c2 has an entry for that too: http://c2.com/cgi/wiki?MentalMasturbation

[08:36] <autrijus> gaal: yeah, that's that, I misremembered

[08:36] <Juerd> Bleh, have to fix things in a elementary school's computer network now

[08:37] <nothingmuch> Juerd: don't teach the little kids about the practical yields of masturbation

[08:37] <nothingmuch> you won't get hired again

[08:37] * gaal notes that the current implementation of open is broken anyway because you can't open a file named ">".

[08:37] <Juerd> That sucks. All those whining kids asking you if you can install "emmessen".

[08:37] <gaal> also, "-" is missing

[08:37] <nothingmuch> what's emmessen?

[08:38] <mauke> msn?

[08:38] * gaal would certainly like open("-") to keep working

[08:38] <Juerd> MSN Messenger, apparently.

[08:38] <Juerd> gaal: Why not just use $*IN?

[08:38] <Juerd> afk :(

[08:38] <gaal> Juerd: my $filename = shift || "-"; open $filename...

[08:39] <Juerd> gaal: my $filename = shift || $*IN

[08:39] <Juerd> And make open a noop for already open fhs? 

[08:39] <gaal> but then the guy getting the fn has to be the guy opening the fh

[08:39] <Juerd> That makes all library code accepting a filename also accept open handles

[08:39] <Juerd> Which is a big win.

[08:40] <Juerd> afk

[08:40] <gaal> but then you can't have the opening code validating a filename :) or at least if you want it too, it has to check the ref first.

[08:43] <autrijus> Juerd: I found CxtScalar still too confusing :-/

[08:43] * autrijus ponders CxtSingular CxtPlural

[08:43] <autrijus> CxtUnit CxtSlurpy

[08:44] <gaal> (btw, did perl5 embeddeg ever work? i tried it today the first time and it didn't build for me)

[08:44] <autrijus> gaal: it workedforme but it may have bitrotten

[08:44] <autrijus> CxtVoid CxtItem CxtSlurpy

[08:44] <gaal> "embeddeg". sheesh! :)

[08:45] <autrijus> I think I'll use that set for now.

[08:48] <nothingmuch> is mugwump in a ~us time zone?

[08:51] <autrijus> I think he's based in nz

[08:52] <nothingmuch> so he should be up sometime soon?

[08:52] <castaway> gaal, what happens with open($fh, ">", ">") then ?

[08:53] <castaway> its late night for him, he should be going to bed

[08:53] <nothingmuch> oh right, got it the wrong way around

[08:53] <gaal> castaway, open is op1 right now

[08:53] <gaal> simply a bug

[08:53] <castaway> oh, the pugs version, i thought you meant perl5

[08:54] <gaal> hey, are the ":x" things simply syntactic sugar for "x = 1"?

[08:54] * castaway has no idea what op1 is :)

[08:54] <gaal> castaway, a builtin taking one arg

[08:55] <castaway> ah

[08:55] <gaal> also, how do i handle named params in Prim?

[08:55] <gaal> ...can i?

[08:56] <gaal> because i also want to do open "file|", i'm torn about whether to hack in more parsing or do it properly

[09:11] <gaal> bah! t/builtins/io/io_redirect_to_scalar.t has something completely diffferent. i think i'll work arounf the language issue for now and just hack in an explicit pipe-open prim for now :(

[09:20] * nothingmuch can't marry Kwiki::VimMode with Spork::S5 for some reason

[09:27] <gaal> hmm. i know how to do interactive open in haskell (ghci++), but i can't figure out how to represent the tuple (stdin, stdout, stderr, pid) in Perl; specifically, how to hide them all behind a single handle and make it DWIM.

[09:28] <gaal> even supposing i use the tied interface to hide in and out, that leaves two things :)

[09:29] <gaal> so i'm wondering whether open() can handle it all.

[09:29] <autrijus> you can make a new IHandle instance that hides both.

[09:29] <autrijus> and later add methods

[09:29] <nothingmuch> gaal: perhaps an object abstracting not so much a handle but a process is in order?

[09:30] <gaal> i can impose a limitation on the user to call me either as open fn| or open |fh, but that seems silly if the underlying system suppotys something like open3

[09:30] <nothingmuch> like an IPC::Run handle

[09:30] <nothingmuch> open3 is dangerous, thoug

[09:31] <nothingmuch> most users aren't experienced enough to use it reliablyy

[09:31] <gaal> nothingmuch, i don't know what haskell does, but it does give you that tuple.

[09:31] <autrijus> yay, I've done rewriting everything.

[09:32] <autrijus> now the obvious question is, do I commit it ;)

[09:32] <nothingmuch> pjcj: ping

[09:32] <gaal> autrijus, does it break tests? :)

[09:32] <nothingmuch> what is everything?

[09:32] <autrijus> gaal: sure, it breaks 100% of it

[09:32] <nothingmuch> and the answer is: yes

[09:33] <nothingmuch> it can always be undone if it's a bad choice

[09:33] <autrijus> nothingmuch: Cxt and Type was both alias to String

[09:33] <autrijus> nothingmuch: now they are distinct and very different data structures.

[09:33] <autrijus> this is per last night's revelation from larry and juerd

[09:33] * nothingmuch is sort of up to date

[09:34] <nothingmuch> and all the code that looks too deep inside exprs to see the Cxt is screwed?

[09:38] <autrijus> nah. I think hangman and mandel has to run first ;)

[09:38] <autrijus> wow, another 1200 lines of patch.

[09:38] <autrijus> # http://autrijus.org/tmp/cxtType.patch

[09:40] *** hcchien_ is now known as hcchien

[09:45] <autrijus> nothingmuch: everything is screwed.

[09:45] <autrijus> dinner &

[09:45] <nothingmuch> heh

[09:45] <nothingmuch> bon apetite

[09:46] <autrijus> pugs> ~want()

[09:46] <autrijus> 'Scalar (Str)'

[09:46] <autrijus> pugs> *want()

[09:46] <autrijus> ('List (Any)')

[09:46] <autrijus> etc.

[09:46] <autrijus> Cxt is now two-part: Void/Slurpy/Item (stringifies as Void/List/Scalar) and a Type

[09:46] <autrijus> really &

[09:47] <pjcj> nothingmuch: pong

[09:47] <nothingmuch> pjcj: i am using Devel::Cover to try to gcov and do windows coverage too

[09:47] <nothingmuch> i have a DB where i keep coverage per test line per file

[09:47] <nothingmuch> now, the tools are veeerrrry buggy

[09:48] <nothingmuch> and I'd like to try to see why they're so screwed up

[09:48] <nothingmuch> so i would like a display per file:

[09:48] <nothingmuch> <win> <linux> <line>

[09:48] <nothingmuch> basically, coverage is split up

[09:48] <nothingmuch> and unless both are covered, the line is concisered uncovered

[09:48] <nothingmuch> or something like that

[09:49] <nothingmuch> will it be easy to use your HTML code to do this? or should i not bother at all?

[09:49] <pjcj> have you seen gcov2perl?

[09:50] <nothingmuch> yeah i have

[09:50] <nothingmuch> my gcov is an older version

[09:50] <nothingmuch> and i am processing the gcovs anyway

[09:50] <nothingmuch> so i based on it

[09:50] <nothingmuch> but made it more of an sqlite2perl

[09:50] <nothingmuch> since usually we're interested in all the tests, we want sum(line_coverage)

[09:50] <nothingmuch> but sometimes we want just a few tests

[09:50] <nothingmuch> so we say where test.name = "foo";

[09:51] <pjcj> It sounds like something the backends should be able to cope with.

[09:51] <nothingmuch> they do cope with it

[09:51] <nothingmuch> but it's slow

[09:51] <nothingmuch> i used to generate a Devel::Cover run per gcov

[09:51] <nothingmuch> but since i have 700*1500 gvocs, one per file, per run

[09:52] <nothingmuch> it started being slow

[09:52] <nothingmuch> and the data is in the DB anyway, since we're using it to generate pretty excels

[09:52] <nothingmuch> so basically it makes the 700 behave more like 1

[09:52] <nothingmuch> and i don't have to ruin the way gcov2perl parses gcovs

[09:52] <nothingmuch> but anyway, back to the comparison:

[09:52] <nothingmuch> is it easy to make two distinct 'stmt' coverages per file?

[09:53] <pjcj> yes, the cover db merging is slow since it has to read the storable db, convert to perl data structures, merge and write

[09:53] <pjcj> that's not possible right now, but I have annotations mostly done, which sounds like the solution here

[09:53] <nothingmuch> okay

[09:53] <nothingmuch> so i'll hack something with HTML::TreeBuilder for now

[09:53] <pjcj> the only problem is that the html backend doesn't display them

[09:53] <nothingmuch> hehe

[09:54] * nothingmuch has no time to help with that, sorry

[09:54] <pjcj> the text backend does, but it's not so pretty ;-)

[09:55] <nothingmuch> well, it shouldn't be too hard to make a pretty HTML

[09:55] <nothingmuch> i can even color the lines themselves

[09:55] <nothingmuch> since i really want a diff:

[09:55] <nothingmuch> code that is executable on both platforms should hardly ever differ in it's covering

[09:55] <nothingmuch> and code that differs in executability should also be noted

[09:55] <nothingmuch> even though there's lots of ifdefs there

[09:56] <nothingmuch> anyway, thanks so much for the really flexible tool you wrote, it's been very useful so far =)

[09:56] <machack666> hola, texters

[09:56] <pjcj> the groundwork for doing all this sort of thing are in place - runs are stored separately so you can see what each run covered, but I don't have the backend tools yet to use that info.

[10:23] *** sekimura is now known as sekimura_off

[10:26] <NathanJY> WTF

[10:26] <NathanJY> someone wrote perl 6 in haskell?!

[10:27] <integral> more like "WTF?  someone wrote perl5 in C?!"

[10:29] <NathanJY> no, not reall

[10:29] <NathanJY> only if you're a crack smoking academic pinhead

[10:29] <NathanJY> no one uses haskell

[10:29] <rgs> sure one does

[10:29] <NathanJY> 0.001% of prgorammers counts as no one

[10:30] <b6s> just /ignore

[10:30] <NathanJY> I'm surprised people still think lisp and its variants have any real use

[10:31] <NathanJY> there's a reason no one uses them outside of academia...

[10:31] <nothingmuch> NathanJY: blah blah blah

[10:31] <nothingmuch> the facts are: pugs works

[10:32] <nothingmuch> and it got here fast

[10:32] <shapr> NathanJY: yeah, write some code or shaddup

[10:32] <nothingmuch> if you don't like it, go write perl 6 in c

[10:32] <nothingmuch> no one is going to listen to you if you don't back it up with code

[10:32] <shapr> talk is cheap, code is content.

[10:32] <cognominal> NathanJY:  yea and because it is academia, there is a lot of good stuff to steal there and make it useful by many programmers

[10:33] <shapr> In my home state of Alabama they say "put yo money where yo mouth is"

[10:33] <NathanJY> yeah and they just rewrite it in another language

[10:33] <shapr> Then do it.

[10:33] <NathanJY> "it works" is not a valid defense

[10:33] <integral> using monads in Perl is a right pain :-)

[10:33] <NathanJY> that's not my job

[10:33] <NathanJY> "These days, though, it's becoming more and more common to not have C but instead to have some kind of virtual machine (JVM, .NET, etc.).  So we'd like to have our own virtual machine that will run wherever there's C, but also to make it easy to port the bytecode to another virtual machine for places without C."

[10:33] <nothingmuch> NathanJY: it shouldn't work is not a valid attack

[10:33] <NathanJY> I never said it shouldn't work

[10:33] <kungfuftr> NathanJY: go work on parrot then, so perl6 can run on perl6

[10:34] <NathanJY> you could write perl6 in brainfuck, doesn't mean it's a good idea

[10:34] <shapr> It's not your job to complain about code other people wrote either, but you're here.

[10:34] <NathanJY> WTF is larry wall smkoing?!

[10:34] <NathanJY> since when do systems have a VM, but not C?

[10:34] <nothingmuch> it's eating

[10:34] <cognominal> You don't understand what bootstrapping a compiler means

[10:34] <nothingmuch> and the what is blue sugar cubes

[10:34] <nothingmuch> cell phones?

[10:34] <NathanJY> of course I do

[10:34] * shapr smokes a cell phone

[10:35] <b6s> please just /ignore him.

[10:35] <NathanJY> It's like larry wall is deliberately avoiding the norm for the sake of avoiding the norm

[10:35] <rgs> mmm, nokias.

[10:35] <nothingmuch> NathanJY: let me put it this you. What are you planning on gaining from coming here and bashing us for using haskell?

[10:35] <cognominal> NathanJY: you should use flintstones, that's proven technology used for thousand of centuries

[10:36] <NathanJY> I didn't even know perl6 was being rewritten in hasekll until now

[10:36] <NathanJY> I'm shocked

[10:36] <nothingmuch> if it's an implementation of perl6 in c, you won't get it

[10:36] <nothingmuch> if it's respect, you won't get it either

[10:36] <nothingmuch> if you would like to help, you can help

[10:36] <nothingmuch> but please don't harass for the sake of harassing

[10:36] <shapr> yeah, write code!

[10:36] <NathanJY> even more shocked about this BS saying that they want to target systems with VMs that don't have C

[10:36] <nothingmuch> you can write tests in perl 6

[10:36] <pjcj> I think NathanJY may well be our first real troll.  I wonder if there is a prize for this.

[10:36] <nothingmuch> cell phones usually don't have compilers

[10:36] <NathanJY> Geez, can't I offer a dissenting opinion without being called a troll?

[10:36] <nothingmuch> but many of them have jvm

[10:37] <nothingmuch> you're not offerring an opinion

[10:37] <NathanJY> Stop being such zealots and open your minds to the idea that hey--maybe using haskell is a bad idea

[10:37] <nothingmuch> your imposing a complaint

[10:37] <integral> NathanJY: what's the use of a dissenting opinion though?    We've got code, and it works.

[10:37] <shapr> NathanJY: open your mind and see that it might be a great idea.

[10:37] <nothingmuch> NathanJY: what does it matter?

[10:37] <cognominal> NathanJY: do you only understand the purposes of VMs?

[10:37] <NathanJY> cell phones? is that the best you can come up with?  What about the numerous other platforms where C is available, but VMs arent'?

[10:37] <shapr> NathanJY: You're just trying to distract us from writing code?

[10:38] <nothingmuch> NathanJY: if C is available then parrot is too

[10:38] * shapr checks the latest smoke test.

[10:38] <shapr> Oh, I have a coupla free hours, what the next thing a lambafolk can do?

[10:38] <nothingmuch> NathanJY: what do you want? please don't complain, but ask and maybe ye shall receive

[10:38] <NathanJY> integral:  That's totally illogical.  I could write a working perl6 implementation in brainfuck, but does that mean it would be good?

[10:38] <nothingmuch> if you want it to run on parrot, it already does

[10:38] <NathanJY> integral: You're extremely close minded

[10:38] <rgs> NathanJY: please go read a book about bootstrapping and come back when you'll have understood.

[10:38] <nothingmuch> if you want to compile to machine code

[10:38] <integral> NathanJY: does it need to be good though?

[10:38] <nothingmuch> parrot does that

[10:39] *** chady is now known as chady_

[10:39] <nothingmuch> if you want it to compile to haskell, and from there to C,

[10:39] <nothingmuch> then you have perl 6 with a C compiler backend

[10:39] <integral> NathanJY: I'd much rather be able to be using perl6 today, then wait 5 years for whatever what happening before pugs to finally get there

[10:39] <nothingmuch> that's already there too

[10:39] <NathanJY> I'm well aware of what bootstrapping is

[10:39] <rgs> no, you don't.

[10:39] * rgs ping pongs

[10:39] <NathanJY> integral: You're missing the point completely, there's no reason it couldn't have been written in C

[10:39] <shapr> NathanJY: so, want to write some perl6 unit tests? Those are good for any perl6 implementation.

[10:39] <nothingmuch> NathanJY: yes there is

[10:39] <NathanJY> rgs: If you repeat it enough, it must be true!

[10:40] <NathanJY> nothingmuch: which is...?

[10:40] <castaway> NathanJY: You seem to assume the HAskell is the one and only ever implementation of perl6.

[10:40] <nothingmuch> perl 5 is not the internal structure that people wanted for perl 65

[10:40] <shapr> NathanJY: C'mon, you can contribute positively instead!

[10:40] <castaway> s/haskell/pugs/ :)

[10:40] <nothingmuch> if C would be a good solution, why aren't we just upgrading p5?

[10:41] <NathanJY> nothingmuch: Argument from popularity is a logical fallacy

[10:41] <nothingmuch> you can do that too, you know

[10:41] <castaway> The whole thing is just an exercise in learning haskell :9

[10:41] <cognominal> NathanJY: ask rgs who maintains perl5

[10:41] <shapr> And for me, an exercise in learning Perl.

[10:41] * pjcj wanders off to write Perl6 in csh

[10:41] <cognominal> he is qualified to know why we need an altogethere different vm

[10:41] * castaway writes one in elisp :)

[10:41] <nothingmuch> NathanJY: you just disproved yourself, methinks

[10:41] <NathanJY> castaway: I don't see why they would bother with a haskell implementation AT ALL

[10:41] <castaway> NathanJY: For the hell of it! For fun! 

[10:41] <NathanJY> nothingmuch: Uh no, do you even understand formal logical fallacies?

[10:42] <shapr> So, what part of pugs are people working on today?

[10:42] <castaway> If you dont like it, nobody is asking you to

[10:42] <integral> NathanJY: logic doesn't make a perl6 compiler actually happen :-)

[10:42] <nothingmuch> NathanJY: whatever

[10:42] * nothingmuch goes home for a while

[10:42] <NathanJY> nothingmuch: "If X was a good solution, why wasn't it done?" isn't valid reasoning.  It would only be valid if the developers were somehow infallible and never made bad decisions

[10:42] <shapr> NathanJY: So, go write your own and stop distracting us.

[10:42] <castaway> shapr++

[10:42] <NathanJY> wow

[10:43] <kungfuftr> "Pugs, it's like a slow Perl 6... but... it's currently the only Perl 6 implementation"

[10:43] <NathanJY> your criticism is HORRIBLE

[10:43] <shapr> You're just jealous because we got something done and you didn't

[10:43] <shapr> :-P

[10:43] <NathanJY> I hope you guys aren't the primary developers

[10:43] <nothingmuch> NathanJY: maybe chip can give you some advice based on his topaz experiment

[10:43] <castaway> well you barge in here, shouting about haskell, and expect people to agree with you?

[10:43] <kungfuftr> NathanJY: fuck off... seriously

[10:43] <NathanJY> seriously, I'm not just saying this, you guys have a really horrible grasp on logic

[10:43] <nothingmuch> NathanJY: exactly

[10:43] <nothingmuch> that's why we're writing it in haskell

[10:43] <integral> NathanJY: What does logic have to do with anything?   Would you like logic, or perl6?

[10:43] <nothingmuch> and that's why pugs is a complete peice of shit

[10:43] * shapr snickers

[10:44] <nothingmuch> even the SVN repo is not working

[10:44] <nothingmuch> and whoops, the channel is not working either

[10:44] <NathanJY> Even when I encountered extremist language zealots before, they iddn't use reasoning this bad

[10:44] <shapr> Oh, the humanity!

[10:44] <nothingmuch> why bother getting the code, or even talking here?

[10:44] <NathanJY> integral: are the two mutually exclusive?

[10:44] <kungfuftr> NathanJY: ask Larry if he likes pugs

[10:44] * castaway doesnt see anyone arguing that haskell is a great way to do it (or did I miss that?)

[10:44] <integral> NathanJY: Who knows?   Does it matter?

[10:44] <NathanJY> nothingmuch: Following your own [il]logic, why aren't YOU writing code?

[10:44] <nothingmuch> ciao

[10:44] <NathanJY> Have you guys ever heard of constructive criticism?

[10:45] <shapr> I really do think NathanJY is just here to distract us while his compatriots implement Perl6 in COBOL.

[10:45] <kungfuftr> NathanJY: yeah, but there's logic to it

[10:45] <NathanJY> Are you seriously suggesting we should never question THE GREAT ONE KNOWN AS LARRY WALL?

[10:45] <castaway> yeah, care to show us some, havent seen any yet ,)

[10:45] <clkao> *yawn*

[10:45] <shapr> good morning clkao!

[10:45] <NathanJY> kungfuftr: I see none of it here, people are just spewing out logical fallacy after logical fallacy

[10:45] <kungfuftr> NathanJY: PUGS IS NOT PERL 6!

[10:45] <clkao> take whatever tool you can handle and do what you can, this is called practical.

[10:45] <integral> NathanJY: Pugs just happens to be implementing perl6.   The perl foundation is still sponsoring parrot et al to get there another route

[10:45] <clkao> and code speaks fucking louder than words.

[10:45] <shapr> NathanJY: Talk is cheap, write code or be accused of being a hot air bag.

[10:45] <cognominal> my $i = rand() * @lang; say   "open your minds to the idea that hey--maybe using @lang[$i] is a bad idea";

[10:46] <NathanJY> "Pugs is an implementation of Perl 6, written in Haskell."

[10:46] <castaway> right: "an" not "the"

[10:46] <kungfuftr> NathanJY: yeah... pugs is an implementation of perl 6... it is NOT Perl 6

[10:46] <integral> NathanJY: someone woke up one day and decided to write a perl6 implementation.   Even though there is an "official" project going on.   Is there not allowed to be two projects?

[10:46] <shapr> Btw, did you guys figure out a way around the make optimized bug?

[10:47] <NathanJY> kungfuftr: I never said it was perl6, learn to read

[10:47] <castaway> shapr: I think Corion had it working, but I dont recall the details

[10:47] <kungfuftr> NathanJY: the design of Perl 6 isn't finalised... the practical purposes of Pugs allows to try a design and see where there are problems or things that need more clarification

[10:47] <shapr> Ah spiffy, I'll ask corion when they next speak.

[10:47] <gaal> shapr: if you have time, can you help me with instantiating IHandle?

[10:47] <castaway> shapr: In about *calc* 4 hours?

[10:47] <NathanJY> That still doesn't explain the choice in language

[10:48] <shapr> gaal: Where in the sources can I look for background info?

[10:48] <castaway> I just told you, it was a learning exercise

[10:48] <integral> NathanJY: At the time autrijus was reading a book which used Haskell :-)

[10:48] <cognominal> NathanJY: we will be happy to run your implementation if it is better than pugs :)

[10:48] * shapr greps

[10:48] <NathanJY> and parrot is just reinventing the wheel, except a more blocky wheel

[10:48] <shapr> castaway: Cool, four hours is reasonable.

[10:48] <gaal> shapr: you can backlog for the details, but in short: i want to hide the tuple return of runInteractiveProcess in soemthing encapulated

[10:49] <gaal> AST.hs

[10:49] <NathanJY> castaway: That's still a waste

[10:49] <kungfuftr> NathanJY: take it to the p6 lists

[10:49] <cognominal> NathanJY:  we certainly want to learn from it and get enligthned

[10:49] <castaway> NathanJY: A waste of what? our free time? surely thats ours to do with what we will?

[10:49] <kungfuftr> there's nothing WE can do about it... so what's the use in moaning at us... it's the perl 6 development teams will

[10:49] <b6s> If someone really need to know the reason of using Haskell, he would be able to figure out easily by searching and reading journals of pugs which written by autrijus.

[10:49] <NathanJY> I don't think you guys seem to realize, that when you're dealing with a widely used tool, experimenting just for the sake of learning isn't ag ood idea

[10:50] <kungfuftr> lol

[10:50] <castaway> sure it is

[10:50] * shapr snickers

[10:50] <NathanJY> no, you're just trying a different language for trying a different language

[10:50] <castaway> so?

[10:50] <b6s> and If someone actually just wanna show how smart he is, well...

[10:50] <NathanJY> for the sake of

[10:50] <integral> NathanJY: how are we meant to learn how to write compilers in Haskell without doing it?

[10:50] * kungfuftr uses perl to play with javascript all the time

[10:51] <NathanJY> you do it by not even touching haskell at all

[10:51] <shapr> NathanJY: You keep implying you know better than we do, I haven't seen your implementation of perl6 that proves that you have any clue at all.

[10:51] * castaway laughs

[10:51] <NathanJY> So what if I haven't written an implementation? Nice Ad Hominem.

[10:51] <kungfuftr> NathanJY: hot air

[10:51] <NathanJY> Do you know what Ad Hominem means?

[10:51] <shapr> Yes, but you're wasting my time.

[10:52] <NathanJY> Then why did you use it, knowing it's a logical fallacy?

[10:52] * kungfuftr & # work calls

[10:52] <shapr> I'd rather implement another failing test instead of talk to you.

[10:52] <NathanJY> How am I wasting your time?

[10:52] <castaway> later kungfuftr 

[10:52] <NathanJY> Then why aren' you doing it?

[10:52] <NathanJY> I'm not twisting your arm

[10:52] <shapr> I am :-)

[10:52] <b6s> i suggest just /ignore or everybody will have pages of flooding in irc log.

[10:52] <NathanJY> No, you're talking to me

[10:52] <b6s> please...

[10:52] <NathanJY> You guys are so ridiculously close minded

[10:52] * castaway multitasks

[10:52] <kungfuftr> ignored

[10:52] * shapr semitasks

[10:52] <castaway> nah b6s, will be interesting reading for later .)

[10:52] <gaal> shapr: the IFoo thingie is a way to place hooks on read and writes to an object

[10:52] <shapr> gaal: ah, interesting.

[10:53] <gaal> from the perl point of view, i have a simple eg. scalar, and when i try to read its value, code gets run to give me that value

[10:53] <shapr> Neat, sort of like aspects.

[10:53] * NathanJY wonders how many of you have done any real world programming

[10:53] <gaal> and when i write to it, different code (can) get run.

[10:54] * shapr wonders if electrons have consciousness

[10:54] <NathanJY> Seriously

[10:54] <NathanJY> Why is there a parrot project?

[10:54] <integral> NathanJY: ad hominem!

[10:54] <NathanJY> Wrong

[10:54] <gaal> we were mulling over providing a nice inteface to pipe-opens previously

[10:54] <NathanJY> integral: If you think that, then you don't know what ad hominem means.

[10:54] <gaal> autrijus suggested doing the tie thing

[10:55] <NathanJY> Why not just use an existing VM architecture that has a lot more research go into it?

[10:55] <shapr> NathanJY: do you also go under the irc nicknames of Smerdyakov, rahul, etc?

[10:55] <NathanJY> The last thing we need is yet another VM, and an inferior one at that

[10:55] <kungfuftr> NathanJY: go use java then

[10:55] <shapr> Hello, would someone kindly kick NathanJY off the channel?

[10:55] <castaway> shapr!

[10:55] <shapr> castaway: yes?

[10:56] <NathanJY> No one is going to kick me because i'm not violating any rules

[10:56] <NathanJY> You guys are being needlessly hostile and close-minded

[10:56] <NathanJY> You really can't handle criticism at all

[10:56] <NathanJY> And I seriously doubt that ANY of you have the slightest understanding of compiler theory

[10:56] <kungfuftr> NathanJY: come up with _good_ reasons... all you've said so far is complete hot air

[10:56] <shapr> Show me unit tests and I'll look at 'em.

[10:56] <castaway> don't you think he's funny?

[10:56] <kungfuftr> castaway: totally

[10:56] <integral> NathanJY: What was the last compiler you wrote?

[10:56] <NathanJY> I'm asking for good reasons for pugs and parrot

[10:56] <NathanJY> no one has offered a single one

[10:57] <shapr> castaway: Yeah, but he's making inflammatory comments and it's distracting.

[10:57] <integral> NathanJY: What is your understanding of compiler theory?

[10:57] <castaway> "because its there" is a good reason for lots of things (especially learning ones)

[10:57] <NathanJY> no it's not

[10:57] <castaway> well then who's close minded?

[10:57] <NathanJY> brainfuck is there, should you use that?

[10:57] <shapr> I guess I'm used to criticisms with actual content.

[10:57] <kungfuftr> NathanJY: parrot, not our problem.... pugs, to flesh out the perl 6 design

[10:57] <castaway> If I felt like learning it, yes

[10:57] <NathanJY> you guys are, you're unwilling to think about anything else

[10:58] <gaal> so shapr, you can look at 1073 for example: there's the Cwd scalar, which when you read, gives you the current work dir, and when you write to, does a setCurrentDirectory. okay?

[10:58] * shapr would rather not do the Dance of Anger today.

[10:58] <NathanJY> why would you waste so much time learning haskell?

[10:58] <castaway> you havent actually asked any questions that would reveal that

[10:58] <NathanJY> you don't need to write a compiler to learn it anway

[10:58] <NathanJY> Yes I have

[10:58] <NathanJY> you immediatly rejected the idea of a C implementation

[10:59] <NathanJY> And why parrot?

[10:59] * shapr looks for Cwd

[10:59] * castaway doesnt actually programm any haskell at all.

[10:59] <gaal> what i need is some way to hang several IO handles on a single IScalar (i think)

[10:59] <NathanJY> hahaha

[10:59] <NathanJY> I'm not suprrised

[10:59] <NathanJY> You're defending a language you know nothing about

[10:59] <NathanJY> How many of you have actually done any functional programming?

[10:59] <integral> NathanJY: and I've learnt all I know about writing compilers in Haskell without writing one :-)

[10:59] <castaway> I think you're attacking one you know nothing about too, so even ground ,)

[10:59] <kungfuftr> NathanJY: SHUT THE FUCK UP. YOU ARE PROVIDING NO CONSTRUCTIVE CRITICISM. THIS IS NOT THE PLACE TO MOAN. GO TO THE PERL 6 MAILING LISTS

[10:59] <kungfuftr> =0)

[11:00] <shapr> Yeah, go away. You're just trying to sabotage actual useful contributions :-P

[11:00] <NathanJY> kungfuftr: No one is providing reasonable answers to my questions.  Calm down.

[11:00] <shapr> NathanJY: post it on a website and let us read it.

[11:00] <kungfuftr> NathanJY: GO TO THE PERL 6 MAILING LISTS.

[11:00] <NathanJY> kungfuftr: Why not discuss it here?

[11:00] <kungfuftr> NathanJY: this isn't the place to discuss it. discuss it on the mailing lists.

[11:00] <NathanJY> It looks to me all you guys do is test cases, you're basically very mediocre programmers defending a project you don't udnerstand

[11:01] <NathanJY> What's wrong with discussing it here?

[11:01] <kungfuftr> go to the perl 6 mailing lists

[11:01] <NathanJY> WHY?

[11:01] <NathanJY> That's what I thought, you guys don't actually know enough about the projects to defend them

[11:01] <kungfuftr> we have no input into the choice to use parrot or other design aspects of perl6

[11:02] <NathanJY> that's why your'e deferring me to the list--so I can question people who know what they're talking about

[11:02] <kungfuftr> pugs is simply here to flesh out the design

[11:02] <NathanJY> so?

[11:02] <cognominal> NathanJY: we are obviouly too dumb, please use better your time to enlight smarter people :)

[11:02] <NathanJY> I'm asking WHY they made the choice

[11:02] <NathanJY> I don't need to be on a mailing list to do that

[11:02] <kungfuftr> NathanJY: ask the list! we have no idea

[11:02] * castaway doesnt have a clue.

[11:02] <integral> NathanJY: If we're very poor programmers, do you want us to just stop doing any work on anything perl6 related?

[11:02] <NathanJY> Finally

[11:03] <NathanJY> You guys finally admit you have no clue why

[11:03] <castaway> should we care? go ask the ones who do

[11:03] <NathanJY> Congratulations on defending something oyu know nothing about *applause*

[11:03] <NathanJY> Because you're obviously interested in perl development

[11:03] <kungfuftr> NathanJY: whoopee fucking do... goodbye

[11:04] <castaway> nice asumption

[11:04] <shapr> Google shows that NathanJY is a troll in many forums.

[11:04] <kungfuftr> shapr: most undoubtedly

[11:05] <NathanJY> shapr: nathanjy gets one hit in google

[11:05] <shapr> NathanJY: Does the fighting excite you? Is it the conflict? I've never understood what's appealing about trolling.

[11:05] <castaway> shapr:  Its the 'lets hit them til they cry' mentality..

[11:05] <clkao> and WHY do you choose perl6 to flame?

[11:06] <kungfuftr> shapr: it's cos he's got a small penis. he needs to feel bigger.

[11:07] <NathanJY> i never understood what's appealing about being close minded

[11:07] <shapr> I don't think I'll ever understand trolling.

[11:07] <gugod> I don't think I'll ever understand perl6

[11:08] * shapr grins

[11:08] <gugod> or some equation like E=mc^2

[11:08] <pjcj> At least that google count will go up soon ;-)

[11:08] <castaway> Or haskell!

[11:08] <clkao> pjcj: you need to /whois before google :)

[11:09] <gugod> in fact, I don't even quite understand perl5 *shock*

[11:09] <clkao> in fact, I am glad that i don't understand perl4. i was shocked by this $foo'bar thing yesterday

[11:09] <shapr> Wow!

[11:10] <castaway> heh

[11:10] <b6s> 22 pages. gosh

[11:10] <gaal> shapr/anyone, i want to undertstand if "iType" in the tie interface magically connects my var to a class i can call methods on, and where i write the code to that p6 class

[11:12] <gaal> and by the way, does gnu grep have anything by way of an .exclude file i can use to make -r lookups not return results from .svn-base ?

[11:12] <gugod> --exclude='.svn' maybe

[11:13] <shapr> You could use find, I think it might have an 'ignore dir' param.

[11:13] <gugod> or use svk

[11:13] <gaal> shapr, yes, but then it won't work with vim like i want it to :)

[11:13] <shapr> Oh, ok.

[11:14] <gaal> gugod: --exclude is what i want! thanks.

[11:14] <gugod> cool

[11:14] <gaal> (well, almost. i want to make it the default)

[11:14] <gugod> use alias :p

[11:14] <gaal> ah, there's GREP_OPTIONS env.

[11:14] <gugod> alias grep="grep --exclude=.svn" something

[11:15] <gaal> the alias prolly won't work because vim doesn't use the shell -- i think -- to call grep.

[11:15] <gaal> oh, also: grepprg in vim.

[11:16] <gaal> e.g. :set grepprg=grep -r --exclude=.svn

[11:16] <gaal> vim++

[11:19] <roshambo> so who else thinks haskell is the pits? 

[11:19] <castaway> cog ?

[11:19] <castaway> Hmm, no

[11:20] <roshambo> you must have a busted logic center ;P

[11:23] * roshambo quits teasing', bye

[11:26] * shapr boings randomly

[11:26] <shapr> w00

[11:27] * castaway sighs

[11:27] * shapr throws stuffed animals at castaway 

[11:27] <castaway> oooh, thanks :)

[11:27] <castaway> (as if I didnt have enough of them :)

[11:27] * shapr grins

[11:27] * castaway is wasting the whole damn morning on an error that makes no iota of sense whatsoever

[11:28] <shapr> What's the error?

[11:30] <castaway> I'm using an Excel PivotTable to read data from an Oracle View.. and its giving me ORA-01406 - fetched column value was truncated

[11:30] <castaway> fetching a field less gets rid of the error (any field), fetching a line of data less (any line) gets rid of it

[11:30] * castaway grrs.

[11:37] <castaway> no ideas, I take it? :)

[11:37] <shapr> http://ora-01406.ora-code.com/

[11:37] <castaway> yeah, BTDT

[11:38] <castaway> Excels PivotTable stuff is a blackbox, I cant/dont define any field/buffer sizes

[11:38] <glasser> hey, I'm trying to get pugs running on mac os x panther and am getting an error about RTLD_NEXT when compiling hs-plugins (I installed GHC 6.4 from the .pkg on the GHC site) -- has anyone else seen this?

[11:38] <castaway> I'm copying the data to my test machine now, if it works there after importing, I'm going to claim its a corruption error on the Q&A server

[11:39] <shapr> Are you using the latest hs-plugins nightly?

[11:39] <glasser> tried both the latest (or maybe it was yesterday's :-) ) and the april 10th one

[11:39] <shapr> Oh

[11:39] <shapr> In that case, I'd recommend you ask dons

[11:40] <castaway> or compile pugs without :)

[11:40] <shapr> I know he was talking about a macos x problem yesterday, but I forget exactly what it was.

[11:40] <shapr> Ah, yesterday he was talking about "unknown symbol `_stg_int64ToInt'"

[11:41] <glasser> maybe i'll drop him an email

[11:41] <glasser> RTLD_NEXT seems to be perfectly well defined in /usr/local/include/dlfcn.h... dunno what's up with it

[11:42] <shapr> He's on #haskell as dons, but seems to be afk.

[11:42] <shapr> Aussies have such weird schedules ;-)

[11:43] <Juerd> re

[11:43] <nothingmuch> so what's new?

[11:43] <nothingmuch> are we switching to C?

[11:43] <nothingmuch> is parrot going to be scrapped?

[11:43] <nothingmuch> where can i optimize some assembly code?

[11:44] * shapr snickers

[11:45] * castaway grins

[11:47] <kungfuftr> nothingmuch: didn't you hear, parrot has been moved to becoming an engine to work out the most effecient way of increasing trollers penis size by telepathy

[11:47] <nothingmuch> oh wow

[11:48] * nothingmuch starts trolling

[11:48] <nothingmuch> who the hell does this autrijus guy think he is?

[11:48] <kungfuftr> nothingmuch: yo mamma!

[11:48] <castaway> :)

[11:48] <nothingmuch> kungfuftr: you cna't do any css if haskell depended on you

[11:49] * kungfuftr sobs

[11:49] <nothingmuch> s/cna't/couldn't/

[11:49] <nothingmuch> haha! if you would have written your *OWN* display engine in C

[11:49] <nothingmuch> then maybe you wouldn't have to make so many logical fallacies

[11:49] <kungfuftr> nothingmuch: ENOCOMPILERKNOWLEDGE

[11:50] <nothingmuch> i don't care

[11:50] <nothingmuch> i want you to switch to C

[11:50] <nothingmuch> stop using haskell, you 0.0001% programmer!

[11:50] <castaway> This is gonna get old real fast..

[11:50] <kungfuftr> yeah, agreed

[11:51] * nothingmuch doesn't feel any change yet

[11:51] <kungfuftr> nothingmuch: with harness straps, is there a way of doing timeouts?

[11:51] <nothingmuch> oh well, at least i tried

[11:51] <theorbtwo> Morning, all.

[11:51] <gaal> kff: no. :(

[11:51] <gaal> but i'm working on it :)

[11:51] <nothingmuch> you can subclass analyze_fh and then put an alarm in there

[11:51] <kungfuftr> gaal++

[11:51] <gaal> nothingmuch, that's not portable.

[11:52] <nothingmuch> basa

[11:52] <glasser> aha, got it to compile, but only by handediting /usr/local/lib/ghc-6.4/include/ghcautoconf.h. perhaps i should mention this on #haskell?

[11:52] <kungfuftr> glasser: sounds good

[11:52] <castaway> good idea, glasser

[11:58] * castaway -> meeting (well actually training)

[12:10] <glasser> for the record, it looks like moving /usr/local/include/dlfcn.h out of the way (and letting the compiler see /usr/include/dlfcn.h) does the trick

[12:12] <gaal> can i say has $:benchmark = try { use Benchmark; 1 }; ?

[12:16] <glasser> oh, and i need to install readline somewhere nicer than /sw/include (setting CPPFLAGS doesn't seem to propogate far enough)

[12:18] <kungfuftr> gaal: where's the try {} stuff in the synopses?

[12:19] <gaal> kff: <S04/"Exception Handlers">

[12:19] <kungfuftr> ah, s04

[12:21] <kungfuftr> gaal: seems so, under "Control Exceptions" around the 'leave' stuff

[12:21] <gaal> cool.

[12:22] <gaal> nothingmuch: there?

[12:22] <nothingmuch> yep

[12:22] <gaal> any reason not to couple Test::Tap::Model with the p6 port of Test::Harness?

[12:23] <nothingmuch> nope

[12:23] <nothingmuch> in fact, I think Test::Harness::Straps should be two parts:

[12:23] <nothingmuch> one more like a ::Model

[12:23] <nothingmuch> the other more like a sax driver

[12:23] <gaal> sax is xml domain specific btw, afaik, so your usage is confusing.

[12:24] <kungfuftr> nothingmuch: Test::Model melarky?

[12:24] <nothingmuch> i meant sax inspired

[12:24] <nothingmuch> kungfuftr: melarky? what's that?

[12:24] <gaal> event-driven parser, perhaps.

[12:24] <nothingmuch> yes, that's what I meant

[12:24] <nothingmuch> but it should be simple

[12:24] <nothingmuch> =)

[12:24] <nothingmuch> gaal: kungfuftr has big plans for ::Model, btw

[12:24] <kungfuftr> nothingmuch: was this along the lines of the Producer -> Model?

[12:24] <gaal> well, good :)

[12:25] <nothingmuch> i don't know

[12:25] <nothingmuch> maybe

[12:25] <nothingmuch> i think Test::TAP::Producer should be an event driven parser

[12:25] <gaal> that's not a good name

[12:25] <gaal> since it doesn't produce TAP.

[12:25] <kungfuftr> ah, yeah... been trying to work out a data structure to represent a testsuite result... tricky, but doable

[12:25] <gaal> it consumes TAP.

[12:26] <nothingmuch> and that Test::Model should be a sort of DOMish thing that knows how to be constructed from those producers

[12:26] <nothingmuch> and not TAP specific

[12:26] <nothingmuch> but modeled around it

[12:26] <nothingmuch> so that it's extensible

[12:26] <nothingmuch> but this is a big job

[12:26] <nothingmuch> true

[12:26] <nothingmuch> kungfuftr: i think it should be minimalist

[12:26] * theorbtwo is all caught up on the backlog.

[12:26] <gaal> nm, why bother with that?

[12:26] <nothingmuch> TAP should be able to be modelable with it easily

[12:26] <nothingmuch> gaal: because kungfuftr wants it ;-)

[12:26] <nothingmuch> and because it's reusable

[12:26] <kungfuftr> =0)

[12:27] <gaal> kff: why bother with that?

[12:27] <nothingmuch> Test::Harness::Straps is probably the least reusable bit of well accepted code i've ever seen

[12:27] <gaal> :)

[12:27] <nothingmuch> it's so hard to pull it off

[12:27] <kungfuftr> gaal: if you 'represent' a test model, it means that you can use more than TAP and still get the same output

[12:27] <nothingmuch> it being stuff you need

[12:27] <nothingmuch> maybe ingy should draft us a test model

[12:27] <nothingmuch> anyway, at that point you have reusable tools for display

[12:27] * gaal is wary of overabstraction

[12:27] <nothingmuch> and reusable harnesses

[12:28] * kungfuftr tried in perl data structure but was scary

[12:28] <gaal> TAP is named "test anything protocol" *because* it wants to be able to test anythign.

[12:28] <nothingmuch> gaal: but it's not 100% good for stuff like huge integration tests

[12:28] <nothingmuch> or tests with no concept of subtests

[12:28] <gaal> so if you thingk of an actual thing it's missing, you should improve the protocol, not the "model"

[12:28] <nothingmuch> or tests with subtest groups

[12:29] <nothingmuch> i think this model should be able to represent the data coming out of the protocol

[12:29] <nothingmuch> but with minimalist primitives, which can be stacked a bit

[12:29] <nothingmuch> display modules should know how to grok the data

[12:29] <kungfuftr> gaal: protocol != model tbh

[12:29] <nothingmuch> the model is just a convenient way to access it

[12:29] <gaal> of course

[12:29] <nothingmuch> and protocols for it could be TAP

[12:29] <nothingmuch> and YAML

[12:29] <nothingmuch> and storable

[12:29] <nothingmuch> and XML

[12:29] <nothingmuch> etc etc etc

[12:30] * kungfuftr starts braindumping

[12:30] <nothingmuch> since we're all for the freepan/parrot-runs-everything concept, other languages test suites should be accommodated for

[12:30] <gaal> but the model has to be at least as conceptually rich as anything any of its protocols supply.

[12:30] <kungfuftr> nothingmuch: that's for reminding me!

[12:30] <nothingmuch> no, it can be simpler

[12:30] <nothingmuch> it can have a test case object

[12:30] <nothingmuch> and a case group object

[12:31] <nothingmuch> test case is a leaf in the structure

[12:31] <nothingmuch> case group is a grouping that you can ask: what it's success ratio was

[12:31] <nothingmuch> were all it's children skipped, etc

[12:31] <nothingmuch> and case groups know arbitrary fields

[12:31] <nothingmuch> bailout is a leaf

[12:31] <nothingmuch> like 'filename', etc

[12:31] <nothingmuch> case groups can have plans, too

[12:31] <nothingmuch> basically, our current concept of test files should be nestable

[12:31] <nothingmuch> and I think that's all we need

[12:32] <gaal> sounds like all you need is another piece of metadata right next to the plan

[12:32] <nothingmuch> no

[12:32] <nothingmuch> TAP is good design

[12:32] <gaal> and put a wee bit of smarts in the harness to make it context sensitive

[12:32] <nothingmuch> i don't like nesting, i want it as it is

[12:33] <nothingmuch> the TAP parser should create single level case groups

[12:33] <nothingmuch> and we're happy

[12:33] <nothingmuch> but an XML beast coming out of some other language should be representable with the tools we have

[12:33] <nothingmuch> so that familiarity is increased

[12:33] <gaal> i don't know whaty you mean by that.

[12:34] <nothingmuch> in theory the parrot-hippiness concept says:

[12:34] <nothingmuch> python heads could use the perl DBI

[12:35] <nothingmuch> so a python head installs perl DBI from freepan

[12:35] <nothingmuch> using familiar freepan tools

[12:35] <nothingmuch> and runs the test suite

[12:35] <nothingmuch> they should be able to use the same frontend to grok results for DBI as they can use for python

[12:36] <nothingmuch> also, they should be able to write good display tools in python

[12:36] <nothingmuch> and we would like to use them

[12:36] <nothingmuch> where the root is the whole test suite

[12:36] <nothingmuch> the data model is simple

[12:36] <nothingmuch> it's a tree of success failure

[12:36] <nothingmuch> and then there are levels which can represent:

[12:36] <nothingmuch> directories of files

[12:36] <nothingmuch> or cases in a unit testing framework

[12:36] <nothingmuch> sorry, fixtures

[12:37] <nothingmuch> and the immediate parent of the leaf in a directory of files approach is the file

[12:37] <nothingmuch> it has cases

[12:37] * theorbtwo suggests nothingmuch write that test model that he was suggesting ingy draft.

[12:37] <nothingmuch> (that goes along well with TAP)

[12:37] <nothingmuch> theorbtwo: you know, why not

[12:47] <gaal> aurtijus around?

[12:48] <kungfuftr> bah!

[12:49] <kungfuftr> (fire alarm systems)-- # please to be resetting properly

[12:50] <theorbtwo> Kungfutr English speaking?

[12:50] <kungfuftr> a test = 'ok(...)'. a testgroup = 'basic.t'... testgroups contain tests, testgroups can also contain testgroups... sounds about right

[12:51] <kungfuftr> theorbtwo: fire alarm didn't reset properly, so went off every 2 mins for about 20 minutes

[12:53] <kungfuftr> theorbtwo: during my lunch break too!

[12:53] <theorbtwo> Ugh.

[13:05] <kungfuftr> the pugs kwiki has been hacked

[13:05] <kungfuftr> cleaning up

[13:09] <Limbic_Region> hacked or defaced?

[13:11] <kungfuftr> wdefaced, even... lots a links

[13:19] <castaway> ick

[13:19] * castaway returns.

[13:26] <castaway> Are you guys using C yet?

[13:28] <rgs> no, python.

[13:29] <castaway> ah, good :)

[13:30] <kungfuftr> bah, since when did we stop using befunge?

[13:31] <castaway> befunge?

[13:33] <kungfuftr> castaway: http://kotisivu.mtv3.fi/quux/befunge.html

[13:34] <kungfuftr> nothingmuch: come up with a model, will do some hacking later... got specs to write up for now

[13:36] <nothingmuch> wee! i love the holidays

[13:36] <nothingmuch> i have 70%

[13:36] <nothingmuch> but now i'm drunk

[13:38] <pjcj> ah - *that's* how Haskell got chosen as the implementation language

[13:57] <nothingmuch> okay

[13:58] <nothingmuch> http://nothingmuch.woobling.org/test_result_model.pod

[13:59] <nothingmuch> plans could be simplified

[13:59] <nothingmuch> in the model spec

[13:59] <nothingmuch> the model itself says what is OK, and what is not, at the group level

[13:59] <nothingmuch> but i think the model should be smarter, not the protocols

[13:59] <nothingmuch> and plans should be allowed this complexity

[13:59] <nothingmuch> what's most important is, IMHO, stubbing, and interpretation

[13:59] <nothingmuch> both for humans, and in the 'actual_ok' sense

[13:59] <nothingmuch> this will allow any display modules to have logical results without working hard

[14:00] <theorbtwo> I'd like a s/=item \*/=item $name/ in tere.

[14:00] <theorbtwo> there.

[14:00] <nothingmuch> i don't know how to name them yet, it's sort of intentional

[14:01] <nothingmuch> do you want to name them? i'll gladly change it

[14:01] <nothingmuch> but i think they are sort of more like lists of traits, or predicates, not so much distinguishable items

[14:01] <nothingmuch> morning stevan 

[14:01] <stevan_> hey nothingmuch

[14:02] <stevan_> nothingmuch: did you see my "no more todo_" idea?

[14:02] <nothingmuch> i saw the mail subject

[14:02] <nothingmuch> but didn't read

[14:02] <nothingmuch> i'm at work, and i'm drunk anyway

[14:02] <stevan_> ahh

[14:02] <nothingmuch> s/and/but/

[14:02] <nothingmuch> so i'll read it now

[14:02] <theorbtwo> Hm, perhaps the one ok should be named "unremarkable".

[14:03] <stevan_> hey theorbtwo

[14:03] <nothingmuch> theorbtwo++

[14:03] <theorbtwo> Allo, stevan!

[14:07] <shapr> @yow !

[14:08] <theorbtwo> How now, shapr yow?

[14:10] * shapr boings cheerfully

[14:10] <shapr> theorbtwo: that's a neat response!

[14:10] <shapr> How now brown cow? The rain in Spain falls gently on the plain.

[14:11] <stevan_> shapr doolittle, you'll make a fine lady some day

[14:11] <shapr> I did it, I did it!

[14:11] <shapr> Oim gettin married in da moynin!

[14:11] <shapr> Weddin bellz is gonna rang!

[14:11] <castaway> ,)

[14:12] * shapr loves that musical.

[14:12] <shapr> My favorite is Moulin Rouge, I try to sing exactly like Ewan McGregor.

[14:12] <shapr> I'm passable, surprisingly.

[14:13] <shapr> Passable to the point that several people tried to recruit me for the local choir.

[14:13] * stevan_ turns up the volume on his IRC client, but still can't hear it

[14:14] * shapr laughs

[14:14] <shapr> I just got an iriver that records, you really wanna hear?

[14:14] * shapr grins evilly

[14:14] <castaway> yup

[14:14] * alinbsp used to be in the school choir

[14:14] <stevan_> we can start a group ... Shapr and the Pugettes

[14:15] * shapr laughs

[14:15] <shapr> BoIP - Band over IP

[14:16] <stevan_> nothingmuch can play bass

[14:17] <stevan_> we can just autrijus a book on music theory and see what he does next :)

[14:17] <theorbtwo> Hm, now that's interesting.  I switched CD-ROM drives in the mac; with this other one, and the Jaguar CD, I get a floppy-with-question-mark, but then a lot of disk activity... then a pause, more disk activity... but I'm still on black-and-white screen with a floppy with a question mark on it.

[14:17] <stevan_> theorbtwo: that means it cant find the disk

[14:18] <stevan_> different, but not better :)

[14:18] <nothingmuch> =)

[14:19] <stevan_> theorbtwo: you might want to get OS 9 on there first

[14:19] <stevan_> then at least you will have a usable system from which to try other angles

[14:19] <theorbtwo> I've heard with this motherboard that OS 9 corrupts non-Apple IDE hard-drives.

[14:20] <stevan_> hmm, thats not good

[14:20] <stevan_> did you put in a non-apple IDE drive?

[14:20] <decay> what's a non-apple ide drive?

[14:21] <stevan_> an IDE drive not made by apple :)

[14:21] <theorbtwo> Well, I think it's better; before I was getting the floppy with question mark and no disk activity.

[14:21] <decay> stevan_: i wasn't aware they make ide drives.

[14:21] <theorbtwo> stevan, I only bought the motherboard, no hard drive, cd drive, case, or PSU.

[14:21] <theorbtwo> I'm a right cheap bastard.

[14:21] <stevan_> decay: I have no idea to be honest, but I know they have moved away from SCSI

[14:22] <stevan_> theorbtwo++ # building his own mac out of things he finds under his desk :)

[14:22] <theorbtwo> OTOH, there is presently no data on the hard drive for it to corrupt.

[14:23] <theorbtwo> I just wish I'd gotten a beige G3 rev 2 mobo, they are apparently a lot nicer.

[14:23] <stevan_> theorbtwo: you are fighting an uphill battle for sure

[14:24] <stevan_> theorbtwo: have you looked at CPU upgrade cards?

[14:24] <stevan_> or rather the websites of the companies who make them

[14:24] <stevan_> there should be a lot of "how do I run OS X on my old Mac" stuff there

[14:25] <stevan_> I would imagine that is a major part of their  business right now (making old stuff work with OS X)

[14:26] <stevan_> nothingmuch: did you read that email?

[14:26] <nothingmuch> it's open, but i'm in a discussion right now

[14:27] <stevan_> ok

[14:29] <nothingmuch> okk, reading now

[14:30] <nothingmuch> sort of a todo plan?

[14:30] <nothingmuch> TAP deprecated this sort of behavior at some point

[14:30] <stevan_> yes

[14:30] <nothingmuch> it turned out to be hard to maintain

[14:30] <stevan_> Test::More, etc still has TODO blocks

[14:30] <nothingmuch> i think we should have

[14:31] <stevan_> (which I think is the only way to do TODO)

[14:31] <nothingmuch> is(foo, bar, "desc", :todo());

[14:31] <stevan_> hmm

[14:31] <nothingmuch> instead of the functions

[14:31] <nothingmuch> all params are named

[14:31] <nothingmuch> but also positional

[14:31] <nothingmuch> (does that make sense? i've had several glasses of wine, sorry)

[14:31] <stevan_> but that does not easily allow for no-desc  

[14:31] <nothingmuch> why?

[14:31] <stevan_> which is a bad think IMO anyway

[14:32] <nothingmuch> is(got, expected, :todo());

[14:32] <stevan_> is(foo, bar, undef, :todo())

[14:32] <nothingmuch> named params make this simpler

[14:32] <stevan_> oh

[14:32] <stevan_> named params

[14:32] <nothingmuch> is(:todo(1), got, expected, desc);

[14:32] <stevan_> sorry,.. didnt read that part

[14:32] <nothingmuch> is(:todo(1); :desc("foo"), :expected("yes"), :got(get_answer));

[14:32] <stevan_> ok I will experiment with that

[14:33] <nothingmuch> then on top of that I think we should allow force_todo(1..10)

[14:33] <nothingmuch> but it shouldn't be the only way

[14:33] <nothingmuch> this is a useful feature

[14:33] <nothingmuch> but todo_is or is(:todo) should still be available

[14:33] <stevan_> I really just want to avoid reading and parsing t/force_todo each time we load Test.pm

[14:33] <nothingmuch> as for a force_todo file, i don't really like that

[14:33] <nothingmuch> we have something like that at work

[14:33] <nothingmuch> it's a pain to maintain

[14:33] <stevan_> its actually nice to use, but hard to maintain

[14:34] <stevan_> exactly :)

[14:34] <stevan_> I think that we could remove the todo_ functions in favor of :todo()

[14:34] <nothingmuch> i think that given a :todo named param to functions it'd be easier to say $force_todo = 1; in Test.pm

[14:35] <stevan_> and then have the force_todo() function in favor of the t/force_todo file

[14:35] <nothingmuch> it's easier than casing the functions

[14:35] <nothingmuch> and then you don't have to maintain a force to do list at all

[14:35] <nothingmuch> all tests are just todo instead of fail

[14:35] <stevan_> I was thinking of a global switch of some kind

[14:36] <nothingmuch> this could even be sensitive to the pugs version

[14:36] <stevan_> but sometimes I think we want to force-todo some files/tests and not others

[14:36] <nothingmuch> if $version is release then force todo

[14:36] <nothingmuch> force_todo as a function should be very useful

[14:36] <stevan_> now the wine is talking :P

[14:36] <nothingmuch> but perhaps we can also include a t/force_todo.pl

[14:37] <nothingmuch> a sort of rc file for tests

[14:37] <stevan_> I was thinking that force_todo() could write a log file if requested

[14:37] <stevan_> I want to avoid needing to load another file for all the tests

[14:37] <stevan_> it imposes a dependency on all,.. even if they dont need it/want it

[14:38] <stevan_> s/dependency/penalty/

[14:38] <nothingmuch> it could be a sort of last resort

[14:38] <nothingmuch> anyway, nevermind

[14:38] <nothingmuch> i think at least two facilities should be there

[14:38] <stevan_> I think force_todo() and :todo() would be good enough

[14:38] <nothingmuch> one at the test level, in the line where ok()/is() is called

[14:38] <nothingmuch> and one more akin to plan()

[14:39] <stevan_> then a global var to turn it on and off from the suite level

[14:39] <nothingmuch> uhuh

[14:39] <stevan_> kind of a failsafe switch :)

[14:39] <stevan_> nothingmuch++ # drunken design :)

[14:40] <stevan_> nothingmuch: what holiday is it BTW

[14:40] <nothingmuch> i'm not *that* drunk

[14:40] <nothingmuch> passover

[14:40] <stevan_> ahhh

[14:40] <nothingmuch> the food is horrible

[14:40] <nothingmuch> so i didn't have any

[14:40] * theorbtwo wonders if he can get an OS 9 image.

[14:40] <nothingmuch> but the wine is good

[14:40] <theorbtwo> It is?  Damn, I'm a bad Jew.

[14:40] <nothingmuch> so i had 5 and a half mini cups

[14:40] <stevan_> theorbtwo: I am leaving to go to $work in about 20 minutes

[14:40] <nothingmuch> theorbtwo: i can romp around and mail you one

[14:40] <stevan_> but I can set you up later tonight

[14:40] <theorbtwo> Cool, stevan.

[14:41] <theorbtwo> Use the GUI tool this time; I'm not 100% sure that my dd command line wasn't wrong.

[14:41] <nothingmuch> or transfer you an ISO and then mail it to you

[14:41] <nothingmuch> in which case it would still be legal

[14:41] <nothingmuch> stevan: did you see http://nothingmuch.woobling.org/test_result_model.pod ?

[14:41] <stevan_> nothingmuch: manashevitz shots ??

[14:41] <stevan_> theorbtwo: .dmg ok?

[14:41] <theorbtwo> Yeah, I can figure it out.

[14:41] <stevan_> I can try to dig up some other disk tools I have if not

[14:42] <nothingmuch> stevan: what?

[14:42] <theorbtwo> Do a "CD/DVD master" DMG, then compress that.

[14:42] <theorbtwo> Or get nothingmuch to tell you the right way to create a .iso.

[14:42] <nothingmuch> i don't know the right way

[14:42] <nothingmuch> i usually dd

[14:42] <nothingmuch> =)

[14:42] <nothingmuch> eh, usually

[14:42] <nothingmuch> when I had to, that's what I did

[14:43] <stevan_> nothingmuch: I saw that (test_result_model.pod) but havent read it yet

[14:43] <theorbtwo> nm, what's the source file on the dd line?

[14:44] <nothingmuch> dd if=/dev/from of=/dev/to bs=2m

[14:44] <nothingmuch> bs makes it much faster

[14:44] <nothingmuch> especially if the controller is slow

[14:44] <theorbtwo> Right: What should /dev/from be there?

[14:44] <nothingmuch> (read a lot, then write a lot)

[14:44] <nothingmuch> what OS?

[14:44] <nothingmuch> osx boot cd? linux?

[14:45] <nothingmuch> dd if=/dev/cdrom of=/dev/hda1

[14:45] <nothingmuch> or equiv

[14:45] <nothingmuch> i think i did that last time

[14:45] <nothingmuch> only the way i really did it was using zip disks

[14:45] <nothingmuch> and in 100MB chunks

[14:45] <theorbtwo> There is a /dev/cdrom symlink under OSX?

[14:46] <nothingmuch> no

[14:46] <nothingmuch> for example /dev/disk0s0 is the first partition of the first disk we saw

[14:46] <nothingmuch> use mount for that

[14:46] <nothingmuch> devices are allocated dynamically

[14:47] <theorbtwo> So would /dev/disk1s1 be only one partition of a CD?

[14:47] <theorbtwo> If it's not the whole disk, that'd explain why it doesn't boot from it, and also why the file isn't a full 700MB.

[14:48] <stevan_> theorbtwo: the disk was not full 

[14:48] <nothingmuch> yes

[14:48] *** alinbsp_ is now known as alinbsp

[14:48] <stevan_> the two numbers matched actually

[14:48] <nothingmuch> dd if=/dev/rdisk1 of=/dev/disk0s3 <-- whole of second disk to 3rd partition of first disk

[14:50] <theorbtwo> stevan, can you put the disk you sourced that from in, and do a cmp jaguar-1.iso /dev/rdisk1 ?

[14:51] <stevan_> theorbtwo: yes, give me a moment though

[14:52] * stevan_ is on the "upstairs" (non-work) computer right now

[14:52] <theorbtwo> Thanks.

[14:57] <nothingmuch> gcov is so completely fucked up beyond all repair

[14:57] <nothingmuch> my src/dir/nested/foo.cpp

[14:57] <nothingmuch> if there are two files named 'foo', you're screwed

[14:57] <nothingmuch> generates src/foo.da

[14:57] <nothingmuch> you need to move them around manually to actually get some results

[14:58] <nothingmuch> but it gets worse:

[14:58] <nothingmuch> if you are compiling nested.cpp and nested/foo.cpp inside src/dir

[14:58] <nothingmuch> not top level

[14:58] <nothingmuch> not their own dirs

[14:58] <nothingmuch> then all the files go to nested

[14:58] <nothingmuch> but where you ran the compiler

[14:59] <nothingmuch> so now I have the pleasure of parsing makefiles to find out which source files were compiled in which dir

[14:59] <nothingmuch> and this is about the 10th problem like this that has been found

[15:35] * kungfuftr 's brain boils with writing specifications

[16:17] <Juerd> hop++

[16:30] <kungfuftr> Corion: notes is evil!

[16:30] <Corion> kungfuftr: ?

[16:30] <kungfuftr> Corion: noticing yer perlmonks post

[16:31] <Corion> kungfuftr: Of course Lotus Notes is an evil product that attracts evil people. That's why I wrote that exporter.

[16:31] <kungfuftr> Corion: 6.5 is a _little_ better though

[16:32] <Corion> kungfuftr: My company, as the pinnacle of technology, uses LN 4.5 after a downgrade from 5.

[16:32] <Corion> But supposedly we will get a web frontend to email. In addition to our 150MB mailquota.

[16:32] * Corion starts a pugssmoke

[16:32] * Corion plays with his new toy. A VoIP/ISDN box.

[16:32] <shapr> using asterix?

[16:33] <shapr> um, asterisk?

[16:33] <Corion> shapr: No, plain DSL-modem/ISDNbox/Analog adapter.

[16:33] <Corion> But I'm afraid to make the switch from my existing setup :)

[16:33] <Corion> ... and I haven't found the box in my network yet :)

[16:34] <Juerd> I'm going to add [AES]\d\d to tnx.nl

[16:34] <Juerd> So you can use tnx.nl/S03 to read synopsis 3

[16:34] <Corion> ... but if I start begging you all to do a voice chat session, you'll know that I got it working :)

[16:34] <Corion> Juerd :)

[16:34] <Juerd> The long URLs drive me crazy (I don't use bookmarks)

[16:34] * shapr grins

[16:34] <Corion> Juerd: Don

[16:35] <Corion> Juerd: Don't you have perl -MPerl::Bible -e "..." ?? :)

[16:35] <Juerd> Too much typing too

[16:35] <Juerd> And I actually prefer the browser for this

[16:36] <NathanJY> well that's a nice abuse of power

[16:36] <NathanJY> thanks for proving my point

[16:37] <shapr> troll

[16:37] <Corion> shapr: I know. I read the logs.

[16:37] <Juerd> NathanJY: Explain to me what you mean, please.

[16:37] <Corion> Juerd: Read the logs

[16:37] <NathanJY> troll = person who says thinks I don't like

[16:37] <shapr> Juerd: he's just trying to get you to fight because he enjoys it.

[16:37] <shapr> Look at what he said on Amazon.

[16:37] <NathanJY> what about what I said on amazon?

[16:37] <shapr> Look at his livejournal.

[16:37] <Juerd> I'm trying to get the story from NathanJY himself

[16:37] <NathanJY> All I keep seeing is Ad Hominem

[16:38] <NathanJY> and a bunch of trolls

[16:38] <Juerd> So I can more correctly form an opinion.

[16:38] <shapr> NathanJY: c'est votre choix.

[16:38] <NathanJY> I was censored in #perl for offering a dissenting opinion

[16:38] <obra> On what topic?

[16:38] <obra> and by someone other than sungo?

[16:38] <kungfuftr> good for you, i hope your mother was proud of you

[16:39] <NathanJY> by integral

[16:39] <Corion> Well. Getting kicked from an irc channel is nothing really new.

[16:39] <Corion> The main problem with #perl6 is that I have no ops.

[16:39] <NathanJY> No, but freenode is supposed to be more open

[16:39] <shapr> Juerd: I would encourage you to read the logs from earlier today.

[16:39] <Juerd> shapr: That's a lot of work.

[16:40] <shapr> Juerd: I believe it would be less work than talking to NathanJY directly.

[16:40] <Juerd> Corion: The main problem with freenode is opless channels

[16:40] * theorbtwo shrugs.

[16:40] <Juerd> shapr: It appears you're right.

[16:40] <theorbtwo> Most of the time opless channels work pretty well.

[16:41] <Juerd> Except when they don't

[16:41] <NathanJY> this is a case where it is

[16:41] <NathanJY> it prevents abuse

[16:41] <Juerd> Channels with ops work well in BOTH circumstances.

[16:41] <Juerd> The only danger is packeting

[16:41] <Juerd> Which I simply accept as part of life

[16:41] <Juerd> afk  # dinner

[16:41] <theorbtwo> Ops and free topic changes may be the best circumstance.

[16:42] <theorbtwo> gut appitit, Jured.

[16:42] <NathanJY> I don't understand the kind of zealotry in here

[16:43] <theorbtwo> We don't understand your kind of zealotry either, NathanJY.

[16:43] <NathanJY> what kind of zealotry is that?

[16:43] <NathanJY> The kind that is open minded?

[16:43] <rgs> no, the troll kind.

[16:43] <obra> HNow did this become on topic for #perl6?

[16:43] <NathanJY> In what way am  I a troll?  BEcause I offer a dissenting opinion?

[16:44] <shapr> obra: could you please get rid of NathanJY ?

[16:44] <theorbtwo> I read over the IRC logs of your earlier appearance here.  Nobody seemed terribly openminded.

[16:44] <shapr> Or give me ops and I'll do it :-)

[16:44] <obra> NathanJY: are you interested in helping to develop pugs and perl6?

[16:44] <NathanJY> probably not

[16:44] <theorbtwo> And, indeed, nobody understood the fallicy of calling ad hominem a fallacy.

[16:45] <theorbtwo> Then I suggest you watch.

[16:45] <obra> ok. That's what this channel is really for.

[16:45] <NathanJY> I understand that, which is why I came asking questions

[16:45] <obra> if you've got issues with the folks on #perl, it's probably best to take em up with the freenode ircops

[16:45] <obra> since we can't do anything about them.

[16:45] <NathanJY> they're the same as the ones in here

[16:45] <obra> and traditionally #perl is a place for flamewars and penis jokes.

[16:45] <obra> #perl6 is a place for getting work done.

[16:45] <NathanJY> lol

[16:45] <Corion> obra: #perl6 is not the place for penis jokes?

[16:46] <NathanJY> IRC and getting work done don't belong in the same sentence

[16:46] * Corion switches off his webcam and zips his pants.

[16:46] <NathanJY> Ad Homniem IS a logical fallacy

[16:46] <obra> NathanJY: perhaps not in your corner of IRC, but my company actually finds IRC quite useful for productive work

[16:46] <theorbtwo> It seems to work well much of the time on this chan, Nathan.

[16:46] <obra> so. really, this is off topic here. 

[16:46] <theorbtwo> I have no doubt that the project would move much slower without the use of IRC.

[16:47] <NathanJY> that's what I thought, what he did was a violation of freenode policy

[16:47] <obra> NathanJY: go tell the ircops. not #perl6

[16:48] <obra> We mostly don't care about #perl.

[16:48] <NathanJY> I will

[16:48] <NathanJY> it was someone I argued with in here that +q'ed me in #perl

[16:48] <obra> great. catch you later.

[16:48] <theorbtwo> The 'q' bit is unvoice?

[16:48] <NathanJY> yes it is

[16:49] <NathanJY> I'm not leaving, I came here to ask questions about perl 6 development

[16:49] * Corion waits for the first sentence of NathanJY to end with the char "?"

[16:49] <obra> that's fine. questions about people on #perl being asshats are likely to get someone to +q you here, though.

[16:49] <theorbtwo> Have you read PA01?

[16:50] <theorbtwo> http://svn.perl.org/perl6/pugs/trunk/docs/01Overview.html

[16:50] <theorbtwo> Also http://www.perl.com/pub/a/2005/03/03/pugs_interview.html

[16:51] <NathanJY> actually I was asking ther since it didn't work out here, but anyway.  I was wondering why reinvent the wheel with parrot

[16:51] <NathanJY> they could use an existing VM architecture

[16:51] <obra> NathanJY: go read the parrot faq

[16:51] <NathanJY> yeah I found the docs, they're pretty good, but this is more of a general question

[16:51] <Corion> NathanJY: Why not take that up with the Parrot people?

[16:51] <obra> they cover this pretty explicitly

[16:52] <NathanJY> really?

[16:52] * NathanJY checks

[16:52] <Corion> r2190 - http://datenzoo.de/pugs/win2k.html

[16:52] <theorbtwo> Nathan: There are two sepperate efforts to implement perl6.  One is parrot, which gets talked about on the perl6-internals mailing list.  The other is pugs, which gets talked about here.

[16:53] *** Corion changes topic to: pugscode.org <Overview Journal Logs> | r1773/winxp: 587/4256 smoke/win2k (occasional): http://xrl.us/fqum (22/4453, r2190) Mac OS X (62/4459, r2116) | pugs.kwiki.org

[16:53] <theorbtwo> There is presently not much overlap, but they are expected to grow together somewhat soon.

[16:53] <Corion> Parrot is somewhat bottom up, while Pugs is top-down.

[16:53] <theorbtwo> So if you have questions about parrot, while we are somewhat knowledgeable, we can't speak authoritatively on the matter.

[16:54] <Corion> BTW, are we inching towards preflight or is it OK to add failing tests?

[16:54] <Corion> (I remember reading that autrijus was revamping the whole type system/builtin type system again because of some array parsing clarifications?)

[16:57] <NathanJY> that's certainly a better answer than i got before

[16:58] <Jonathan_> NathanJY: See http://www.parrotcode.org/faq/ - specifically the question "Why your own virtual machine? Why not compile to JVM/.NET?" - help?

[16:59] <Corion> NathanJY: "WTF" is a bad start into any channel, especially if you are the first to utter that three letters that day.

[16:59] <Corion> "day" == "last 6 hours"

[17:00] <Corion> And calling people "only if you're a crack smoking academic pinhead" seldom gets received well if it's aimed at the people you'd like a favourable answer from.

[17:01] <Corion> Not that crack smoking is a habit that people are not accused of, but the notion is generally not well received.

[17:01] <NathanJY> register based instead of stack based...

[17:01] <theorbtwo> Is also covered in the FAQ.

[17:02] <Corion> Hmmm. Tye McQueen suggests the sept() and nov() builtins, so oct() doesn't feel all alone. >:-)

[17:02] <NathanJY> yeah I'm reading out loud

[17:02] <NathanJY> I didn't understand that decision, since I'm not sure they even make stack based architectures much anymore

[17:02] <Corion> NathanJY: I'd prefer you'd stop that. It's bad enough seeing you move your lips while reading.

[17:03] <NathanJY> well it's true

[17:04] <Jonathan_> NathanJY: The JVM is stack based, I believe the .NET VM is too. They're certainly still "making" those. :)

[17:04] <NathanJY> I was referring to hardware

[17:04] <Jonathan_> Ah, OK.

[17:04] <NathanJY> the reason they made those stack based was because of some obscure hardware

[17:05] <NathanJY> hardware which is probably seriously deprecated now

[17:05] <theorbtwo> Hm?  I didn't think hardware had much, if anything, dto do with it.

[17:05] <Corion> NathanJY: You should maybe look at Sparc hardware.

[17:05] <Corion> ... and, of course, learn Forth. The ultimate stack based language.

[17:05] <Corion> (or Postscript)

[17:06] <Corion> ... and use an RPN (HP) calculator.

[17:06] <NathanJY> sparc is primarily stack based?  it doesn't use general registers?

[17:06] <Corion> NathanJY: What are "General Registers" ?

[17:06] <NathanJY> general purpose registers

[17:06] <Corion> NathanJY: How does The Stack differ from General Purpose Registers, then?

[17:07] <NathanJY> are you serious?

[17:07] <NathanJY> Have you down low level programming before?

[17:07] <NathanJY> *doe

[17:07] <NathanJY> *done

[17:07] <Corion> NathanJY: Sparc architecture uses the registers mostly as a cache into the stack, and can (and does) swap out register sets onto the stack.

[17:07] <NathanJY> The reason I saw cited for making the JVM and .NET VM stack based was because of certainc archs

[17:08] <Corion> NathanJY: You should realize that x86 is not the centre of CPU architecture.

[17:08] <Corion> NathanJY: Now, if you know that the JVM decision was based on hardware, consider looking at the history of who designed the JVM, and what hardware they produced.

[17:08] <NathanJY> so they're just stack pointers?

[17:09] <Corion> http://en.wikipedia.org/wiki/SPARC

[17:09] <NathanJY> according to one doc sparc has 32 general purpose registers

[17:10] <Corion> Yes. But they are basically a cache on the stack.

[17:10] <NathanJY> virtual registers?

[17:10] <NathanJY> 8 are global registers

[17:10] * theorbtwo notes that the term "general purpose" seems to be rather abused with reference to registers.

[17:11] <NathanJY> how is it abused?

[17:11] <Corion> NathanJY: What is the difference between a "virtual register", a "memory location", and a "real register" for you?

[17:11] <NathanJY> 8, that's more than x86 has

[17:11] <NathanJY> one is stored in memory, the other is an actual physical register

[17:12] <theorbtwo> I seem to recall some MIPS document I was reading saying that one of the general purpose registrars was hardwired to 0, which does not seem very general-purpose to me.

[17:12] <NathanJY> considering that sparc has 8 physical general purpose regs, I don't see why it would be considered more stack based than other archs like x86

[17:12] <Corion> NathanJY: So, what is a "register", other than a cache for memory?

[17:12] <NathanJY> a register is a special kind of memory

[17:12] <NathanJY> have you studied computer architecture?

[17:12] <Corion> NathanJY: Read the Wikipedia article I linked to, look for the term "register window".

[17:13] <Corion> NathanJY: No, but then again, I don't design on Parrot either.

[17:13] <theorbtwo> You haven't?

[17:13] <NathanJY> physical registers are the "lowest level" memory you can have

[17:13] <Corion> theorbtwo: Well, having a zero always handy is quite convenient, especially if all constants eat up 32bit memory otherwise :)

[17:13] <NathanJY> they're even faster than L1 cache

[17:14] <NathanJY> it seems these stack based ones would be stored in the cpu cache and main memory

[17:14] <Corion> theorbtwo: Nope, only mathematics.

[17:14] <theorbtwo> This is true, Corion, but still not very general, if it's read-only.

[17:14] <NathanJY> theorbtwo: I woudln't consider a read only one general purpose

[17:15] <NathanJY> that would mean they're read/write and you can perform integer arithmetic, at the very least

[17:15] <Corion> theorbtwo: But it saves a lot of memory :)

[17:15] <theorbtwo> I agree, Nathan, thus me considering it an abuse of the term.

[17:15] <NathanJY> the "register window" doesn't negate the fact that there are 8 physical registers

[17:15] <Corion> Anyway. If you want to discuss CPU technology, #perl6 is not really the channel.

[17:15] <theorbtwo> True enough.  I can certianly see the point of having it there.  I just wouldn't call it general purpose.

[17:16] <Corion> NathanJY: The article I linked to (please read it!!!) talks of more than 8 registers.

[17:16] <NathanJY> I know that, you're missing the point though

[17:16] <Corion> Anyway - away,playing with my new toy.

[17:16] <castaway> toys++

[17:17] <Corion> castaway: Indeedy :) I just need to find out how to access it at all, without installing the software :)

[17:17] <theorbtwo> BTW, I'd really call the current parrot design more of a mix of register-based and stack based then either.

[17:18] <theorbtwo> In any case, if you want to talk about parrot, #perl6 is the wrong channel.

[17:18] <NathanJY> anyway, the point is that translating register based bytecode->sparc code woudl be no problem

[17:18] * castaway sighs cos here gadgets are dying like flies, as of late.

[17:18] <NathanJY> I don't know what they are, but I know there are some really weird archs that don't really have general purpose regs at all

[17:19] <NathanJY> everything is done on the stack

[17:19] <theorbtwo> The JVM is like that, for one.

[17:19] <NathanJY> I mean actual hardware, not virtual machines

[17:19] * theorbtwo shrugs.

[17:19] <autrijus> greetings lambdacamels!

[17:20] <theorbtwo> Parrot is a VM.

[17:20] <theorbtwo> Ah, hello, autrijus!

[17:20] <NathanJY> .NET was made stacked based too, supposedly for the same reason--because translating register based bytecode to stack based archs would cause a probelm

[17:20] <autrijus> I'm happy to report I finally prevailed in rewriting everything! ;)

[17:20] <NathanJY> I know

[17:20] * obra snickers

[17:20] <Corion> autrijus++ # rewriting

[17:20] <Corion> autrijus: Committed already?

[17:20] <theorbtwo> How's the cold, or whatever it is?

[17:20] <autrijus> well, still got a bit cold, but gradually recovering

[17:20] <castaway> "E"verything ?

[17:21] <Corion> shapr: BTW, I don't know if castaway told you, but when I get the problem of a compilation failure with "make optimized", I need a "make clean", or I need to wipe src/

[17:21] <Corion> (and "svn up" again)

[17:21] <autrijus> castaway: no, not really, just 19 files out of 30 or so

[17:21] <autrijus> Corion: it's in as r2191

[17:21] <autrijus> now I'm sure it will kill the tree :D

[17:21] * Corion updates

[17:21] * autrijus didn't "make test"

[17:22] * Corion does

[17:22] <autrijus> danke

[17:22] <Corion> autrijus: I thought that's what we're for :))

[17:22] <autrijus> Corion: thanks :))

[17:22] * theorbtwo is glad he figured out how to use retEmpty instead of inlining it.

[17:22] <autrijus> theorbtwo++

[17:22] <castaway> eep!

[17:23] <Corion> Pugs builds again. Now, starting a smoke :))

[17:23] <Corion> autrijus++ # changing the tree and still leaving the build intact

[17:23] <autrijus> Corion: it will probably infinite loop somewhere

[17:23] <autrijus> quicksort loops

[17:23] <autrijus> I'm looking into it

[17:23] <pjcj> slowsort

[17:23] <Corion> autrijus: Ah well - I'm a cpansmoker. I know such stuff.

[17:24] <Corion> Oh. Quite a lot of "pugs: assoc" output. I guess that means that the test failed :)

[17:24] <Corion> And parsefails.

[17:24] <autrijus> pugs:assoc?

[17:24] <Corion> But Test.pm seems to be left intact.

[17:24] <Corion> autrijus: I don't know anything else - the smoke harness doesn't let on more :)

[17:24] <Corion> autrijus: I'll run one offending test without the harness

[17:25] * theorbtwo ponders moving from ghc --make to a real makefile.

[17:25] <theorbtwo> (Would mean it can use both cores.)

[17:25] <Corion> Hmmm. The only output for t\builtins\die.t is "1..3\npugs: assoc"

[17:26] <Corion> autrijus: Dunno what that should signify though.

[17:26] <Corion> Happens on a lot of builtins, but not on all (about every third or fourth fails)

[17:26] <Corion> Let's wait for the smoke to finish

[17:26] <autrijus> yeah.

[17:26] <Corion> Heh. This VoIP box has a preset for eMule/eDonkey right in the firmware :-)

[17:27] <Corion> ... they know their customers it seems :-)

[17:27] <theorbtwo> Sounds nifty.

[17:27] <theorbtwo> I take it you found the IP?

[17:29] <Corion> theorbtwo: Yep - praise Google and the secondary modem :-)

[17:30] <Corion> theorbtwo: And so far, the service by 1und1 was OK - they only gave out some misinformation, and cancelled that misinformation one day later. Other than that, everything works.

[17:30] <theorbtwo> Cool!

[17:32] <theorbtwo> How much is it, all-told, and for-what?

[17:32] <theorbtwo> s/for-/for /

[17:33] <Corion> theorbtwo: tallying

[17:34] <Corion> 35 EUR/mth for the 3MBit/384kbit line, plus 25 EUR/mth for the phone line

[17:34] <Corion> (including flat IP access)

[17:34] <Corion> Oh - t/examples/examples.t is in an infinite loop it seems)

[17:35] <castaway> and the provider?

[17:35] <Corion> castaway: 1und1 / T-Com backbone. I'm still on via T-Com though (until I get the other modem working)

[17:36] <Corion> Oh. All the OO tests seem to fail with "pugs: assoc"

[17:36] <autrijus> ugh, quicksort() was interpreted as a quoting construct.

[17:36] <autrijus> wtf?

[17:36] <autrijus> q:uicksort<>

[17:36] <Corion> qu...u ?

[17:36] <Corion> autrijus: Oh :)

[17:37] <Corion> There's a reason why Perl5 doesn't allow alpha-chars after "q" in quoting constructs :)

[17:37] <castaway> Actual access is included in that? flat rate?

[17:37] <Corion> Hmmm. Seems like I got to load a new firmware before I can change the IP address of that box...

[17:37] <Corion> castaway: Yep. 25EUR/mth for the line, 10EUR or 7EUR for the flat rate

[17:38] <Corion> I should get the 7EUR/mth thing, but I haven't seen the confirmation. Hmm. I should simply go and look.

[17:38] <theorbtwo> IIRC that's both much cheaper and much better then what we have now.

[17:38] <Corion> theorbtwo: Which was the reason why I took the plunge.

[17:38] <Corion> It's three times the speed from what I have now, plus shiny toy, and cheaper than what I pay now.

[17:39] <Corion> And 1und1 have a good web front end to all their services. Just pray you don't need a human to clear things.

[17:39] <theorbtwo>  /we may change after you've guinea-pigged for a few weeks.

[17:40] <Corion> And VoIP -> POTS within Germany is 0.01EUR/min - cheap (not that you'll need it)

[17:40] <Corion> theorbtwo: Yeah :-) I'm doing that guinea pig thing for a lot of people. I should activate my 1und1 reseller thing and get a commission :)

[17:41] <Corion> They seem to throw a homepage account and email account and some other useless junk into the deal as well.

[17:41] <Corion> Not that I care.

[17:42] * Corion considers unplugging one modem and plugging in the other.

[17:43] <theorbtwo> I used to think our service was pretty good.  Then they started getting much much worse about 6 months ago.

[17:43] <castaway> oh, thats phone included ?

[17:43] <castaway> (as in, both or nothing)

[17:44] <castaway> Corion, german quiz out of my magazine: "Grossen eindruck machen" bedeutet, jemandem zu: a) impraegnieren, b) importieren, c) imponieren :)

[17:45] <Corion> castaway: No. My phone (ISDN) line is still with DTAG

[17:45] <Corion> castaway: :))

[17:45] <castaway> ah

[17:46] <Corion> castaway: But now I have the option of doing VoIP -> POTS, which T-Online only offered recently, and more expensive, and I didn't have the bandwidth

[17:46] <Corion> (because with 3Mbit/384, telephoning should have much less latency :))) )

[17:46] <castaway> ah ok

[17:46] <Corion> ... while there's a torrent outside of the window :)

[17:46] <castaway> bittorrent? ;)

[17:46] <Corion> err - tornado, I wanted to say, obviously. Like flogging a dead donkey.

[17:47] * castaway frowns

[17:47] <castaway> 25 for phone? we're paying an average of 40 (and hardly using it)

[17:48] <castaway> thats including tax?

[17:48] <Corion> castaway: For the naked two ISDN lines I think I pay 25EUR. And since I guess that most of my future calls will go out via VoIP, that won't be much more.

[17:48] <Corion> castaway: Yep - I always think of prices as including tax :)

[17:49] <Corion> castaway: I have to do the exact tallies soonish 

[17:49] <castaway> odd then, we have bog std ISDN (I hope/think)

[17:50] <theorbtwo> Ah.  The prices you're paying sound almost reasonable.

[17:50] <crysflame> i cannot wait for aacplus voip

[17:50] * Corion goes looking at the invoices.

[17:50] <crysflame> 48kbi/s carries somafm at cd quality

[17:50] <crysflame> imagine how little voice takes

[17:50] <crysflame> speaking of

[17:50] <theorbtwo> crys: The problem is not actually bandwidth so much as latency and constancy.

[17:52] <Corion> Ah. No. I pay 30EUR/mth for the ISDN lines (DTAG). Plus 20EUR/mth for DSL1000 line (DTAG), plus 30EUR/mth for the flatrate (DTAG).

[17:52] <castaway> ahh

[17:52] <castaway> and after?

[17:52] <crysflame> theorbtwo: constancy?

[17:52] <Corion> Now I'll pay 30EUR/mth for the ISDN lines (DTAG), 25EUR/mth for the DSL300 line (1und1), plus 7 EUR/mth for the flatrate (1und1)

[17:52] <theorbtwo> The quality characteristics of the connection shouldn't vary over time much.

[17:53] <Corion> So I basically go from 50EUR/mth for IP connectivity to 32EUR/mth for (better) IP connectivity.

[17:53] <crysflame> so the way that aacplus gracefully degrades as packets are dropped, like realaudio, as opposed to introducing static, like mp3, would be a dramatic advantage over mp3 encoding of voice

[17:53] <Corion> s!'ll!'m going to! # as my english teacher tries to teach me

[17:54] * theorbtwo shrugs.

[17:55] <castaway> *g*

[17:58] * castaway cant find the dsl-line payments in the bankapp..

[18:01] <autrijus> how's the smoke?

[18:04] <Corion> updated - sorry :)

[18:05] <Corion> r2191 - http://datenzoo.de/pugs/win2k.html

[18:05] <autrijus> np :)

[18:05] <Corion> ... and it's red :)

[18:05] * autrijus braces for impact

[18:05] <Corion> 2198 ok, 2135 failed

[18:05] <Corion> :-)

[18:05] <autrijus> that's... very red

[18:05] <Corion> Most of the failures are parsefails that prevent the test from starting at all.

[18:06] <Corion> That ominous "pugs: assoc"

[18:06] <Corion> thing.

[18:06] <autrijus> got it.

[18:10] * autrijus summons unsafePerformIO

[18:10] <autrijus> should be fixed now as r2193 :)

[18:10] <autrijus> mind starting a new round?

[18:10] <autrijus> I'll investigate real failures now

[18:10] <Corion> autrijus: updated to r2193

[18:10] <Corion> rebuilding

[18:11] <autrijus> GHC++ # unsafePerformIO

[18:13] <Corion> Looks much better now. Two parsefails in t\builtins\io\io_in_while_loops.t / t\builtins\io\io_in_for_loops.t

[18:13] * castaway wonders idly if Corion has any Welle Erdball

[18:13] <Corion> (the rest seems to pass/fail within Harness, so I can only comment about that later)

[18:13] <Corion> "Welle Erdball" ?

[18:14] <castaway> yes.. its music, of a sort

[18:14] <autrijus> I should give more ominous error messages in the future

[18:14] <autrijus> like "values of ] will give rise to dom!"

[18:14] <castaway> DOM ?

[18:14] <hattmoward> ++

[18:14] <theorbtwo> That'd be in the POD parser?

[18:14] <autrijus> lol :p

[18:17] <Corion> I should make an Ajax app, so you all can watch my smoke test progress :)

[18:18] * castaway wonders if "Ngugen" means anything, or its just a popular surname..

[18:18] <Corion> castaway: I know "Nguyen" as a surname

[18:18] <castaway> oops, may have miscopied

[18:19] <Corion> t/examples/examples.t still has an infinite loop.

[18:21] * theorbtwo wonders what unsafePreformIO has to do with it.

[18:22] <Corion> theorbtwo: Debugging tool :)

[18:22] <Corion> theorbtwo: Like printf () :)

[18:22] <Corion> err - (printf ...)

[18:22] <theorbtwo> Er, that'd be trace.

[18:22] <theorbtwo> trace (do this) (return this)

[18:22] <Corion> theorbtwo: Hmmm. True. trace() uses unsafePerformIO...

[18:23] <theorbtwo> No, though, he's doing unsafePreformIOs on AST.hs lines 1097-8.

[18:23] <Corion> theorbtwo: Ah... Let's assume he knows what he's doing there, then ;)

[18:26] <autrijus> :p

[18:26] <autrijus> theorbtwo: Rule isn't in Eval yet.

[18:26] <theorbtwo> Oh, that makes sense then.

[18:27] <autrijus> so to read from ICode I need to do some readonly trick.

[18:27] <autrijus> it's safe, too, so I'm not too worried.

[18:27] * theorbtwo shrugs.

[18:27] <theorbtwo> I do tend to assume that autrijus knows what he's talking about... but it would be nice if it made sense to me.

[18:27] <theorbtwo> Why it is safe?

[18:28] <autrijus> because during Parse time the content of Ref won't change.

[18:28] <autrijus> the problem of unsafePerformIO is:

[18:28] <autrijus> 1. you can't control when it will run

[18:28] <autrijus> 2. you can't control how many times it will run

[18:28] <autrijus> but in our case, since we are merely reading from tabulaRasa

[18:28] <autrijus> and it won't change during the parse

[18:28] <autrijus> (since we don't have BEGIN)

[18:28] <theorbtwo> Ah, but in this case it really is pure, the language just doesn't know it.

[18:28] <autrijus> then we don't care about 1. and 2. 

[18:28] <autrijus> yes.

[18:29] <Corion> r2193 - http://datenzoo.de/pugs/win2k.html

[18:29] <Corion> 4206 ok, 134 failed

[18:29] <Corion> Much better :)

[18:30] <Corion> Oh. And one unexpected success - is rw seems to work better now :)

[18:30] <theorbtwo> Much better indeed.

[18:30] <Corion> Ah. The parser seems to understand "is rw" now. :)

[18:31] <autrijus> =)

[18:32] <Corion> I'll go offline now and switch the modems around. Hopefully I'll be back in a few minutes, using my new provider. :)

[18:33] <castaway> good luck!

[18:53] <stevan> autrijus: I am going to pick up a Haskell book on my way home from work tonight

[18:53] <autrijus> stevan: ooh. which?

[18:53] <stevan> I was going to ask you which one :)

[18:53] <stevan> I doubt they will have Algorithms

[18:54] <stevan> so which is better

[18:54] <stevan> Craft or School?

[18:54] <autrijus> if have to make a choice... School I think

[18:54] <stevan> ok

[18:54] <autrijus> but Algorithms is really more recommended... although you know that :)

[18:54] <stevan> its also more expensive :)

[18:56] <stevan> although maybe if they have it there, I wont be able to resist :)

[18:57] <Corion> I live again! :)))

[18:58] <castaway> yay!

[18:58] <Corion> Now for the fun part of actually configuring the box :)

[18:59] <theorbtwo> Welcome back to the land of the ip-addressable.

[19:02] <castaway>  /me points Corion at RTL

[19:02] <castaway> (bikes ,)

[19:03] <Corion> Hmmm. This box even has a ddns client built-in - nifty. (No wonder though, as it is a linux box)

[19:03] <theorbtwo> Blatant Charlie's Angles ripoff.

[19:03] <Corion> castaway: I don't have a TV. I would have to go over into my fathers room ;)

[19:03] <castaway> ah, shame.. its kinda funny tho

[19:03] * Corion goes look

[19:03] <theorbtwo> What happened to that media box you bought a couple months ago.

[19:03] <theorbtwo> s/\./?/

[19:03] <theorbtwo> It's on commercial at the moment.

[19:04] <Corion> yeah. Commercials.

[19:04] <Corion> theorbtwo: I didn't buy it yet.

[19:07] <castaway> oooh a fuzzy bear?

[19:10] <castaway> commercials over!

[19:10] <castaway> bro!

[19:10] <mj41> WinXP, Linking ... src/Main.o(.text+0x22ca):ghc2096.hc: undefined reference to `PugsziEval_a6_closure'

[19:10] <castaway> brrrrmm

[19:13] <theorbtwo> You might want to try a make clean.

[19:13] <mj41> hmm ... i deleted src/Main.o .hi  and seems ok now 

[19:14] <mj41> my _go.bat do make clean, i think

[19:15] <broquaint> Hey, c.

[19:15] <castaway> ooh life :)

[19:15] <broquaint> Is there some kind of page, or some such, that has a list of software to get this pugs dealie running?

[19:15] <castaway> where you living these days, btw?

[19:15] <broquaint> The big L.

[19:15] <castaway> GHC 6.4

[19:15] <theorbtwo> broquaint: GHC 6.4

[19:16] <castaway> umm, yup, but which part? (the L being sizable ,)

[19:16] <theorbtwo> Everything else is optional or included.

[19:16] <broquaint> Wow, nifty.

[19:16] <broquaint> Time for some downloading. Thank theorbtwo, castaway.

[19:17] <broquaint> s/nk/nks/

[19:17] <broquaint> Cool, the Haskell page doesn't look like an academic web page from 1994 anymore.

[19:23] <Corion> broquaint: :)

[19:24] <Juerd> re

[19:28] <stevan> hmmm, many undefined symbols when compiling pugs. I `make clean`-ed first and tried both make and make optimized

[19:41] <Corion> Oh. rx:perl5 was broken.

[19:41] <Corion> Which makes the smoke output a bit ugly :)))

[19:42] <Corion> So that's supposed to be fixed via perl -i.bak -pe 's!rx:perl5!rx:P5!g' # right?

[19:42] * Corion now has a VoIP phone. Yay :)

[19:44] <castaway> ooh

[19:46] <broquaint> Holy crap it works.

[19:47] <Corion> Now I just need to find out how to do VoIP <-> VoIP calls without going through the provider :)

[19:48] <castaway> grats bro!

[19:48] <Corion> Hah. THe smoke test smoked out one test that doesn't use Test.pm ! Bad test! :)

[19:48] <castaway> grats bro!

[19:49] <Corion> stevan: Nuke src/ and check out again...

[19:49] <Corion> Grr. I find a good torrent website and the day after that, it goes offline.

[19:50] <broquaint> Thanks, c :) It's amazing what people gegt

[19:50] <broquaint> s/gegt/get up to when I'm away ;)/

[20:01] <Corion> Hmmm. Does r2197 work for anybody? I get failures in Test.pm due to "Perl 6 rules is not implemented yet, use :P5", but before I start digging ...

[20:01] <mj41> pugs t\statements\for.t   Perl 6 rules is not implemented yet, use :P5  Val (VStr "\\\\")

[20:01] <mj41> same with nmake test

[20:02] <broquaint> So ... just implement Perl 6 rules?

[20:02] <stevan_> Corion: I cannot even get 2197 to compile :)

[20:03] <Corion> stevan_: rm -rf src/ ; svn up # doesn't work for you?

[20:03] <Corion> broquaint: :)

[20:03] <theorbtwo> I get the same error, Corion.

[20:03] <stevan_> Corion: I will give that a try

[20:03] <Corion> Pugs did have P5 regexes :)

[20:04] <Corion> Ah. So it's not just me. Comforting :)

[20:04] <broquaint> Now if we just implement Perl 6 rules in Prolog and integrate that with the Haskell implementation of Perl 6, we'l have ... trouble.

[20:05] <autrijus> :p

[20:05] <theorbtwo> Sounds scary.

[20:05] <autrijus> that :P5 Val thing is fixed

[20:05] <autrijus> committing

[20:05] <Corion> autrijus++

[20:06] <Corion> Hmmm. Now I can safely remove my old T-Online email address (that I never gave out anyway :) )

[20:07] <theorbtwo> autrijus, have anything on PA02?

[20:07] <theorbtwo> The rules error seems gone.

[20:08] <Corion> Smoke now proceeds :)

[20:11] <stevan_> are we still planning 6.2.1 for to(day|night)?

[20:14] <mj41> new tutorial generator needs   t\statements\for.t    ( failed 10 tests of 23, not ok 23 - for @list -> $num is rw { $num++ } # TODO )

[20:15] <mj41> at least :-)

[20:18] <mj41> has anybody have r205? test result for statement/for.t ?

[20:20] <ingy> Perl6-Bible-0.15 released to cpan 

[20:20] <Corion> mj41: You mean, I should make my smoke tests browseable by date/time? Not a bad idea actually ...

[20:21] <Corion> Except that the links to the test files would become stale. But who cares about that ...

[20:23] <theorbtwo> You could keep around a test tree for each version.

[20:23] <theorbtwo> But I'm not sure it's worth the disk space.

[20:23] <theorbtwo> You can always svn up -r2050 and get it again.

[20:24] <Corion> r2198 - http://datenzoo.de/pugs/win2k.html

[20:24] <Corion> theorbtwo: Yep, it's not worth it IMO.

[20:24] <Corion> 214 failed

[20:26] *** theorbtwo changes topic to: pugscode.org <Overview Journal Logs> | r2198/winxp: 214/4340 smoke/win2k (occasional): http://xrl.us/fqum/me wonders (22/4453, r2190) Mac OS X (62/4459, r2116) | pugs.kwiki.org

[20:26] <theorbtwo> D'oh, changed the wrong one.

[20:26] *** theorbtwo changes topic to: pugscode.org <Overview Journal Logs> | r1773/winxp: 587/4256 smoke/win2k (occasional): http://xrl.us/fqum (22/4453, r2190) Mac OS X (62/4459, r2116) | pugs.kwiki.org

[20:27] *** theorbtwo changes topic to: pugscode.org <Overview Journal Logs> | r1773/winxp: 587/4256, smoke/win2k (occasional): http://xrl.us/fqum (214/4453, r2198) Mac OS X (62/4459, r2116) | pugs.kwiki.org

[20:30] <mj41> Corion: Browsable and with diffs ... http://wiki.kn.vutbr.cz/mj/index.cgi?diff_revision=1.1&action=Diff&page_id=Pugs+on+MS+Windows+-+actual+test+results&current_revision=1.5&last_revision=1.5

[20:38] <mj41> mj is confused, r2069 "-> $val is rw" failed too, duno how he debuged new tutorial_gen few days ago

[20:40] <theorbtwo> Time to get my eyes off of the screen.

[20:41] <Juerd> Need a spatula?

[20:42] <nothingmuch> evening

[20:42] <stevan_> hey nothingmuch 

[20:42] <stevan_> strange it seems that the t/force_todo file is no longer getting read

[20:42] <stevan_> with the latest version

[20:43] <nothingmuch> what's up?

[20:43] * nothingmuch is so out of date

[20:46] *** _metaperl is now known as metaperl

[20:47] <stevan_> oh,.. I see why

[20:47] <stevan_> hmmmm

[20:47] <stevan_> $?FILE is no longer reporting the test file name... but Test.pm instead

[20:47] <stevan_> hmmm

[20:47] <stevan_> do we have a proper module container now?

[20:49] <stevan_> oh well... all the more reason to remove the t/force_todo file

[20:53] <ninereasons> <mj41> as anybody have r205? test result for statement/for.t ?

[20:53] <ninereasons> I can get you 2048, or 2090, would that help?

[20:56] <mj41> I am madman ... r2055 for.t failed ... but  few days ago .... http://wiki.kn.vutbr.cz/mj/attach/pugs/fool/ctest.p6

[20:57] <broquaint> Could someone point me to documentation for the IO operators, a la =$io etc?

[20:58] <mj41> ninereasons: for.t test results? r2048 please 

[20:58] <ninereasons> ok, mj41, I'll run it and let you know

[21:00] <mj41> or  pugs -e "my %h = hash ( a => 1, b => 2 ); for %h.values -> $val is rw { $val = 10; }"

[21:01] <ninereasons> Can't modify constant item

[21:01] <ninereasons> Val (VInt 10)

[21:02] <ninereasons> looking on another machine for other versions around that time.

[21:03] <ninereasons> nope. sorry, mj41 those are the nearest that i have to r205x 

[21:05] <mj41> i found r1900 - t/statements/for.t                              23    1   4.35%  23

[21:06] <mj41> r2198 - Looks like you failed 10 tests of 23

[21:12] <ninereasons> 2048 fails 11 of 23 

[21:14] <stevan_> a number of these "new" failures are because t/force_todo is no longer being read 

[21:15] <mj41> never mind, I will wait for "is rw" once more :-)

[21:18] <stevan_> those tests in for.t were forced-TODO

[21:18] <stevan_> so they were always failing,.. they only just now showed up because $?FILE was changed/fixed

[21:21] <mj41> stavan_: ee ... i do s/todo_// and unlink force_test ... see http://wiki.kn.vutbr.cz/mj/index.cgi?Pugs%20on%20MS%20Windows%20-%20tests and only 23 failed

[21:23] <stevan_> mj41: is that for r1900?

[21:24] <mj41> but nmake test use C:\Perl6\lib , and i didn't do make install ... so may be buggy

[21:24] <mj41> yes r1900

[21:24] <Corion> "make install" isn't necessary, but "make" is, so blib6/lib gets created

[21:25] <ninereasons> hm.  for my r1877 and r1919, the results are exactly the same as current, mj41 

[21:27] <mj41> trust me ... ctest.p6 ran ok :-)

[21:27] * ninereasons trusts everyone.

[21:27] <ninereasons> just enjoying the mystery, mj41 :-)

[21:28] <stevan_> Corion: I am seeing a bunch of tests breaking which I hadnt seen before,.. is that normal

[21:28] <stevan_> I am trying to test the removal of the t/force_todo code,.. so I want to be sure all is well before I svn commit

[21:28] <Corion> stevan_: autrijus has been reworking some internals, so there might be intermediate failures

[21:29] <stevan_> Corion: ok, sounds good then

[21:29] <stevan_> well I am going to let this test run finish, then I am going to commit the new Test.pm

[21:29] <stevan_> with removed t/force_todo functionality

[21:29] <stevan_> and also a bunch of chnages to test files

[21:29] <stevan_> if they were listed in t/force_todo, then I added a force_todo() call in them

[21:30] <stevan_> this might actually make the test run a little bit faster since we never need to read t/force_todo anymore

[21:30] <Corion> stevan_: Nice idea!

[21:30] <mj41> stevan++

[21:31] <ninereasons> but does that divert from the 'central maintenance' goal?

[21:31] <mj41> without force_todo tests refactoring is easier

[21:31] <stevan_> ninereasons: central maintence was not really working IMHO

[21:31] <stevan_> and since we have soo many test files

[21:32] <stevan_> I actually think maintaing on a per file basis will be easier

[21:32] <ninereasons> it's certainly worth a try

[21:33] <Corion> I think local maintenance is better, as we seem to keep most tests in force_todo status anyway.

[21:33] <stevan_> thats why SVN is so great :) if it doesnt work,.. svn up -r 2199

[21:34] <stevan_> if I get a chance tonight, I am going to remove the todo_* functions in favor of a 'todo' named parameter as well

[21:34] <stevan_> which will slim down Test.pm (again hopefully making the test run a little faster)

[21:34] <ninereasons> so, have you already gone through all those tests, and added the new force_todo() calls , stevan_ ?

[21:34] <stevan_> ninereasons: yes

[21:35] <ninereasons> wow.

[21:35] <stevan_> I am commiting now actually

[21:35] <stevan_> ninereasons: the real PITA will be converting the todo_* calls to use the named param

[21:37] <ninereasons> what's ext/Test/t/2-force_todo.t ?

[21:37] <stevan_> ok r2200 up,... no more t/force_todo

[21:37] <stevan_> ninereasons: that tests the functionality,.. 

[21:37] <stevan_> svn up to see the latest version though

[21:38] <ninereasons> ah. I see.

[21:38] <stevan_> very simple,.. much like plan()

[21:38] <stevan_> force_todo(1, 2, 3 .. 10);

[21:38] <ninereasons> yeah.  this looks like it will work great

[21:39] <stevan_> ninereasons: thanks :)

[21:39] <stevan_> ok,.. its time for me to drive home... have a good one all

[21:39] <ninereasons> bye; stevan++

[21:41] <Corion> the r2199 smoke has landed (and I won't run any more smoke tests within the next 24 hours I guess :) )

[21:45] <mj41> good night

[21:59] <stevan_> nothingmuch: ping

[21:59] <nothingmuch> pong

[22:27] <Limbic_Region_> anyone with the time/energy to explain to me what the 2000 line patch autrijus checked in today means?

[22:28] <broquaint> Fixed context when functions return, I think.

[22:30] <broquaint> So one instead of the one type that was previously the 3 seperate contexts are now supported. Or at least that what I've interpreted from the use.perl.org posts.

[22:30] * Limbic_Region_ should just read the IRC log

[22:31] * Limbic_Region_ is T-I-R-E-D though

[23:50] <Limbic_Region_> out of curiosity, how many tests were failing in the smoke before the 2k line patch to fix context?

[23:52] <broquaint> Only a couple, I think.

[23:54] <Limbic_Region_> ok - but comparatively speaking  4340 test cases: 4162 ok is pretty good

[23:55] * Limbic_Region_ is continously amazed by this project

