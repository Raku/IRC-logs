[01:17] <stevan> nothingmuch: does that fact example work?

[01:17] <stevan> if so, you should put in examples/fp.p6

[01:17] <stevan> and even if it doesnt work you should do that anyway :)

[01:48] * Alias_ officially nicknames Larry's idea of o.method and c.something "The OC"

[01:49] <Alias_> I think naming that feature after a bad soap oddly appropriate

[01:51] <Odin-LAP> Heh.

[01:51] <Odin-LAP> It's an interesting idea, though.

[01:52] <Alias_> "So if I want to call a normal public method, I use .method ... or $_.method ... or o.method?"

[01:53] <Khisanth> hrm why not just method;?

[01:54] <kolibrie> stevan, wondering if my patch for logging test output got to you

[01:54] <Alias_> Khisanth: method; is a function

[01:55] <Khisanth> .method too?

[01:55] <chip> anybody live know the parameter syntax well?

[01:55] <Alias_> Well $_ would still refer to the invocant, and .method is $_.method

[01:55] <Alias_> unless $_ is no longer the invocant

[01:55] <chip> it's not

[01:55] <Alias_> what?

[01:55] <jabbot> Alias_: what is the name in From: ? :)

[01:56] <Alias_> when did $_ stop being the invocant?

[01:56] <Alias_> speaking of which, 1 minute until 11111111111

[01:56] <Alias_> err... two minutes

[01:56] <Odin-LAP> This is coming up on every damn channel. ;)

[01:57] <Alias_> heh

[01:57] * Alias_ imagines Freenode exploding as a trillion messages hit the server at once

[01:59] <kolibrie> anyone know how to specify in the Makefile.PL an environment variable to be set before running tests

[02:12] <markstos> kolibrie: maybe: $ENV{MYVAR} = 'foo'; ?

[02:13] <kolibrie> well, that would set it while Makefile.PL runs

[02:13] <kolibrie> I want it to set something when make itself is running

[02:18] <kolibrie> I'll check back in later, in case anyone knows

[02:25] <Alias_> Can someone tell me what "huffmanwise" means in language design context?

[02:27] <Odin-LAP> Alias_: Often-used things should be short.

[02:28] <Alias_> So when people prefer .method as $_.method over .method as $self.method, the assumption is that $_.method is more common than $self.method?

[02:28] <Odin-LAP> Something like that.

[02:28] <Alias_> Has anyone checked if that's true?

[02:29] <Odin-LAP> How? ;>

[02:29] <Alias_> grep CPAN?

[02:34] <autrijus> Alias_: well, the assumption is that, if outermost $self is called $_, $_.method is more common than $self.method.

[02:35] <autrijus> which may or may not be true.

[02:35] <Alias_> We are gunna have to ditch $_ as $self

[02:35] <Alias_> I'm not sure I see a way around it

[02:35] <autrijus> I am already firmly of the o camp now :)

[02:35] <Alias_> You know o is just a workaround right?

[02:36] <autrijus> hm?

[02:36] <Alias_> Well... it's one of three solutions

[02:36] <Alias_> I posted my concerns to p6l

[02:36] <Alias_> Since when did we start forcing invocant names on people

[02:37] <autrijus> er. no.

[02:37] <autrijus> you can call your invocant whatever way you want.

[02:37] <Alias_> except that it's also called o

[02:37] <autrijus> yes.

[02:37] <Alias_> and do we keep $_ as $self?

[02:37] <autrijus> my ($self, $foo, $bar) = @_;

[02:37] <autrijus> here invocant is also known as $_[0].

[02:38] <autrijus> not sure if it bothered anyone

[02:38] <Alias_> My problem is the same as with the Apache:: crap that went on

[02:38] <Alias_> It's a workaround that makes the total solution more complex

[02:38] <autrijus> inconsistency in style?

[02:39] <autrijus> so. wait

[02:39] <Alias_> We are fixing a problem by adding something, when there's a perfectly useful and more symmetrical solution

[02:39] <autrijus> other languages has a consistent name for invocant

[02:39] <autrijus> "this" or "self"

[02:39] <Alias_> right

[02:39] <Alias_> Except we don't, but we do

[02:39] <autrijus> we sort of settled to $self

[02:39] <Alias_> It's internally inconsistant

[02:39] <autrijus> but that is not a reserved word

[02:39] <autrijus> it's just another variable.

[02:39] <Alias_> Either we _do_ have a consistant invocant, or we don't

[02:39] <Alias_> true

[02:40] <autrijus> So what is really wrong about have a consistant invocant of "o"

[02:40] <autrijus> and forgetting $_?

[02:40] <Alias_> because we say we don't?

[02:40] <autrijus> who says who don't? I say we do :)

[02:40] <Alias_> If we want a consistent invocant, why not just use $self?

[02:40] <autrijus> or "self" for that matter

[02:40] <autrijus> huffmanization I'd wager.

[02:41] <Alias_> GETTING SICK OF HUFFMANIZATION

[02:41] <autrijus> self.refresh(self.foo() + self.bar(123))

[02:41] <autrijus> o.refresh(o.foo() + o.bar(123))

[02:41] <autrijus> well.

[02:42] <autrijus> if "o" is called "self"

[02:42] <autrijus> will that make your worries go away? :)

[02:42] <Alias_> If larry does the full change in direction, I'm cool with it

[02:42] <markstos> I like 'o'. I could get used to it. I thought "$self" was strange ast first, but I got used to that.'$self' is sort of like 'that thing'. It might as well be called "o". 

[02:42] <Alias_> markstos: It's the piecemeal nature

[02:43] <autrijus> markstos: exactly my feeling.

[02:43] <Alias_> core things should be symmetrical and universal

[02:43] <Alias_> I'm cool with o.method if we also...

[02:43] <autrijus> Alias_: if you grep CPAN I expect you to find that $self is only used for 80% or so of people.

[02:43] <markstos> What can be more symetrical than a circle? "o"? :)

[02:43] <Alias_> 1. $_ is not the first invocant

[02:43] <autrijus> I've seen modules that uses $this, $dbh, $object

[02:43] <Alias_> 2. We don't need method foo ( $self: ) any more

[02:44] <Alias_> What I'm saying is, if we are going to standardise the invocant, lets REALLY standardise it

[02:44] <autrijus> 1. sure

[02:44] <autrijus> 2. of course; method foo ($arg1, $arg2) works

[02:44] <Alias_> No, lets forbid it

[02:44] <Alias_> Because it's no longer needed

[02:44] <autrijus> but you can always use

[02:45] <Alias_> "You can use $self:, but the invocant is also at 'o' still

[02:45] <autrijus>     my $self := o;

[02:45] <autrijus> oh sure!

[02:45] <autrijus> o always works.

[02:45] <Alias_> ugh ugh

[02:45] <autrijus> even if you say

[02:45] <Alias_> I'd be cool without making them do 'my $self := o;'

[02:45] <autrijus> method foo ( $inv1, $inv2 : $arg1, $arg2 ) {...}

[02:46] <autrijus> $inv1 is still known as o

[02:46] <autrijus> there's no way around that short of redefining &*o.

[02:46] <Alias_> my point is that is we are going to do 'o', lets REALLY do it

[02:46] <autrijus> yes. yes. I 100%, no, 1oo% agree

[02:46] <Alias_> It's this "have your cake and eat it too" smell that mod_perl created that I hate

[02:46] <autrijus> totally.

[02:47] <Alias_> "You can name the invocant anything you like, but it's o, even if you name it something else"

[02:47] <autrijus> care to post this two points to p6l?

[02:47] <autrijus> I need to run to $work now

[02:47] <autrijus> Alias_: very well put.

[02:47] <chip> um, in    method foo ($x)    is $x the invocant or not?

[02:47] <autrijus> chip: no. it is the arg.

[02:47] <Alias_> no, it's an arg

[02:47] <chip> OK

[02:47] <autrijus> method foo ($inv: $x)

[02:47] <autrijus> the : separates inv with arg

[02:47] <Alias_> If you want to name the invocant something other than $_, you use $invocant:

[02:48] <autrijus> except I think it's safe to drop the $_ aliasing now.

[02:48] <chip> So multi method pretty much has to be declared with a ":" somewhere

[02:48] <Alias_> That's the problem with o

[02:48] <Alias_> There's multi-invocant methods...

[02:49] <autrijus> o[1] ;)

[02:49] * Alias_ cries

[02:49] <Odin-LAP> "have your cake and eat it too" is a defining feature of Perl.

[02:49] <markstos> "Little O notation?"

[02:49] <chip> the invocants should be 'me', 'you', and 'him'

[02:49] <Alias_> No, TMTOWDTI is the defining feature of Perl

[02:49] <markstos> her?

[02:49] <autrijus> it.refresh;

[02:49] <chip> sub &her := \&him

[02:49] <Alias_> It's fine to have multiple ways, it's not fine to have multiple ways that are internally inconsistent and confusing

[02:49] <Odin-LAP> Alias_: Pluralism is one, too. There's no single defining feature.

[02:50] <Odin-LAP> ;)

[02:50] <chip> Guys, guys.  Pluralism is only ONE of our values!

[02:50] <autrijus> I thought that feature is "Practical" :)

[02:50] <Alias_> People can only keep a maximum of 5 things in their heads

[02:50] <Alias_> Context is a limited resource

[02:50] <Odin-LAP> chip: ;)

[02:50] <autrijus> I can do 7 (9 with caffeine)! :)

[02:50] <chip> The smart monkeys have to stop making tools that the average monkeys can't handle

[02:50] <Alias_> chip++ # exactly!

[02:51] <rjbs> chip++

[02:51] <Alias_> It's the idea behind Java and python

[02:51] <Alias_> Java is C++ that the average monkeys can handle

[02:51] <Alias_> python is perl that the aeverage monkeys can handle

[02:51] <rjbs> I don't know about that.

[02:51] <chip> >>quotes

[02:51] <autrijus> and guido is proposing to dropping map{} and grep{}

[02:51] <rjbs> The perl that average monkeys can handle is baby talk perl.

[02:51] <autrijus> because avgmonkey can't handle them.

[02:51] <autrijus> not thinking that's the way to go.

[02:51] <rjbs> "We won't laugh at you if you use baby talk." -- Larry

[02:52] <Alias_> rjbs: Maybe that was a bit extreme

[02:52] <Alias_> :)

[02:52] <rjbs> as long as baby talk exists, perl is perl

[02:52] <rjbs> well, ok, there's more to it, but. ykwim

[02:52] <Alias_> Personally, I think that the forcing of second sigils is the same as python, just an odd place to do it

[02:52] <Alias_> "We are going to force you do something, so you don't forget"

[02:53] <Alias_> except instead of aligning whitespace, we have to specify whether we want a public or private method

[02:53] <autrijus> you mean $?VAR ?

[02:53] <autrijus> oh. $:foo and $.foo

[02:53] <rjbs> It also expands the range of usefulness of the name itself.

[02:53] <Alias_> Can you have both?

[02:53] <Alias_> (btw)

[02:53] <autrijus> sure.

[02:53] <autrijus> then the public accessor does $.foo

[02:53] <Alias_> oh... that's a bit different then

[02:53] <rjbs> $ and @ in p5 don't just say "scalar" or "array" they also mean you can have a @foo /and/ a $foo, so using 'foo' isn't limited to one

[02:53] <autrijus> you can use both internally.

[02:53] <rjbs> right

[02:54] <autrijus> sometimes they even may be useful.

[02:54] <Alias_> So now we can have 15 variables with the same name?

[02:54] <rjbs> basically

[02:54] <Alias_> are there globs still?

[02:54] <autrijus> nope.

[02:54] <rjbs> RIP

[02:54] <autrijus> globs are replaced with :=

[02:54] <ingy> ola

[02:54] <Alias_> I'm getting scareder and scareder

[02:54] <rjbs> ？ola, ingy!

[02:55] <ingy> hi rjbs 

[02:55] <rjbs> itym scardeder. :)

[02:55] <autrijus> ola ingy

[02:55] <Alias_> Huffmanism can be bad 

[02:55] <rjbs> Alias_: but "can" and "will" are two different things

[02:55] <Alias_> There's a reason we don't edit zip files directly

[02:55] <autrijus> nice to see that conway decloaked for kwid

[02:56] <Alias_> I also don't understand why people don't like $_.method

[02:56] <autrijus> Alias_: the golf force and the biz force is always at a tension. :)

[02:56] <Alias_> true

[02:56] <autrijus> the challenge is to find the Middle Way

[02:57] <Alias_> Unfortunately, the attitude of Perl 6 seems to be the biz force have no say

[02:57] <autrijus> because making either side inconvenient means losing lots of things.

[02:57] <autrijus> really. I thought this entire rethink of OO system was done for biz forces :)

[02:57] <autrijus> and rules, for that matter.

[02:57] <Alias_> true, but the syntax is a golf-only zone

[02:58] <rjbs> So, what's the $_.method controversy that's going on?

[02:58] <jabbot> rjbs: 4100 美金 等於 127264 新台幣

[02:58] <autrijus> post to p6l more and that could change :)

[02:58] <rjbs> whether .method goes to self or topic?

[02:58] <Alias_> rjbs: The root problem is that $_ is being used too heavily

[02:58] <autrijus> rjbs: aye. o.method is currently larry's solution

[02:59] <autrijus> gotta go. &

[02:59] <rjbs> autrijus: chau

[02:59] <Alias_> rjbs: $_ current is both the default $self, and the current map { $_ }

[02:59] <rjbs> oh, that's weird.

[02:59] <Alias_> s/current/

[02:59] <dvtoo> o. does have the up side of being easier to type ;p

[02:59] <autrijus> dvtoo: that's the force of golf :)

[02:59] <rjbs> where o returns $self?

[03:00] <Alias_> rjbs: So there's big problems with C< method foo () { map { .method($_) } @list } >

[03:00] <Alias_> .method is _supposed_ to be used as $self.method, but that only works because $self is $_ by default

[03:00] <Alias_> And now we are discovering $_ collisions

[03:01] <dvtoo> one of those "obvious in hindsight" sort of things?

[03:01] <Alias_> dvtoo: We discovered it only once we started porting real world code

[03:01] * clkao eyes jabbot

[03:01] <Alias_> Algorithm::Dependency p6ification threw it up

[03:01] <rjbs> why does .method have to mean $_.method and not $self.method by default?

[03:01] <Alias_> rjbs: Arbitrary decision

[03:01] <Alias_> Rule 1

[03:01] <rjbs> given: map { .method($_) } @list

[03:01] <dvtoo> rjbs: that's what I was just thinking

[03:02] <rjbs> I would expect .method to be on $self.  Is there a case where someone thinks I'd intuit the opposite?

[03:02] <rjbs> (or that many other people would)

[03:02] <Alias_> ta da!

[03:02] <Alias_> rjbs: Welcome to the universal misconception

[03:02] <Alias_> It's a newbie trap galore

[03:02] <Alias_> Everyone has been caught by it

[03:03] <Alias_> .method, $.attr, $:attr look the same, but arn't the same

[03:03] <Alias_> For some reason $_.method being .method is more important than $self.method in the current view

[03:03] <Alias_> For reasons of "huffman"

[03:03] <rjbs> Alias_: I'm wondering, then, if there exist other code snippets where I'd say "obviously it should be $_!" for some non-$self $_

[03:04] <Alias_> rjbs: map { .something } @list

[03:04] <Alias_> Is the official position

[03:04] <rjbs> no, in that case I would /still/ expect it to be calling $self.something

[03:04] <Alias_> Since many more things are now methods, it's not a terrible position

[03:04] <rjbs> and I'd assume that something payed attention to _

[03:05] <Alias_> In any case, there are only three ways to resolve things

[03:05] <rjbs> I can see the huffmanization value, but personally I expect .method to go back to the object.

[03:05] <Alias_> me too, duncan too, autrijus too

[03:05] <dvtoo> rjbs: possibly calling $self.something($_)

[03:05] <Alias_> So anyways, there are three solutions

[03:05] <Alias_> 1. Ban the use of $_ in map

[03:06] <rjbs> ha

[03:06] <Alias_> The obviously $not_what_we_want one

[03:06] <Alias_> Either $self or map {} has to go, so the obvious choice is $self

[03:06] <Alias_> So $_ retains it's normal role

[03:06] <Alias_> Which leaves us with...

[03:06] <Alias_> 2. Force explicit $_.method

[03:07] <Alias_> 3. Force the invocant to be a specific name

[03:08] <Alias_> Personally, I'd rather have to do map { $_.method } @list

[03:08] <rjbs> yes, me too

[03:08] <Alias_> feel free to add the me too to p6l

[03:08] <Alias_> Unfortunately, Larry's initial choice for an explicit invocant is to NOT make the invocant explicit exactly, but to add another language feature

[03:09] <Alias_> (unfortunate in my opinion)

[03:09] <Alias_> So now, rather than a forced $self, we get instead the 'o' function

[03:09] <Alias_> o.method

[03:10] <Alias_> Except I think you can still do method foo ($self: ) {}

[03:10] <Alias_> But o will still exist

[03:10] * rjbs sighs, should probably go ahead and subscribe to p6l.

[03:10] <rjbs> one more time sink. :/

[03:11] <Alias_> I know

[03:30] <jabbot> pugs - 863 - * Fixed prereq's for Perl5-Kwid

[03:30] <jabbot> pugs - 862 - perl6 refactoring of File::Spec started 

[03:30] <jabbot> pugs - 861 - the rough conversion of File::Spec is no

[03:30] <jabbot> pugs - 860 - more File::Spec perl6 conversions; all b

[03:30] <jabbot> pugs - 859 - Refactored the Makefile.PL to be less in

[03:30] <jabbot> pugs - 858 - Fix lightstep's entry.

[03:30] <jabbot> pugs - 857 - * license info; poetry

[03:30] <jabbot> pugs - 856 - * add Dimitry to AUTHORS for Unicode.hs

[03:30] <metaperl> rjbs, you can get p6l via GMANE

[03:30] <jabbot> pugs - 855 - * switch to use Dimitry Golubov's code.

[03:30] <jabbot> pugs - 854 - substr tests

[04:19] <stevan> metaperl: ping

[04:20] <metaperl> hello...!

[04:20] <stevan> hey

[04:20] <stevan> got a question for the junction master :P

[04:20] <metaperl> heh

[04:20] <metaperl> i will try

[04:20] <stevan> so I am writing some tests for junctions which are bound to a variable

[04:20] <stevan> my $any_of_them = $a | $b | $c;

[04:21] <metaperl> yes

[04:21] <stevan> when I later change the values of $b and $c

[04:21] <stevan> the junction does not reflect the change

[04:21] <stevan> is that correct? or should the values still be bound to the variables

[04:21] <metaperl> oh, I dont know

[04:21] <metaperl> good question - one for p6l

[04:21] <stevan> yeah I think do

[04:22] <stevan> s/do/so/

[04:23] <stevan> I suppose now I *really* have to subscribe to p6l

[04:23] <metaperl> gmane is fine for posting

[04:23] <stevan> really

[04:23] <metaperl> i posted via gmane

[04:23] <metaperl> yes

[04:23] <stevan> cool

[04:23] <stevan> I get way too much mail anyway

[04:29] <hcchien> hmm...., svk pull failed for pugs repository 

[04:29] <jabbot> pugs - 864 - adding some misc. tests for junctions; n

[05:09] <jabbot> pugs - 865 - more junction tests, this time for the .

[05:19] <jabbot> pugs - 866 - updating the MANIFEST with the new tests

[05:31] *** _metaperl is now known as metaperl

[05:33] *** cnhackTNT_ is now known as cnhackTNT|away

[05:33] *** cnhackTNT|away is now known as cnhackTNT

[06:17] <autrijus> Alias!

[06:17] <autrijus> Alias_:  http://monster.bulknews.net:46984/search?q=miyagawa&fm=all

[06:17] <autrijus> thanks to you :)

[06:18] <Alias_> autrijus: What am I looking at?

[06:18] <autrijus> a PPI-powered cross referenced CPAN search.

[06:18] <Alias_> ooooo

[06:19] <autrijus> miyagawa's baby.

[06:19] <Alias_> written by you?

[06:19] <Alias_> ah

[06:19] <Alias_> I should get him a commit bit for the sf.net project

[06:19] <obra> relation to cpanxr? 

[06:20] <autrijus> prolly not.

[06:20] <autrijus> this one is crosslang I think

[06:20] <Alias_> CPANXR is massively bit-rotted

[06:20] <Alias_> Like everything else pre-0.900

[06:20] <Alias_> oop, and now it's down

[06:20] <Alias_> I mighta killed it?

[06:21] <autrijus> no, he just put up a while for us to see :)

[06:21] <autrijus> needs more work

[06:21] <Alias_> ah

[06:21] <autrijus> will be a lightning talk in YAPC::Tapei about that.

[06:21] <autrijus> Taipei, even

[06:21] <Alias_> If he has any functions to extract useful values from individual classes, they need to be merged up into PPI

[06:22] <Alias_> That was CPANXR's problem

[06:22] <stevan> I get way too much mail anyway

[06:22] <Alias_> A lot of it's code needed to be sucked back in

[06:22] <autrijus> stevan: hi :)

[06:22] <stevan> autrijus: hello

[06:22] <Alias_> autrijus: Ask miyagawa is he's able to tell how many times $self->method is done in CPAN compated to $_->method

[06:23] <autrijus> heh. :)

[06:23] <Alias_> autrijus: So I can convince people that .method as $self.method is a more optimal huffman coding, as well as being more $what_people_expect

[06:23] <stevan> its what I would expect

[06:24] <Alias_> autrijus: And stevan makes 100% expectation

[06:24] <Alias_> still...

[06:24] <Alias_> It's what EVERYONE expects .method to do at first

[06:24] <Alias_> plus, I have nightmares about people porting o.method code to use explicit invocants because it removes an additional function call and will be slightly faster

[06:24] <Alias_> :)

[06:25] <autrijus> uh.

[06:25] <autrijus> it's compile time optimized away.

[06:26] <autrijus> please don't microoptimize :)

[06:26] *** _metaperl is now known as metaperl

[06:27] <stevan> autrijus: what determines what $junction.pick chooses from a junction? is it just random?

[06:27] <autrijus> or pseudorandom.

[06:27] <autrijus> but it's "implementatino specific".

[06:27] <stevan> ah

[06:28] <Alias_> So on a quantum process the results will be different

[06:28] <Alias_> processir

[06:28] <Alias_> ugh

[06:31] <stevan> BTW: this does bad things

[06:31] <stevan> pugs -e 'any(1 .. Inf).pick'

[06:31] <Alias_> heh... don't tell me you can do infinite junctions?

[06:31] <stevan> :P

[06:31] <autrijus> you can.

[06:31] <autrijus> and it works until you call pick()

[06:31] <Alias_> That is going to cause some unbelievably evil corner cases

[06:31] <autrijus> Alias_: no. infinite data structures is a feature.

[06:31] <Alias_> infinite loops, infinite threads

[06:31] <autrijus> it's something perl lacks.

[06:32] <autrijus> I'm glad that perl6 has it :)

[06:32] <autrijus> you won't "accidentally" get 1..Inf

[06:32] <autrijus> unless you type 1..Inf.

[06:32] <stevan> Alias_: pugs -e 'any(1 .. Inf).pick' is clearly insane, so I doubt it will come up much

[06:32] <Alias_> But imagine C<        my $foo = any(1 .. Inf); $foo >>+=<< 1 ;     >

[06:33] <autrijus> Alias_: that works.

[06:33] <autrijus> and with luck, in constant time too :)

[06:33] <autrijus> "Perl 6 is so fast it can run infinite loops in constant time"

[06:33] <Alias_> or C<        my $foo = any(1 .. Inf); $foo >>*= 2<< ; print "Hello World\n" if $foo % 2;    >

[06:33] <autrijus> ugh.

[06:33] <autrijus> that will take infinite time.

[06:34] <stevan> Alias_: pugs -e 'any(1 .. Inf).pick' is clearly insane, so I doubt it will come up much

[06:34] <stevan> bah

[06:34] <stevan> wrong window

[06:34] <Alias_> Like I said... way too many corner cases...

[06:34] <autrijus> Alias_: so "don't do that".

[06:34] <autrijus> you get the same problem with

[06:34] <autrijus> any(1..1e999)

[06:34] <autrijus> anyway.

[06:34] <Alias_> autrijus: But imagine I write a function that takes arbitrary juntions and does things to them

[06:34] <autrijus> failing to see why Inf is somehow worse.

[06:34] <autrijus> did I miss something?

[06:35] <Alias_> Anything anywhere that takes junctions as params will have to do evil checking

[06:35] <Alias_> because it will be way too easy to fall into infinite loop traps

[06:35] <autrijus> what is broken about Inf that is not broken about 1e999?

[06:35] <autrijus> 1e999 might as well be infinite loop.

[06:36] <Alias_> I guess similar issues apply

[06:36] <autrijus> well then. ;)

[06:36] <Alias_> I guess perl is going to have to know which actions on junctions will be infinite, and then throw exceptions

[06:36] <Alias_> As for 1e999, maybe that is actually needed

[06:36] <Alias_> And you are running it on a Sun grid

[06:37] <autrijus> right.

[06:37] <Alias_> Anyways, Inf math in juntions worries me

[06:37] <Alias_> Hell, lots of things about Perl 6 worry me :(

[06:37] <Alias_> I don't want an academic language :(

[06:38] <Alias_> (Big Design By Unqualified Committee Upfront)--

[06:38] <autrijus> right.

[06:38] <autrijus> that's what pugs comes in, though.

[06:39] <Alias_> If there's sufficient application of Rule 2

[06:39] <autrijus> allowing noncomittee people to fix language design by experimenting.

[06:39] <autrijus> oh I'm sure.

[06:39] <autrijus> since Pugs arrived, there has been numerous cases of Rule 2.

[06:39] <autrijus> I lost count already.

[06:39] <Alias_> oh good

[06:40] <Khisanth> seems like a rather "practical" way to design

[06:40] <Alias_> "Design by testing"

[06:40] <autrijus> yeah. really, larry has always said that apocalypse is just a first draft

[06:40] <autrijus> everything is subject to change once implementation starts.

[06:40] <autrijus> the core semantics probably stays the same

[06:41] <autrijus> but most syntax and prim can change

[06:42] <Alias_> It would be nice if File::Spec changed :)

[06:42] <Alias_> That thing is monstrously slow

[06:43] <Alias_> running reges over and over and over again

[06:43] <Alias_> half-assed interface

[06:43] <stevan> Alias_: what are you envisioing?

[06:43] <mugwump> fix it!

[06:43] <autrijus> Path::Class?

[06:43] <Alias_> stevan: I've got a couple of toys

[06:43] <stevan> the problem is it has soo much cross platform knowledge hidden in there

[06:44] <Alias_> What I really want is FSI

[06:44] <stevan> FSI?

[06:44] <Alias_> FileSystem Interface

[06:44] <Alias_> DBI for read or virtual filesystems

[06:44] <Alias_> s/read/real/

[06:44] <stevan> DBD::FileSys 

[06:44] <Alias_> I must have implemented bastardised inline versions 5 or 6 times

[06:44] <Alias_> I don't want a database

[06:45] <Alias_> I want a file read/write interface

[06:45] <autrijus> Path::Class?

[06:45] <Alias_> "in the style of DBI"

[06:45] <stevan> I think Path::Class just wraps File::Spec, but the interface is better

[06:45] <autrijus> I don't quite care it wraps what :)

[06:45] <autrijus> as long as the interface is better.

[06:45] <autrijus> for crazy api, see IO::All

[06:46] <clkao> and is tested.

[06:46] <stevan> Alias_: what do you mean by "in the style of DBI"

[06:46] <Alias_> The current "doing stuff with files" functionality is almost all in core language

[06:46] <Alias_> -f

[06:46] <Alias_> open

[06:46] <Alias_> etc etc

[06:47] <Alias_> There's some improvements on getting more OO for a single file

[06:47] <Alias_> But not for an entire filesystem

[06:47] <mugwump> Alias_: s/FSI/VFS/, I think

[06:47] <autrijus> File::Find::Rule?

[06:47] <Alias_> mugwump: Yeah, same idea

[06:47] <Alias_> File::Find::Rule is just a rule system

[06:47] <clkao> 04:17  * ayrnieu gives up on getting svk installed.

[06:47] <clkao> 04:33 < ayrnieu> er, OK.  Neither svk nor darcs want to cooperate.  Game over.

[06:47] <clkao> this is so 2004.

[06:48] <Alias_> I want to be able to $output->writefile( 'some/output/path', $content )

[06:48] <clkao> i thought they are both packaged here and there. no?

[06:48] <Alias_> And not have to care if is a local filesystem or a memory object, or WebDAV or something completely different

[06:48] <clkao> that's in the test library of svk. 

[06:48] <clkao> and append_file.

[06:48] <autrijus> Alias_: er, I think IO::all works.

[06:48] <clkao> oh, then io::all

[06:48] <autrijus> Alias_: IO::All does all that and more :)

[06:49] <Alias_> IO::All can output to an in-memory Archive::Builder object?

[06:49] <autrijus> sure if you write a plugin

[06:49] <autrijus> that's the whole point.

[06:49] <autrijus> see IO::All::SMB

[06:49] <Alias_> There is of course the problem of IO::All being a hideous interface for structured programming

[06:49] <jabbot> pugs - 867 - junction example to illustrate the pseud

[06:49] <autrijus> or ::SSH, or ::LWP

[06:49] <gaal> Alias_: IO::All can implement a webserver in a one-liner. With CGI.

[06:49] <Alias_> Great for shorthand IO

[06:49] <autrijus> Alias_: you can ignore the shorthand.

[06:49] <autrijus> and use all method calls

[06:49] <Alias_> Regardless, IO::All is a monster :)

[06:50] <autrijus> gaal: yeah, that was my code :)

[06:50] <gaal> autrijus++

[06:51] <Alias_> Does IO::All have a ->can_create method?

[06:52] <Khisanth> clkao: apparently subversion on openbsd doesn't want to install the perl bindings

[06:52] <clkao> i though someone made a prot

[06:52] <clkao> port

[06:52] <gaal> is there something like ccache for haskell?

[06:53] <Khisanth> clkao: he said it didn't install them even with the options for perl enabled

[06:53] <Alias_> autrijus: I guess I just don't trust IO::All not to do something overly magic and go ape on me :)

[06:53] <gaal> IO::All? Magic? Nahh.

[06:54] <Alias_> Plus there the whole Spiffy thing...

[06:54] <Alias_> (which I refuse to use based on it's name alone) :)

[06:54] <gaal> probably less need for it in p6

[06:54] <Alias_> I hope so

[06:55] <autrijus> gaal: hm? haskell on -O and up uses gcc

[06:55] <Alias_> I still can't work out what you actually DO with Spiffy

[06:55] <autrijus> gaal: so. same thing

[06:55] <autrijus> Alias_: Spiffy is just a OO dialect for p5.

[06:55] <autrijus> it's not a tool module, it's a dialect module

[06:55] <Alias_> and one that my brain can't grok

[06:55] <Alias_> Anyways... I'll wait for VFS

[06:55] <autrijus> it's all internal anyway :)

[06:56] <stevan> nite all 

[06:56] <gaal> autrijus, so perl Makefile.PL CC=ccache\ gcc should work? Cool.

[06:57] <autrijus> no, you have to tell GHC too

[06:57] <gaal> errr, yes

[06:57] <autrijus> need additional -pgmc -O~

[06:57] <autrijus> I mean -pgmc -O

[06:57] <autrijus> -pgmc ccache -O

[06:57] <autrijus> -pgmc ccache -via-c

[06:57] <autrijus> either of the two above.

[06:58] <autrijus> mad golfer is again tarpitted

[07:00] <gaal> autrijus, what's a clean way to communicate to ghc i want this? I want to add it to Makefile.PL, optionally of course.

[07:01] <autrijus> I don't quite know. hrm

[07:01] <autrijus> maybe hack "make optimized"

[07:01] <autrijus> or hack "make ccache"

[07:01] <autrijus> makefile not my forte

[07:02] <gaal> well, it's not really important, and yeah, make is !@#. a clean build is two wall minutes on my linux box, though, so i thought i'd get some cheap speedup.

[07:02] <gaal> then again the tests are way slower than that, so it's not worth a lot of effort.

[07:07] <gaal> autrijus, are you using mingw? do tests run ok for you there? i am using a path /c/wks/pugs, and make works, but make test somehow gets c wks/pugs into INC instead.

[07:08] <autrijus> I'm not using mingw.

[07:08] <gaal> symlinks don't work in mingw, it seems ln -s is just an alias to cp :(

[07:08] <gaal> activeperl?

[07:08] <autrijus> was on AP

[07:08] <autrijus> on freebsd now

[07:08] <autrijus> so I suspect win32 support may suffer :)

[07:09] <hlen> autrijus, i just want to say your journal rocks.. it's great to have something to read about pugs everyday

[07:09] <gaal> ;)    i have two machines, and the faster one runs windows, so i'm tempted to use that.

[07:11] <autrijus> hide: thanks =)

[07:11] <autrijus> spready the word! etc

[07:11] <autrijus> s/y// even

[07:18] <crysflame> autrijus++

[07:18] <autrijus> mad golfer rescued.

[07:19] <jabbot> pugs - 868 - * single colon following varname should 

[07:22] <gaal> what is PERLRUN and why is it undef on my mingw? (causing the build to fail)?

[07:23] <gaal> ah, looking at MM docs

[07:23] <autrijus> hm. change it to PERL in Makefile.PL ?

[07:23] <autrijus> may be an old EU::MM

[07:23] <autrijus> I can see change it to PERL

[07:24] <gaal> yes, that helped. can i commit or is there a chance i broke someing for other folks?

[07:26] <autrijus> commit it please.

[07:31] <gaal> done (whew, having to use svn from cygwin sure is confusing)

[07:31] <autrijus> gaal++

[07:32] <gaal> thanks :) it's just a  3*3 character patch :)

[07:32] <autrijus> but it works :)

[07:33] <gaal> it does that, yes :)

[07:33] <autrijus> say 'Your lottery numbers are: ' ~ join('-', @your_numbers);

[07:33] <autrijus> may I change this to

[07:33] <autrijus> say "Your lottery numbers are: { join('-', @your_numbers) }";

[07:33] <autrijus> ?

[07:33] <gaal> now to figure out why "make test" doesn't

[07:33] <autrijus> hrm, stevan is gone.

[07:34] <Alias_> well... there goes another character we have to escape in quotes

[07:34] <Alias_> And add one more newbie trap :)

[07:34] <autrijus> Alias_: but that makes @{[]}

[07:34] <autrijus> unneccessary.

[07:34] <autrijus> so, net win, by any count.

[07:35] <Alias_> @{[]}?

[07:35] <gaal> i get dirty looks everytime i have to explain *that*.

[07:35] <autrijus> previously in perl5 if you want to interpolate a method call.

[07:35] <Alias_> oh

[07:35] <autrijus> you have to write @{[]} or ${\()}

[07:35] <Alias_> WELL DON'T DO THAT

[07:35] <Alias_> :)

[07:35] <autrijus> I want to interpolate method calls!

[07:35] <autrijus> lots of people want that!

[07:35] <Alias_> true

[07:36] <autrijus> so, easy things are now easy.

[07:36] <Alias_> So now "" is closer to being a templating language than ever before

[07:36] <autrijus> riiight.

[07:36] <autrijus> fun eh.

[07:36] <Alias_> In fact... we should be able to do something ...

[07:36] <Alias_> hmm...

[07:37] <Alias_> Take .html, wrap it in "" and eval

[07:37] <Alias_> instant templating system

[07:37] <Alias_> or maybe convert <% %> to { } and escape $ and @ first

[07:38] <Alias_> The world's most dangerous one line templating system

[07:38] * Alias_ bows

[07:38] <Darren_Duncan> I just did a svn update and got an error

[07:38] <Darren_Duncan> svn: Failed to add file 'src/Unicode.hs': object of the same name already exists

[07:38] <Alias_> I'm calling it IPSP

[07:38] <Alias_> Insane Perl Server Pages

[07:38] <Darren_Duncan> should I just delete the old file, or is this a problem?

[07:38] <gaal> i have a feeling PERL6LIB isn't being honored on mingw :(

[07:38] <autrijus> Darren_Duncan: rm that.

[07:38] <Alias_> Darren_Duncan: You on Win32?

[07:39] <Darren_Duncan> I'm on Mac OS X

[07:39] <Darren_Duncan> it is case-insensitive

[07:39] <Darren_Duncan> but case preserving

[07:39] <Darren_Duncan> by default

[07:39] <autrijus> rm that and svn up :)

[07:39] <Darren_Duncan> I can use an alternate filesystem that is case sensitive if I wanted to

[07:39] <jabbot> pugs - 870 - * use {} interpolation.

[07:39] <jabbot> pugs - 869 - PERLRUN => PERL fixes build on mingw

[07:39] <autrijus> Darren_Duncan: no, that won't help. :)

[07:39] <gaal> you can say "incasitive" for "case insentitive"

[07:39] <autrijus> Unicode.hs is now part of repo, not generated

[07:39] <Darren_Duncan> I won't anyway, I'll just rm and up

[07:39] <gaal> and "casitivity" in general

[07:40] <autrijus> you can say "case caring", "case understanding", "case empathetic" too

[07:40] <gaal> case indifferent?

[07:41] <autrijus> "alternatively case-capable"

[07:41] <Darren_Duncan> all fixed now

[07:41] <gaal> case closed?

[07:41] <autrijus> cool

[07:42] <Darren_Duncan> to be specific, the HFS+ filesystem as it has been used in the past will not store multiple files in the same directory that have the same names when brought to the same latin letter case

[07:42] <Darren_Duncan> HFS+ can be made case-sensitive like typical unix systems, but that isn't the way it is typically installed

[07:43] <gaal> @INC isn't updated with PERL6LIB on mingw. any hints on where i begin to fix that?

[07:43] <autrijus> gaal: ghc 6.4?

[07:43] <gaal> uh, i have both actually, let me check which one runs

[07:44] <gaal> 6.4, yes

[07:46] <autrijus> 6.4 breaks and 6.2 runs?

[07:46] <autrijus> or vice versa?

[07:46] <Darren_Duncan> I have an idea for a possible syntax change for references to attributes ...

[07:46] <autrijus> oh?

[07:46] <gaal> 6.4 doesn't honor it, let me check with 6.2

[07:46] <Darren_Duncan> ... when using the longer form of $self.attr

[07:47] <Darren_Duncan> I'm thinking something like $self.$:foo, $self.@:bar, $self.%:baz

[07:47] <Darren_Duncan> this mirrors the shorter forms of $:foo etc

[07:48] <Darren_Duncan> that way, the appropriate sigils for the variable type are always the same regardless of whether you are in short form or long form

[07:48] <autrijus> but but that kills the occasinoally useful idiom of

[07:48] <autrijus> $obj->$method

[07:48] <autrijus> in p5

[07:48] <gaal> (we need a t/run/ -- though in this case it wouldn't help because the tests won't even run)

[07:48] <gaal> no, 6.2.2 doesn't work with PERL6LIB either

[07:48] <autrijus> :(

[07:49] <gaal> actually

[07:49] <gaal> maybe make test is masking it.

[07:49] <Darren_Duncan> sometimes I wonder why we bother to have @ or % at all, and don't just use $ for everything

[07:49] <autrijus> Darren_Duncan: context hinters.

[07:49] <wilx> Whee!

[07:49] <Darren_Duncan> since very often arrays and hashes are only referenced with $ sigils anyway

[07:49] <autrijus> but yes, sigilless variant is a possible dialect.

[07:49] <wilx> I get some warning from GCC while compiling pugs.

[07:49] <autrijus> and very possible from perl6 already

[07:49] <autrijus> see t/Dialects/

[07:49] <wilx> ghc6456.hc:1120: warning: implicit declaration of function `stg_hack_u_iswdigit'

[07:49] <gaal> sorry sorry, it wasn't apugs bug, it's apparently in the rule for 'make test'.

[07:49] <autrijus> oh ok.

[07:50] <autrijus> wilx: platform?

[07:50] <wilx> WinXP, GHC 6.4

[07:50] <Darren_Duncan> yes, hinters are all nice at all ...

[07:50] <Darren_Duncan> but say $self.abc doesn't tell you what abc is

[07:50] <autrijus> sure. the hinting is for RHS of = and :=

[07:50] <autrijus> not for anything else.

[07:51] <autrijus> still, that alone may be valuable enough.

[07:51] <Darren_Duncan> sure, you could do @:abc if its in the current object, but what if your method is dealing with two objects of the same class; the second one always has to be of the longer form to work at all

[07:51] <Darren_Duncan> and that has nothing but $ ... not too helpful

[07:51] <Alias_> It does seem like some of Perl 6's complexity is backfiring

[07:51] <Darren_Duncan> so the hints that @ and % are supposed to give can only be used maybe half of the time

[07:52] <autrijus> sure.

[07:53] <autrijus> larry said himself that if his native tongue is chinese

[07:53] <autrijus> there won't be sigils.

[07:53] <autrijus> and indeed I promised perlchina a sigilless dialect some day on perl 6 :)

[07:53] <autrijus> (dialect = lexical module that affects parsing)

[07:53] <Darren_Duncan> The main use I have for sigils is separating variables from methods/sub calls

[07:53] <autrijus> aye.

[07:53] <Darren_Duncan> it doesn't matter what type of var it is

[07:54] <autrijus> but then we can go the ruby route

[07:54] <Darren_Duncan> so a plain old $ is all I need

[07:54] <autrijus> and use sigil for scope hinters.

[07:54] <autrijus> which actually makes ~lots of sense.

[07:54] <autrijus> secondary sigil is a compromise

[07:54] <autrijus> to preserve both context sigils (1st) and scope sigils (2nd)

[07:54] <autrijus> it may or may not work out.

[07:54] <Alias_> How does sigils screw up chinese?

[07:55] <autrijus> Alias_: chinese has no plural form.

[07:55] <Alias_> And that is a problem because?

[07:55] <Alias_> @foo is illogical?

[07:55] <autrijus> yup.

[07:55] <autrijus> the brain just doesn't work that way.

[07:55] <Alias_> So how does Chinese deal with the concept of many?

[07:55] <autrijus> list $foo

[07:56] <autrijus> basically.

[07:56] <Alias_> map/grep/sort must be really icky then

[07:56] <autrijus> i.e. it is a prefix or suffix, not part of the noun

[07:56] <Alias_> Maybe that's why guido is killing them

[07:56] <autrijus> heh no :)

[07:56] <autrijus> guido was killing them because they are lambdas.

[07:57] <Alias_> Time to act like a professor and tell Mr Symbolic concept here what that means

[07:57] <Alias_> I probably know what it is

[07:57] <Alias_> Just not the definitions

[07:59] <autrijus> I gotta run :)

[07:59] <autrijus> bbiab

[08:01] <Darren_Duncan> In a re-reading of S02, it says that the use of @ or % vars in a scalar context automatically produces a reference ...

[08:01] <Darren_Duncan> Was it decided for sure whether 'return' gives a scalar context or a list context?

[08:02] <autrijus> it propagates context of caller.

[08:02] <autrijus> same as p5.

[08:02] <autrijus> &

[08:08] <Darren_Duncan> is that a good idea?

[08:11] <Darren_Duncan> Autrijus, thanks for your answer.  I guess that is a good idea, and so I have no more questions.

[08:12] <Darren_Duncan> I think I know now how to handle whatever I need to do.

[08:21] *** cnhackTNT is now known as cnhackTNT|away

[08:44] *** cnhackTNT|away is now known as cnhackTNT

[08:49] <jabbot> pugs - 871 - Two Locale::KeyedText updates: 1. Remove

[08:50] <Darren_Duncan> I think with this new change my attr/arg/var declarations will be more like the format that most people use

[08:50] <Darren_Duncan> re the checkin

[08:50] <Darren_Duncan> most of the 'is' are gone now

[08:52] <Darren_Duncan> I'm also doing "return [@abc[]];" to explicitly make a ref containing a copy of the flattened list variable in my getter methods; I think that is actually correct syntax for once

[08:53] <Juerd> Ehm

[08:53] <Juerd> Isn't that just [@abc]?

[08:56] <Darren_Duncan> perhaps

[08:56] <Darren_Duncan> Actually, the [] suffix was for flattening in a scalar context

[08:56] <Darren_Duncan> The question is whether the surrounding [] creates a list context or not

[08:57] <gaal> in p5 it does

[08:57] <Darren_Duncan> So, in Perl 6, how do you create a new array ref containing a single-element that is a reference to @abc?

[08:57] <gaal> [ \@abc ] doesn't work?

[08:58] <Darren_Duncan> What synopsis mentions \ ?

[08:58] <Darren_Duncan> checking ...

[08:58] <gaal> that's p5 syntax, but i think it should work there too.

[09:00] <Darren_Duncan> S03 seems to mention \ once, at the start of "List Flattening", so I'll take what you said as being right

[09:00] <Darren_Duncan> for some reason, I've been thrown for a loop this last week

[09:01] <Darren_Duncan> all caught up with the idea that Perl 6 removes distinctions between refs and non-refs

[09:01] <gaal> [roo@sike:~/src/pugs 127] > ./pugs -e 'my @abc = (1,2,3); [\@abc].perl.say'

[09:01] <gaal> (1, 2, 3)

[09:01] <gaal> doesn't look too hot.

[09:01] <Darren_Duncan> I think I'll take a step back and assume that anything in perl 5 is valid syntax unless I explicitly know otherwise

[09:01] <Darren_Duncan> so, issuing a correction ...

[09:05] *** cnhackTNT_ is now known as cnhackTNT

[09:07] <Darren_Duncan> correction committed

[09:08] <Darren_Duncan> now it says "return [@abc];", or more specifically, "return [$self.abc];"

[09:09] <jabbot> pugs - 872 - LKT - Yet Another Get Method Fix

[09:16] <Darren_Duncan> goodnite

[09:16] <gaal> night

[09:34] <metaperl> marcus, are you a Catalyst user/author?

[09:34] <marcus> nope

[09:34] <metaperl> oh, different marcus

[09:35] <marcus> might be

[09:35] <metaperl> Marcus Ramberg

[10:06] *** cnhackTNT is now known as cnhackTNT|away

[10:14] <dada> hola

[10:15] <gaal> hello, dada

[10:18] <masak> hi, dada

[10:59] <clkao> http://www.guruischool.com/index.jsp?s=google&sw=perl_tg&p=getLesson.jsp?catid=C3-3-29

[10:59] <clkao> hmm perl courses

[10:59] <Jonathan_> autrijus: I got my account, thanks for the invite. ASCII hyper-ops are in.

[11:04] <metaperl> stevan, ping?

[11:21] <autrijus> Jonathan_: yay!

[11:21] <autrijus> Jonathan++

[11:22] <gaal> autrijus, hey. i traced the mingw 'make test' problem to things in ext/ not installing into blib6, but rather to their own ../../blib, but i don't know why this is. maybe because i'm using mingw's perl5.6 and its old makemaker?

[11:23] <autrijus> that may be the case.

[11:23] <autrijus> what version of MM did you have?

[11:23] <gaal> 5.45

[11:24] <gaal> unfortunately i had no luck building a 5.8 of my own under mingw

[11:24] <autrijus> hrm.

[11:25] <autrijus> try upgrading MM?

[11:25] <gaal> on the linux box ther's 6.15, which is reasonably new; also perl 5.8 and no problems.

[11:25] <autrijus> if only just to make sure it's MM prob

[11:25] <gaal> well, the windows box dosn't like CPAN

[11:25] <gaal> so installing modules that have deps is a royal pain

[11:25] <gaal> i'll try and get to it.

[11:26] <autrijus> nice.

[11:27] <gaal> however, lunch with friends and later family stuff, so ta ta for now!

[11:30] <autrijus> :)

[11:30] <autrijus> enjoy

[11:30] <gaal> thanks! bye.

[11:30] * gaal &

[11:38] <autrijus> slurp() is in.

[11:38] <autrijus> mad golfer++

[11:45] <jabbot> pugs - 875 - * slurp() primitive

[11:45] <jabbot> pugs - 874 - Add me to the AUTHORS file.

[11:45] <jabbot> pugs - 873 - Add ASCII versions of hyper operators an

[11:47] <theorbtwo> Woo, somebody actually added themselves to the AUTHORS file so I don't have to!

[11:49] <Jonathan_> :)

[11:50] <autrijus> =)

[11:51] <autrijus> so, I'm devoting the rest of tonight hacking thunking in

[11:51] <autrijus> that will make := actually work.

[12:01] <INFOTHEK> jzst installed Pugs, really great, congrats to all of you! :)

[12:01] <INFOTHEK> but know i will own this channel

[12:01] <INFOTHEK> VERSION

[12:02] <INFOTHEK> PING

[12:02] <INFOTHEK> FINGER

[12:02] <INFOTHEK> FINGER

[12:02] <INFOTHEK> VERSION

[12:03] <INFOTHEK> VERSION

[12:03] <INFOTHEK> VERSION

[12:03] <INFOTHEK> VERSION

[12:03] <INFOTHEK> VERSION

[12:03] <INFOTHEK> flood

[12:03] * INFOTHEK he

[12:03] <INFOTHEK> XXX

[12:03] <INFOTHEK> GOTO google.com/!!!

[12:03] <INFOTHEK> CRSH

[12:03] <INFOTHEK> CRASH

[12:03] <INFOTHEK> PING

[12:03] <theorbtwo> INFOTHEK, could you please stop that?

[12:03] <INFOTHEK> no i wont muahaha

[12:04] <INFOTHEK> cu guys, youz atre lrella leet

[12:05] *** ChanServ sets mode: +o autrijus

[12:05] *** INFOTHEK was kicked by autrijus (one and the only warning.))
[12:06] <autrijus> thank you.

[12:06] <autrijus> was wondering how long it will be from the slashdotting to this.

[12:20] *** autrijus sets mode: -o autrijus

[12:23] <nothingmuch> hola!

[12:23] <autrijus> yo!

[12:23] <nothingmuch> give me something to do

[12:23] <nothingmuch> i feel unused

[12:24] <nothingmuch> and have been thusly all week

[12:24] <theorbtwo> Hey, nothingmuch!

[12:24] <nothingmuch> hola, theorbtwo

[12:27] <Khisanth> nothingmuch: convert all of CPAN :p

[12:27] <nothingmuch> Khisanth: beh

[12:28] <nothingmuch> but ok

[12:28] <autrijus> hey nothingmuch.

[12:28] <nothingmuch> a bit at a time

[12:28] <autrijus> there is some unexpected successes from tests. unTODO them? :)

[12:28] <autrijus> if you are looking at src/ side, may implement given/when? :)

[12:28] <nothingmuch> given? ook... do we have smartmatch?

[12:28] <autrijus> also, what about the cataloging script?

[12:29] <autrijus> the stubbed one, sure

[12:29] <autrijus> just use App "&infix:~~"

[12:29] <nothingmuch> beh

[12:29] <nothingmuch> what needs to be done to the catalogging script?

[12:29] <nothingmuch> i'll untodo

[12:29] <nothingmuch> then catalog

[12:29] <nothingmuch> then do some cpan

[12:29] <autrijus> :)

[12:29] <autrijus> I need dinner.

[12:29] <autrijus> will be back in abit

[12:29] <nothingmuch> and then maybe we can talk about given ;-)

[12:31] * nothingmuch puts on the Hair soundtrack

[12:53] <nothingmuch> Makefile:54: *** missing separator.  Stop.

[12:53] <nothingmuch> anybody getting this?

[12:53] <nothingmuch> latest EU::MM

[12:53] <nothingmuch> rhel 3 linux, stock perl (probably the problem)

[12:56] <autrijus> what is line 54?

[12:56] <nothingmuch> ^sit$

[12:56] <nothingmuch> there's lots of completely screwed up lines elsewhere,

[12:56] <nothingmuch> partial strings

[12:56] <nothingmuch> VAR = foo'

[12:57] <nothingmuch> and so on and so forth

[12:57] <nothingmuch> and it has worked before

[12:57] <autrijus> that is completely mangled.

[12:57] <autrijus> clean and make again?

[12:58] <nothingmuch> rm -rf pugs

[12:58] <nothingmuch> complete fresh svn co

[12:58] <nothingmuch> still persists

[12:58] <autrijus> that is the main Makefile?

[12:58] <autrijus> put it somewhere I can d/l?

[12:58] <nothingmuch> all 3

[12:58] <nothingmuch> main, ext/{Test,Pugs-MakeMaker}

[12:59] <nothingmuch> hold on, i'll find the R which broke it

[12:59] <nothingmuch> svn trackdown would be fun

[13:01] * autrijus fed the nontrolls on /.

[13:01] <autrijus> mad golfer++

[13:01] <autrijus> # http://www.perlmonks.org/?node_id=440685

[13:02] <nothingmuch> what is the latest revision?

[13:03] <autrijus> r876?

[13:03] <nothingmuch> ok

[13:03] <nothingmuch> thanks

[13:04] <autrijus> np

[13:05] <nothingmuch> appearantly it starts at r860

[13:05] <nothingmuch> wait, no

[13:06] <nothingmuch> 859

[13:08] <autrijus> "Refactored the Makefile.PL to be less insane.

[13:08] <autrijus> "

[13:08] <autrijus> not very surprising :-/

[13:08] <nothingmuch> hah

[13:08] <autrijus> care to track it down a little?

[13:09] <nothingmuch> i don't know mm

[13:09] <nothingmuch> what would it constitute doing?

[13:10] <gaal> heavy drinking.

[13:10] <nothingmuch> . o O ( peace! flowers! freedom! happiness! )

[13:10] <nothingmuch> gaal: uhm

[13:10] <gaal> *beads* flowers freedom happiness

[13:10] <nothingmuch> oi vey

[13:10] <autrijus> nothingmuch: first post your Makefile?

[13:10] <nothingmuch> i always heard it as 'peace'

[13:10] <nothingmuch> oh, right, autrijus

[13:10] <nothingmuch> oh well, you learn something new every day =)

[13:11] <nothingmuch> gaal++

[13:11] * gaal too is doing mm stuff now (mingw)

[13:11] <gaal> though apparently i managed to break my sysem mm install while upgrading to the latest version :(

[13:12] <gaal> what provides prove? i don't have it?

[13:12] <gaal> test::simple?

[13:12] <nothingmuch> gaal: Test::Harness or a newish perl

[13:12] <nothingmuch> http://nothingmuch.woobling.org/Makefile

[13:13] <gaal> thanks, nuffin.

[13:13] <gaal> oh, *crap*, now i can't install anything because i b0rked my mm!

[13:14] <nothingmuch> haha

[13:14] <gaal> here comes the perl reinstall, which means an msys reinstall because it's not packaged seperately :()

[13:14] <nothingmuch> why? just copy mm.pm from someone else

[13:14] <nothingmuch> get it sort of working

[13:14] <nothingmuch> and then reinstall it to be sure

[13:15] <nothingmuch> and put your working copy in $PERL5LIB next time ;-)

[13:15] <autrijus> nono

[13:15] <nothingmuch> plus, i think eu::mm bootstraps

[13:15] <autrijus> MakeMaker can installt iself

[13:15] <autrijus> you don't need old MM to install a new MM.

[13:15] <nothingmuch> mb does that, that much I know

[13:15] <gaal> autrijus, does PAR still want a pure perl deflate?

[13:15] <autrijus> gaal: we got one.

[13:15] <autrijus> too slow to be useful.

[13:16] <autrijus> not sure that it can be made faster.

[13:16] <autrijus> the goal now has shifted to push Compress::Zlib into core.

[13:16] <autrijus> rgs: is it core? will it be core? :)

[13:16] <gaal> perl6 should definetely come with par

[13:16] <autrijus> gaal: try pugscc?

[13:16] * nothingmuch implemented LZW in perl once

[13:16] <autrijus> it is my par in perl6 :)

[13:16] <nothingmuch> to try and understand what it does

[13:16] <rgs> autrijus: need to ping kane about this.

[13:16] <rgs> he's busy with real work currently.

[13:17] <autrijus> oh? he's supposed to come up with patches?

[13:17] <nothingmuch> gaal: i think par type behavior is planned to be taken care of by parrot jiting code

[13:17] <autrijus> okie.

[13:17] <nothingmuch> packaged by the compiler

[13:17] <autrijus> nothingmuch: actually no... dependency scanning

[13:17] <rgs> but yes, there are chances Compress::Zlib will be core in 5.9.2

[13:17] <autrijus> is still something that needs to be done

[13:17] <gaal> i <3 par not necesarily because it gives an entry point

[13:17] <autrijus> and there's no easy way to scan it without user annotations etc.

[13:17] <gaal> "self contained exec"...

[13:18] <nothingmuch> who was it that added ascii hyper?

[13:18] <gaal> typically i have a reasonable perl, but i'm missing modules

[13:18] <autrijus> nothingmuch: Jonathan

[13:18] <Jonathan_> nothingmuch: Me...

[13:18] <Jonathan_> I broke something, huh?

[13:19] <nothingmuch> no, just mentioning thanks in the ci log =)

[13:19] <gaal> par's a boon for deployment

[13:19] <nothingmuch> oh crap

[13:19] <autrijus> thank-you. I'm so happy that Alan Stewart has been taking care of PAR when I'm massively distracted.

[13:19] <nothingmuch> puter upstairs is broken

[13:19] <autrijus> I'm supposed to get PAR 0.80 out by now :-/

[13:19] * nothingmuch has to go fix... ciao!

[13:19] <autrijus> but. well. 

[13:19] <gaal> yeah :)

[13:20] <Jonathan_> Ah, phew. I really should learn Haskell properly at some point...

[13:23] <Jonathan_> Dropped by the college library hoping to find a useful book about it...alas, it's all ML (what they use here to teach functional programming). :-|

[13:24] <autrijus> ML is fine :)

[13:24] <autrijus> ML knowledge transfers ~80% to haskell.

[13:24] <gaal> anyone else get this with recent r?

[13:24] <gaal>  

[13:24] <gaal> src/Internals.hs:1:0: 

[13:24] <gaal>     Warning: `readFile' is imported more than once: 

[13:24] <gaal>                imported from System.IO at src/Internals.hs:69:54-61

[13:24] <gaal>                imported from Prelude at Implicit import declaration

[13:25] <gaal> Yay! 'make test' works with mingw/msys + latest test::harness + MM

[13:25] <autrijus> 6.2?

[13:25] <gaal> 6.4

[13:26] <autrijus> gah. readFile is prelude.

[13:26] <gaal> (some other warnings as well, let me paste them all)

[13:26] <autrijus> no, way

[13:26] <autrijus> err

[13:26] <autrijus> no, wait

[13:26] <autrijus> typo :p

[13:26] <gaal> :)

[13:26] <Jonathan_> Yeah, I have 'em too.  Righty, time for me to go out and enjoy the sun before it all disappears.

[13:27] <autrijus> gaal: try r878

[13:28] <gaal> looks better

[13:28] <gaal> autrijus++

[13:28] <gaal> can we add a conditional requirement on a new MM for mingw in Makefile,PL? or just add it to the release notes?

[13:30] <gaal> alternatively: maybe the new MM requirement isn't only on mingw. anyone else here with an old perl care to try?

[13:30] <autrijus> gaal: a cond. req. may be better.

[13:30] <autrijus> build_requires()

[13:30] <autrijus> may be better

[13:30] <jabbot> pugs - 878 - * hide duplicate imports

[13:30] <jabbot> pugs - 877 - ASCII hyper ops are now implemented, tha

[13:30] <jabbot> pugs - 876 - Untoto "$label: foo" parse bug

[13:32] <gaal> autrijus, ok

[13:34] <Limbic_Region> kwiki is the brain child of Ingy correct?

[13:34] <theorbtwo> Da.

[13:35] <gaal> "correct" posfix as an alternative to true/yes/so/etc.? :)

[13:35] <Limbic_Region> http://use.perl.org/~mugwumpjism/journal/23708

[13:36] <Limbic_Region> beats up Kwiki and other wikis pretty bad

[13:37] <Limbic_Region> it does go on to say but ingy made it better

[13:40] <autrijus> when correct { ... }

[13:41] <autrijus> I think yes() makes most sense so far.

[13:41] * theorbtwo wants ?all(...)

[13:41] <gaal> I made by with !! in p5...

[13:42] <gaal> or am i missing the point? is this like a cast to bool in java?

[13:42] <autrijus> gaal: ? in p6 is !! in p5

[13:42] <autrijus> but ! has not()

[13:42] <autrijus> so ? has... yes()

[13:43] <autrijus> or so(), or true(), or whatever

[13:43] <gaal> ah, as a differently binding op

[13:43] <gaal> ko

[13:43] <gaal> ESCk0xp

[13:43] <theorbtwo> Also, one that takes a list and requires all of them be that.

[13:44] <gaal> hence ?all(), to2? but then what's the difference?

[13:44] <theorbtwo> That's what I want to know.

[13:44] <gaal> ah :)

[13:50] <gaal> so, regarding minimum vesion of EU::MM in build_requires, i'm somewhat arbitrarily depending on the current version in CPAN because that's the only one that worked for me.

[13:51] <autrijus>  6.17 did not work?

[13:52] <gaal> didn't try anything by 5.something that came with my perl 5.6.1 and 6.25 which is the latest. why are you asking about that particular version, autrijus?

[13:52] <autrijus> yes.

[13:53] <autrijus> 6.17 is the version shipped in 58.1.

[13:53] <autrijus> and 5.6.2.

[13:53] <autrijus> so it's the canonical one to target.

[13:53] <gaal> aha. i will not ask how you came to know that. :)

[13:53] <autrijus> Module::CoreList

[13:53] <autrijus> install it

[13:53] <autrijus> corelist -a ExtUtils::MakeMaker

[13:54] <gaal> but i'll test for that one, and if it works, i'll add an unconditional dependency.

[13:54] <gaal> build dep, that is.

[13:54] <gaal> thanks for the tip.

[13:59] <gaal> why do we depend on Test::More? I'm removing that.

[13:59] <gaal> and putting in a build_req for EU::MM 6.17, which indeed works.

[14:06] <gaal> man, that was a morning's worth of makefile chasing for a one-line fix. :(

[14:07] <jabbot> pugs - 879 - Fix build_requires()

[14:14] <autrijus> we were depending on Test::More because p6's Test.pm was not here :)

[14:14] <autrijus> thanks for spotting it

[14:14] <autrijus> gaal++

[14:14] <autrijus> gaal++

[14:14] <gaal> Test::More is no more :)

[14:14] <autrijus> lol

[14:15] <autrijus> Global symbol "@ARGS" requires explicit package name at Makefile.PL line 8.

[14:15] <autrijus> my brain. :(~~

[14:16] <gaal> uh

[14:16] <autrijus> (not your fault)

[14:16] <gaal> did i 

[14:16] <gaal> ok

[14:16] <gaal> s/k/h/

[14:16] <gaal> how does that even happen?

[14:16] <theorbtwo> Forgotten how to think in p5, autrijus?

[14:17] <gaal> @ARGS doesn't require an explicit package name in p5!

[14:17] <gaal> did you try to run it with pugs? :)

[14:18] <theorbtwo> pugs doesn't give that error; that's a stricture error.

[14:18] <autrijus> @ARGV ;)

[14:18] <theorbtwo> Probably because @ARGV is the thing that you're thinking of.

[14:18] <autrijus> gaal: your brain too.

[14:18] <gaal> ah, right :)

[14:18] <gaal> lol

[14:18] <autrijus> brb.

[14:18] <gaal> my cat just made a funny face at me.

[14:19] <gaal> she doesn't make silly mistakes like that, i suppose.

[14:19] * autrijus recalls damian's rationalisation for @ARGV and lol some more.

[14:19] <theorbtwo> Hmm?

[14:19] <autrijus> he said that it stands for ARGUMENT

[14:20] <gaal> heh

[14:20] <autrijus> and the roman characters did not have U

[14:20] <autrijus> because it's all carved in stone

[14:20] <autrijus> so it's ARGVMENT

[14:20] <autrijus> in proper old style

[14:20] <Odin-LAP> He's right, you know. ;)

[14:20] <autrijus> sure :)

[14:20] <Odin-LAP> It's just not what you might intuitively expect. :D

[14:20] * theorbtwo litteraly laughs out loud.

[14:21] <gaal> it would have to stand for ARGVMENTVM in that case, though.

[14:21] <autrijus> true.

[14:21] <autrijus> mmm language geeks.

[14:22] <theorbtwo> At caltech, BTW, there are several houses, and several hovses.

[14:22] <theorbtwo> The hovses look down on the houses.

[14:22] <autrijus> lol

[14:23] <gaal> "These Romans are crazy"

[14:23] <autrijus> o/~ latin is a dead language / as dead as it can be / first it killed the Romans / now it's killing me o/~

[14:24] <theorbtwo> Just how many languages /do/ you know, autrijus?

[14:24] <autrijus> human languages?

[14:24] <autrijus> surprisingly few. I'm only fluent in Mandarin and English. a bit Holok, a bit German, and that's about it.

[14:24] <gaal> I believe the spelling is now AVTRIIVS, theorb2.

[14:25] <autrijus> attempted to learn a lot of others.

[14:25] <theorbtwo> Oh.

[14:25] <gaal> hey at least you can read Cantonese. <g>

[14:26] <autrijus> gaal: that's like saying you grok MSSQL because you can use DBI::ODBC :)

[14:26] <gaal> exactly

[14:27] <autrijus> DBD::ODBC, even.

[14:27] <gaal> exactlier

[14:27] <jabbot> pugs - 880 - Test.pm writes diagnostics to file speci

[14:27] <autrijus> ah. our friendly kolibrie has come.

[14:27] <theorbtwo> Yeah, if aut had asked just what constituted a language, I would have said that mssql and DBI::ODBC weren't differen't languages.

[14:28] <gaal> well, one isn't a language by even less counts.

[14:28] <gaal> fewer

[14:31] <gaal> Haskell doesn't have a getopt-like library?

[14:31] <autrijus> it has something better :)

[14:31] <gaal> i was thinking of -I

[14:32] <gaal> oh?

[14:32] <autrijus> (System.Console.GetOpt)

[14:32] <autrijus> but perl isn't exactly getopt.

[14:32] <autrijus> so I'm not sure what to make of pugs.

[14:32] <gaal> is the comamnd line specified for p6 at all?

[14:32] <autrijus> what do you think?

[14:32] <autrijus> not at all.

[14:32] <theorbtwo> I'd make it GNU-semantics compatable, then.

[14:33] <autrijus> and break -Ifoo ?

[14:33] <autrijus> or specify a set of rewrite rules?

[14:33] <gaal> hmm, perl isn't getopt? it's pretty standard if you allow for trailing args to te script

[14:33] <theorbtwo> -Ifoo breaks how?

[14:33] <autrijus> there's no-I now

[14:33] <autrijus> gaal: ah. I thought -Farg doesn't work with getopt

[14:33] <theorbtwo> Well why not?

[14:34] <autrijus> theorbtwo: because no one wrote it? :)

[14:34] <gaal> it does under some circumstances

[14:34] <gaal> like you have to turn off clustering

[14:34] <autrijus> but then

[14:34] <gaal> so that -vax != -v -a -x

[14:34] <autrijus> perl -pie ...

[14:34] <autrijus> is clustered

[14:34] <gaal> yeah :(

[14:34] <autrijus> so I can't just use haskell's getopt

[14:34] <gaal> well -i never was clustered

[14:35] <gaal> (unfortunately)

[14:35] <autrijus> or anything's, for that matter.

[14:35] <theorbtwo> OK, so not quite GNU semantics, sadly.

[14:35] <gaal> yeah. :/

[14:35] <theorbtwo> It's often annoyed me that -M strict does not work.

[14:35] <autrijus> right.

[14:35] <gaal> it doesn't? that's a shame

[14:35] <autrijus> in ruby, -v and --verbose both works.

[14:35] * gaal never noticed that

[14:36] <autrijus> I think that's sanity.

[14:36] <gaal> well, if you do everything long-getopt style, you get sanity

[14:36] <theorbtwo> It's sometimes nice to be able to tab-complete, even if you do have to tab complete, then change / to :: and remove the .pm.

[14:36] <gaal> but no shortcuts.

[14:36] <autrijus> gaal: not exactly sure what to do, then.

[14:37] <autrijus> I much prefer long style myself with selected shorthands

[14:37] <autrijus> like -I and -M 

[14:37] <gaal> theorb2: you can fix *that* in your shell.

[14:37] <theorbtwo> That'd require learning how, though.

[14:37] <gaal> that == being able to complete even immediately following a prefix, that is, not editing the completiong on-the-fly.

[14:37] <gaal> i use tcsh for interactive work (yes, i know, i'm getting rare)...

[14:38] <autrijus> so, -[VDFl0ImMxe] nest

[14:38] <autrijus> I mean cluster

[14:38] <autrijus> via rewrite rules

[14:38] <autrijus> then pass it into long getopt.

[14:38] <autrijus> how's that for sanity?

[14:38] <gaal> -x? i didn't remember that even existed

[14:38] <theorbtwo> Hmm... somehow, that seems backwards.

[14:39] <autrijus> gaal: "tells Perl that the program is embedded in a larger chunk of unrelated ascii text"

[14:39] <autrijus> theorbtwo: elaborate?

[14:39] <gaal> yes, i remember that now (eg fish it out of an email)

[14:39] <theorbtwo> Those are the list of switches that /do/ take an argument.

[14:39] <theorbtwo> Surely the ones that cluster are the ones that do /not/?

[14:39] <autrijus> right. sorry.

[14:40] <autrijus> hrm. will anyone miss -ple ?

[14:40] <autrijus> well. never mind. me for one.

[14:41] <autrijus> sigh. :(

[14:41] <theorbtwo> I think that should get re-written to -p -l -e, and then passed on.

[14:41] <theorbtwo> Or we should just accept it, and write our own.

[14:42] <autrijus> but ruby adopted -ple too

[14:42] <autrijus> just to stay competitive.

[14:42] <autrijus> I say we accept our doom. :(

[14:42] <gaal> ruby took something from perl? wow. :p

[14:42] <autrijus> gaal: ruby's command line is 99% perl.

[14:42] <autrijus> its license, too.

[14:42] <autrijus> and more.

[14:43] <gaal> well, from the user perspective it makes sense that the comand line is weird but gives maximum utility. just like everything else in perl

[14:43] <autrijus> before I started Pugs, I used to say that Ruby is Perl 6 without the advertisement.

[14:44] <gaal> autrijus, i was joking, of course. i don't know ruby but most of what i saw looked familiar :)

[14:44] <autrijus> :)

[14:44] <autrijus> but nobody ever worked on a CPAN2Ruby converter.

[14:44] <autrijus> if there is, I predict mass migration :)

[14:44] <autrijus> (same applies for Perl 6.)

[14:44] <autrijus> (but for Perl 6 it's one of deliverables.)

[14:45] <gaal> well, now it's time for somone to write a ruby2p6 converter :)

[14:45] <autrijus> there's a rubyonparrot team :)

[14:46] <gaal> has anyone used getopt::declare? how does it feel liike to the user?

[14:46] <gaal> i mean the person running the script, not the programmer

[14:46] <autrijus> oh. not sure.

[14:47] <autrijus> System.Console.GetOpt is a lot like that for the programmer

[14:47] <autrijus> but conforms to gnu long opt style

[14:47] <autrijus> for the user.

[14:48] <gaal> well, i'm thinking, if we manage to write perl5's commandline handling with getopt declare, then we could port it to haskell, and use that for pugs, plus maybe even expose an interface for the p6 programmer for their own scripts.

[14:49] <autrijus> well, we wouldn't need to port it to haskell then.

[14:49] <autrijus> port it to p6 ;)

[14:49] <autrijus> and run that with pugs.

[14:49] <gaal> and have pugs not deal with its own command line at all?

[14:49] <autrijus> aye.

[14:49] <gaal> bootstrapping problem: where does it find its internal getopt?

[14:50] <autrijus> inline it?

[14:50] <autrijus> you think p5's cmdline syntax can be expressed with getopt declare?

[14:50] <autrijus> I was thinking about a small parser with parsec.

[14:51] <autrijus> that's an excellent way to learn parsec :)

[14:51] <gaal> okay. well, i'll be glad to look into it then. but now i have to leave again for some more hours.

[14:51] <autrijus> ok. see ya!

[14:51] <gaal> bye!

[14:51] * gaal &

[15:18] <masak> i'm getting strange output when running the towers of hanoi example

[15:18] <masak> bash-3.00$ ./pugs examples/hanoi.p6

[15:18] <masak> ndisks = 3

[15:18] <masak> AS

[15:18] <masak> AS

[15:18] <masak> SS

[15:18] <masak> AB

[15:18] <masak> SS

[15:18] <masak> SB

[15:18] <masak> SB

[15:18] <masak> how could I possibly move something from S to S?

[15:19] <masak> am I missing something?

[15:27] <masak> when I run a quick p5 port, I get much saner output

[15:27] <masak> bash-3.00$ ./hanoi.pl

[15:27] <masak> ndisks = 3

[15:27] <masak> AB

[15:27] <masak> AS

[15:27] <masak> BS

[15:27] <masak> AB

[15:27] <masak> SA

[15:28] <masak> SB

[15:28] <masak> AB

[15:28] <masak> at least that *looks* like it could be right?

[15:28] <masak> is hanoi supposed to be borken?

[15:59] <autrijus> masak: wow. it looks broken.

[15:59] <autrijus> thanks for bringing it to my attention. will fix.

[16:00] <autrijus> brb &

[16:04] <masak> how finished is pugs?

[16:04] <masak> i'm thinking of writing a small board game in it

[16:04] <masak> is that doable?

[16:08] <rjbs> Depends on what you need it to do, surely.

[16:25] <jabbot> pugs - 881 - * Disallow UNINST=1 during install.

[16:34] <masak> rjbs: well, I need it to be able to handle simple data structures, like arrays and hashes. i need loops, if statements, subs, scalars, a way to enter input... that's about it.

[17:01] <stevan> morning all

[17:01] <stevan> nothingmuch: you around? 

[17:01] <nothingmuch> in and out

[17:02] <stevan> I just ran make test

[17:02] <nothingmuch> uhuh?

[17:02] <stevan> and then took a nap, ate breakfast and walked the dog

[17:02] <stevan> its taking a loooong time

[17:02] <nothingmuch> ook

[17:02] <stevan> I think we should think about re-organizing the test suite

[17:02] <chip> Ha.  "Open Profanity License."  http://www.lcdf.org/xshostakovich/COPYING

[17:02] <nothingmuch> for me it usually runs in under 2-3 minutes on my laptop (which is slooooww)

[17:02] <stevan> it wont speed it up,..

[17:03] <nothingmuch> and about a minute on a very fast machine at work

[17:03] <stevan> yeah

[17:03] <stevan> what do you think about re-organizing it

[17:04] <stevan> for instance,.. making a data-structures folder for the array/hash tests

[17:04] <stevan> stuff like that

[17:04] <stevan> I dont want to get to granular, but as the suite grows, its harder and harder to find things

[17:05] <nothingmuch> err, we could

[17:05] <nothingmuch> i've been thinking about it a while

[17:05] <nothingmuch> but how would that make it faster?

[17:05] <nothingmuch> perhaps quicker, if you only want to tests parts

[17:05] <stevan> I dont mind doing the work

[17:05] <nothingmuch> well, that's true

[17:05] <stevan> it wont make it faster

[17:05] <stevan> exactly

[17:05] <stevan> more intelligent grouping means I can run less of it

[17:06] <stevan> again, I dont mind doing the work, but I just want to get feedback on my restructuring

[17:06] <nothingmuch> okay

[17:06] <stevan> alright, I will whip up a proposed structure and get back to you  

[17:07] <nothingmuch> great

[17:07] <nothingmuch> put it up on the wiki

[17:07] <ingy> sdkjfhsdhfhola

[17:07] <ingy> riight

[17:07] <ingy> morning

[17:07] <masak> question: how ready is pugs for writing a smaller application?

[17:08] <masak> i'm thinking of implementing a board game in either perl 5 or pugs

[17:08] <masak> and i need data points for my decision

[17:08] <stevan> masak: we dont have multi-dimensional data structures so you might have a hard time

[17:09] <masak> hm

[17:09] <masak> but can i create an array of... things?

[17:09] <pjcj> but substr works, doesn't it?

[17:09] <stevan> pjcj: not sure,.. it might now

[17:10] <masak> all i need is really an array of array[ref]s

[17:10] <masak> is that the same as a multidimensional array?

[17:11] * stevan read an article recently on game boards implemented with bits

[17:11] <masak> :)

[17:11] <stevan> masak: yes

[17:11] <stevan> array refs are not implemented yet

[17:11] <masak> ah

[17:11] <stevan> or rather,.. they are,.. but you cannot nest them

[17:11] <masak> could be a problem

[17:11] <stevan> they will flatten 

[17:11] <masak> ok

[17:11] <masak> well... can i help?

[17:11] <stevan> sure

[17:11] <stevan> know Haskell?

[17:12] <masak> um... a little

[17:12] <masak> i know fp

[17:12] <masak> and i have read some haskell

[17:12] <stevan> you can take a look at that stuff,.. or on the perl6 side, you can write tests or examples or even convert your favorit perl 5 module

[17:12] <obra> stevan: are there tests for multidemensioanl arrays? yeah

[17:12] <stevan> orba: yes

[17:12] <obra> obra, but yeah :)

[17:12] <masak> :)

[17:13] <masak> stevan: ok, i will. thx!

[17:17] <autrijus> greetings.

[17:17] <stevan> howdy autrijus 

[17:18] <autrijus> yo stevan. what's up?

[17:18] <stevan> not much

[17:18] <stevan> thinking about re-organizing the test suite

[17:18] <stevan> its getting big

[17:19] <autrijus> it is.

[17:19] <autrijus> and I imagine t/objects starting soon

[17:19] <stevan> yeah

[17:19] <autrijus> larry makes fun of my use of "woot".

[17:19] <stevan> t/data_structures

[17:19] <autrijus> :p

[17:19] <autrijus> yeah. I think 1-level deepness works

[17:19] <kungfuftr> autrijus: kill him!

[17:19] <autrijus> probably don't need t/foo/bar/baz.t

[17:20] <autrijus> kungfuftr: nah. larry is inimitable

[17:20] <stevan> autrijus: yeah not too deep

[17:20] <stevan> wide and shallow

[17:20] <autrijus> yup.

[17:21] <pjcj> perl5 has a coretest target, but that would probably cover all the current tests anyway

[17:21] <obra> hi

[17:22] <obra> mishi

[17:22] <autrijus> hi obra-san.

[17:22] <autrijus> ETA to boarding?

[17:22] <ingy> hola

[17:22] <obra> hi autrijus-san. um. boarding in 6:30

[17:22] <autrijus> and now is.. ?

[17:22] <obra> er. boarding in 6:00

[17:22] <autrijus> oh ok.

[17:22] <obra> sorry. in six hours.

[17:22] <kungfuftr> baka neko-san?

[17:22] <obra> it is now 12:20

[17:22] <autrijus> six hours. nice.

[17:22] <ingy> 18:00

[17:22] <obra> before then, I must reply to sales inquiries and finish packing

[17:23] <autrijus> ok. I need to focus for 10 minutes

[17:23] <autrijus> and finish lightstep's thunking patch.

[17:23] <autrijus> better to do it while it still merges without conflicts.

[17:23] * ingy is jealous of obra

[17:24] * rgs wants a box of inline

[17:25] <crysflame> hi

[17:28] *** obra is now known as ingy_

[17:28] *** ingy is now known as obra

[17:29] <autrijus> ingy_: so your EU::MM hacks needs 6.17.

[17:29] <autrijus> I perceive it's not a problem

[17:29] <autrijus> so I OK'ed the build_requires

[17:29] <ingy_> hah. my nick hilighting is triggering

[17:30] *** ingy_ is now known as obra_

[17:30] *** obra is now known as ingy

[17:30] *** obra_ is now known as obra

[17:31] <ingy> autrijus: which hack is that

[17:32] <ingy> (so many hacks, so little time)

[17:32] <autrijus> ingy: the massive cleanups

[17:32] <ingy> oh hmmm

[17:32] <ingy> what's the deal??

[17:33] <autrijus> apparently EUMM 5.x doesn't like the magics.

[17:34] <autrijus> 6.17 is in 5.8.1 and 5.6.2 though

[17:34] <autrijus> so not sure we need to care.

[18:14] <ninereasons> what am I supposed to be using to read the kwid markup (besides /usr/bin/less)?

[18:15] <jabbot> pugs - 882 - substr should work for all cases - excep

[18:16] <stevan> ninereasons: there is a Perl5-Kwid which does simple kwid to html I believe

[18:16] <ninereasons> I'll look for it, thank you.

[18:17] <stevan> ninereasons: http://search.cpan.org/~ingy/Kwid-0.00_01/

[18:17] <luqui> wow

[18:17] <luqui> that's an early version

[18:17] <luqui> not even the default 0.01

[18:18] <autrijus> hey luqui!

[18:18] <autrijus> nice to see you here!

[18:18] <stevan> so alpha it hurts :P

[18:18] <malaire> seems like my commit-message was badly-worded for jabbot - the except-text got cut off...

[18:18] <luqui> yeah, i've been away

[18:18] <autrijus> I'm about to commit a huge refactoring.

[18:18] <luqui> schoolin' and working on Logic.pm

[18:18] <luqui> autrijus: what does it do?

[18:18] <autrijus> symbol table now contains Vals not Exps

[18:18] <autrijus> and Vals may be VThunks

[18:18] <autrijus> which preserves its env.

[18:18] <luqui> neat

[18:19] <autrijus> that makes := Just Works.

[18:19] <autrijus> so @fib ;)

[18:19] <autrijus> also, pugscc can still handle it.

[18:19] <autrijus> (which is the important part)

[18:19] <autrijus> and once we can Show and Read VThunks

[18:19] <autrijus> we have serializable continuations.

[18:19] <luqui> Do you have any references for thunking techniques

[18:20] <luqui> autrijus: yay serializable continuations

[18:20] <luqui> parrot said it's going to have those

[18:20] <obra> luqui: parrot said so after autrijus cornered dan at lunch and drew on napkins at last oscon

[18:20] <autrijus> right.

[18:20] <autrijus> basic works are there

[18:20] <autrijus> not exposed to pasm last I checked.

[18:20] <luqui> ahh, thanks autrijus

[18:21] <autrijus> sure. it's my pet wishlist item.

[18:21] <autrijus> so, either simon pj's free online book

[18:21] <autrijus> (url in a sec)

[18:21] <autrijus> or "The Glasgow Haskell compiler: a technical overview"

[18:21] <luqui> I'm trying to implement them for Logic.pm

[18:21] <autrijus> "The Implementation

[18:21] <autrijus> of Functional Programming Languages"

[18:21] <luqui> backtracking junctions need it

[18:22] <autrijus> you synced with AI::Prolog's work?

[18:22] <autrijus> or there's no overlap?

[18:22] <luqui> I've used it for reference

[18:22] <luqui> But mostly I'm implementing it to understand how to implement it

[18:23] <luqui> (and to provide MMD based on logical conditions)

[18:23] <autrijus> nod nod.

[18:23] <autrijus> good. that's good spike solution work

[18:23] <luqui> hmm?

[18:24] <luqui> spike what what?

[18:24] <autrijus> sorry. XP jargon.

[18:24] <autrijus> http://www.extremeprogramming.org/rules/spike.html

[18:24] <luqui> *click*

[18:25] <luqui> I probably won't throw it away though.  I'm quite happy with its design.

[18:25] <luqui> One of those things where my gut told me to design it the way that turned out to be right (rare).

[18:25] <autrijus> cool!

[18:25] <autrijus> but you'll port it to p6 :)

[18:25] <luqui> That's the plan

[18:26] <luqui> it's a proof-of-concept module for pattern matching

[18:26] <autrijus> good. by that time we may even compile your code.

[18:26] * autrijus has been researching a lot on how to write metametacircular compiler

[18:26] <luqui> did you type meta twice by accident?

[18:26] <autrijus> no, intentional

[18:27] <autrijus> normal macro things, like Template Haskell or Scheme, although they let you use the host language as macro language,

[18:27] <autrijus> that phase occurs after the tokenization.

[18:27] <autrijus> or really, after AST.

[18:27] <autrijus> and then you tweak the AST.

[18:27] <luqui> ahhh... we need to parse

[18:27] <metaperl_> ingy, ping

[18:27] <autrijus> but perl6 is better than that; you can use the host language to affect lexing.

[18:28] <autrijus> and may even force reparsing of your lexical block

[18:28] <metaperl_> I think head1 head2, etc are a little more useful than =, == , === . For one they are easier to search for. For two, they immediately tell you what level you have

[18:28] <autrijus> whenever there's a lookahead.

[18:28] <autrijus> and all this is inside an evaluator

[18:28] <autrijus> that does incremental compile.

[18:28] <autrijus> the same onthefly compiler is available at eval"" time as well.

[18:28] <autrijus> and must be typesafe.

[18:29] <autrijus> so, lots of fun.

[18:29] <ingy> hola

[18:29] <ingy> metaperl_: 

[18:29] <luqui> hola.  como estas?  (pronounce estas with accent on first syllable)

[18:29] <luqui> (como gringo)

[18:29] <ingy> metaperl_: maybe join #kwid

[18:35] *** rafl_ is now known as rafl

[18:54] <autrijus> woot.

[18:54] <autrijus> fought thru the typechecker now

[18:54] <autrijus> pugs> my $a = 1; my $b := $a; $b = 3; $a

[18:54] <autrijus> 3

[18:54] <autrijus> lvalue bindings work.

[18:54] <ingy> autrijus++

[18:59] <crysflame> autrijus: neat

[19:08] <sorje> nice

[19:09] <sorje> pugs> ? "hi".say

[19:09] <sorje> Segmentation fault

[19:16] <malaire> I get "Segmentation fault" for everything tested so far, when using  pugs> ?

[19:16] <theorbtwo> Hm, works fine for me.

[19:17] <malaire> :r also given "Segmentation fault"...

[19:17] <theorbtwo> Odd.

[19:18] * theorbtwo tries from make clean.

[19:20] <theorbtwo> Still works.

[19:20] <theorbtwo> CPU-archs?

[19:21] <malaire> Athlon 1333

[19:22] <malaire> I'm trying again from clean "svn up"...

[19:23] <malaire> err, "svn co" ...

[19:24] <sorje> malaire, which version of ghc are you using?

[19:24] <malaire> GHC 6.4

[19:24] <sorje> theorbtwo, you?

[19:24] <sorje> I'm using 6.4, too.

[19:26] <autrijus> win32?

[19:26] <autrijus> win32 gives me segfaults also.

[19:26] <autrijus> readline+win32+6.4 specifically

[19:26] <autrijus> nothing else does that to me.

[19:26] <malaire> I have linux

[19:26] <sorje> linux here

[19:26] <autrijus> weird.

[19:30] <malaire> hmm.. how could I turn off all optimizations while 'make' ?

[19:30] <autrijus> malaire: pass -O0 to GHC.

[19:30] <autrijus> so, hack makefile

[19:30] <autrijus> I'm testing.

[19:32] <autrijus> argh!

[19:32] <autrijus> I reverted Eval.hs to get -O back

[19:32] <autrijus> now my refactoring is all gone :-(

[19:32] * autrijus blames svk for not having unrevert

[19:32] * autrijus redoes everything

[19:33] <chip> rerevert

[19:38] * malaire has to go to sleep now...

[19:39] <theorbtwo> Er, I'm using linux/P4/GHC6.2.2

[19:46] <stevan> nothingmuch: ping!

[19:46] <nothingmuch> pong

[19:46] <stevan> http://pugs.kwiki.org/?Perl6Testing

[19:46] <nothingmuch> quickly though, i have to clean the kitchen

[19:46] <stevan> nothingmuch: take your time

[19:47] <stevan> autrijus: you might want to take a look too

[19:47] <autrijus> recoded everything from scratch.

[19:47] <stevan> I tried to keep it no deeper then one

[19:47] <stevan> but in some cases it want 2 deep

[19:48] <stevan> t/data_types/hash/*

[19:48] <stevan> stuff like that

[19:48] <nothingmuch> s/objects/oop/

[19:48] <nothingmuch> merge as much as possible

[19:48] <autrijus> ok, I'm committing something silly.

[19:48] <nothingmuch> and create a top level 'general' everywhere there's too much cruft, i think

[19:48] <nothingmuch> what i'm worried about is err, where things meet

[19:49] <nothingmuch> are traits oop? or are they for data types?

[19:49] <stevan> oop/traits/

[19:49] <autrijus> it works, but apparently makes things a lot slower.

[19:49] <theorbtwo> On data and on containers.

[19:49] <nothingmuch> as for builtins: they should probably be left now

[19:49] <nothingmuch> just grouped

[19:50] <nothingmuch> and later remapped based on s29's partitioning

[19:50] <theorbtwo> ...but not purtiuclarly tied to OO.

[19:50] <stevan> ok

[19:50] <nothingmuch> there should be a directory, pugsbugs or something like that

[19:50] <nothingmuch> with most of t/syntax/ going into t/pugsbugs/syntax

[19:50] <nothingmuch> etc

[19:50] <stevan> ok

[19:51] <nothingmuch> hmm

[19:51] <stevan> actually not all of syntax/,..  

[19:51] <stevan> I moved some stuff in there 

[19:51] <nothingmuch> not all, most =)

[19:51] <stevan> ok updated the page

[19:51] <nothingmuch> i think t/op/ should be made into stuff like t/op/numeric, t/op/string, etc

[19:51] <nothingmuch> to correspond with the prefixes

[19:52] <stevan> ok

[19:52] <nothingmuch> now that they're standardized

[19:53] <nothingmuch> i think i may be overzealous, but i think a myriad of tests will be added eventually

[19:53] <stevan> why do you think that?

[19:53] <stevan> with s29?

[19:53] <nothingmuch> splitting everything up?

[19:53] <nothingmuch> because there are going to be lots and lots of primitives

[19:53] <nothingmuch> btw, quoting should go under syntax, i think,

[19:54] <stevan> ok

[19:54] <masak> i have researched the hanoi bug a little further

[19:54] <stevan> i was thinking q// was a kinda operator maybe

[19:54] <masak> i still dare not go close the haskell source

[19:54] <nothingmuch> also, i'd like t/examples to widen a bit

[19:54] <masak> but i have made a few debug outputs

[19:54] <nothingmuch> when Test::Output will be done, i will gladly unit test the examples

[19:54] <masak> and it seems the S's are spreading

[19:55] <masak> a very strange phenomenon

[19:55] <masak> could it have something to do with binging of parameters?

[19:56] <masak> which source file should i (hypothetically) look in?

[19:56] <nothingmuch> stevan: well, sort of

[19:56] <nothingmuch> except it's not an operator in the typical sense

[19:56] <autrijus> masak: Eval.hs and Bind.hs. wait me a sec

[19:56] <nothingmuch> since it's effect is normally compile time

[19:56] <stevan> nothingmuch: a lot of things don't seem typical :)

[19:56] <masak> autrijus: oki

[19:57] <nothingmuch> anyway, i've got to clean up

[19:57] <stevan> nothingmuch: how about I start with this, then we can go from there

[19:57] <nothingmuch> sure

[19:57] <stevan> ok I will do all this re-arranging later today,.. 

[19:57] <stevan> have fun cleaning the kitchen :)

[19:58] <nothingmuch> i'd like to standardize on a test -> syn link format

[19:58] <nothingmuch> and start doing that doay

[19:58] <nothingmuch> today

[19:58] <nothingmuch> and maybe someone can whip up a website where that stuff gets updated

[19:58] <autrijus> ok, I'm back to the material plane.

[19:58] * autrijus backlogs

[19:59] <stevan> nothingmuch: I agree on the test cataloger

[19:59] <stevan> I think this re-org will help though

[19:59] <autrijus> hrm, I'd argue for t/junction/ to be toplevel

[19:59] <autrijus> because it's testing the junctive logic

[19:59] <autrijus> not the operators per se.

[19:59] <stevan> autrijus: thats fine with me,.. I struggled with where to put it anyway

[20:00] <autrijus> and s/oop/objects/

[20:00] <stevan> nothingmuch: with better orgs, we can build better PODs, which are easier to navigate, etc et cetc

[20:00] <stevan> LOL

[20:00] <nothingmuch> objects?

[20:00] <stevan> nothingmuch: just s/object/oop/

[20:00] <autrijus> LOL.

[20:00] * autrijus thinks.

[20:01] <autrijus> you know, oo/ makes more sense than oop/ :)

[20:01] * autrijus thinks some more.

[20:01] <nothingmuch> oop sounds like soup

[20:01] <nothingmuch> but that's the only reason i like it

[20:01] <autrijus> I think objects/.

[20:01] <nothingmuch> oo is short and unambiguous

[20:01] <nothingmuch> objects is too specific

[20:01] <autrijus> true.

[20:01] <nothingmuch> there's lots more than objects

[20:01] <nothingmuch> maybe oo/objects

[20:01] <autrijus> oo then. I'm fine with oo.

[20:02] <stevan> ok

[20:02] <nothingmuch> oo/traits, oo/classes, oo/classes/anynymous.t

[20:02] * stevan changes the wiki again

[20:02] <nothingmuch> as far as definition is concerned it's all about objects, but language implementation needs to be partitioned better than that, IMHO

[20:02] <autrijus> otherwise it looks very sane.

[20:02] * masak has checked the source code /me likes the poems

[20:02] <stevan> autrijus: sane was my goal :)

[20:03] <masak> oops :)

[20:03] <autrijus> ok. hanoi

[20:03] <masak> :)

[20:03] <masak> i don't understand the code

[20:03] <autrijus> the hanoi code?

[20:04] <masak> the pugs source

[20:04] <masak> i want to, but i have a bit left to go... :/

[20:04] <autrijus> oh. nvm that.

[20:04] <masak> so how can i help?

[20:04] <masak> i have one more output

[20:05] <autrijus> so, when disks = 2

[20:05] <autrijus> it says

[20:05] <autrijus> AS

[20:05] <autrijus> AB

[20:05] <autrijus> SB

[20:05] <masak> yes

[20:05] <masak> that is correct

[20:05] <masak> as far as i can tell

[20:05] <autrijus> ok

[20:05] <autrijus> so =3 is the first error case

[20:05] <masak> yes

[20:05] <jabbot> pugs - 883 - * Full thunking landed: The symbol table

[20:05] <masak> look here

[20:06] <masak> bash-3.00$ ./pugs examples/hanoi.p6 3

[20:06] <masak> ndisks = 3

[20:06] <masak> Upon entering $a=A, $s=S, $b=B

[20:06] <masak> Upon entering $a=A, $s=S, $b=S

[20:06] <masak> Upon entering $a=A, $s=S, $b=S

[20:06] <masak> Upon entering $a=A, $s=S, $b=S

[20:06] <autrijus> I see a "SS"

[20:06] <masak> 1AS

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <masak> 2AS

[20:06] <Limbic_Region> autrijus - http://use.perl.org/~tombom/journal/23724 # first time with Pugs

[20:06] <autrijus> SS could not be right.

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <masak> 1SS

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <masak> 3AB

[20:06] <masak> Upon entering $a=S, $s=S, $b=B

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <masak> 1SS

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <autrijus> er. nopaste! nopaste!

[20:06] <masak> 2SB

[20:06] <masak> Upon entering $a=S, $s=S, $b=B

[20:06] <autrijus> pasteling: nopaste?

[20:06] <masak> Upon entering $a=S, $s=S, $b=S

[20:06] <masak> 1SB

[20:06] <masak> Upon entering $a=S, $s=S, $b=B

[20:06] <autrijus> pasteling: nopaste

[20:06] <masak> no

[20:06] <Limbic_Region> perlbot nopaste

[20:06] <perlbot> Paste your code here and #perl will be able to view it: http://sial.org/pbot/perl

[20:06] <autrijus> oops :p

[20:06] <autrijus> masak: try nopaste :)

[20:07] <autrijus> I can't quite grok irc pastes

[20:07] <masak> oh, sorry

[20:07] <masak> what's nopaste?

[20:07] <autrijus> perlbot: nopaste

[20:07] <perlbot> Paste your code here and #perl will be able to view it: http://sial.org/pbot/perl

[20:07] <masak> ah

[20:08] <masak> there

[20:08] * masak uses nopaste for the first time

[20:08] <autrijus> except you need to select #perl6 :)

[20:08] <pasteling> "masak" at 130.238.83.176 pasted "hanoi debug run" (24 lines, 566B) at http://sial.org/pbot/8334

[20:08] <masak> ouch :(

[20:09] * masak wreacks havoc in #perl forum by pasting perl6 code there without explanation

[20:09] <autrijus> :)

[20:10] <autrijus> so obviously the pad is broken

[20:10] <masak> ah, obviously :)

[20:10] <masak> the pad is broken

[20:10] <autrijus> now, to find out why.

[20:10] <autrijus> :)

[20:10] <autrijus> care to produce a minimum test case?

[20:10] <masak> sure

[20:11] <masak> how?

[20:11] <autrijus> one that is not 307 bytes long

[20:11] <jabbot> masak: how is it supposed to err, perform normally given say:

[20:11] <autrijus> preferably in one line :)

[20:11] <masak> ok :)

[20:11] <masak> i'll do my smallest

[20:11] <autrijus> probably beginning with sub s ($a,$b,$c) {...}

[20:11] <autrijus> or something like that

[20:11] <autrijus> thanks!

[20:11] <masak> yes

[20:11] <masak> brb

[20:12] <theorbtwo> masak: The pad is where lexical variables are kept.

[20:13] <masak> ah, as opposed to...?

[20:13] <autrijus> well in pugs there are two pads

[20:13] <autrijus> one lexical and one global

[20:13] <autrijus> actually "global" just means "per-package"

[20:14] <autrijus> but we don't have packages yet, so it's as good as global

[20:14] <autrijus> almost all data type definitions are in AST.hs.

[20:14] <autrijus> so, to learn what a Pad is, you grep Pad in AST.hs :)

[20:14] <autrijus> and it says:

[20:14] <autrijus> type Pad = [Symbol]

[20:14] <autrijus> in english: "a pad is a list of symbols."

[20:15] <autrijus> and you may wish to ask what a Symbol is

[20:15] <autrijus> look at the next line

[20:15] <autrijus> and it will tell you that a symbol is a Scope, a Name, and either a Value or a Expression.

[20:15] <autrijus> etc, etc:)

[20:16] <autrijus> and to learn what a Scope is, the next line says

[20:16] <autrijus> data Scope = SGlobal | SMy | SOur | SLet | STemp | SState

[20:16] <autrijus> which reads just like enums.

[20:17] <masak> ah

[20:17] <masak> i have encountered an unexpected problem

[20:18] <autrijus> oh?

[20:18] <pasteling> "masak" at 130.238.83.176 pasted "unexpected error" (5 lines, 124B) at http://sial.org/pbot/8335

[20:18] <masak> maybe it's just me not knowing pugs syntax

[20:18] <masak> but it trips on the comma in my sub declaration

[20:18] <autrijus> I think you want ''.

[20:18] <autrijus> bash interpolates $a.

[20:18] <autrijus> not a pugs problem :)

[20:18] <masak> i see

[20:18] <masak> thx

[20:18] <autrijus> np

[20:19] <masak> it compiles now :)

[20:20] <crysflame> doesn't bash support heredocs?

[20:20] <crysflame> like perl -e <<FOO

[20:21] <gaal> yoyoyo

[20:21] <crysflame> hm, not enough to work, i guess. o well.

[20:23] <masak> autrijus: ok, here goes

[20:24] <pasteling> "masak" at 130.238.83.176 pasted "minimal test case" (4 lines, 198B) at http://sial.org/pbot/8336

[20:24] <masak> the second run should return "ba"

[20:25] <masak> this is probably not the pragmatically correct way to make a minimal test case, but it shows what's wrong

[20:26] <autrijus> that's fine

[20:27] <autrijus> sub h($a,$b,$d) {return h($b,$a,0) if $d;"$a$b"} say h('a','b',1)

[20:27] <autrijus> I'll use this.

[20:27] <autrijus> testing

[20:29] <autrijus> yay. I got mail indicating YAPC::NA wants me there.

[20:29] <hide> I could have told you that.

[20:29] <autrijus> oh! you're on the organizing team?

[20:29] <hide> nah, just part of TO.pm

[20:30] <gaal> they have a moose in their logo! cool.

[20:30] <autrijus> masak: you may be interested in running

[20:31] <autrijus> ghci -isrc src/Main.hs

[20:31] <masak> ok

[20:31] <autrijus> then type

[20:31] <autrijus> eval "sub h($a,$b,$d) {$d ?? h($b,$a,0) :: qq[$a$b]} say h('a','b',1)"

[20:31] <autrijus> that explains clearly what went wrong.

[20:31] <masak> right. brb

[20:31] <masak> woah

[20:31] * masak is overwhelmed by fp symbols

[20:32] <autrijus> want some explanation? :)

[20:32] <masak> i'm sure it explains it clearly... to someone else :)

[20:32] <masak> yes please

[20:32] <autrijus> it is aligned with

[20:32] <autrijus> *** Evl: expression

[20:32] <autrijus> *** Ret: value

[20:32] <autrijus> pairs

[20:33] <autrijus> which may be nested

[20:33] <autrijus> the expressions and values may span several lines.

[20:33] <masak> ok

[20:33] <autrijus> so the first Evl is the entire program.

[20:33] <autrijus> it displays a parse tree.

[20:33] <masak> ok

[20:33] <autrijus> so, it first evaluates the sub{...}

[20:34] <masak> yes

[20:34] <autrijus> and put it into SGlobal &h

[20:34] <masak> ...which it should

[20:34] <autrijus> then it evaluates ('a','b',1)[0..Inf]

[20:34] <masak> hunh?

[20:34] <autrijus> never mind :)

[20:34] <autrijus> it evaluates the arguments.

[20:34] <masak> ok

[20:35] <autrijus> so you see a

[20:35] <autrijus> App "&h" ('a','b',1)

[20:35] <masak> yes

[20:35] <masak> "apply"

[20:35] <autrijus> which means it tries to apply &h with the correct args.

[20:35] <masak> yes

[20:35] <autrijus> now there is the ??:: form.

[20:35] <masak> yes

[20:35] <autrijus> it is written as

[20:35] <autrijus> Syn "if" { cond ; true ; false }

[20:35] <masak> yes

[20:35] <autrijus> where the false part has a cxt forcer

[20:35] <autrijus> of "Str"

[20:35] <autrijus> and joins $a and $b and ''.

[20:35] <masak> ok

[20:36] <autrijus> which is what interpolation is.

[20:36] <autrijus> so it evaluates cond.

[20:36] <autrijus> that's $d, and is 0

[20:36] <autrijus> I mean, 1.

[20:36] <masak> cool... it's starting to make some weird kind of sense

[20:36] <autrijus> then it tries to evaluate (App "&h" (Var "$b", Var "$a", 0))

[20:36] <autrijus> which is the <true> part.

[20:37] <masak> yes

[20:37] <autrijus> so it looks up $b and $a.

[20:37] <masak> so far so good

[20:37] <masak> yes

[20:37] <autrijus> $b is 'b'.

[20:37] <autrijus> $a is 'b'.

[20:37] <autrijus> oops!

[20:37] <masak> but we knew that, right?

[20:37] <masak> that's the problem, not the solution

[20:37] <autrijus> yes. but the important thing is the sequence of things happening :)

[20:37] <masak> ah, ok

[20:37] <autrijus> it means that $b is bound first to $a

[20:38] <autrijus> I mean, 'b' is bound to $a

[20:38] <masak> ...because the pad is broken?

[20:38] <autrijus> and the second argument is _then_ evaluated.

[20:38] <autrijus> so it uses the modified pad

[20:38] <autrijus> where $a is already bound anew

[20:38] <autrijus> and get that value.

[20:38] <masak> why does it use the modified pad?

[20:38] <autrijus> because whereas we should evaluate all arguments first, then bind them to formal params

[20:39] <autrijus> it appears that we are evaluating one and bind one

[20:39] <autrijus> and evaluate another.

[20:39] <autrijus> that is seriously broken.

[20:39] <masak> not good

[20:39] <autrijus> so, the place to find this is Eval.hs

[20:39] <masak> ok

[20:39] <autrijus> I'm checking code, a sec.

[20:39] <autrijus> (doApply is the place)

[20:39] * masak has got to learn haskell after this

[20:40] <autrijus> ok.

[20:40] <autrijus> I know why now.

[20:40] <masak> woot

[20:40] <autrijus> but you need to know haskell to follow completely

[20:40] <autrijus> nevertheless I'll explain

[20:41] <masak> yes, do

[20:41] <autrijus> ok. you see doApply?

[20:41] <masak> sec

[20:41] <autrijus> doApply :: Env -> VSub -> [Exp] -> [Exp] -> Eval Val

[20:41] <autrijus> Eval.hs line 614

[20:41] <autrijus> if it's not line 614 for you, svn up.

[20:42] <masak> it is

[20:42] <autrijus> ok.

[20:42] <autrijus> now, the :: line is the function signature.

[20:42] <autrijus> it says:

[20:42] <masak> yeah

[20:42] <autrijus> doApply takes the current environment (the pads)

[20:42] <autrijus> and a subroutine

[20:42] <autrijus> and a set of invocants

[20:42] <autrijus> and another set of arguments

[20:42] <autrijus> (here we only use arguments)

[20:42] <autrijus> then it evaluates a Value for you.

[20:42] <masak> currying, right?

[20:43] <autrijus> hm?

[20:43] <autrijus> subroutines are closures. not sure how currying apply here

[20:43] <masak> maybe not

[20:43] <autrijus> if you only pass it an argument, then it curries. but we're using full invocation

[20:43] <masak> fp is still voodoo to me

[20:43] <autrijus> anyway. see the next line.

[20:43] <masak> ok

[20:43] <autrijus> now we start binding

[20:44] <masak> yes

[20:44] <autrijus> so, we only care about the "cls" part of the env

[20:44] <autrijus> but ignore that.

[20:44] <autrijus> then we call the subroutine "sub"

[20:44] <autrijus> and call its parameters "prms", its body "fun", and its type "typ".

[20:44] <autrijus> then we call the invocants "invs" and arguments "args".

[20:44] <autrijus> with that done, we start evaluating.

[20:44] <masak> ok

[20:45] <autrijus> so, we call "bindParams prms invs args"

[20:45] <autrijus> which binds the invs and args against the formal prms

[20:45] <stevan> uhm

[20:45] <stevan> r883

[20:45] <stevan> pugs -e 'my $a; $a += $_ for 1 .. 10; say $a'

[20:45] <autrijus> uhm.

[20:45] <stevan> this is an infinite loop and gobbles up the whole CPU

[20:45] <autrijus> you don't need the say$a

[20:46] <masak> stevan: thanks for telling :)

[20:46] <autrijus> you don't need the $_.

[20:46] <stevan> autrijus: the say $a was to test it works on the older Pugs :)

[20:46] <autrijus>  ./pugs -e 'my $a; for 1 {  $a + 1 };'

[20:46] <autrijus> is sufficient.

[20:46] <stevan> :)

[20:46] <autrijus> stevan: I'll fix in a min.

[20:46] <autrijus> let me fix masak's bug first. :)

[20:47] <stevan> ok,.. no rush,.. I just noticed it

[20:47] <autrijus> masak: ok. so bindParams returns either an error message, or a correct set of bindings.

[20:47] * stevan should be doing $work stuff anyway

[20:47] <masak> ok

[20:47] <autrijus> we use "case", which is like "switch", to analyze it.

[20:47] <masak> yes

[20:47] <autrijus> if it's an error, well never mind that branch

[20:47] <autrijus> now we have bindings.

[20:48] <masak> ok

[20:48] <autrijus> so we enter a dynamic scope.

[20:48] <masak> enterScope

[20:48] <autrijus> that means CALLER:: from now on refers to where we've been.

[20:48] <autrijus> which makes sense.

[20:48] <masak> sure

[20:48] <autrijus> then we get a set of bound arguments

[20:48] <autrijus> via doBind.

[20:48] <autrijus> we are pretty sure it's where it's broken.

[20:48] <masak> uh huh

[20:49] <autrijus> when you see

[20:49] <autrijus> var <- function args

[20:49] <autrijus> read: "set var to the result of evaluating function with args."

[20:49] <masak> yes...?

[20:49] <autrijus> ok. now go to line 636

[20:49] <autrijus> where doBind is defined.

[20:49] <masak> i'm there

[20:50] <autrijus> excellent.

[20:50] <autrijus> so that line means

[20:50] <autrijus> if you are trying to bind an empty list

[20:50] <masak> yes

[20:50] <autrijus> I give you an emptly list back.

[20:50] <autrijus> which is unexciting.

[20:50] <masak> pattern matching

[20:50] <autrijus> so next line.

[20:50] <autrijus> if you are binding an nonempty list

[20:50] <autrijus> where the first element is a parameter bound to an expression

[20:50] <autrijus> and everything else is called "rest"

[20:50] <masak> ok

[20:51] <autrijus> ignore the Parens branch.

[20:51] <autrijus> so that line reads

[20:51] <autrijus> "I turn expressions to values and assign it to val."

[20:52] <masak> makes sense

[20:52] <autrijus> err, "I turn expression to value and assign it to val."

[20:52] <autrijus> ignore the "coll" part.

[20:52] <masak> yes

[20:52] <autrijus> (it controls junctive autothreading.)

[20:52] <masak> :)

[20:52] <masak> i'll ignore it

[20:52] <autrijus> now line 645

[20:52] <masak> yep

[20:52] <autrijus> it says, "fix the val above with the context given by the parameter name sigil."

[20:53] <autrijus> which is actually bogus.

[20:53] <autrijus> because we need to specify context during evaluation

[20:53] <autrijus> not when we already have a val

[20:53] <autrijus> because the exp may choose to evaluate differently in response to a context.

[20:53] <masak> yes

[20:54] <masak> i think i actually see the problem

[20:54] <autrijus> it's in the next line :)

[20:54] <masak> through a haze, but still

[20:54] <autrijus> the next line says:

[20:54] <masak> the recursive call

[20:54] <autrijus> "now bind this variable, and do the rest."

[20:54] <autrijus> oops.

[20:54] <masak> yes

[20:54] <autrijus> now, why was that there?

[20:54] <masak> :)

[20:54] <autrijus> because perl6 allows

[20:54] <autrijus> sub foo ($a, ?$b = $a) { ... }

[20:54] <autrijus> and here the $a refers to the previously bound $a.

[20:55] <masak> ah, wow

[20:55] <masak> neat

[20:55] <autrijus> except it's throwing us off.

[20:55] <masak> yes

[20:55] <masak> want cake and eat cake

[20:55] <autrijus> yes.

[20:55] <autrijus> now, actually there is a difference.

[20:55] <masak> oh, good

[20:55] <masak> :)

[20:55] <autrijus> the $a in ?$b = $a is part of part of an optional arg.

[20:56] <masak> an optional arg?

[20:56] <autrijus> $b is optional.

[20:56] <autrijus> ? denotes optionalness.

[20:56] <masak> ah

[20:56] <autrijus> when Bind.hs processes it, it adds a "Parens" before it.

[20:56] <autrijus> see line 640.

[20:56] <masak> yes

[20:57] <autrijus> let me commit the context fix first.

[20:57] <masak> np

[20:58] * masak is greatly enjoying himself

[20:58] <autrijus> it's readable? :)

[20:59] <masak> a bit like russian is readable, yes :)

[20:59] <autrijus> lol.

[21:00] <autrijus> fixed.

[21:00] <autrijus> svn up?

[21:00] *** boch is now known as boch\off

[21:02] <masak> sure, sec

[21:03] <masak> i guess removing and redownloading the entire source tree is not the most effective use of svn...

[21:04] <autrijus> nope :)

[21:05] <jabbot> pugs - 884 - * sub params need to apply their sigil c

[21:06] <masak> svn:ed up

[21:06] <Limbic_Region> autrijus - did you catch the use.perl journal entry I posted - you were in the middle of another conversation

[21:07] <Limbic_Region> s/posted/pasted

[21:07] <autrijus> Limbic_Region: I did.

[21:08] * Limbic_Region believes that the rolling snowball isn't far away from critical mass

[21:12] <masak> ...at which point it will... what? explode? stop? melt? :)

[21:14] <elmex> wow

[21:15] <autrijus> my battery just went out :-/

[21:15] <autrijus> bgfscking. sec

[21:16] <autrijus> freebsd-- # no automagic acpiconf -s 4

[21:16] <Limbic_Region> maybe that's a sign you should go to bed

[21:17] <autrijus> heh :)

[21:17] <masak> i'm going to bed

[21:17] <autrijus> and I fixed the bug.

[21:18] <masak> autrijus: thanks for all the explanations

[21:18] <autrijus> testing.

[21:18] <autrijus> masak: no prob :)

[21:18] <autrijus> masak: how should I credit you in AUTHORS?

[21:18] <masak> nonono :)

[21:18] <autrijus> may I make you a committer and let you commit that line yourself? :)

[21:18] <masak> sure :)

[21:18] <autrijus> your email?

[21:18] <masak> [email@hidden.address]
[21:18] <autrijus> ok. sleep well!

[21:19] <masak> thx

[21:20] <elmex> i only wrote one test... not a reason for me to be listed in the credits... i think

[21:24] <autrijus> I think otherwise :)

[21:24] <autrijus> elmex: are you not a committer?

[21:27] <elmex_> a freeflight..

[21:27] <elmex_> autrijus: you said something?

[21:27] <autrijus> elmex_: are you not a committer? sorry for not remembering

[21:28] <elmex_> ah, yes, i am... committet a test..

[21:28] <autrijus> ok. add yourself to AUTHORS then, if only to reduce theorbtwo's workload.

[21:29] <autrijus> hi rg0now!

[21:29] <rg0now> hi

[21:29] <rg0now> might I bugreport now?

[21:29] <autrijus> sure. I'm aware that trunk is broken re :=

[21:29] <autrijus> but go ahead.

[21:29] <rg0now> open is broken too

[21:30] <rg0now> I menan at least on linux

[21:30] <elmex_> autrijus: oh, if it makes workload to others..i have to add myself.

[21:30] <autrijus> rg0now: yeah. my thunk patch destroyed everything.

[21:30] <rg0now> :)

[21:30] <rg0now> should I wait some time until it stabilizes?

[21:31] <elmex_> autrijus: what does the stuff in parents in the AUTHORS file mean?

[21:31] <autrijus> rg0now: like, 5 min

[21:31] <autrijus> elmex_: CPAN id

[21:31] <elmex_> ah, ok, dont have one

[21:31] <autrijus> rg0now: give me a case where open is broken?

[21:31] <autrijus> short test

[21:31] <rg0now> short moment

[21:34] <rg0now> ok, I have the test case:

[21:34] <rg0now> my $fh = open(@ARGS[0]) or die("failed");

[21:34] <rg0now> this one very subtly fails

[21:35] <rg0now> according to strace, it opens the file 

[21:35] <rg0now> then it tries to ioctl, that fails

[21:35] <rg0now> the relevant lines from the starce log

[21:35] <rg0now> open("stuff/test.txt", O_RDONLY|O_NONBLOCK|O_NOCTTY|O_LARGEFILE) = 3

[21:36] <rg0now> so open is successful, but then the ioctl that fails

[21:36] <rg0now> ioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbfffd86c) = -1 ENOTTY (Inappropriate ioctl for device)

[21:37] <rg0now> this is Pugs r883 on Debian Linux

[21:38] <rg0now> interestingly, =<> works fine...:-)

[21:38] <autrijus> ok.

[21:38] <autrijus> did it work?

[21:39] <autrijus> before r883

[21:39] <rg0now> I think it did, as the new tsanta code over at PerlMonks uses it

[21:39] <rg0now> you know, the Pugs Golf contest..:-)

[21:39] <autrijus> yup.

[21:40] <rg0now> does it work for you?

[21:40] <rg0now> did _I_ miss something again?

[21:40] <autrijus> no... it worksforme.

[21:41] <autrijus> can you try to trackdown a bit?

[21:41] <rg0now> wait a bit more, I try to narrow it down a bit...

[21:41] <autrijus> try r882.

[21:41] <autrijus> r883 is a huge refactoring.

[21:41] <rg0now> ok

[21:41] <hide> $a += $_ for 1 .. 10; seems to loop for a really long time.

[21:42] <autrijus> hide: svn up.

[21:42] <hide> that was 885, now I'm at 888

[21:43] <autrijus> the shell is broken.

[21:43] * hide nods

[21:44] <hide> it actually looped forever in t/base/post, but in 888 appears fixed.

[21:44] <hide> so ignore me :)

[21:44] <autrijus> :)

[21:44] <hide> I've got some time to add tests, just don't know where to start.

[21:45] <stevan> hide: we are going to re-organize the tests tonight so it wont be so confusing

[21:45] <stevan> hide: here is the proposed new structure

[21:45] <stevan> http://pugs.kwiki.org/?Perl6Testing

[21:46] <stevan> feel free to comment on it too, its not yet set in stone

[21:46] * stevan thinks he will wait till autrijus goes to sleep to move all the tests around

[21:46] <autrijus> "You have 15 points until level 6."

[21:46] <autrijus> hrm. I swear one month ago I was level 2 or 3 or so.

[21:47] * autrijus thinks this perlmonks thing is weird.

[21:47] <stevan> autrijus: it is

[21:47] <hide> stevan: I can help if you'd like.

[21:47] <autrijus> "svk mv" is your friend :)

[21:47] <autrijus> (it preserves history)

[21:47] <stevan> yes

[21:47] <hide> svk++

[21:47] <stevan> svn mv does too :)

[21:47] <autrijus> "svn mv" too, but I wrote svk mv.

[21:47] <autrijus> :)

[21:48] <theorbtwo> autrijus, thanks for trying to reduce my workload.

[21:48] <autrijus> theorbtwo: no problem.

[21:48] <theorbtwo> And thanks for thinking perlmonks is wierd.

[21:48] * stevan crosses his fingers and runs make test

[21:48] <autrijus> it is very weird.

[21:48] <autrijus> I like it, though. it's weird in a perlish way.

[21:48] <rg0now> regarding the open failure: it works with r882

[21:48] <rg0now> so it must be the refactoring

[21:48] <autrijus> yay so it's 883.

[21:49] <autrijus> now let's see what lightstep sneaked up in his patch...

[21:49] <stevan> hide: what did you want to help with?

[21:50] <autrijus> failing to find anything related.

[21:50] <tiw> hi all

[21:50] <autrijus> rg0now: I need to sleep soonish.

[21:50] <autrijus> rg0now: if you can help do a binary search inside r883's Prim.hs changes, great

[21:50] <rg0now> ok, I'll be back tomorrow with the latest results...:-)

[21:50] <autrijus> otherwise I'd appreciate a shell or something :)

[21:50] <rg0now> ok

[21:50] <autrijus> tomorrow that is

[21:50] <tiw> i think in given.t, a test case is useless

[21:51] <rg0now> ok, by...

[21:51] <stevan> tiw: which one?

[21:51] <hide> stevan: moving tests around if need be.

[21:51] <stevan> hide: that is probably best done by a single person, its hard to coordinate

[21:51] <tiw> line 19

[21:52] <stevan> tiw: i hesitate to call any case useless 

[21:52] <tiw> stevan: $two will never given a value, no matter test successfully or not

[21:52] <stevan> tiw: but that is tested for

[21:53] <stevan> it is testing that is does *not* get a value

[21:53] <tiw> i mean, when given is not work, the test is still ok

[21:53] <stevan> tiw: yes

[21:53] <stevan> tiw: but if given is broken,.. it might fail

[21:54] <tiw> stevan: ok, it is not useless, but not best

[21:55] <stevan> tiw: agreed, but unimplemented things are hard to test

[21:55] <stevan> feel free to add more if you have ideas

[21:55] <jabbot> pugs - 888 - * now bindings works, unTODO and fix qui

[21:55] <jabbot> pugs - 887 - * op2Numeric repaired

[21:55] <jabbot> pugs - 886 - Added myself to the AUTHOS list.

[21:55] <jabbot> pugs - 885 - * hanoi is back to work

[21:56] <tiw> stevan: i are right.

[21:56] <tiw> stevan: i think  "ok(!$two, "5 is not two");" should to change to todo_ok

[21:57] <tiw> stevan: because this feature is not yet implemented

[21:57] <tiw> it cost me a lot of time to test why this test is "ok"

[21:59] <stevan> tiw: the convention has been to only make failing tests todo_ok and not passing ones

[21:59] <stevan> because Test Harness reads them as "unexpectedly succedding"

[22:00] <stevan> but you are right, it can be confusing

[22:01] <tiw> to test a unimplemented feature, and get ok, do you think it is really good?

[22:01] <tiw> i suggest all test about unimplemented feature should be 'todo_ok'

[22:02] <stevan> but then the test harness will show them unexpectedly succeeding

[22:02] <stevan> which can be confusing

[22:05] <tiw> i do not unstand what the 'failling tests' mean

[22:06] <stevan> if todo_ok passes, then the test harness prints "1 Test Unexpectedly succedded"

[22:06] <stevan> try it

[22:07] <stevan> change it to todo_ok and re-run make test

[22:09] * stevan has to go pick up his daughter &

[22:13] <autrijus> ok. think I'll wake up to a refactored test tree tomorrow? :)

[22:14] <nothingmuch> ah

[22:14] <tiw> i hope test should be meanful

[22:15] <nothingmuch> after kitchen cleaning and socializing /me heads off to the gas station

[22:15] <nothingmuch> to reaquire nicotine stores lost to the laundry machine earlier this week,

[22:20] <autrijus> journal up.

[22:20] <autrijus> good night, folks!

[22:20] <autrijus> thanks and have fun :)

[22:20] <nothingmuch> good night, autrijus

[22:20] <nothingmuch> see you tomorrow

[22:20] <autrijus> =)

[22:21] <nothingmuch> hopefully with something done about the test organization!

[22:21] <autrijus> yup!

[22:21] <autrijus> &

[22:29] <rg0now> has autrijus already left?

[22:29] <ingy> just left

[22:30] <rg0now> I was here some minutes ago and reported a bug

[22:30] <nothingmuch> rg0now: appearantly yes, but you never know ;-)

[22:30] <rg0now> I just wanted autrijus to knwo

[22:30] <autrijus> rg0now: speak quickly. :)

[22:30] <rg0now> that it is now resolved with r888

[22:30] <rg0now> I made a big clean and now everything works fine

[22:30] <autrijus> oh. good. I can sleep better.

[22:30] <rg0now> :-)

[22:30] <rg0now> good night ...

[22:30] <autrijus> :-)

[22:30] <autrijus> rg0now++

[22:30] <autrijus> zzz &

[22:30] <rg0now> bye

[22:54] <stevan> ok, I am now commencing test re-organization :)

[23:27] <stevan> ok, test re-org is complete

[23:27] <stevan> r889

[23:27] <nothingmuch> ok, quick

[23:27] <nothingmuch> format for test -> syn links

[23:28] <nothingmuch> i'm thinking L<Sxx/Heading_Name>

[23:28] <nothingmuch> with Heading_Name optional

[23:28] <nothingmuch> and as a backlink simply a pointer to the line where that was in the test

[23:28] <theorbtwo> I'd like an optional extra / and more specific data.

[23:28] <nothingmuch> also recognize kwid format

[23:28] <theorbtwo> But it'll do for now, so long as headings don't contain slashes.

[23:28] <nothingmuch> and both formats can be lifted from comments, not only docs

[23:29] <stevan> sounds good to me

[23:29] <nothingmuch> theorbtwo - the byte line seeks, etc?

[23:29] <theorbtwo> ...though that seems fraglie, so possible escape slashes that are in the heading.

[23:29] <theorbtwo> Or at least count of newlines.

[23:29] <nothingmuch> phooey

[23:29] <nothingmuch> right now our aim is to get this done quickly

[23:30] <nothingmuch> not count newlines

[23:30] <nothingmuch> only first slash is significant

[23:30] <nothingmuch> theorbtwo: i think this is better defined later

[23:30] <nothingmuch> if you have a concrete format, please specify it

[23:30] <nothingmuch> and i will conform

[23:30] <theorbtwo> I know, but being forward-compatable is good.

[23:30] <nothingmuch> but i know that I won't be adding that optional data this evening

[23:30] <theorbtwo> Write slashes in headings with... hold on a second while I man pod.

[23:30] <stevan> nothingmuch: what about L<Sxx|heading/with/slashes>

[23:31] <nothingmuch> stevan: err, i think that's too confusing, with | separating display from meaning

[23:31] <theorbtwo> Pipe in L is already defined to mean something else.

[23:31] <theorbtwo> If head contains slashes, write E<sol>

[23:31] <nothingmuch> i would prefer backslash escaping

[23:31] <stevan> what about the S<> idea?

[23:31] <theorbtwo> OK, or do that.

[23:31] <nothingmuch> or pod style escaping

[23:31] <nothingmuch> L<> is a link

[23:31] <theorbtwo> E<sol> is pod-style escape.

[23:31] <nothingmuch> i think S<> was nice for backlinking to tests

[23:31] <nothingmuch> from syns

[23:32] <nothingmuch> but i'm not sure i like that idea

[23:32] <nothingmuch> does anybody know how kwid would do that?

[23:32] <stevan> what about S<> in tests (S for Synopsis) and T<> in Synopsis (T for test)

[23:32] <nothingmuch> ingy: ping

[23:32] <ingy> hi nothingmuch 

[23:32] <nothingmuch> stevan: S<> exists... i think we can safely say that L<S##/ is synopses, and L<.*?\.t is a test

[23:33] <nothingmuch> but then again, i really don't want to link from synopses to tests

[23:33] <stevan> nothingmuch: ok by me

[23:33] <nothingmuch> i want to autogenerate the synopses given links from tests

[23:33] <nothingmuch> (please don't assume i'm the self appointed dictator of the linking process, i just need to pee and am trying to type more concisely ;-)

[23:34] <stevan> nothingmuch: go pee then

[23:34] <nothingmuch> ok

[23:34] <stevan> we will wait :)

[23:34] <nothingmuch> =D

[23:34] * theorbtwo retracts a question and just agrees.

[23:34] <theorbtwo> I'll ask when you get back.

[23:35] <stevan> ingy: how would you suggest that we link the tests to the syn using kwid?

[23:35] <nothingmuch> ok

[23:36] <stevan> nothingmuch: feel better now 

[23:36] <nothingmuch> well, i still want to get it started and get it over

[23:36] <stevan> agreed

[23:36] <theorbtwo> nm, you're OK with writing E<sol> for a literal slash in a heading?

[23:36] <theorbtwo> That's all I want...

[23:36] <nothingmuch> plus i haven't worked on pugs all week

[23:37] <stevan> nothingmuch: really? I could have sworn I saw you in the commit log

[23:37] <nothingmuch> theorbtwo: yes, it's valid pod, and it's sigma-complete, so it can be interpreted and converted to anything else given the need

[23:37] <nothingmuch> stevan: i mean serious work... and i feel sort of bad for not having time to feel good about helping

[23:38] <nothingmuch> one last thing i'd like

[23:38] <nothingmuch> lots of testing has to do with corner cases

[23:38] <nothingmuch> i would like to embed pattern matches in the things

[23:38] <nothingmuch> since headings are unique (sort of, pod warns if they aren't, so that L<> will work)

[23:38] <nothingmuch> then a second slash could be a place for arbitrary skip

[23:38] <nothingmuch> not so much newlines

[23:39] <nothingmuch> but i think this is useful for placing the backlink, or at least a copy of it next to relevant code examples

[23:39] <nothingmuch> thus making theorbtwo's suggestions a bit more Q&D

[23:39] <nothingmuch> this is very not futureproof though

[23:39] <nothingmuch> but i think it's OK if the backlink is placed at the top of the section, with a little message saying 'pattern didn't match section XYZ'

[23:40] <nothingmuch> theorbtwo: does this do what you wanted, sort of?

[23:40] <theorbtwo> Yes.

[23:40] <nothingmuch> assuming //s, you can then say \n{4}

[23:40] <theorbtwo> Works pretty well.

[23:40] <theorbtwo> \n{4} doesn't do what you want, but yeah, it's quite possible.

[23:41] <theorbtwo> # (\n.*?){4}

[23:41] <ingy> hi

[23:41] <nothingmuch> what i suddenly realized isi that tests that work on corner cases have a hard time saying exactly what they do if links are only to headings

[23:41] <ingy> stevan: which way are you linking?

[23:42] <nothingmuch> ingy: tests to synopses

[23:42] <nothingmuch> with S##(?:/heading_name(?:/pattern_in_heading_section)?)?

[23:42] <nothingmuch> inside a L<>

[23:42] <nothingmuch> with literal slashes pod escaped

[23:43] <ingy> in pod/kwid, every '=item foo' and every '=headX' forms a link destination

[23:43] <nothingmuch> ingy: in this case synopses are assumed to be kwom or pod equiv

[23:44] <nothingmuch> what we are worrying about is the formatting of the actual links in the test files

[23:44] <ingy> a link is of the form L<text|page/section> or [text|page|section]

[23:44] <ingy> where section is the text from

[23:44] <nothingmuch> and how to format that L<> style link in kwid

[23:45] <nothingmuch> in the former is the text mandatory for disambiguation?

[23:45] <theorbtwo> Well, we're forming links in the form L<page/section/regex>

[23:45] <theorbtwo> You mean later, I think.

[23:45] <nothingmuch> can you say [|page|section]?

[23:45] <ingy> crap...

[23:45] <nothingmuch> right, latter... /me read the kwid one first and got confused =)

[23:45] <ingy> a link is of the form L<text|page/section> or [text|page/section]

[23:45] <nothingmuch> ok

[23:45] <theorbtwo> ingy, I find the bracket-link syntax you just showed highly confusing... oh, that's much better.

[23:45] <nothingmuch> so in that case we don't care

[23:46] <nothingmuch> what about escaping a slash in [] format?

[23:46] <nothingmuch> if section contains a slash, in pod theorbtwo found out it should  be E<sol>

[23:46] <ingy> not really

[23:46] <ingy> it can be the first slash

[23:47] <jabbot> pugs - 889 - commiting the big test restructuring, I 

[23:47] <ingy> as long as the page has no slash

[23:47] <theorbtwo> Except we're allowing for a third section.

[23:47] <nothingmuch> we're making use of a specification hole to skip forward from the /section till the match after the section happens

[23:48] <ingy> seems like not a great idea

[23:48] <nothingmuch> ingy: it's Q&D

[23:48] <ingy> do you have an example of what you are doing

[23:48] <nothingmuch> and it's just meant to sort of fit

[23:48] * nothingmuch is working on an example that will make sense

[23:49] <ingy> cool

[23:49] <ingy> examples would help

[23:49] <ingy> should we SEE triage on it?

[23:49] <nothingmuch> a test for s06

[23:49] <nothingmuch> that's a section name

[23:49] <nothingmuch> we could

[23:50] <nothingmuch> but i think this better be logged

[23:50] <nothingmuch> Required parameters

[23:50] <nothingmuch> Pairs may also be passed in adverbial pair notation:

[23:50] <nothingmuch>     $comparison = numcmp(:x(2), :y(7));

[23:50] <nothingmuch>     $comparison = numcmp(:y(7), :x(2));

[23:50] <nothingmuch> that's part of that section

[23:50] <nothingmuch> i'm thinking a corresponding test will have L<S06> at the top

[23:51] <nothingmuch> and by the specific tests for adverbial pair notation, have a L<S06/Required parameters/adverbial pair notation/

[23:51] <nothingmuch> s#/$/>#;

[23:51] <nothingmuch> which will place the backlink right after the line that matches

[23:51] <ingy> I see. You are addressing code blocks within the synopsis, and evaling the code as a test. right?

[23:51] <nothingmuch> so that a user reading the synopsis will be able to look at the test cases for every specific example, subsection, etc

[23:51] <nothingmuch> not necessarily code blocks

[23:52] <nothingmuch> any arbitrary text, i think,

[23:52] <ingy> why?

[23:52] <stevan> ingy: evaling wont work, the examples are not always complete

[23:52] <ingy> nod

[23:52] <nothingmuch> the point of this shennanigan is to know the status of pugs

[23:52] <nothingmuch> you read the synopses

[23:52] <nothingmuch> and then you know what is tested

[23:53] <nothingmuch> and from there you know what is working and what is not, and what is todo

[23:53] <nothingmuch> a major requirement for this to be complete is that it's easy to maintain and create

[23:53] <ingy> nothingmuch: I think a nopasted example or a wiki page is in order

[23:53] <nothingmuch> ok, i'll whip this up

[23:53] <nothingmuch> 3 minutes please

[23:53] <ingy> tanks!

[23:54] <theorbtwo> NM++

[23:55] <stevan> yes, nothingmuch++

[23:56] <theorbtwo> karma NM

[23:56] <jabbot> theorbtwo: NM has karma of 1

[23:56] <theorbtwo> karma nothingmuch

[23:57] <stevan> karma theorbtwo 

[23:57] <stevan> hmmmm

[23:57] <nothingmuch> perlbot karma stevan

[23:57] <perlbot> Karma for stevan: 16

[23:57] <jabbot> nothingmuch: theorbtwo  has neutral karma

[23:58] <nothingmuch> jabbot: i didn't ask about theorbtwo

[23:58] <nothingmuch> ;-)

[23:58] <stevan> nothingmuch: dont argue with the software :P

[23:58] <nothingmuch> that's an interesting bug, though =)

[23:58] <nothingmuch> ok, i did a bit of hypothetical linking from t/subroutines/sub_named_params.t

[23:59] <stevan> nothingmuch++

[23:59] <stevan> perlbot karma nothingmuch 

[23:59] <perlbot> Karma for nothingmuch: 15

[23:59] <stevan> perlbot karma theorbtwo 

[23:59] <perlbot> Karma for theorbtwo: 8

[23:59] <nothingmuch> perlbot karma nopaste # lets see if this confuses it ;-)

[23:59] <perlbot> nopaste # lets see if this confuses it ;-) doesn't have any karma

