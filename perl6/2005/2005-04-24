[00:00] <machack666_> network on the fritz .. did you get any of my last statements ($val ~~ any (@results)) ? 

[00:00] <nothingmuch> </aol> was the last thing i saw

[00:02] *** machack666_ is now known as machack666

[00:02] <crysflame> 16:51 < machack666> </aol>

[00:03] <machack666> I said that I thought that there was nothing a junction could accomplish by sub_call(..., >>$junc<<) that we couldn't already accomplish with @res = @objs >>.method(...)

[00:04] <machack666> you can then have explicit control over the interpretation of the results...if you want an any() instead of an all(), you just test against the precalculated results

[00:05] <machack666> my @res=@objs>>.meth($a,$b,$c);

[00:05] <machack666> if (all(@res)) { say "all were true" }

[00:05] <nothingmuch> could you rephrase?

[00:05] <machack666> else if (any(@res)) { say "some were true" }

[00:05] <machack666> else { say "none were true" }

[00:06] <nothingmuch> btw, does my $result = sub_call($junction) repack the return values?

[00:06] <machack666> that's what's at debate.

[00:06] <machack666> if we allow junctions, then I think it should, insofar as we have a simple junction

[00:06] <machack666> but what about any(1,2,all(2,3),none("a",5)) ?

[00:07] <machack666> if it's a uniform junction, it makes sense

[00:07] <machack666> my argument is that there seems to be little difference in treating junctions this way -- it is highly redundant with hyperops

[00:07] <nothingmuch> i think that threading prototypes should return a junction

[00:07] <nothingmuch> like ops

[00:08] <machack666> i.e., $j = 1|2|3 ; say $j + 1; # 2|3|4

[00:08] <nothingmuch> they are just junction aware thingies

[00:08] <nothingmuch> but with room for optimisation

[00:08] <nothingmuch> and that anything that is memoizable should be autothreading

[00:08] <machack666> this seems to be analagous to @a=(1,2,3); say @a>>+<<1

[00:08] <nothingmuch> yes, but hypers are on operations

[00:08] <nothingmuch> junctions are on values

[00:09] <nothingmuch> the distinction is where does it happen

[00:09] <machack666> i'm  not saying getting rid of junctions

[00:09] <nothingmuch> and that's why i think autothreading is dumb

[00:09] <machack666> just not being able to treat them as variables

[00:09] <nothingmuch> because it really makes it redundant

[00:09] <nothingmuch> why not?

[00:09] <machack666> so: given ($x) { when 1|2|3|"grandma's panties" {...}} # ok

[00:10] <machack666> I think autothreading causes too many problems for it to be the default

[00:10] <nothingmuch> i think junctions are most useful for composing predicates

[00:10] <nothingmuch> and that if i want to say if 

[00:10] <nothingmuch> if (is_funky(1|3)){ } it should dwim

[00:10] <nothingmuch> but also equivelently:

[00:11] <nothingmuch> sub do_on_funky (..., my $thing, ...){ if (is_funky($thing) { ... } }

[00:11] <machack666> it just seems too fuzzy for cases like this:

[00:11] <nothingmuch> do_on_funky(1|3);

[00:12] <nothingmuch> The purpose of a junction is to allow for performing several tests at a 

[00:12] <nothingmuch> given time, with the testing code needing no knowledge of that junctions 

[00:12] <nothingmuch> are present

[00:12] <nothingmuch> -- http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/dc72f01f5027f048/ed289644593eb886#ed289644593eb886

[00:12] <machack666> package Naive::Module; sub naive_exp ($base, $exp) { my $ret = $base;  while ($exp--) {$ret *= $base}; $ret}

[00:12] <machack666> naive_exp(1|2|3|4,100)

[00:13] <machack666> # ...syslock

[00:13] <machack666> # due to whole hd used for swap

[00:13] <machack666> wait

[00:13] <Juerd> nn

[00:14] <machack666> if the autothreading happens at the point of the func call, then we're only calling the code effectively for the 4 cases of the junction

[00:14] <machack666> and $base is not considered a junction

[00:14] <nothingmuch> right

[00:15] <machack666> if it is ever possible for us to pass an actual junction as a single datatype which later autothreads, then I see that there could be problems down the line

[00:15] <nothingmuch> it should be limited to (cpus)+1

[00:15] <nothingmuch> autothreading shouldn't be so greedy though

[00:15] <nothingmuch> at most

[00:15] <nothingmuch> +1 to ensure that behavior is unpredictable

[00:15] <machack666> but if autothreading is the default, then we don't need to worry about that in the case of sub calls.

[00:15] <machack666> which protects package semantics

[00:15] <machack666> from unexpected behaviors

[00:16] <nothingmuch> lets agree:

[00:16] <machack666> the world is now safer for naive module authors...

[00:16] <nothingmuch> autothreading is an optimisation

[00:16] <machack666> :D

[00:16] <nothingmuch> what if naive_exp handles writing to disk, btw?

[00:16] <machack666> hmm

[00:17] <machack666> since ooe is not defined for junctions, I assume we'd get some funky results

[00:17] <nothingmuch> what if it does if ($user_id == $value){ ... write to data file ... }

[00:17] <nothingmuch> and if i pass in $user_id and $value

[00:18] <nothingmuch> and I want them to be both junctions

[00:18] <nothingmuch> or one of them

[00:18] <machack666> or at least the possibility exists

[00:18] <nothingmuch> or none of them

[00:18] <nothingmuch> it should behave in a sane way

[00:18] <nothingmuch> junctions are values

[00:18] <nothingmuch> not control flow

[00:18] <nothingmuch> hyper ops are control flow

[00:18] <nothingmuch> they are related in that junctions are something that is good to hyper up

[00:18] <nothingmuch> but they should be values unless someone asks to hyper them

[00:19] <nothingmuch> or they are sent into something like a builtin op

[00:19] <nothingmuch> or something that can be memoized (explicitly marked as pure)

[00:19] <machack666> so $j+1 is equivalent to any($j.values >>+<< 1 ) ?

[00:19] <machack666> (or whatever the composition operator was for junction creation)

[00:20] <nothingmuch> not exactly

[00:20] <nothingmuch> because '+' is pure

[00:20] <nothingmuch> it doesn't matter

[00:20] <nothingmuch> but if a junction gets into some complex code,

[00:20] <nothingmuch> so yes, they are equiv

[00:20] <nothingmuch> because whoever is using it does not know of the complexities

[00:20] <nothingmuch> (new programmer in a project, someone using a CPAN module, perl newbie)

[00:21] <nothingmuch> and suddenly the person gets data corruption

[00:21] <nothingmuch> because of a implicit concurrency on unsafe code

[00:21] <nothingmuch> then we're in deep crap

[00:21] <crysflame> this problem affects all programming languages using junctions, right?

[00:21] <nothingmuch> and it could be as simple as

[00:21] <nothingmuch> my $val = $bar - 2;

[00:21] <nothingmuch> $foo += $val;

[00:22] <nothingmuch> $bar += $foo/2;

[00:22] <nothingmuch> suddenly all your math is wrong

[00:22] <nothingmuch> your data files suck

[00:22] <crysflame> tangentially, should junction support be disabled by default and only enabled by a pragma?

[00:22] <nothingmuch> your database driver complains about broken constraints

[00:22] <machack666> that's Larry's contention

[00:22] <crysflame> use DBI # this module uses junctions, which you have not enabled

[00:22] <nothingmuch> crysflame: no, they're very useful to represent data

[00:23] <machack666> junction support ok for conditionals

[00:23] <nothingmuch> i would like to say if (1|2 == $expected){ }

[00:23] <machack666> but not for variable assignment

[00:23] <nothingmuch> machack666: i disagree

[00:23] <nothingmuch> ther'es nothing wrong with them

[00:23] <crysflame> so

[00:23] <nothingmuch> as long as they keep getting passed down

[00:23] <machack666> </larry's opinion>

[00:23] <nothingmuch> oi vey

[00:23] <crysflame> (a) junctions wreak havoc on those who don't suspect they're there

[00:23] <crysflame> i like larry's opinion

[00:24] <crysflame> it protects the masses from the worst of it, while keeping the simplest use (if $a == 0|1) functional

[00:24] <nothingmuch> they don't if they are not exploded into threads

[00:24] <crysflame> sure they do

[00:24] <crysflame> seek($fh, $pos)

[00:24] <crysflame> voila, chaos

[00:24] <crysflame> which $fh does $fh degrade to?

[00:24] <crysflame> which position?

[00:24] <nothingmuch> that should be a fatal error

[00:24] <crysflame> why? $fh is a junction of multiple filehandles

[00:24] <crysflame> $pos is a junction of a bunch of positions

[00:24] <crysflame> i see no reason that should be a fatal error

[00:25] <crysflame> i do see that it's wildly confusing

[00:25] <crysflame> and that it's so unlikely to be useful that it could be considered an error condition

[00:25] <nothingmuch> and the current C lib inspired definition is not prepared for this kind of abstraction

[00:25] <nothingmuch> because seek is at the lowest level

[00:25] <nothingmuch> of abstraction

[00:25] <crysflame> okay

[00:25] <crysflame> pick something other than seek then

[00:25] <machack666> crysflame: in your case, we'd end up with m x n seek ops

[00:25] <nothingmuch> if we switch to buffer oriented abstraction, where our buffers can write themselves to junctive points in the files

[00:25] <nothingmuch> then it could make more sense

[00:25] <nothingmuch> machack666: which seek would be the last seek?

[00:25] <nothingmuch> i say things that don't make sense

[00:25] <machack666> undefined

[00:26] <machack666> I agree; it's garbage

[00:26] <nothingmuch> like IO ops

[00:26] <crysflame> okay, so

[00:26] <nothingmuch> and system calls in general

[00:26] <machack666> depends on the underlying algorithm

[00:26] <crysflame> i chose badly by saying seek()

[00:26] <nothingmuch> anything that is not 'perl intornal'

[00:26] <crysflame> how about "factor()"

[00:26] <machack666> for junction storage...probably a map of some sort

[00:26] <nothingmuch> no, seek is an excellent choice

[00:26] <nothingmuch> cannot eat junctions

[00:26] <crysflame> no it's not, because you're complexifying it all because it's a C function

[00:26] <crysflame> i was trying to make a general point

[00:26] <crysflame> :|

[00:26] <crysflame> but that's okay. i trust y'all :)

[00:27] <nothingmuch> (3|4)! == (6|24);

[00:27] <nothingmuch> like + does

[00:27] <nothingmuch> is add(1, 3) different from +?

[00:27] <nothingmuch> especially now that + is just a multimethod?

[00:27] <nothingmuch> why should factorial() need to say that it can handle junctions?

[00:28] <nothingmuch> why can't the junctions just be passed downwards to say the '*' op that factorial uses

[00:28] <nothingmuch> which knows to do the right thing, since it's a builtin?

[00:28] <machack666> bbiab

[00:28] <nothingmuch> it's simpler

[00:28] <nothingmuch> for most cases of control flow it's probably more efficient

[00:28] <nothingmuch> because tiny steps are optionally taken

[00:28] <nothingmuch> instead of whole programs repeated on a junctions

[00:29] <nothingmuch> s/s$//;

[00:29] <nothingmuch> and it's consistent

[00:29] <nothingmuch> because factorial($x); # x == junction

[00:29] <nothingmuch> is the same as what you'd expect from (1|4)!;

[00:29] <nothingmuch> if ! were a builtin op

[00:30] <nothingmuch> or to disallow IO completely in any autothreaded dynamic scope

[00:30] <nothingmuch> also it lets you detect such garbage when it reaches seek()

[00:30] <nothingmuch> when you autothreads it makes no sense to remember which values are derived from a junction exploision

[00:31] <nothingmuch> my point is in one sentance:

[00:31] <nothingmuch> if junctions can't safely be put in variables they're worth nothing for onezeroinfinity since the only place where they can be created is in the code that uses them

[00:31] <nothingmuch> and autothreading isn't safe

[00:31] <nothingmuch> period

[00:32] <nothingmuch> (unless we know the op is pure, in which case we can decide whether we pump the junction down or autothread and rejunction, which is really just an optimizer decision)

[00:34] <machack666> nothingmuch: you said earlier that hyperops were an example of control flow, while junctions are a combination of values

[00:35] <machack666> but I see junctions in most cases as a kind of control flow shorthand -- almost a parameterized control flow macro

[00:36] <machack666> in the case of the simple junctions (if $x = 1|2|3), we're really just abbreviating (if $x == 1 | $x == 2 | $x == 3)

[00:37] <machack666> to me this seems directly related to control flow.  The fact that a junction datatype would represent multiple values is ancilary to this -- the reason you use a junction is because you want to express the control conditional succinctly

[00:39] <nothingmuch> right

[00:39] <machack666> nothingmuch: clarify onezeroinfinity.  are you referring to one(), none(), all() ?

[00:40] <nothingmuch> in this example since == is pure

[00:40] <nothingmuch> then it can affect control flow

[00:40] <nothingmuch> it has no side effects

[00:40] <nothingmuch> no, http://c2.com/cgi/wiki?OneZeroInfinityRule

[00:40] <nothingmuch> basically it means if $x == (something that is really many things)

[00:41] <nothingmuch> and not for $value (many things) { if ($x == $value){ } }

[00:41] <nothingmuch> that's how we perceive it too

[00:41] <machack666> link appears to be borken

[00:41] <machack666> or blank, actually

[00:42] <machack666> :)

[00:42] <nothingmuch> sorry, from memory

[00:42] <nothingmuch> http://c2.com/cgi/wiki?ZeroOneInfinityRule

[00:42] <nothingmuch> one zero infinity sounds more natural to me for some reason

[00:43] <nothingmuch> in this case junctions let us follow the simpler ZeroOne rule

[00:43] <nothingmuch> while getting Infinity for free

[00:43] <nothingmuch> the only way to do this safely is to make a distinction at the edges of the language definition

[00:43] <nothingmuch> between pure primitives, which accept these One<->Infinity thingies

[00:44] <nothingmuch> and external side effect rich primitives

[00:44] <nothingmuch> it is a fatal error to feed them this

[00:44] <nothingmuch> or at least the op always fails

[00:44] <nothingmuch> (use fatals)

[00:44] <nothingmuch> anything else is up to the user to compose

[00:45] <nothingmuch> should declare which param they can explode

[00:45] <nothingmuch> and autothread on it

[00:45] <nothingmuch> ops which are pure

[00:45] <nothingmuch> or which have side effects but can handle junctions

[00:45] <nothingmuch> and statements can also explode junctions into threads

[00:45] <nothingmuch> and pure functions/mutlimethods/whatever can also be autothreaded

[00:46] <nothingmuch> if it looks to be a gain

[00:46] <nothingmuch> these are simple, consistent, relatively safe rules

[00:46] <nothingmuch> which can give a lot of benefit

[00:47] <nothingmuch> i know that if autothreading stays in perl 6 i will never use junctions for more than if (my $value == 1|

[00:47] <nothingmuch> 2);

[00:47] <nothingmuch> whether it's allowed or not

[00:47] <nothingmuch> because overloaded objects and stringification are already not handled properly in p5 by some 90% of the modules that deal with these things

[00:47] <machack666> when you speak of autothreading, do you actually mean process-type threads, or just the ability to ignore the actual algorithms used to make the match?

[00:48] <nothingmuch> and junctions/autothreading are a much more dangeous thing

[00:48] <nothingmuch> i think that they're replacable

[00:48] <nothingmuch> e

[00:48] <machack666> i found some pretty weird idiosyncronicities in pugs' handling of junctions, to be sure

[00:49] <nothingmuch> i think furthermore that I will be overly paranoid

[00:49] <nothingmuch> and type Any|Junction everywhere I can

[00:49] <nothingmuch> just to make sure that I am not being hurt by anyone else who is too lazy to think about it

[00:49] <nothingmuch> again, because these things hurt me every day in perl 5

[00:50] <machack666> how about a super to Any and Junction which is the junction of Junction and Any.  something short and catchy

[00:50] <machack666> and a policy to specify that that is the default parameter type

[00:50] <nothingmuch> i think Any should be that Any

[00:50] <nothingmuch> but that doesn't work well with autothreading

[00:51] <machack666> we need the ability to have negative traits: my sub thing isnt threadable {..."

[00:51] <nothingmuch> i think we have that

[00:52] <machack666> well!

[00:52] <nothingmuch> not that specific thing

[00:52] <nothingmuch> but is rw vs. is constant

[00:52] <nothingmuch> and you can apply a role to an object

[00:52] <nothingmuch> and then unapply it later

[00:53] <machack666> I guess it's just the equivalent of a sub-scoped use() or no() block in p5

[00:53] <machack666> (oversimplified and off-the-cuff)

[00:54] <nothingmuch> anyway, do you agree with my simple rules for junctions?

[00:55] <nothingmuch> because if not i'd like to see why

[00:55] <nothingmuch> i think i don't get why there is this autothreading-is-good-it-should-be-the-default orgy at all, and I have no clue why some people don't think this is obvious

[00:57] * machack666 scrolls up

[01:01] <machack666> I agree that we should be able to specify which parameters can be autothreaded.  I don't think that code which hasn't declared explicitly its autothread intentions should be expected by default to be autothread safe.  On the other hand, authors who haven't thought about the autothreading issues will ikely not be expecting junction objects as parameters to handle internally.

[01:02] <machack666> so at least a warn() should suffice ...(although die() may be more appropriate, as you don't want your pg_pl6 procedure to do unpredicable things anyway.

[01:03] <machack666> I don't know how much semantic parsing we could do on compilation of the sub in question...if we have the is_pure status of all ops involved in the function body, then we could automatically promote the compiled sub to pure.

[01:03] <machack666> problem is how far you want to traverse the call tree to find this info out while compiling

[01:03] <machack666> and it only works for static code/no eval()s

[01:04] <machack666> I agree with your memoizable statement from above.  (I think it was you...)

[01:05] <machack666> it is sufficient to autothread if a particular sub is memoizable.

[01:05] <machack666> this has been an enlightening discussion. :(

[01:05] <machack666> s/:\(/:)/

[01:05] * machack666 hates to be enlightened.  ;)

[01:06] <machack666> nothingmuch: ping

[01:08] <machack666> bbiab

[01:39] <nothingmuch> morning Corion 

[01:39] <nothingmuch> are you waking up, or still up?

[01:39] <Corion> Just got home, and possibly need to be back up (and on my bike) in 5 hours %-)

[01:39] <Corion> "need" is relative :)

[01:39] <Corion> The build seems broken?

[01:40] * Corion backloggeth

[01:40] <nothingmuch> not that I know

[01:41] <Corion> src/Pugs/Prim.hs:377:4:

[01:41] <Corion> The last statement in a 'do' construct must be an expression

[01:41] <Corion> Hmmm - maybe it's a local patch then ...

[01:41] <Corion> Ah. Yeah. Some conflict. I'll wipe it then ...

[01:46] <Corion> Oooo. We had a release. Nice :)

[01:47] * Corion feels sympathy with Juerd

[01:54] <nothingmuch> Corion: autothreading sympathy?

[01:55] <Corion> nothingmuch: CPANPLUS breakage sympathy

[01:55] <nothingmuch> ah

[02:30] <nothingmuch> mugwump: ping

[04:08] <jabbot> pugs - 2291 - test .() on junctions, not todo anymore

[04:24] <bsb> I have a possibly nonsensical junction question:

[04:25] <bsb> Should "((1|2)^(3&4))" and "one(any(1,2),all(3,4))" produce junctions with matching structures?

[04:25] <bsb> They don't currently

[04:26] <bsb> Seems to be b/c the & operator trumps ^ and | but the function version does the params before the function

[05:19] *** kenhack is now known as tadpol1

[05:21] *** tadpol1 is now known as kenhack

[06:42] <autrijus> bsb: no, that's a valid question

[06:42] <autrijus> and I fixed it

[06:42] <autrijus> would you please write a test?

[06:43] <Aankhen``> autrijus++

[06:44] <bsb> nice one.  I've been testing junctions with .perl strings but that kind of assumes a canonical representation.  Is there a better way?

[06:45] <autrijus> not sure there is.

[06:46] <Aankhen``> Does Pugs have support for P6 pattern matching yet?

[06:47] <autrijus> Aankhen``: no, see roadmap in PA01

[06:48] <jabbot> pugs - 2292 - * Junctive ^ should join junctions inste

[06:49] <Aankhen``> PA?

[06:51] <autrijus> pugs apocryphon

[06:51] <Aankhen``> Ahh, okay.

[06:55] <autrijus> lunch &

[07:08] <gaal> autrijus, is interactive mode gone? it doesn't start up on msys.

[07:09] <Aankhen``> Is there an easy way to see diffs in the Web interface?

[07:10] <Aankhen``> I'm looking at the log, and when I go to individual changes, I can only see the version checked in, without any diffs.

[07:11] <gaal> do you want two arbitrary versions, or a certain version against its immediate predecessor?

[07:11] <Aankhen``> The latter.

[07:12] <gaal> then go to e.g. http://rt.openfoundry.org/Foundry/Project/Source/index.html/pugs/log/VICTUALS and follow any of the "diff with previous" links.

[07:12] <Aankhen``> Hrm... I just followed the Recent Commits link from pugscode.org.

[07:12] <Aankhen``> Anyway.

[07:12] <Aankhen``> Thanks. :-)

[07:13] <gaal> ????

[07:13] <gaal> uh

[07:13] <gaal> "sure"

[07:13] <Aankhen``> OK, see, I'm at http://rt.openfoundry.org/Foundry/Project/Source/index.html/pugs/log/?Queue=1&limit=500&submit=Show%21

[07:13] <Aankhen``> Er.

[07:13] <Aankhen``> One sec.

[07:13] <Aankhen``> http://rt.openfoundry.org/Foundry/Project/Source/index.html/pugs/log/

[07:13] <Aankhen``> That might be better.

[07:14] <gaal> my keyboad switches languages occasionally. amusingly, i just typed "sure" and it came out "dork" :)

[07:15] <gaal> well, okay, click on he "revision" link

[07:15] <Aankhen``> Ahh.

[07:15] <Aankhen``> I have to go to the individual file's history page.

[07:15] <gaal> yes

[07:16] <gaal> if you prefer, you can do this from the command line: svn diff -r2001:2000

[07:16] <Aankhen``> Nah, I'm gonna stick with the Web interface.

[07:40] <gaal> autrijus: ping

[07:40] <Corion> r2290 - http://datenzoo.de/pugs/win2k.html - 8 hours after the release and still all tests work/are todo ... Amazing :))

[07:41] <gaal> Corion: can you try something? do "pugs" w/o any params and see if it starts the interactive interpreter?

[07:41] <gaal> it's broken on msys; works on linux.

[07:42] <gaal> i don't know where to start debugging this, since there aren't any nice tools like strace here. :(

[07:43] <Corion> worksforme

[07:43] <gaal> darn, this is msys specific then.

[07:43] <Corion> Maybe the isTerm() call fails?

[07:44] <Corion> (but why should it fail now when it worked earlier)

[07:44] <gaal> how would i tell?

[07:44] <gaal> i'm not sure i ever worked in interactive mode on msys :)

[07:44] <Corion> gaal: Write a small Haskell program that does what the shell/interactive code does

[07:44] <gaal> right.

[07:45] <Corion> ... I think if you search for "term" in Main.hs or Run.hs , you'll find the startup for the interactive loop

[07:45] <gaal> i'm on it.

[07:45] <Corion> Yay!

[07:45] <Corion> I'm away again!

[07:47] <gaal> oh, i see what you meant by isTerminal, no that's not wha'ts happening because sending an EOF doesn't help.

[07:49] <gaal> oh! it *is* what's happening, but then it gets stuck. fishy.

[07:52] <gaal> ok, hIsTerminalDevice is lying. And it's not that stdin is being closed, because echo 'say "hi"' | ./pugs.exe works.

[08:48] <jabbot> pugs - 2293 - Test complex junctions are equivalent

[08:48] <jabbot> pugs - 2294 - plan number fixed

[09:47] <nothingmuch> morning

[09:53] <elmex> morning

[09:54] <gaal> nm, hi.

[09:54] <gaal> let's try the patch thing now?

[09:54] <Juerd> t apache why do you keep crashing stop

[09:56] <nothingmuch> sure

[09:56] <nothingmuch> i thought you sent it yday

[09:57] * nothingmuch is starting his first real web development project

[09:57] <nothingmuch> anyone who wants to help is welcome

[09:57] <gaal> no, once i'd recorded a patch darcs wouldn't let me get a diff against your version. of course there's a way to do that but it wasn't worth losing sleep for a couple of trivial methods.

[09:58] <gaal> ^figuring it out for etc.

[09:58] <nothingmuch> darcs diff -p 'atch na'

[09:58] <nothingmuch> will match things like 'patch name' or 'match nautilus'

[09:58] <nothingmuch> and display a diff for that patch

[09:58] <nothingmuch> but don't do that

[09:58] <gaal> 'atch na'? why, that makes perfect sense! how didn't i think of that :)

[09:58] <nothingmuch> 'darcs send'

[09:58] <nothingmuch> that's just a regex ;-)

[09:59] <gaal> but, you know, send wants to send to p6-c.

[09:59] <nothingmuch> so type in my address

[09:59] <nothingmuch> it's because i put p6c in there

[09:59] <nothingmuch> so that everyone can review patches, not just me

[10:00] * nothingmuch doesn't really see it as explicitly his

[10:00] <nothingmuch> darcs send --to=nothingmuch@woobling.org

[10:00] <gaal> nothinmuch, help me out please. i'm tired of learning YA scm

[10:00] <gaal> ah, at last :)

[10:00] <gaal> couldn't you have said that last night?

[10:01] <nothingmuch> didn't i?

[10:01] <gaal> no!

[10:01] <nothingmuch> oops

[10:01] <nothingmuch> nothingmuch--

[10:01] <nothingmuch> i thought it asked you interactively

[10:02] <gaal> sent. as you can see, it's mighty trivial. don't forget to mod the template

[10:02] <nothingmuch> i did =)

[10:04] <gaal> darcs-- # why doesn't it send mail like a regular human bein^W^Wprocess and use mutt?

[10:07] <pasteling> "gaal" at 192.115.25.249 pasted "HTMLMatrix inline css support" (26 lines, 709B) at http://sial.org/pbot/9611

[10:07] <gaal> next time i'll pick up the phone and sing bits at you :)

[10:07] <nothingmuch> darcs it doesn't know you like mutt

[10:07] <nothingmuch> you can set it's sendmail though

[10:08] <gaal> i tried, you know.

[10:08] <nothingmuch> what's so bad about sendmail?

[10:08] <gaal> maybe i like keeping a copy of outgoing mail?

[10:08] <nothingmuch> ah

[10:08] <nothingmuch> =P

[10:09] <nothingmuch> the patch is out there

[10:09] <nothingmuch> i think expecting it to guess that you prefer mutt is a little too much

[10:09] <gaal> you'd think i can set a mailer as an option to the command that, you know, sends mail. but no!

[10:09] <nothingmuch> yes you can

[10:10] <gaal> darcs send --help | grep send # nope

[10:10] <gaal> darcs send --help | grep command # nope

[10:10] <nothingmuch> oh my, you're right

[10:10] * nothingmuch files a bug

[10:11] <nothingmuch> want to be the bug owner?

[10:12] <nothingmuch> oh, i see what i remember

[10:12] <gaal> none(<cvs svn p4 cc arch darcs>).pick

[10:12] <nothingmuch> you can ask it to darcs send into a file

[10:12] <nothingmuch> that is: create a message

[10:12] <nothingmuch> and then just put that in your mail client

[10:12] <gaal> that's reasonable enough.

[10:12] <nothingmuch> i knew i remembered something

[10:12] <gaal> ah, it's even documented. -o.

[10:13] <nothingmuch>  darcs send -o file

[10:13] <nothingmuch> ah, yes

[10:13] <gaal> well, mayve svn doesn't annoy me that much, of the bunch :)

[10:13] <gaal> i should take a break, this hostile mood isn't good for anything

[10:13] <nothingmuch> drink some tea ;-)

[10:13] <gaal> good idea!

[10:14] <gaal> also, i made soup and i should have another bowl.

[10:14] <nothingmuch> =)

[10:19] <gaal> the TAP model, btw: a testgroup can have diags of itself

[10:19] <gaal> not explicitly specced the the TAP, but possible if you start a test with diag()

[10:20] <gaal> a test file, that is

[10:20] <gaal> group, in your terminology.

[10:21] <gaal> actrually, that's a shortcoming of the TAP, because you can't unhackily specify "intent" style messages.

[10:22] <gaal> "about to do $DANGEROUS_OPERATION, i hope i don't crash"

[10:22] <gaal> of course that's what you have a plan for, but still this can make debugging quicker.

[10:23] <gaal> actually, we can fix that simply by emitting a test description before running the test, which should be possible if the test is a thunk.

[10:25] <gaal> but that means you need to change the functions to things like ok(Code $test, ?$desc) { say $desc; proclaim .... if $test.() }

[10:26] <gaal> and call it liek ok({ 1 + 1 = 2 }, "arithmetic");   # (bad example since the compiler optimizes this)

[10:26] <gaal> conceptually this is cleaner anyway. every test is a thunk.

[10:27] <gaal> with metadata associated to it. the metadata should not be vulnerable to the whims of the test.

[10:38] <nothingmuch> gaal: i think the protocol should allow for whatever

[10:39] <nothingmuch> and that diag should be available for groups

[10:39] <nothingmuch> hmm

[10:39] <nothingmuch> interesting

[10:40] <nothingmuch> sort of like lives_ok

[10:40] <nothingmuch> btw, did you send the patch?

[10:40] <nothingmuch> i didn't get anything yet

[10:40] <nothingmuch> also, try muttng

[10:42] <gaal> poll

[10:42] <gaal> actually i keep forgetting, give it another minute, i'm calculating hashcash.

[10:43] <nothingmuch> hashcash? i don't need no hashcash from you

[10:43] <nothingmuch> autowhitelisting should be enough

[10:43] <nothingmuch> although gaal++ for using

[10:43] * nothingmuch really ought to start too

[10:43] <gaal> everybody gets hashhash from me.

[10:43] <gaal> it's real easy

[10:44] <nothingmuch> the camram scheme for hashcash is purdy though

[10:44] <nothingmuch> pay once

[10:45] <gaal> http://www.livejournal.com/users/gaal/150447.html

[10:45] <gaal> not familiar with camram

[10:51] <gaal> and the interesting pages on their site are down. got a spare pdf?

[10:55] <nothingmuch> nope, sorry

[10:55] <nothingmuch> gaal->isa("Pirate"); # no documentation for patch

[10:56] <gaal> no tests, either

[10:56] <gaal> but i'm a p6 pirate, so it's .isa

[10:56] <nothingmuch> care to send me hashcash-sendmail? it's not in gentoo's package

[10:56] <gaal> sure, one sec.

[10:58] <gaal> http://forum2.org/gaal/lj/hashcash-sendmail

[11:02] <nothingmuch> goody

[11:12] <Aankhen``> The class for strings is Str, right?

[11:13] <gaal> y

[11:14] <Aankhen``> So could you add this: method Str::foo ($self is rw) { $self ~~ s:p5:/foo/bar/; }

[11:15] <gaal> i don't know if you can add methods to the builtin types in perl. in java, fwiw, String is final.

[11:16] <Aankhen``> Hrm.

[11:16] <gaal> that doesn't mean "no" :) it means i don't know.

[11:16] <Aankhen``> Heh.

[11:16] <Aankhen``> It would suck to not be able to add methods to the builtins.

[11:16] <nothingmuch> gaal: for some reason (can't figure out) inline css looks differently

[11:16] <nothingmuch> http://nothingmuch.woobling.org/example.html

[11:17] <gaal> you can always do multi sub (Str $self is rw)

[11:17] <gaal> yes, i noticef that too, weird, innit

[11:17] <gaal> wasn't sure it was really what i though it was :)

[11:17] <nothingmuch> body { font-family: Verdana, Arial, Helvetica, Tahoma; <-- no effect?

[11:17] <nothingmuch> kungfuftr: ping

[11:18] <Aankhen``> Ah, I was planning to use it to be able to say: $foo = $bar.foo();

[11:18] <gaal> nm, firefox?

[11:18] <Aankhen``> «nothingmuch»: The comments are messed up there...

[11:18] <nothingmuch> safari

[11:18] <Aankhen``> <style type="text/css">

[11:18] <Aankhen``> /* <!-- */

[11:18] <Aankhen``> ...

[11:18] <nothingmuch> oh

[11:18] <Aankhen``> /* --> */

[11:18] <nothingmuch> gaal: naughty

[11:18] <Aankhen``> </style>

[11:19] <gaal> what?

[11:19] <nothingmuch> your patch ;-)

[11:19] * gaal doesn't see the problem with that - perhaps i'm blind?

[11:20] <nothingmuch> Aankhen``++

[11:20] <nothingmuch> http://nothingmuch.woobling.org/example.html

[11:20] <nothingmuch> reload

[11:20] <Aankhen``> ^_^

[11:21] <gaal> huh? how does that work?

[11:21] <gaal> the point of the <!-- is to comment out the css from non supporting browsers

[11:21] <Aankhen``> Yes.

[11:21] <gaal> but if they don't support css, they'll crap out on /* */

[11:21] <Aankhen``> However, he had this: <style type="text/css"><-- ... --></style>

[11:22] <gaal> what's wrong with that? i was under the impression that's how this was done?

[11:22] <Aankhen``> It was missing a !, heh.

[11:22] <gaal> aaaahh!

[11:22] <Aankhen``> Actually, I made a mistake too: you don't need to put CSS comments around the HTML comments.

[11:22] <gaal> heh

[11:22] <Aankhen``> I've gotten used to typing <style type="text/css">/* <![CDATA[ */ ... /* ]]> */</style>

[11:22] <gaal> Aankhen``++

[11:24] <nothingmuch> gaal: darcs pull

[11:25] <nothingmuch> don't darcs pull, i'm going to amend record

[11:25] <nothingmuch> oh crap

[11:25] <nothingmuch> darcs unpull if you did

[11:25] <nothingmuch> that was the problem

[11:25] <gaal> more in the blind department, what does this mean?

[11:25] <gaal> -Test::Tap::Model::Subtest::Visual - A subtest with additional display oriented

[11:25] <gaal> +Test::TAP::Model::Subtest::Visual - A subtest with additional display oriented

[11:26] <gaal> Pull cancelled.

[11:26] <nothingmuch> Tap -> TAP

[11:26] <nothingmuch> it confused search.cpan

[11:26] <gaal> aah, right

[11:26] <gaal> i think i need a break again, i'm not seeing all those little things :)

[11:26] <nothingmuch> i didn't see it for about a week

[11:27] <nothingmuch> gaal: how expensive is 24 bits of collision?

[11:27] <gaal> you can test and see

[11:27] <gaal> -b i think

[11:28] <gaal> you should tune it to your hw

[11:28] <gaal> i think i moved to 26 bits after a while

[11:30] <gaal> &

[11:30] <nothingmuch> that's a long time

[11:30] <nothingmuch> ~10 seconds

[11:31] <gaal> aim for 30 secs i think

[11:31] <nothingmuch> why so long?

[11:31] <nothingmuch> you're right, in underestimated

[11:31] <gaal> email can take some latency usually

[11:31] <nothingmuch> true, but are the cpu cycles really worth it?

[11:31] <gaal> your call...

[11:32] <gaal> i like to know someone spent 30 cpu seconds before bothering me :)

[11:32] <nothingmuch> avg of 25 bits seems good enough for me

[11:32] <gaal> & # for real

[11:32] <nothingmuch> ciao

[11:33] <nothingmuch> now you can all darcs pull

[11:36] <Aankhen``> «nothingmuch»: Are those supposed to be question marks in the table?

[11:36] <nothingmuch> inside the thingies?

[11:36] <nothingmuch> that's UTF-8's &nbsp;

[11:36] <Aankhen``> Inside the cells, yeah.

[11:36] <nothingmuch> (in theory)

[11:37] <Aankhen``> Looks like a character from another encoding to me, since the page encoding is showing up as UTF-8.

[11:37] <nothingmuch> hmm

[11:38] <nothingmuch> it worked for me all along

[11:38] <nothingmuch> but it looked like trouble

[11:38] <nothingmuch> i'll check it out

[11:38] <Aankhen``> Ah, just put the entity instead of the decoded character.

[11:38] <nothingmuch> easier said than done

[11:39] <Aankhen``> Why?

[11:39] <nothingmuch> petal attrocity i forgot about

[11:39] <Aankhen``> It won't let you spit out entities as-is?

[11:39] <nothingmuch> you can do it, but it's sort of clumsy

[11:40] <Aankhen``> How about &amp;nbsp; in that case?

[11:40] <nothingmuch> but since it's UTF8 it doesn't reencode

[11:40] <nothingmuch> then you get &amp;nbsp;

[11:40] <nothingmuch> the point is that it decodes the entities from the template

[11:40] <Aankhen``> Ah.

[11:40] <nothingmuch> but this somehow broke at some point

[11:40] <Aankhen``> That sucks.

[11:40] <nothingmuch> i just noticed xmllint complains about this too

[11:41] <nothingmuch> because it used to be ok

[11:42] <Aankhen``> What is Petal?  Templating system?

[11:42] <nothingmuch> yup

[11:42] <Aankhen``> (or petal, as the case may be)

[11:42] <Aankhen``> What language?

[11:42] <nothingmuch> perl ;-)

[11:43] <Aankhen``> What a coincidence. =)

[11:43] <nothingmuch> http://search.cpan.org/dist/Petal

[11:45] <Aankhen``> Ohh.

[11:45] <Aankhen``> I've read about TAL.

[11:46] <Aankhen``> The concept sounded good.

[11:51] <nothingmuch> blammo

[11:51] <nothingmuch> it is pretty nice

[11:51] <nothingmuch> but i think the implementation is not quite good enough

[11:51] <nothingmuch> nevertheless I still use it because it's the easiest template for me to maintain

[11:51] <nothingmuch> i hfixed the problem

[11:51] <Aankhen``> Yey!

[11:52] <nothingmuch> reload http://nothingmuch.woobling.org/example.html 

[11:53] <Aankhen``> Woo!

[11:53] <Aankhen``> nothingmuch++

[11:53] <nothingmuch> now i should release, i think

[11:53] <nothingmuch> example.html:107: parser error : Entity 'nbsp' not defined

[11:53] <nothingmuch> ">&nbsp;</a>

[11:53] <nothingmuch> beh

[11:53] <nothingmuch> xmllint--

[11:54] <nothingmuch> lets see if it passes the validator

[11:54] <Aankhen``> Heh.

[11:54] <Aankhen``> You could s/&nbsp;/&#160;/

[11:54] <Aankhen``> It will.

[11:54] <nothingmuch> hmm, it can't eat file:// URLs

[11:55] <Aankhen``> (I'm assuming xmllint actually does process it as XML :-)

[11:55] <nothingmuch> it passes htmltidy, so i'm happy enough

[11:55] <nothingmuch> it does

[11:55] <Aankhen``> So then it's fine.

[11:55] <nothingmuch> i use xmllint to compress things usually

[11:55] <nothingmuch> xmllint --noblanks -

[11:55] <Aankhen``> &nbsp; isn't an XML entity, and I'm guessing xmllint doesn't read the DTD.

[11:56] <nothingmuch> exactly

[11:56] <Aankhen``> This page is not Valid XHTML 1.0 Strict!

[11:56] <Aankhen``> Below are the results of attempting to parse this document with an SGML parser.

[11:56] <Aankhen``>    1.

[11:56] <Aankhen``>       Line 558, column 9: document type does not allow element "tfoot" here

[11:56] <Aankhen``>       <tfoot>

[11:56] <Aankhen``> Surprising as it may seem, you need to put your tfoot right after your thead.

[11:56] <nothingmuch> odd, htmltidy eats that OK

[11:56] <nothingmuch> all it complains about is missing table summaries

[11:56] * nothingmuch will fix

[11:57] <nothingmuch> okay, try again

[11:58] <Aankhen``> This Page Is Valid XHTML 1.0 Strict!

[11:58] <nothingmuch> huraah

[11:58] * Aankhen`` ^5s nothingmuch!

[11:59] <nothingmuch> okay

[11:59] <nothingmuch> both fixes on public repo

[11:59] <nothingmuch> got anything you could play with before I make a release?

[11:59] <Aankhen``> ?

[12:02] <nothingmuch> could you sort of fool around with it

[12:02] <Aankhen``> Ah.

[12:02] <nothingmuch> see if you have anything else to add?

[12:02] <Aankhen``> One sec.

[12:03] <Aankhen``> You could put in summary="91 test cases: 91 ok, 0 failed, 0 todo, 1 skipped and 0 unexpectedly succeeded (100.00% OK)"

[12:03] <nothingmuch> i'll make that into a method methinks

[12:03] <nothingmuch> then i'll put summary in the summarry and in the tfoot cell

[12:03] <Aankhen``> Also, chomp the title attributes.

[12:03] <Aankhen``> <a href="#" title="ok 1 - Checking MANIFEST integrity

[12:03] <Aankhen``> ">&#160;</a>

[12:04] <nothingmuch> i don't want to put a summary in each table though

[12:04] <nothingmuch> this file grows very fast

[12:04] * Aankhen`` shrugs.

[12:04] <Aankhen``> Up to you.

[12:04] <Aankhen``> It's just one less thing for htmltidy to complain about, really.

[12:05] <Aankhen``> Are there supposed to be line breaks in the footer?

[12:05] <Aankhen``> Or are those just for formatting?

[12:05] <nothingmuch> test_cases/50 * length(summary="subests x..x+n"');

[12:05] <nothingmuch> actually that's not so bad

[12:06] <nothingmuch> that's just what the template does

[12:06] <nothingmuch> err, how the template is written

[12:07] <Aankhen``> Ah.

[12:07] <Aankhen``> <td style="background-color: #00ff00" class="x sum">100.00%</td> # you seem to have a lot of inline CSS there which is inflating the size; how about .sum { background-color: #00ff00; } instead?

[12:08] <nothingmuch> because the color is calculated that means about 100 css classes

[12:08] <nothingmuch> for example 75% is slightly orange

[12:08] <nothingmuch> 60% is redder

[12:08] <Aankhen``> You have a different colour for each grade?

[12:08] <nothingmuch> yup

[12:08] <Aankhen``> I see.

[12:09] <Aankhen``> You can't only generate the classes which are used?

[12:09] <nothingmuch> much more complicated control flow

[12:09] <Aankhen``> Ah, okay.

[12:09] <nothingmuch> it's 25*test files more bytes

[12:09] <Aankhen``> No matter, it's not such a big deal.

[12:10] <Aankhen``> You seem to have a lot of <table width="100%"> -- is there a reason why you can't put that in the CSS?

[12:11] * nothingmuch didn't know that

[12:11] <nothingmuch> i forget where i lifted the HTML

[12:11] <Aankhen``> Hrm.

[12:11] <Aankhen``> Actually.

[12:11] <Aankhen``> I'm not sure it would work.

[12:11] <Aankhen``> You could try it.

[12:12] <nothingmuch> want to bundle up HTML fixes into a patch on the template?

[12:12] <nothingmuch> i'm really lousy at that stuff

[12:12] <nothingmuch> i don't notice when things go bad

[12:12] <nothingmuch> and i can't fix them when i finally do

[12:14] <nothingmuch> hola Aankh|Clone 

[12:14] <Aankh|Clone> Re.

[12:14] <Aankh|Clone> [17:41:59] <nothingmuch> want to bundle up HTML fixes into a patch on the template?

[12:14] <Aankh|Clone> [17:42:13] <Aankhen``> On the HTML file itself?

[12:14] <Aankh|Clone> [17:43:08] * Disconnected

[12:14] <Aankh|Clone> [17:43:17] * Attempting to rejoin channel #perl6

[12:14] <nothingmuch> lib/Test/TAP/HTMLMatrix/template.html

[12:15] <Aankh|Clone> Alright.

[12:15] <Aankh|Clone> Might take some time though.

[12:16] <nothingmuch> goody

[12:17] <Aankh|Clone> Should I include the ones I was on about earlier?

[12:18] <nothingmuch> chomp ${ $_ }->{line} and redo for $f->cases;

[12:18] <nothingmuch> you can darcs pull from http://nothingmuch.woobling.org/

[12:18] <nothingmuch> Test-TAP-HTMLMatrix

[12:18] <nothingmuch> (just a plain source tree, btw)

[12:18] <nothingmuch> and see what's missing

[12:18] <nothingmuch> i did the tfoot thing last

[12:18] <Aankh|Clone> I don't have darcs.

[12:18] <nothingmuch> now i'm working on chomping the summary

[12:18] <nothingmuch> okay, just plain downloaad

[12:19] <Aankh|Clone> Alright.

[12:21] *** Aankh|Clone is now known as Aankhen``

[12:30] <nothingmuch> okay, table summaries are in place

[12:32] <nothingmuch> i have to work on something else now

[12:33] <nothingmuch> update your copy of the template

[13:31] <Aankh|Clone> «nothingmuch»: Ping.

[13:31] <nothingmuch> pong

[13:31] <nothingmuch> btw, if you know HTML, want to help out with the website i'm working on?

[13:31] <Aankh|Clone> Er, one sec.

[13:31] <castaway_> Plong.

[13:31] <nothingmuch> i have a friend, she's putting together a manic depression/bipolar website

[13:31] *** castaway_ is now known as castaway

[13:31] <nothingmuch> to help people start self help groups

[13:31] <Aankh|Clone> Sure, I'd love to help.

[13:31] <nothingmuch> so it's a good cause

[13:32] <Aankh|Clone> Hrm.

[13:32] <nothingmuch> i'm having a bit of trouble with the right-to-left layout

[13:32] <Aankh|Clone> I seem to have lost my Website.

[13:32] *** Aankh|Clone is now known as Aankhen``

[13:32] <nothingmuch> oi

[13:37] <Aankhen``> http://aankhen.vengefuldeath.com/example.html

[13:37] <Aankhen``> Comments?

[13:38] <Limbic_Region> Corion about?

[13:38] <Juerd> Some messages on mailinglists are so useless.

[13:38] <Limbic_Region> anyone know why splice.t says FAILED, but it is all green and says 100% passed??? http://datenzoo.de/pugs/win2k.html 

[13:38] <Juerd> nothingmuch: self help in what area?

[13:39] <Juerd>                        http://datenzoo.de/pugs/win2k.html 

[13:39] <Juerd> argh

[13:39] <nothingmuch> Juerd: groups of around 8-12 people with one of the diseases

[13:39] <Juerd> WHY THE HELL DOES DRAGGING COPY AND PASTE

[13:39] <nothingmuch> that organize themselves

[13:39] <Aankhen``> «nothingmuch»: http://aankhen.vengefuldeath.com/example.html

[13:39] <nothingmuch> Aankhen``: i can't really see the diff

[13:39] <nothingmuch> could you explain?

[13:39] <Juerd> THAT MAKES ABSOLUTELY NO SENSE WITHIN THE SAME TERMINAL WINDOW

[13:39] <Aankhen``> Mostly under the hood.

[13:39] <Aankhen``> Firstly, I removed all the commented out CSS.

[13:39] <nothingmuch> i mean from reading the source ;-)

[13:39] <nothingmuch> okay

[13:39] <Aankhen``> Secondly, I compressed it to one line per selector.

[13:40] <Aankhen``> Thirdly, I fiddled around with the links a bit.

[13:40] <nothingmuch> ack!

[13:40] <nothingmuch> i exploded it to N lines per selector ;-)

[13:40] <Aankhen``> Heh.

[13:40] <nothingmuch> i have trouble reading things which are not blockish when I maintain things

[13:40] <Aankhen``> Lastly, I tweaked the padding a bit on the cells.

[13:41] <nothingmuch> ah, i see, so the whole block is a link

[13:41] <nothingmuch> that's good

[13:41] <nothingmuch> what did you do to the links?

[13:41] <Aankhen``> Basically, added padding, and pretty hover effects. :-P

[13:41] <Juerd> nothingmuch: What kind of diseases? And only diseases, not disorders?

[13:41] <Aankhen``> Making them blocks is something I wanted to do, too...

[13:41] <nothingmuch> oi vey

[13:41] <nothingmuch> Juerd: manic depression and bipolar disorder

[13:42] <nothingmuch> that cyan thing is crazy

[13:42] <Juerd> What is 'manic' depression?

[13:42] <nothingmuch> you go up, you go down

[13:42] <nothingmuch> from being so happy that you cry

[13:42] <nothingmuch> to being totally depressed

[13:42] <nothingmuch> in around 3 minutes

[13:42] <nothingmuch> sort of like bipolar

[13:42] <nothingmuch> i forget the nuances

[13:42] <Limbic_Region> Juerd - is that a serious question?

[13:43] <nothingmuch> it's at the chemistry level

[13:43] <Odin-> Bipolar Disorder

[13:43] <Odin-> :p

[13:43] <Juerd> Limbic_Region: Yes...

[13:43] <Aankhen``> «nothingmuch»: You no like pretty links? :-P

[13:43] <Juerd> nothingmuch: Googling for bipolar disorder tells me that it's the same thing as manic depression

[13:43] <Odin-> "manic-depressive" *is* bipolar disorder.

[13:43] <nothingmuch> Odin-: caps are good when they tab complete

[13:43] <nothingmuch> Aankhen``: i like traditional links best =)

[13:43] <Limbic_Region> for all intents and purposes they are the same thing

[13:43] <Aankhen``> Pah.

[13:44] <nothingmuch> Odin-: i think not

[13:44] <Juerd> Limbic_Region: I'm (too) familiar with depression, but I didn't know what manic meant.

[13:44] <Odin-> nothingmuch: Yes, it is. :)

[13:44] <nothingmuch> Odin-: my friends diagnosis changed from one to the other, i think

[13:44] <Odin-> nothingmuch: Yes. That's because the terminology changed.

[13:44] <Odin-> http://www.behavenet.com/capsules/disorders/dsm4TRclassification.htm

[13:44] <Juerd> Hurrah for dsmiv classifications.

[13:44] <Juerd> (blurgh)

[13:44] <Odin-> Meh. They're standard. ;)

[13:45] <nothingmuch> well, whatever

[13:45] <Odin-> It's like ADD/ADHD.

[13:45] <nothingmuch> http://en.wikipedia.org/wiki/Manic_Depression <-- yields bipolar disorder

[13:45] <Juerd> I'm ambivalent about dsmiv (and other standards like this), Odin- 

[13:45] <nothingmuch> no info about wy it was renamed

[13:45] <Odin-> It's the same thing.

[13:45] * nothingmuch was curious

[13:45] <Limbic_Region> Odin - there is a clinical distinction between the two

[13:45] <Limbic_Region> they aren't the same thing

[13:45] <Limbic_Region> you can have ADD without the hyperactive part

[13:45] <Odin-> Juerd: Go figure. So am I. They're standard, nevertheless, and that's what you'll be getting from the shrinks.

[13:45] <Odin-> Limbic_Region: Yes. But it's still the same thing.

[13:45] <Juerd> Odin-: It's good to have a name for something, but at the same time it's very dangerous to put people with slightly different disorders in the same groups...

[13:46] * Limbic_Region isn't sure what Odin- is basing his assertion on, but still believes them to be two distinct things

[13:47] <Odin-> Limbic_Region: I'm basing it on what I've read in the past ten years on a disorder I've been diagnosed with. :>

[13:47] <Odin-> So, seriously, you're not likely to convince me otherwise.

[13:48] <Odin-> :)

[13:48] <Odin-> Juerd: Tell you what. I don't really disagree.

[13:48] <jabbot> pugs - 2295 - Typo fixes.

[13:48] <Odin-> Juerd: But it's still useful. You just have to watch out for the mines.

[13:48] <Odin-> Sort of like IQ.

[13:48] <Limbic_Region> I'm not trying to convince you otherwise

[13:48] <Juerd> Odin-: It's useful, indeed. And indeed, I think the same things about IQs.

[13:49] <Juerd> Though IQs are much less useful because everyone uses a different standard deviation, and it's no longer around a 100 middle point.

[13:49] <Juerd> When someone asks me my IQ, I just say it's 2+1/3 SD, and if they don't understand it, I just assume they're less intelligent ;)

[13:51] <Odin-> Actually, IQs are most useful not for saying how you stand compared to others, but what strengths and weaknesses you have in the fields measured. :>

[13:52] <Limbic_Region> not knowing much about the subect, aren't IQ tests supposed to give near same results regardless of age/studying and yet it has been repeatedly shown that this isn't the case?

[13:52] <Odin-> Limbic_Region: And, yes. It's possible not to have the 'H' part. But that's considered to be a specific manifestation of ADHD, not a seperate disorder.

[13:52] <Odin-> Limbic_Region: Uh. No, they aren't.

[13:52] <Odin-> And thus no wonder it isn't the case.

[13:52] <Aankhen``> «nothingmuch»: Reload the page.

[13:52] <Juerd> Hm, according to dsmiv I am depressed.

[13:52] <Limbic_Region> Odin- ok, we are saying the same thing but with a difference on a focus

[13:53] <Juerd> Funny how I already knew that even without the classification specs :)

[13:53] <Limbic_Region> WRT ADD/ADHD

[13:53] <Odin-> Juerd: According to DSM IV I have a whole host of disorders.

[13:53] <nothingmuch> why are the blocky? so that you can click on the whole TD?

[13:53] <Odin-> Which, frankly, just might be the case. :)

[13:53] <Odin-> Limbic_Region: Maybe. :)

[13:53] <Aankhen``> Yeah.

[13:53] <Aankhen``> Fitt's Law. :-D

[13:54] <Juerd> Odin-: Heh.

[13:54] <Juerd> Odin-: I have looked at only two, that I suspected before seeing the criteria. (Aspergers and now depression)

[13:54] <Odin-> Limbic_Region: ADHD is a headache to deal with. It's chaotic ... in both that it makes people chaotic, and it manifests in very chaotic ways.

[13:54] <nothingmuch> so do you want to CI it? you can learn darcs in about 2 minutes

[13:54] <Aankhen``> CI?

[13:54] <Limbic_Region> Odin- well, let me put it this way - I agree with what  http://www.behavenet.com/capsules/disorders/dsm4TRclassification.htm had to say on the matter - when classifying the disorder you can pick and choose the options that fit the individual A, B, A&B

[13:54] <Aankhen``> Commit?

[13:54] <nothingmuch> check in

[13:54] <nothingmuch> yup

[13:54] <Juerd> I should read more of them, just to find out what disorders I have. Maybe they'll some day be worth cash!)

[13:54] <Aankhen``> Ahh.

[13:54] <Aankhen``> Sure.

[13:55] <Aankhen``> Where do I get darcs for Win32?

[13:55] <Odin-> Limbic_Region: Okay. Yes. That's what I was referring to. :)

[13:55] <nothingmuch> http://darcs.net <-- links to binaries

[13:55] <Aankhen``> OK.

[13:55] <Limbic_Region> Odin- also speaking from personal experience - I believe that "what ADHD is or is like" is a highly subjective experience

[13:56] <Odin-> Limbic_Region: Oh, yes. But there seems to be a root cause for many, if not most...

[13:57] <Aankhen``> Hrm.

[13:57] <Aankhen``> I have to go for now.

[13:57] * Limbic_Region realizes the time and wanders off to wake Jean up

[13:57] <Aankhen``> «nothingmuch»: I'll be back in a couple of hours. Can you wait till then?

[13:57] * Odin- would be 'combined type'

[13:57] <nothingmuch> Aankhen``: sure

[13:57] <nothingmuch> actually it's better for me

[13:57] <Aankhen``> Alrighty then

[13:57] <Aankhen``> .

[13:57] <Aankhen``> See you later.

[13:57] <nothingmuch> ciao, and thanks!

[14:00] <stevan> nothingmuch: ping

[14:00] <nothingmuch> pong

[14:14] <castaway> stevan..

[14:14] * castaway pings stevan.

[14:22] <stevan> castaway

[14:23] <stevan> pong

[14:23] <castaway> hey

[14:23] <castaway> Could you copy us OS 9 when you get a chance, please?

[14:24] <castaway> (damn mac doesnt want to play)

[14:24] <stevan> castaway: yes I will do that sometime today

[14:24] <castaway> Ta!

[14:24] <stevan> (not on the right computer right now

[14:24] <stevan> should I stop the rsync

[14:24] <theorbtwo> Oh?

[14:24] <theorbtwo> The rsync is still running?

[14:24] <castaway> Isnt it finished?

[14:24] <stevan> LOL

[14:24] <stevan> 20%

[14:25] <theorbtwo> That's... odd.

[14:25] <castaway> for the 2nd one ?

[14:25] <stevan> it was doing early 90s modem speeds :)

[14:32] <theorbtwo> That suggests that the file that was there and the file being transfered weren't more or less the same.

[15:24] * nothingmuch is so pathetic

[15:25] <castaway> whatup, nm ?

[15:25] <nothingmuch> lost all my graphic apps abilities

[15:26] <castaway> eh?

[15:27] * castaway ruffles nothingmuch 

[15:27] * nothingmuch purrs

[15:28] * castaway wonders what graphic apps abilities are

[15:29] <nothingmuch> the ability to grok how stuff will look pretty

[15:29] <nothingmuch> and actually do it

[15:29] <castaway> ohh..

[15:29] <nothingmuch> and also do a bit of simple 2-d math

[15:29] * castaway never had any of those ;)

[15:29] <nothingmuch> i used to do collages for fun

[15:29] <nothingmuch> big PSDs with some kind of message

[15:29] <castaway> PSD?

[15:29] <nothingmuch> photoshop files

[15:30] <castaway> ah

[15:33] <Corion_> r2295 - http://datenzoo.de/pugs/win2k.html - still no new failures ... :)

[15:33] <nothingmuch> autrijus is at a family reunion or something

[15:34] <Corion_> Limbic_Region / Juerd: There is one more test (in my local copy of splice.t) than planned, so all tests are successes, but due to the plan it fails.

[15:35] <castaway> cos no new code has been done? ;)

[15:35] <Corion_> castaway: :))

[15:35] <castaway> I got 3 fails from 4506

[15:38] <Corion_> castaway: Where? I get 0 fails ...

[15:38] <jabbot> pugs - 2296 - QoTW regular #24 works!

[15:38] <jabbot> pugs - 2297 - Added test for explicit scalar context a

[15:38] <castaway> Failed Test            Stat Wstat Total Fail  Failed  List of Failed

[15:38] <castaway> -------------------------------------------------------------------------------

[15:38] <castaway> t/operators/arith.t                 177    1   0.56%  158

[15:38] <castaway> t/operators/filetest.t               34    2   5.88%  11-12

[15:39] <castaway> r2292

[15:39] <Corion_> Oh. The two filetest tests are skipped on win32

[15:39] *** Corion_ is now known as Corion

[15:39] <Limbic_Region> Corion - did you see my comment from earlier?

[15:40] <Corion> Limbic_Region: I even answered to it

[15:40] <Corion> (it was a plan failure)

[15:40] * Limbic_Region must have already been off playing with FF

[15:40] <Corion> More tests run than planned results in an overall failure even though all tests succeed

[15:41] <Corion> Limbic_Region: I answered it about 5 minutes ago :)

[15:42] * Limbic_Region thinks he is seeing a significant speed improvement in page rendering with FF 1.0.3

[15:42] <Limbic_Region> versus 1.0-Pre that is

[15:43] <Corion> Grrr. Skipping tests because of "sporadic failures" is stupid/wrong. If something is "sporadic" in t/operators/filetest.t, you can be pretty sure it's operating system dependent. Like, "-s" is not implemented for Win32 yet.

[15:44] <Corion> Ah - no, it's merely the skip reason that is stupid/nondescript.

[15:46] <nothingmuch> w3 are hypocrites 

[15:46] <nothingmuch> so much for usability: http://www.w3.org/TR/SVG12/

[15:46] <nothingmuch> where on that page is the spec itself, anyone?

[15:47] <theorbtwo> If you actually read it, you'd realize that it doesn't exist yet; it's a working document.

[15:48] <theorbtwo> Try the "previous version" link, OTOH.

[15:48] <nothingmuch> beh

[15:49] <nothingmuch> i've read the first 4 paragraphs and still haven't found the 'this is not written

[15:49] <nothingmuch> bit

[15:49] <nothingmuch> but thanks

[16:18] <jabbot> pugs - 2298 - Win32 -s and -z now work, thanks to Lemm

[16:26] * Aankhen`` pokes nothingmuch.

[16:26] * nothingmuch has a spasm

[16:26] <Aankhen``> Tsk, tsk.

[16:26] <Aankhen``> So touchy.

[16:26] <Aankhen``> Anyway.

[16:26] * nothingmuch bangs head on table, swallows tounge, starts foaming

[16:26] <Aankhen``> What do I do with this darcs thingie?

[16:26] <nothingmuch> 'darcs get repo_url'

[16:26] <nothingmuch> repo_url in this case is: http://nothingmuch.woobling.org/Test-TAP-HTMLMatrix

[16:26] <Aankhen``> And the URL would be?

[16:26] <Aankhen``> OK.

[16:27] <nothingmuch> then you edit the files

[16:27] <nothingmuch> svn st translates to 'darcs w -ls', which is really 'darcs whatsnew --look-for-adds --summaryy'

[16:28] <jabbot> pugs - 2299 - Commented on the fact that Compat.hs now

[16:28] <nothingmuch> and then you say 'darcs record' for whatever changes you want to keep

[16:28] <nothingmuch> you name them

[16:28] <nothingmuch> and then you darcs send

[16:29] <Aankhen``> Copying patch 7 of 44...

[16:29] <Corion> Hmmm. Should hs-plugins Just work on Win32? I haven't tried it yet, but the documentation doesn't claim anything in either direction ...

[16:29] <Aankhen``> darcs failed:  Failed to download URL http://nothingmuch.woobling.org/Test-TAP-H

[16:29] <Aankhen``> TMLMatrix/_darcs/patches/20050423234958-e79bd-9900a4a65dd228be32bb75913f439f0a6a

[16:29] <Aankhen``> dd2d09.gz

[16:29] <Aankhen``> libcurl: HTTP error (404?)

[16:29] <nothingmuch> ooh

[16:29] <Aankhen``> Tried again, it failed again on 7.

[16:29] <nothingmuch> one sec, i'll look into it

[16:30] <Aankhen``> Alright.

[16:30] <nothingmuch> try again

[16:31] *** wilx` is now known as wilx

[16:31] <Aankhen``> Got 'em all.

[16:32] <Aankhen``> So, where's example.html? :-P

[16:33] <nothingmuch> it's not there, you have to generate it ;-)

[16:33] <nothingmuch> example.pl is the thing that makes it

[16:33] <Aankhen``> Darn.

[16:33] <Aankhen``> Right.

[16:34] <Aankhen``> I suppose I need to install the module first?

[16:36] <Aankhen``> Darned prerequisites.

[16:37] <theorbtwo> Corion, last I checked, dons (the primary author) mentioned something about / vs \ paths.

[16:37] <theorbtwo> It's worth a try.

[16:37] <Corion> theorbtwo: Yeah ... I'll guess I'll try :)

[16:37] <Corion> ... but first I'll hunt down some cross platform issues

[16:38] <Corion> Yah. r2299 - http://datenzoo.de/pugs/win2k.html - -s and -z work now on Win32

[16:52] <autrijus> woot.

[16:52] <autrijus> greetings, btw.

[16:52] <autrijus> I'm about to check in a change.

[16:52] <autrijus> it makes mandel.p6 finish in 55 secs for one round in my machine

[16:52] <autrijus> it took 250.

[16:52] <autrijus> (before this change)

[16:53] <autrijus> I'm smoking now to make sure I didn't break anything

[16:53] <obra> ?!

[16:53] <theorbtwo> Impressive.

[16:53] <obra> what did you change?

[16:53] <autrijus> obra: I changed the symbol table from using an association list (list of pairs)

[16:53] <autrijus> into Data.Map

[16:53] <autrijus> that's all

[16:53] <theorbtwo> Ah.

[16:53] <obra> hah

[16:54] <theorbtwo> It's all about the hash, man.

[16:54] <autrijus> right... except for multisubs

[16:54] <obra>  "mature optimization"

[16:54] <autrijus> type Pad = Map Var [IORef VRef]

[16:54] <autrijus> so I end up settling for this

[16:55] <autrijus> not sure whether we still need to make optimized the default after this anymore

[16:59] <autrijus> it's in as r2300. reverse.t broke

[16:59] <autrijus> for some reason

[16:59] <autrijus> otherwise looks good so far

[17:06] <autrijus> reverse.t repaired

[17:07] <autrijus> hey Corion_. I wonder if on Win32 pugs is also 5x faster for you now :)

[17:08] <Corion_> autrijus: Hmmm. I'm just running a smoke test - I should notice if it is 5x faster :)

[17:08] <autrijus> Corion_: r230x?

[17:08] <jabbot> pugs - 2300 - * New, much much faster implementation t

[17:08] <jabbot> pugs - 2301 - * repair the "list" context hinter

[17:08] <Corion_> autrijus: What did you change?

[17:08] <Corion_> autrijus: Just did an svn up

[17:08] <Aankhen``> autrijus, I had a question which you might be able to answer...

[17:08] <Corion_> Will be 2301

[17:08] <autrijus> good

[17:08] <autrijus> Corion_: the Pad data structure is much improved

[17:08] <Aankhen``> [16:42:05] <Aankhen``> The class for strings is Str, right?

[17:08] <autrijus> it's now a hash instead of a list.

[17:08] <Aankhen``> [16:42:42] <gaal> y

[17:08] <Aankhen``> [16:43:32] <Aankhen``> So could you add this: method Str::foo ($self is rw) { $self ~~ s:p5:/foo/bar/; }

[17:09] <Corion_> autrijus: Ah - so we have faster variable name/value lookups

[17:09] <Corion_> autrijus: Build is not broken :) Tests seem to work ;)

[17:09] <autrijus> Aankhen``: I don't know... consult S12/A12

[17:09] <autrijus> I know that

[17:10] <Aankhen``> Alright.

[17:10] <autrijus> class Str { method foo {} } 

[17:10] <autrijus> works

[17:10] <Corion_> And it seems faster, yes. Too bad I'm too lazy to install time(1) here :)

[17:10] <autrijus> as does

[17:10] <autrijus> Corion_: you can run mandelbrot with two pugs.exe :)

[17:10] <autrijus> also,

[17:10] <autrijus> multi method foo (Str $self is rw:) { ... } 

[17:10] <autrijus> works

[17:10] <Aankhen``> So class Str { method foo {} } would add foo() to all strings?

[17:11] <Juerd> Corion_: time is a bash builtin. bash(1).

[17:11] <Juerd> ;)

[17:11] <autrijus> Aankhen``: something like that.

[17:11] <Aankhen``> Cool.

[17:11] <Aankhen``> Thanks. :-)

[17:11] <Corion_> Juerd: Too bad I'm too lazy to install bash. But maybe I shouldn't be :))

[17:11] <autrijus> Aankhen``: but I'm talking with p6l hat. in p6c terms it doesn't work right now... only the multi sub works

[17:11] <autrijus> multi sub foo (Str $self is rw) { .. }

[17:11] <Aankhen``> Ah, okay.

[17:12] <Aankhen``> I have to say, it's fascinating to even just idle in this channel.

[17:12] <autrijus> agreed :)

[17:12] <Juerd> Aankhen``: Can you explain why?

[17:13] <Aankhen``> «Juerd»: Watching a programming language being implemented is a new experience for me. :-)

[17:13] <Juerd> I see

[17:18] <elmex> hm, how far are the networking capabilities of pugs? can i do something like select () and using non-blocking ? 

[17:18] <autrijus> elmex: see example/network

[17:18] <autrijus> http-client.p6  http-server.p6

[17:18] <autrijus> we are currently having a share-everything model (5005threads)

[17:18] <elmex> well, that one bases on async {} didn't it?

[17:18] <elmex> hmm

[17:18] <autrijus> I think it is larry's wish to make it more like ithreads

[17:18] <autrijus> and I may throw in STM as well.

[17:18] <autrijus> atomically {}

[17:19] <elmex> i've read that post... indeed

[17:19] <elmex> i don't like threads anyway. i tend to use select () in all of my applications. it's simpler and you can do much with it until you hit some performance barrier...

[17:20] <elmex> autrijus: will async { } be there in future too?

[17:20] <autrijus> elmex: I'm pretty sure it will.

[17:20] <autrijus> async is part of ithreads API.

[17:20] <elmex> hm

[17:20] <elmex> autrijus: what about coroutines?

[17:20] <autrijus> elmex: you can roll coroutines yourself using a simple iterator interface.

[17:20] <autrijus> i.e. lazy list

[17:21] <elmex> oh, iterator interface? uh..

[17:21] <elmex> (no idea)

[17:21] <elmex> but it sounds good ;)

[17:21] <autrijus> ;)

[17:21] <autrijus> if all you want is lazy yield(), you have gather/take.

[17:22] <Corion_> It sure felt faster!

[17:22] <autrijus> Corion_: glad to hear that!

[17:22] <Corion_> Hmmm. Supposedly it took 14 minutes. But I don't have any numbers to compare. D'oh :)

[17:23] <autrijus> run mandelbrot? :)

[17:23] <autrijus> (provided you have an old pugs.exe to compare against)

[17:25] <Corion_> autrijus: Ah. Hmmm - too late :)

[17:26] <Corion_> BTW, I'm moving out all the fixed tests in pugsbugs/ - where should subscripts_and_context.t go?

[17:28] <jabbot> pugs - 2302 - Moved succeeding tests out of t/pugsbugs

[17:30] <ingy> hola

[17:30] * Aankhen`` pokes nothingmuch.

[17:30] <autrijus> Corion_: improvise :)

[17:30] <Corion_> autrijus: Already doing that ;)

[17:31] <Corion_> Is => supposed to be a hash/pair constructor or is it still the P5 Fat Comma ?

[17:31] <broquaint> Pair constructor.

[17:31] <autrijus> it is always a pair constructor.

[17:31] <autrijus> specifically, it creates a reference to a pair object.

[17:31] <broquaint> Although it still stringifies the left handside.

[17:33] <Corion_> Ah. Hmmm. Still it should be mostly usable in the same situations as before, especially in a map block ... { $_ => uc $_ }

[17:34] <Corion_> I hate tests that only exist as comments and don't even have an empty skip() or fail() call... :)

[17:34] <autrijus> map { $_ => uc $_; }

[17:34] <autrijus> map { +($_ => uc $_) }

[17:35] <autrijus> map { \($_ => uc $_) }

[17:36] <gaal> the yaml harness now records how long the run took. should be a decent benchmark of pugs' speed, per r at least.

[17:36] <Corion_> %ret = map { $_ => uc $_ }, split "", $text # currently dies. Is that correct?

[17:36] <Corion_> gaal++

[17:36] <Juerd> autrijus: It creates a pair object. That *implies* reference, on the outside.

[17:37] <Corion_> (it's no parsefail but a runtime error later) - I'll commit the changed/updated test again, as t/pugsbugs/map_function_return_values.t - I just wonder, the test name doesn't have much in common anymore with the cause :)

[17:37] * nothingmuch gets poked

[17:38] <jabbot> pugs - 2303 - include timing data in yaml harness run

[17:38] <jabbot> pugs - 2304 - Moved one more test, turned one comment 

[17:39] <autrijus> Juerd: sure

[17:39] <autrijus> Corion_: it's I think correct

[17:39] <autrijus> it amounts to saying

[17:39] *** Corion_ is now known as Corion

[17:39] <autrijus> map %hash &func

[17:39] <autrijus> er

[17:39] <autrijus> map %hash, @list

[17:39] <autrijus> which is undefined.

[17:39] <autrijus> it should fail with a MMD error

[17:40] <autrijus> but we'll get to that

[17:40] <Juerd> autrijus: Shouldn't { } in Code context prefer sub interpretation, then?

[17:40] <Juerd> Likewise, { } in Hash context, prefer hash interpretation.

[17:41] <autrijus> Juerd: eh.

[17:41] <autrijus> multi sub foo (Code $x) { ... }

[17:41] <autrijus> multi sub foo (Hash $x) { ... }

[17:41] <autrijus> foo { 4 => 5 }

[17:41] <obra>  make smoke now takes 5:27 for me

[17:41] <Juerd> autrijus: Then both are possible and old heuristics apply.

[17:41] <autrijus> obra: is that an improvement?

[17:41] <Juerd> autrijus: But if only one is valid, it makes no sense to interpret it as the invalid thing, and then croak.

[17:42] <autrijus> Juerd: problem being the interpretation thing is done at compile time

[17:42] <autrijus> Juerd: but the MMD is not resolved until runtime, as you very well know

[17:42] <Juerd> autrijus: That's not something I know :)

[17:42] <autrijus> Juerd: so the best we can do is to mark that block as some kind of Code|Hash thing

[17:42] <autrijus> Juerd: oh. ok. :)

[17:42] <Juerd> And is map really a multi?

[17:43] <Juerd> I had always assumed it was a normal sub

[17:43] <Juerd> (And method)

[17:43] <autrijus> anyway. :)

[17:43] <autrijus> it's for @larry to decide :)

[17:43] <Juerd> Also, is it spelled "multi sub"? I thought "multi".

[17:44] <autrijus> it is spelled multi sub.

[17:44] <autrijus> because you also get multi methods.

[17:44] <autrijus> it may or may not be equivalent to the "is multi" trait.

[17:44] * gaal pings nothingmuch

[17:45] <Juerd> So we still have elsif crammed together into the extreme, but multi sub as two words. Confusing :)

[17:47] <Juerd> SHOCKING NEWS

[17:47] <Juerd> "Mac mini" and "Mac Mini" are both used.

[17:47] <Juerd> The box sais "Mac mini"

[17:47] <Juerd> says even

[17:47] <autrijus> I'm shocked!

[17:47] * autrijus elecrifies

[17:47] <autrijus> electrifies, even

[17:47] <Corion> Galvanize!

[17:47] <theorbtwo> Is this confusingly similar to a mini cooper?

[17:47] <theorbtwo> If not, why do I care?

[17:48] <theorbtwo> For that matter, if so, why do I care?

[17:48] <Corion> Ow. I introduced a failing test - should I make it :todo(1) ?

[17:48] <Corion> Or do we accumulate failing tests again, and :todo them before release?

[17:48] <theorbtwo> Corion, we're obviously out of preflight, since there was a release yesterday.

[17:49] <autrijus> right.

[17:49] <Corion> theorbtwo: Yes, but a 0 bugs build is easier to keep track of, resp. if you introduced new bugs or not

[17:49] <autrijus> so make those tests fail.

[17:49] <autrijus> new tests, I mean

[17:49] <autrijus> except of course if it is a missing new feature... in that case it's truly todo

[17:52] <broquaint> IIRC, which I may not, but in circumstances where { } is potentially ambiguous Code is assumed, and to create a Hash just plonk the "hash" keyword in front of the braces.

[17:54] * castaway tickles broquaint

[17:55] <broquaint> Hey c, enjoying a fine Sunday afternoon?

[17:55] <castaway> yup thanks

[17:55] <autrijus> broquaint: no. currently it's defined to always collapse to a hash

[17:55] <Corion> r2304 - http://datenzoo.de/pugs/win2k.html - 661 seconds on my machine

[17:55] <autrijus> if its first toplevel AST is either a pair constuctor

[17:55] <autrijus> or a list constructor with the first element being a pair constructor.

[17:56] <Corion> (and one failure :| )

[17:56] <broquaint> Ah yes, that makes sense, autrijus. But I wouldn't think those circumstances ambiguous ;)

[17:56] <broquaint> But then again, I'm not a parser.

[17:57] <autrijus> broquaint: no... Juerd is asking for more

[17:57] <autrijus> consider

[17:57] <autrijus> @foo.map({ 1 => 2 })

[17:57] <autrijus> ah!

[17:57] <autrijus> Juerd: I know! I know!

[17:57] <autrijus> Juerd: we just define adverbial blocks to never collapse ;)

[17:57] <autrijus> i.e.

[17:58] <autrijus> map { 1 => 2 } @foo  # map(Code, Array)

[17:58] <autrijus> map { 1 => 2 }, @foo  # map(Hash, Array)

[17:58] <autrijus> makes sense?

[17:58] <autrijus> I think it does.

[17:58] * autrijus writes p6l

[18:01] <broquaint> http://dev.perl.org/perl6/doc/design/syn/S04.html#___top

[18:01] <broquaint> 'pparently: "If the closure appears to delimit nothing but a comma-separated list starting with a pair (counting a single pair as a list of one element), the closure will be immediately executed as a hash composer."

[18:03] <gaal> Corion incidentally that doesn't count time building pugs, only smoking it.

[18:03] <Corion> gaal: Ah. Hmmm - maybe I should try with "nmake optimized" and then smoking ...

[18:04] <gaal> someone with more make-fu than i should give that a look, fer sure. the 'make smoke' target needs to be rewritten.

[18:05] <Corion> I don't use "make smoke", at least not directly :)

[18:05] <gaal> i think the responsibility on smoke has to be either on run-smoke, or on make smoke, but not both.

[18:11] <autrijus> map_function_return_values.t

[18:11] <autrijus> now works.

[18:13] <autrijus> * implement the tentative proposal of not collapsing a bare block as a hash reference, if it is in an adverbial, loop body, or comma-omission position.

[18:13] <autrijus> r2305

[18:16] <Corion> autrijus: Yay! :) Maybe I should simply everytime select one bug to propagate to a real fail() so you then fix it :)

[18:16] <Corion> Hmmm. "make optimized" does not copy/execute the ext/*/Makefile.PL ...

[18:18] <jabbot> pugs - 2305 - * implement the tentative proposal of no

[18:18] <Corion> Heh. make optimized smoke now takes 341s :)

[18:18] <Corion> err - 371

[18:19] <nothingmuch> hola

[18:20] <Corion> hola!

[18:21] <nothingmuch> can anyone explain: http://www.w3.org/TR/SVG/coords.html#TransformMatrixDefined ?

[18:22] <theorbtwo> Brok!

[18:22] <awwaiid> howdy

[18:22] <Corion> nothingmuch: What part of it? All (linear) transformations can be expressed as 3x3 matrices

[18:22] <awwaiid> thought I'd drop in and see whatsh shakin in perl6 land

[18:23] <nothingmuch> hola awwaiid 

[18:23] <awwaiid> bonjour

[18:23] <nothingmuch> hey, i need an epfarms account for that website

[18:23] <Corion> nothingmuch: You get the target point of the original point by multiplying the original point with the matrix

[18:23] <nothingmuch> what email to use?

[18:23] <awwaiid> [email@hidden.address]
[18:24] <nothingmuch> awwaiid++ ; # look! you didn't even hack pugs, and already a positive karm

[18:24] <nothingmuch> a

[18:25] <awwaiid> crazyness

[18:26] <theorbtwo> Well, by multiplying a /column/ matrix with [x y 1] by the matrix and getting out a /row/ matrix [x' y' 1]

[18:28] <jabbot> pugs - 2306 - * oops, accidentally inhibited the comma

[18:33] <Corion> Hmmm. What was 2306 for ? 2305 raised no error ... Are we missing some test(s) ?

[18:34] <Corion> How do I see via svn/web which files were changed by a commit?

[18:34] <Aankhen``> Pugs doesn't work with input from a file? :-S

[18:34] <autrijus> Aankhen``: what?

[18:35] <autrijus> Corion: click on the revision num

[18:35] <Aankhen``> I have Str.foo.p6 containing say "foobar";

[18:35] <Corion> autrijus: D'oh :)

[18:35] <autrijus> Corion: I added a test to 2306

[18:35] <Aankhen``> I run pugs Str.foo.p6

[18:35] <Aankhen``> And get:

[18:35] <Aankhen``> unexpected "\NUL"

[18:35] <Aankhen``> expecting operator, postfix conditional, postfix loop, postfix iteration, ";" or

[18:35] <Aankhen``>  end of input

[18:35] <Aankhen``> NonTerm SourcePos "Str.foo.p6" 1 8

[18:36] <autrijus> it says you have a \NUL.

[18:36] <autrijus> maybe something in your editor?

[18:36] <autrijus> have you saved it as utf16? ;)

[18:36] <theorbtwo> Possibly you saved as utf-16?

[18:36] <Aankhen``> I saved it as a UTF-8 file with Unix line endings.

[18:36] <theorbtwo> D'oh.

[18:36] <Aankhen``> Hrm.

[18:36] <Aankhen``> Weird.

[18:37] <Aankhen``> I think UltraEdit-32 messed up somewhere.

[18:37] <Aankhen``> It works now.

[18:37] <Aankhen``> Looks like it was some encoding issue.

[18:37] <autrijus> I like older versions of UE better.

[18:37] <theorbtwo> Allo, bro.

[18:38] <Aankhen``> Ahh, I'm a sucker for shiny new features. :-P

[18:40] <broquaint> Hey, theorbtwo. How're hs-plugins coming along?

[18:40] <Corion> BTW, where should I look for calling Win32 API functions from Haskell?

[18:41] <theorbtwo> eval_haskell is working (for some values of working), and tested.

[18:41] <theorbtwo> I haven't messed with the dynamicly-loaded modules recently.

[18:41] <broquaint> Nifty :)

[18:42] <Aankhen``> Does "is rw" work?

[18:43] <Corion> Aankhen``: It says so in one of the commits I think

[18:43] <Corion> ... or at least I saw some tests that work now

[18:43] <Corion> ... in t/pugsbugs/

[18:43] <Corion> See t/var/is_rw.t

[18:45] <broquaint> Is the best place to look for stuff "to do" in todo_* calls in t/ or is there a TODO lying about?

[18:45] <Aankhen``> perlbot nopaste

[18:45] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[18:45] <theorbtwo> Working on a pure haskell project at present, to create (graphviz) graphs of haskell module dependences.

[18:46] <autrijus> ooh, useful! 

[18:46] <autrijus> can it walk symbols?

[18:46] <autrijus> instead of merely plotting import strings

[18:47] <broquaint> Is that through introspection or some judicious parsing, theorbtwo?

[18:47] <Corion> broquaint: There is the general roadmap (I don't know where), but I usually look at annoying todos in my smoke output (http://datenzoo.de/pugs/win2k.html) and fix them.

[18:47] <Corion> ... but by that way, I won't implement new features. New features I implement when I need them in plain P6 code ;)

[18:47] <theorbtwo> It does it by reading the .hi files.

[18:48] <broquaint> Cool, thanks, Corion.

[18:48] <theorbtwo> ...using the parser that is part of hs-plugins.

[18:48] <Corion> (or rather, I ask about them not existing, write tests for them, and release a botched implementation that somebody else then fixes)

[18:48] <pasteling> "Aankhen" at 203.101.1.31 pasted "What am I doing wrong?" (13 lines, 188B) at http://sial.org/pbot/9619

[18:48] <broquaint> Heh, nice :)

[18:49] <Corion> Worked for sleep(), async() and sockets :)

[18:49] <autrijus> Corion++

[18:52] <Corion> Should I move older tests (like t/syntax/symbol_table.t) to the new Test.pm API ? It doesn't use eval_ok, which it really should IMO :)

[18:52] <autrijus> Aankhen``: huh, it worksforme

[18:52] <autrijus> Aankhen``: should work for 6.2.1

[18:52] <Aankhen``> o_O

[18:52] <autrijus> it says "barbar" here

[18:52] <Aankhen``> Which revision bumped it up to 6.2.1?

[18:52] <theorbtwo> I suspect in theory the function-level dependencies are present, but Hi.Parser doesn't parse a fair bit of the file.

[18:53] <broquaint> What's the difference between a skipped test and a test TODO? Tests that are skipped were/will be working, and tests todo are stuff to be implemented?

[18:54] <autrijus> skipped tests are either:

[18:54] <autrijus> 1. hard parsefails

[18:54] <autrijus> (where you add "fail" before it)

[18:54] <autrijus> or

[18:54] <autrijus> 2. platform-dependent

[18:54] <Aankhen``> I'm at r2235.

[18:54] * Aankhen`` looks for "is rw" in the log.

[18:54] <Aankhen``> Aha.

[18:54] <Aankhen``> 2253.

[18:54] <Aankhen``> No wonder.

[18:54] <autrijus> :)

[18:54] * Aankhen`` updates.

[18:55] <broquaint> Thanks, autrijus.

[18:55] <autrijus> np :)

[18:55] <Aankhen``> I'm starting to dislike RapidSVN.

[18:58] * broquaint ponders implementing caller()

[18:58] <Corion> broquaint++

[19:00] <broquaint> How hard can it be, right?

[19:01] <nothingmuch> isn't that done with magicals now?

[19:02] <nothingmuch> for example &?CALLER::SUB is the &?SUB in your CALLER's scope

[19:02] <nothingmuch> so to invoke your parent, &?CALER::SUB.()

[19:03] <Aankhen``> &?CALLER::SUB.(), even?

[19:03] <broquaint> There are the magical variables, but they really apply to the current sub, whereas you can look up the stack (if you so wish) with caller().

[19:03] <nothingmuch> yep, sorry

[19:04] <nothingmuch> broquaint: the impl stacks

[19:04] <Aankhen``> ^_^

[19:04] <broquaint> What are "impl" stacks?

[19:04] <nothingmuch> the implementation is a stacking one, it stacks

[19:04] <nothingmuch> when I hacked pugs a while ago, the way it was done is for every CALLER:: in the namespace, one frame is popped of the stack

[19:04] <nothingmuch> stacks is a verb,

[19:05] <broquaint> I guess it'll get interesting with tail-call optimisation and the such. But I think that's mentioned in Apoc6, looking now ...

[19:06] <nothingmuch> oh crapxor

[19:06] * Corion weeds out some more test failures

[19:07] <broquaint> I take it (and am hoping) .wrap hasn't been implemented?

[19:07] <nothingmuch> .wrap wasn't

[19:07] <nothingmuch> but look at .assuming

[19:07] <nothingmuch> or wait, maybe it's different

[19:07] <broquaint> Superb.

[19:07] <nothingmuch> it is, actually

[19:08] <nothingmuch> .wrap does an in place edit, right?

[19:08] <nothingmuch> .assuming was fun because it only generates a closure

[19:08] <Corion> Deleting a file via "svn delete" is not harmful for the repository, right?

[19:08] <nothingmuch> Corion: you can undo the delete later, i think

[19:09] <Corion> nothingmuch: Yep - that's what I want to know, because I found a duplicate test :)

[19:09] <broquaint> More or less, nothingmuch, it points the existing subroutine to the wrapped variant, so in theory you should be able to unwrap it.

[19:09] * Corion hopes the best.

[19:09] <nothingmuch> it doesn't destroy history

[19:09] <nothingmuch> how does wrapping layer?

[19:09] <nothingmuch> say i take a sub and wrap it

[19:10] <nothingmuch> and someone else wraps it too

[19:10] <nothingmuch> and i remove my wrapping

[19:10] <nothingmuch> is the original sub still wrapped with the last one?

[19:10] <nothingmuch> if yes, it gets a bit tricky

[19:10] <nothingmuch> because this means we need dual indirection here

[19:11] <nothingmuch> or parent links

[19:11] <nothingmuch> so we can make the thing wrapping a removed wrapping point to something else instead

[19:11] <nothingmuch> are you looking into doing this?

[19:11] <broquaint> I believe it's stacked, nothingmuch, so you'd have to .unwrap the secondary sub to .unwrap your sub.

[19:12] <broquaint> http://dev.perl.org/perl6/doc/design/apo/A06.html#___top

[19:12] <broquaint> So it's not too clearly defined at this stage.

[19:12] <nothingmuch> $subref.unwrap($id); <-- i think this implies it isn't

[19:13] <nothingmuch> v

[19:13] <nothingmuch> There is also likely a .wrappers method that represents the list of all the current wrappers of the subroutine. The ordering and manipulation of this list is beyond the scope of this document, but such activity will be necessary for anyone implementing Aspect-Oriented Programming in Perl 6.

[19:14] <broquaint> Yeah, so it's not so obvious at this point :)

[19:14] <autrijus> journal up. g'night!

[19:14] <nothingmuch> okay, so i think it is a dually linked list

[19:14] <nothingmuch> last wrapper is always the one being invoked

[19:14] <nothingmuch> cia autrijus 

[19:15] <nothingmuch> and you can remove arbitrary wrappings from the list

[19:15] <broquaint> Later, autrijus.

[19:15] <nothingmuch> if you know their IDs

[19:15] <Corion> Can anybody explain to me why t/general/config.t is :todo(1) ? Shouldn't we make that one non-todo to automagically collect the various operation systems?

[19:15] * Corion &

[19:17] <nothingmuch> broquaint: if you are planning on implementing .wrap i'll be glad to help

[19:17] <nothingmuch> i've not hacked pugs in a long while and this is a good excuse

[19:17] <nothingmuch> (to start)

[19:18] <broquaint> Well I'm certainly interested in implementing .wrap and .caller, but firstly I have to remember how to code in Haskell and where to start with pugs ;)

[19:18] <jabbot> pugs - 2307 - s!is(eval !eval_is(!g; s!ok(eval !eval_o

[19:18] <jabbot> pugs - 2308 - Some more hard parsefails converted to e

[19:18] <jabbot> pugs - 2309 - NaN calculations work now and the test l

[19:18] <jabbot> pugs - 2310 - Move tests for eval() into t/builtins/ev

[19:18] <jabbot> pugs - 2311 - Move junction test to t/junction/

[19:19] <broquaint> Heh, nice -- XXX absolutely evil bloody hack for "assuming"

[19:19] <nothingmuch> broquaint: well, when you start ping me, and i promised to be lured away from work for at least some hunks of time

[19:19] <nothingmuch> tee hee

[19:19] <broquaint> Cool, thanks nothingmuch.

[19:20] * nothingmuch takes the blame for that line

[19:20] <broquaint> Is there much to hacking in functions/methods/multis?

[19:20] <nothingmuch> i'm not very up to date on that bit

[19:20] <nothingmuch> maybe someone else can help more

[19:20] <nothingmuch> but:

[19:20] <nothingmuch> MMD: we have that

[19:20] <nothingmuch> methods: they are just single MMDs

[19:21] <nothingmuch> functions: do you mean builtins?

[19:21] <nothingmuch> what we don't have is classes

[19:21] <nothingmuch> or objects

[19:21] <broquaint> Yeah, builtins.

[19:21] <nothingmuch> coding builtins is a nice way to start

[19:21] <nothingmuch> look at all the op1 and op2s in Prim.hs

[19:21] <broquaint> I guess caller() is best implemented as a builtin for the time being

[19:22] <nothingmuch> anyway, i've got to go

[19:22] <nothingmuch> ciao!

[19:22] <broquaint> Later, nothingmuch.

[19:22] <nothingmuch> Aankhen``: when I get back will you still be around?

[19:23] * broquaint & # Indiana Jones

[19:23] <nothingmuch> i need massive CSS help

[19:55] <Corion> Dr. Jooooones! Dr. Jooooones!

[19:59] <stevan> you throw me the idol, i throw you the whip

[20:00] <Corion> Adios, stupido!

[20:01] * stevan later finds Corion impaled by circuit boards and retrieves the sacred golden Pug

[20:01] <Corion> stevan: You got the reference wrong :) It is me who finds you impaled. :)

[20:02] <Corion> But I lose the golden Pug to some french guy

[20:02] <stevan> Once again Dr. Jones there is nothing you have which I cannot posess

[20:03] <stevan> Corion: I was blinded by the new speed of Pugs :P

[20:03] <Corion> stevan: :))

[20:03] <Corion> ... in the end, will the ghosts we unleash through the tomes of Haskell destroy us all

[20:03] <Corion> ?

[20:04] <stevan> they might get you because you are german, but I'm an american and therefore invincable

[20:04] * stevan can't wait for his Haskell book to arrive

[20:06] <Corion> stevan: But I have a cool coathanger!

[20:06] <stevan> but that scar on your hand is really just creepy

[20:06] <Corion> Are there any lvalue-producing builtins yet?

[20:06] <Corion> (I'm considering looking at making substr-lvalues work, but I need to cargo-cult the stuff, obviously)

[20:09] <autrijus> Corion: proxyScalar is the way to go.

[20:09] <autrijus> see Types/Array.hs for sample use.

[20:09] * Corion goes looking

[20:11] * Corion melts like wax in the hot sun

[20:11] <Corion> I guess I should better sleep(28800) now :)

[20:11] <Corion> good night :)

[20:11] <autrijus> night!

[20:14] <stevan> autrijus: I am looking at t/builtin/io/io_in_while_loops.t, and it looks like the reading past the EOF problem is fixed? is that right?

[20:14] <autrijus> hm. splice([], 1) is a fatal error. if someone can add a test for that, I'd be grateful

[20:14] <stevan> autrijus: adding

[20:14] <autrijus> stevan: I believe so, aye

[20:14] <autrijus> list context readline() is now strict.

[20:15] <stevan> goody, I can resurect the Pod parser I was working on

[20:15] * autrijus waves &

[20:16] <stevan> autrijus: is is supposed to cause the error? or is it a todo test?

[20:38] <nothingmuch> evening

[20:58] <jabbot> pugs - 2312 - Exchange skip() for eval_is()

[21:01] <stevan> hey nothingmuch 

[21:01] <nothingmuch> hola stevan 

[21:01] <nothingmuch> anyone want to help with CSS voodo?

[21:02] <stevan> nothingmuch: I can try, but its been a while since I did much CSS

[21:02] <nothingmuch> okay, i'll post a demo thingy

[21:02] <nothingmuch> it's in hebrew, but CSS attrocities still apply ;-)

[21:02] <stevan> LOL

[21:02] <stevan> I warn you, my hebrew is even rustier than my CSS 

[21:03] <nothingmuch> http://nothingmuch.woobling.org/kelaa/demo/who_we_are.html.he

[21:03] <Aankhen``> You should lowercase UTF-8.

[21:06] <Aankhen``> Surely that isn't so scary? :-S

[21:06] <nothingmuch> i'll do that

[21:06] <nothingmuch> Aankhen``: the logo is giving me crap

[21:06] <nothingmuch> let me generate a proper png first

[21:06] <Aankhen``> Alright.

[21:06] <Aankhen``> I'm not really here though.

[21:07] <Aankhen``> On the computer for a little while longer before I go to sleep, but sorta busy.

[21:07] <nothingmuch> okay, any suggestions on what we can do now?

[21:07] <nothingmuch> the navigation is hard to do right

[21:08] <Aankhen``> What are you trying to do?

[21:08] <nothingmuch> make it look right ;-)

[21:09] <nothingmuch> the nav items should be exploded horizontally

[21:09] <Aankhen``> Ah.

[21:09] <Aankhen``> You want them to expand and fill up the space?

[21:09] <gaal> nm, a comment on the content: the visitor is given two names, kela and Byahad, with no explanation about their distinction.

[21:10] <nothingmuch> shoshan says: kelaa is a self help group org in general

[21:10] <nothingmuch> and beyahad is specificly for bipolar thingies

[21:10] <gaal> am i suposed to know what shoshan is?

[21:11] <gaal> who shoshan is?

[21:11] <nothingmuch> shoshan is my friend, whom i'm trying to slap a website together for

[21:11] <nothingmuch> she's the brains behind beyahad

[21:11] <gaal> why does kelaa need to be mentioned on this page at all?

[21:12] <gaal> we can move to /msg if you like.

[21:12] <nothingmuch> gaal: it's the parent org

[21:13] <gaal> mention it in the text then. it shouldn't be the page's subtitle.

[21:15] <nothingmuch> it shoudln't

[21:15] <nothingmuch> it will be fixed eventually

[21:15] <nothingmuch> but i'm working on presentation, not content ATM

[21:18] <jabbot> pugs - 2313 - Added link to t/builtins/substr.t that l

[21:31] <Aankhen``> G'night.

[21:40] *** saorge_ is now known as saorge

[21:55] <Juerd> autrijus: I can't go into details because I have no better suggestion, but I think disambiguation based on lack of comma sucks.

[21:56] <Juerd> autrijus: And I'm starting to wonder why a { ... } can't just be a closure until used in hash context, at which point heuristics come into action

[21:57] <Juerd> autrijus: (more than one statement? runtime error)

[21:57] <nothingmuch> Juerd: autrijus is supposed to be sleeping, methinks

[21:57] <Juerd> nothingmuch: I guess he reads backlogs.

[21:57] <Juerd> I'm reacting to something he said 4 hours ago. Works well.

[21:58] <nothingmuch> ah

[21:58] <jabbot> pugs - 2314 - adding failing splice test per autrijus 

[23:21] <jroc> don't all talk at once ;)

