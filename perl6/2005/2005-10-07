[00:00] <autrijus> :)

[00:00] <Shillo> geoffb: Failing to mount a share would confuse Visual Studio. -That- sucked.

[00:01] * Shillo helpfully tries to build with PUGS_EMBED, too...

[00:01] <geoffb> clkao, btw, if you read my O'Reilly blog from wed, you may have noticed that SVK is the only VC client I said was "excellent"

[00:01] <joao> svk assumes that we have a svn remote server, or am I wrong?

[00:01] <clkao> i know :P

[00:02] <clkao> joao: yes, it works best for that. but you can also branch from cvs or p4

[00:02] <Shillo> I kinda like arch, except for a bit of a learning curve.

[00:02] <geoffb> clkao, I hate SVK because I still have to have a darcs client . . . but I've said that before.  :-)

[00:02] <joao> Southen_, geoffb need to convince his boss to use svn, I guess :)

[00:03] <joao> s/Southen_/clkao

[00:03] <geoffb> joao, $work = $contract.  Less sway there, since they can't bug me all the time for help for "free"

[00:03] <svnbot6> r7361 | autrijus++ | * install and register Pugs to cabal via "make install".

[00:03] <Shillo> Still burps itself on missing parrot headers, then continues to build...

[00:09] <Shillo> Built. I'm way too tired to check whether the parrot actually got embedded. :)

[00:09] <Shillo> Night, all!

[00:09] <geoffb> night, Shillo

[00:09] <autrijus> night Shillo. thanks!

[00:09] <Shillo> Actually PGE does run.

[00:11] <joao> 5.8.1 is not supported?

[00:12] <autrijus> joao: hm? I think it is supported, tho I'm not sure.

[00:14] <joao> I just don't get the error, then :9

[00:14] <joao> Generating precompiled Prelude... Can't exec "./pugs": No such file or directory at /System/Library/Perl/5.8.1/IPC/Open3.pm line 241.

[00:17] <joao> oh well, i'll go to bed, good evening!

[00:18] <autrijus> joao: the thing would be the error before the "Generating" line

[00:18] <autrijus> good night :)

[00:19] <joao> autrijus, I didn't have the latest svn release; I'm building again, let's see...

[00:20] <autrijus> oh ok... wait me a sec

[00:21] <autrijus> please up to r7362

[00:24] <joao> hmmmm. ok

[00:25] <svnbot6> r7362 | autrijus++ | * trigger rebuild for dist too.

[00:25] <joao> I definitely have to update my environment :)

[00:26] <autrijus> "make unoptimised" is your friend :)

[00:26] <joao> I'm using it

[00:26] <autrijus> (and it can't help that I just doubled the make time. temporarily though)

[00:26] <joao> But I was refering to update development tools, for instance

[00:26] <autrijus> ah.

[00:26] <joao> ghc still 6.4

[00:26] <geoffb> As a side note, new config.yml keys aren't added or mentioned by Makefile.PL.

[00:26] <joao> perl 5.8.1 ;)

[00:27] <geoffb> I moved my config.yml aside and reran Perl Makefile.PL to get the new keys, but people shouldn't have to think of that

[00:27] <autrijus> geoffb: indeed.

[00:27] <autrijus> geoffb: slap a -M protection to Makefile.PL?

[00:27] <autrijus> -M __FILE__ against -M 'config.yml'

[00:28] <autrijus> in config.yml

[00:28] <autrijus> or compare it against util/config-template.yml

[00:28] <autrijus> in inc/PugsBuild/Config.pm

[00:28] <autrijus> improvise :)

[00:28] <geoffb> autrijus, nodnod

[00:28] <geoffb> Just started a build.  Going to see if that passed before mucking with anything

[00:28] <autrijus> ok.

[00:30] <svnbot6> r7363 | autrijus++ | * try to be a bit more portable with GNU ar.

[00:41] <joao> still building :-)

[00:42] <svnbot6> r7364 | autrijus++ | * switch to an autoconf-like format for Cabal building.

[00:42] <geoffb> Perl 5 embedding causes build to explode

[00:43] <autrijus> not surprisingly, but ack

[00:48] <svnbot6> r7365 | autrijus++ | * bump version to 6.2.10 as release is imminient.

[00:49] <geoffb> autrijus, I'm doing the -M hack and a little cleanup in the surrounding function.  Is there time to get it in before you cut?

[00:50] <autrijus> sure

[00:50] <autrijus> I need a sleep between this and 6.2.10.

[00:50] <autrijus> ;)

[00:51] <autrijus> and I'm still wrangling with cabal. close, though

[00:51] <autrijus> mostly just don't want to double the maketime.

[00:52] <joao> autrijus, for how long are you awake?

[00:53] <autrijus> joao: I don't know, close to 24

[00:53] <joao> autrijus++ # pugs is built!

[00:53] <autrijus> joao: oooh

[00:53] <joao> autrijus, you deserve some sleep :)

[00:53] <autrijus> not going to do that without a working cabal :)

[00:55] <joao> Being so many time awake would drive me crazy. 

[00:57] <autrijus> hm, what makes you think I'm not crazy :)

[00:57] <joao> Oh, I forgot the "too" :) It would drive me crazy, too. :)

[00:59] <geoffb> OK, tested and committed, now trying build sans PUGS_EMBED

[00:59] <svnbot6> r7366 | autrijus++ | * depend on "Win32" and "unix" packages correctly according to platform.

[00:59] <svnbot6> r7366 | autrijus++ | * verison normalization.

[00:59] <svnbot6> r7367 | geoffb++ | PugsBuild::Config: some cleanup in sub read, and warn if config.yml is older than template

[01:01] * joao waves

[01:02] * offby1 waves back

[01:03] * autrijus waves

[01:04] * theorbtwo particles.

[01:07] <nothingmuch> oof, /me needs parametrized types in perl 5

[01:07] <nothingmuch> it's nice that perl 5 can let you do all this stuff without too much effort

[01:07] <nothingmuch> but it would be nice to get shortcuts occasionally

[01:10] <nothingmuch> good night everyone

[01:11] <geoffb> gnight, nm

[01:14] <theorbtwo> G'night, nm.

[01:18] <rafl> mugwump: What about the Debian package? I maintain it. 6.2.9 is in sid.

[01:19] <rafl> geoffb: No matter. If you intend to do some work I can also add you as a co-maintainer with the next release.

[01:20] <mugwump> rafl: I was just looking for something to play with my backporting system

[01:20] <geoffb> rafl: Yeah, let's aim for the next release.

[01:20] <mugwump> I have 11 x86 Debian distributions on my desktop with which to do this :)

[01:21] <rafl> mugwump: A backport would be hard. You need ghc 6.4.

[01:21] <mugwump> yes, I'd have to backport that, too

[01:21] <mugwump> hmm, no parrot dependency?

[01:22] <geoffb> mugwump, why do you have 11 x86 Debians on your desk?  Oh, do you mean VMs?

[01:22] <rafl> geoffb: As I get my @d.o account the next week I'll do some experimental releases using svn snapshots. So there will be more (debian) releases soon.

[01:22] <mugwump> well, there's Debian, and Ubuntu, and three distributions of each of those, and then 64 vs 32 bit

[01:22] <rafl> mugwump: No. No parrot in Debian yet. I'm working on that, though.

[01:23] <geoffb> rafl, good, gives me a chance to get $work beaten back

[01:23] <rafl> :-)

[01:25] <mugwump> geoffb: they're not in VMs, just chroots with Linux-Vserver.org

[01:26] <rafl> mugwump: btw, ask igloo. I remember he did a backport of ghc6 once.

[01:26] <rafl> He's a regular on #haskell.

[01:27] <geoffb> mugwump, ah, interesting.  So why did you do this?  Variant distro compat a job, or just a hobby?

[01:27] <autrijus> rafl: heads-up: we no longer install any of the src/*

[01:28] <autrijus> rafl: does Debian package Cabal separately from GHC as gentoo does?

[01:28] <mugwump> I just got sick of various packages I wanted not being in the particular flavour of debian I have to work with...

[01:30] <rafl> autrijus: Yay!

[01:30] <geoffb> By "have to work with", I'm assuming you do a lot of Debian $work or $contracts . . . 

[01:30] <rafl> autrijus: But you still install perl5/ as it is, do you?

[01:30] <rafl> autrijus: No, cabal is in the ghc6 package.

[01:31] <mugwump> geoffb: the OS development company I work for are a debian shop (with an openbsd garnish)

[01:32] <geoffb> cool

[01:32] <geoffb> what company?

[01:32] <mugwump> catalyst.net.nz

[01:33] <rafl> autrijus: I really hate the fact that the Makefiles.PLs and t/ests are installed for each perl5/ module.

[01:34] <rafl> autrijus: Especially for those who a) aren't perl5 modules and b) aren't useful at all when being installed (org.perl6.metamodel).

[01:34] <autrijus> rafl: I really hate them too.

[01:34] <autrijus> rafl: better suggestions welcome.

[01:34] <rafl> autrijus: Put it into lib/?

[01:34] <autrijus> rafl: can't; they are not really perl5 libs as such

[01:34] <rafl> autrijus: And the tests into t/.

[01:35] <rafl> autrijus: I think they are. MM2 for example could also be used without pugs. Others as well.

[01:35] <autrijus> hrm.

[01:35] <rafl> autrijus: Alternatively you could put them into /usr/share/pugs/perl5.

[01:35] <autrijus> rafl: currently they are installed under pugs sitelib

[01:35] <rafl> (the built version of course)

[01:36] <autrijus> rafl: I guess we can reclassify them so only the ones really used during -BJS and -BPugs

[01:36] <geoffb> mugwump, looks decent, from the weblies at least

[01:36] <autrijus> gets installed

[01:36] <rafl> Yes, please.

[01:36] <rafl> But not under /usr/share/perl6/5.8/perl5. Think of 'use perl5::Perl6::MetaModel, etc.

[01:37] <autrijus> I agree.

[01:38] <autrijus> but chaining to other Makefile.PL for perl5 libs did not work so well last time

[01:38] <autrijus> and to release them all separately to CPAN is... probably not for this release, as discussed with Stevan.

[01:38] <autrijus> so the lightweight approach would be make out a manifest of what to copy.

[01:38] <rafl> Why do their makefiles need to be changed?

[01:38] <autrijus> or what to left out, etc. it's in util/src_to_blib.pl

[01:39] <autrijus> rafl: many of them does not have makefiles.

[01:39] <rafl> Pleas *DO* *NOT* *DO* the same crap as parrot does. It has a MANIFEST which says what needs to be installed in what place.

[01:40] <QtPlatypus> rafl: What is wrong with that?

[01:41] <autrijus> QtPlatypus: it makes adding new stuff a bit annoying.

[01:41] <autrijus> yay I fixed the symbol table bug.

[01:42] <rafl> What about let the "main makefile" go though each perl5/* directory, do perl Makefile.PL; make; and make install DESTDIR="pugsblib or something else that'll be installed into $PREFIX/share/pugs/perl5/"

[01:42] * autrijus proceeds to cut build time in half

[01:42] <rafl> QtPlatypus: Try to make a Debian package out of it and you'll see.

[01:42] <autrijus> rafl: sure, go ahead with that. I'd just like to point out that the normal "subdirs" approach does not work

[01:42] <autrijus> so you'd need to make up a rule

[01:42] <autrijus> the reason for that is MakeMaker, in its infinite wisdom

[01:42] <autrijus> put the subdir blib into the parent blib.

[01:44] <geoffb> nice

[01:44] <rafl> autrijus: Yes. Unfortunately I don't have that much free time to code on pugs. If I find some tomorrow, which I should, where to start hacking? I don't know exactly what the current makefile does to get everything built.

[01:44] <geoffb> autrijus, "symbol table bug" whose fix "cut build time in half"?

[01:45] <autrijus> rafl: the symtable bug was preventing us from linking cabal into main pugs

[01:45] <autrijus> er

[01:45] <autrijus> geoffb: the symtable bug was preventing us from linking cabal into main pugs

[01:45] <autrijus> so I had to build each once

[01:45] <autrijus> now it should be much simpler

[01:45] <autrijus> rafl: nod... as I said, util/src_to_blib.pl is probably the place to hack.

[01:45] <geoffb> ah, cool

[01:46] <autrijus> "You may wish to check for new settings.

[01:46] <autrijus> "

[01:46] <autrijus> hm, not really helpful :)

[01:46] * autrijus wonders if it should silently merge new keys.

[01:46] <autrijus> { %$new_template, %$old_value }

[01:46] <autrijus> probably yes. what you think?

[01:47] <rafl> autrijus: It relies on MM to do the installation. I don't know if MM can handle it to install files somewhere outside of {SITE,PRIV,VENDOR,WHATEVER}LIB.

[01:47] <geoffb> It was intended to be a quick hack . . . I only could spare enough time to hack and test what I did.  :-(

[01:47] <geoffb> And yeah, that would be a nice thing.

[01:47] <autrijus> rafl: it could; see install target in MAkefile.PL

[01:47] <geoffb> But you should still tell people that new keys appeared.

[01:48] <rafl> autrijus: Looks cool. I think I can hack something together tomorrow.

[01:48] <geoffb> Otherwise a new key may come with a default they didn't like.

[01:49] <svnbot6> r7368 | autrijus++ | * Unicode.C no longer linked with GHC 6.4.1.

[01:49] <svnbot6> r7368 | autrijus++ | * Fix the \\n tokenization bug (probably ghc bug) that

[01:49] <svnbot6> r7368 | autrijus++ |   renders primitive disappear when linked with cabal.

[01:50] <autrijus> geoffb: no worries, I fixed

[01:50] <stevan> hey autrijus :)

[01:50] <autrijus> yo stevan.

[01:50] <autrijus> rafl: cool!

[01:50] <geoffb> geoffb-- # net 0 added value, sigh

[01:51] <stevan> I managed to convince robkinyon that eigenclasses with implicit inheritance was the way to go

[01:51] <rafl> btw, I talked to someone today who wants to write a PIL-Run for Ruby.

[01:51] <stevan> however, he made some good points about not allowing class method inheritance  

[01:52] <stevan> the idea that since class data itself is not inheritable,.. then you end up with methods without the corresponding state

[01:52] <autrijus> rafl: ooh, ruby _backend_?

[01:52] <autrijus> rafl: who?

[01:52] <autrijus> geoffb: nope, that was very useful.

[01:53] <rafl> autrijus: Timo Schneider. A fellow student.

[01:53] <autrijus> excellent :) get him on irc?

[01:53] <stevan> give that boy a committer bit!

[01:53] <geoffb> & # Mmmm, dinner calls . . . .

[01:54] <rafl> I'll push him to get an account on openfoundry tomorrow.

[01:54] <autrijus> rafl: you can send an invitation to him :)

[01:54] <rafl> autrijus: How?

[01:54] <autrijus> (you are now metacommitter.)

[01:54] <autrijus> rafl: log in to openfoundry first

[01:54] <autrijus> then

[01:54] <autrijus> http://rt.openfoundry.org/Foundry/Project/Admin/Members/?Queue=270

[01:54] <autrijus> fill in his email on "Invite External Staff"

[01:54] <autrijus> and voila.

[01:55] <svnbot6> r7369 | autrijus++ | * Merge old settings with new ones when a new config.yml template

[01:55] <svnbot6> r7369 | autrijus++ |   occurs, but still inform the user. geoffb++

[01:55] <autrijus> geoffb: you too :)

[01:56] <rafl> autrijus: I'm not an admin and can't visit that page therefor.

[01:56] <autrijus> rafl: have you logged in?

[01:56] <geoffb> autrijus, thx.  :-)

[01:56] <geoffb> & # No, really

[01:57] <rafl> I am an admin.. how comes?

[01:58] <rafl> Does the invite also work for users without an openfoundry account?

[01:58] <autrijus> rafl: yes, that's the idea.

[01:58] <autrijus> you fill in email, they get spammed, and go thru one-click registration.

[01:58] <autrijus> instant gratification and all that.

[01:59] <autrijus> I think we should lift all channel regulars into metacommitters

[01:59] <autrijus> but I'm a bit too lazy to do that now. helps welcome :)

[01:59] <rafl> openfoundry++

[01:59] <autrijus> (you can promote one to admin by click on their name on that page and choose "Admin" in the "Found people" panel.

[02:00] <autrijus> okay, pugs successfully and entirely cabalized.whew.

[02:00] <svnbot6> r7370 | autrijus++ | * ...successfully cut build time in half _and_ did away all the

[02:00] <svnbot6> r7370 | autrijus++ |   random .o files in src/.

[02:00] <autrijus> still not tested on win32

[02:00] <autrijus> and parrot/perl embedding needs work

[02:00] <autrijus> but it's 5am and I need to sleep.

[02:00] * rafl tries that for 'Juerd' because he also made me an 'Admin' on feather ;-)

[02:00] <autrijus> rafl: oh, you are feature sudo?

[02:01] <rafl> sudo grep rafl /etc/sudoers

[02:01] <rafl> rafl ALL=(ALL) ALL

[02:01] <rafl> ;-)

[02:01] <autrijus> rafl: can you "sudo passwd autrijus" and /msg me whatever password you set for me? I opted to go passwordless and rely on pubkey, but then Juerd made me sudo, and I don't have a passwd anymore ;)

[02:02] <eos> hi all

[02:02] <autrijus> (and the sudo as not NOPASSWD.)

[02:02] <autrijus> greetings eos.

[02:02] <eos> anyone ever work with cgi scripts that load in local video files per web requests?

[02:02] <eos> I know that's general.. I do have a very specific question, and it's just blowing my mind.

[02:02] <rafl> autrijus: OK, I'll do that.

[02:03] <autrijus> eos: that... is probably for #perl

[02:03] <eos> oops, didn't notice the 6

[02:03] <eos> good luck with parrot!

[02:03] <eos> =)

[02:06] <autrijus> thanks. :)

[02:06] <svnbot6> r7371 | autrijus++ | * no need to via-C for Prim.hs anymore.

[02:06] <rafl> autrijus: What does descend into perl5/ and ext/ to build all the modules currently?

[02:06] <autrijus> rafl: perl5 isn't built

[02:06] <autrijus> it's merely copied by srctoblib

[02:06] <autrijus> rafl: ext is governed by regular MM "build_subdirs" 

[02:07] <rafl> autrijus: Ah, fine.

[02:07] <rafl> autrijus: You need to do a make register now to install pugs, do you?

[02:07] <autrijus> rafl: no... "make install" does it for you

[02:08] <autrijus> at least I hope so.

[02:08] <rafl> autrijus: Please don't do that. That's contra-productive for packaging people. At least make me able to disable it.

[02:08] <rafl> autrijus: I need to install pugs into a temporary directory, build an archive from that and run the register stuff in a maintainer script when it really gets installed into the real system.

[02:09] <autrijus> rafl: you'd rather me have a separate "register" target?

[02:09] <rafl> autrijus: Yes. And to have a *BIG* *FAT* *HINT* that's displayed after perl Makefile.PL and make. :-D

[02:10] <rafl> autrijus: Why isn't perl5/ handled using build_subdirs?

[02:11] <autrijus> rafl: because most of them lacks a Makefile.PL, and some of them does not really make sense to install into perl5 sitelib, and even more of them relies on a particular dircetory layout between them

[02:11] <autrijus> rafl: which should of course all be fixed.

[02:14] <rafl> OK. My approach would be to 1st) put the stuff needed for -CJS, -CPerl5, etc. into another directory. or move the unneeded stuff to somewhere else (suggestions on where what should go?) 2nd) Write proper makefile.PLs for the needed stuff 3rd) hook into MM to make it descend into that dirs and put it into pugsblib/ or perl5/$module/pugsblib which will be installed into $PREFIX/share/pugs/perl5.

[02:14] <rafl> Opinions?

[02:16] <autrijus> rafl: unneeded stuff into somewhere else, definitely

[02:16] <autrijus> I wouldn't mind misc/

[02:16] <autrijus> and move modules/* over to misc/

[02:16] <autrijus> otherwise it makes much sane.

[02:16] <autrijus> s/sane/sense/

[02:17] <rafl> What differs modules/Perl-MataModel from perl5/Perl6-MetaModel*?

[02:19] <autrijus> rafl: modules/P-MM is a prototype for perl6-metamodel-with-perl6

[02:19] <autrijus> which is at this moment not worked on

[02:19] <autrijus> and perl5/P6-MM is perl6-metamodel-with-perl5

[02:19] <autrijus> rafl: "make register" is now separated. thanks for the hint

[02:21] <svnbot6> r7372 | autrijus++ | * "make install" no longer implies "make register", thanks

[02:21] <svnbot6> r7372 | autrijus++ |   to rafl's prompting.

[02:21] <svnbot6> r7373 | rafl++ | * Created misc/ as a place where modules that should not be installed live.

[02:21] <svnbot6> r7373 | rafl++ | * Moved modules/*, perl5/org.perl6.metamodel and perl5/Blondie into misc/.

[02:23] <rafl> Ok, what parts of perl5/ are actually needed?

[02:23] <autrijus> rafl: T2 and org.perl6.metamodel is not

[02:23] <autrijus> Blondie is not

[02:24] <autrijus> I think you can rm Code-Perl directly

[02:24] <rafl> Only Perl6.MetaModel and Perl6-MetaModel I guess. Maybe Perl6-Value and Perl6-Container.

[02:24] <autrijus> rafl: everything else stays.

[02:25] <autrijus> er, Perl6-MetaModel 1.0 is also gone

[02:25] <autrijus> as in no longer referenced

[02:25] <autrijus> but talk to stevan before deleting it; miscify it should be fine

[02:25] <autrijus> miscify it into Perl6-MetaModel-1.0 and rename 2.0 into Perl6-MetaModel perhaps.

[02:26] <autrijus> if so, fix the ref in PIL-Run.

[02:26] <autrijus> PIL2JS wants Perl6.MetaModel/.

[02:26] <autrijus> eof.

[02:29] <rafl> I think the MM/PIL-Run guys should rename 2.0. I don't even know how to run the test suite correctly. :-)

[02:30] <svnbot6> r7374 | rafl++ | * Moved T2-Perl6 and MM1.0 to misc/ (renamed the latter one).

[02:30] <svnbot6> r7374 | rafl++ | * Deleted Code-Perl.

[02:30] <autrijus> rafl: I think you should just go ahead and rename for them.

[02:30] * autrijus praises anarchism

[02:32] <svnbot6> r7375 | rafl++ | * Moved perl5/Perl6-MetaModel2.0 to perl5/Perl6-MetaModel.

[02:32] <svnbot6> r7375 | rafl++ | * Updated references to Perl6-MetaModel2.0 in PIL-Run.

[02:32] <svnbot6> r7375 | rafl++ | * Updated PIL-Run's README.

[02:32] <svnbot6> r7375 | rafl++ | * Praised anarchism.

[02:32] <autrijus> lol

[02:33] <rafl> -Ofun. :-)

[02:33] <rafl> OK, 1st step done.

[02:36] <rafl> Why doesn't MM2 use proper namespaces?

[02:37] <autrijus> because stevan did not have proper tuits to rename them into Perl6::MetaModel::Pneuma etc.

[02:37] <autrijus> he agreed to it, just had not got a round tuit.

[02:37] <autrijus> (trivia: he gave the round tuit to nothingmuch at toronto.)

[02:37] <svnbot6> r7376 | autrijus++ | * dons noticed that it was the CPP extension that was

[02:37] <svnbot6> r7376 | autrijus++ |   wrecking all havoc with Prim's symbol table.  Turning it

[02:37] <svnbot6> r7376 | autrijus++ |   off solved all the problems.  dons++.

[02:39] <autrijus> rafl: so again, feel free to go ahead :)

[02:40] <rafl> autrijus: Hm. How about you doing that while I'll write some of perl/*/Makefile.PL?

[02:40] <rafl> :-)

[02:40] <autrijus> I'm journaling... but why not ;)

[02:41] <rafl> Yeah, then you can journal about it. :-)

[02:41] <autrijus> ;)

[02:43] <rafl> Hm, inc::Module::Install/MM doesn't allow '::' in a distributions name, does it?

[02:43] <svnbot6> r7377 | autrijus++ | * move MetaModel into lib/Perl5/MetaModel/

[02:45] <autrijus> ...done.

[02:45] <autrijus> rafl: it is distname, so use dash

[02:45] <autrijus> but I remember I added compat

[02:46] <rafl> autrijus: It gives me an error when doing make if there's a '::'.

[02:46] <rafl> A dash works, of course.

[02:46] <autrijus> k

[02:49] <svnbot6> r7378 | autrijus++ | * finish the Odyssey.

[02:49] <svnbot6> r7379 | rafl++ | P6-Value:

[02:49] <svnbot6> r7379 | rafl++ | * New Makefile.PL using inc::Module::Install.

[02:49] <svnbot6> r7379 | rafl++ | * Updated MANIFEST.

[02:49] <svnbot6> r7380 | rafl++ | * Nice identing vor P6-Value's Makefile.PL.

[02:52] <svnbot6> r7381 | rafl++ | * Fix typo in fglock's mail address in P6-Values Makefile.PL.

[02:52] <svnbot6> r7381 | rafl++ | * New Makefile.PL for Perl6-Container using inc::Module::Install.

[02:52] <svnbot6> r7381 | rafl++ | * Updated MANIFEST for P6-Container.

[02:54] <rafl> OK, what's left in perl5/ gets more difficult. They have lib, lib6 and PIL2JS even has libjs that needs to be installed somewhere..

[02:54] <autrijus> hence, my suggestion of keeping the structure for now.

[02:55] <autrijus> but that'd not be the Right Thing. :)

[02:55] <rafl> Well, the makefile would look similar to the pugs one i guess.

[03:03] <rafl> How should the Makefile var containing the directory for private, arch-indep files be called?

[03:05] <rafl> PUGSPREFIX?

[03:05] <rafl> No, that wouldn't be good.

[03:05] <rafl> PUGSSITELIB maybe?

[03:07] <eric256_> hey....just saying hi so you don't feel like you are rambling to yourself ;) no real input though. What does perl5 use? that might be a good way to go sense it will automaticaly make sense to more people

[03:09] <rafl> eric256_: Hi. We talked about perl5/ before you joined. It's used for stuff that needs to be installed to make the backends usable.

[03:09] <autrijus> rafl: PERL6_SITELIB or PUGS_SITELIB

[03:10] <eric256_> what about PUGS_PRIVLIB or PUGS_ARCHLIB  (/me has the feeling he should probably go find the logs before saying much more)

[03:11] <rafl> autrijus: OK. PUGSSITELIB. I'll drop the underscore for consistency.

[03:14] <rafl> Hm. Any way to access the pugs prefix in util/PugsConfig.pm?

[03:17] <rafl> Hm. I don't want that anyway. Forget it. :-)

[03:19] <eric256_> PugsBuild::Config->lookup("prefix"); in case you change your mind

[03:21] <rafl> Thanks.

[03:25] <eric256_> juerd.ping

[03:27] <rafl> Hm.. get_pugs_config->{sourcedir} gives me the directory of the current module, not the pugs sourcedir.

[03:27] <rafl> What's going wrong here?

[03:27] <rafl> (I want to execute a util/ script during the build of a module.

[03:40] <rafl> Hrm.. I'm too tired to continue working on that. But luqui can because he just showed up!

[03:41] <eric256_> would it make sense to let people set things in config.yml that are currently set as env variables?

[03:41] * luqui cannot work

[03:41] <luqui> work on what, btw?

[03:41] <luqui> rafl, I'm starting up the autoupdating evalbot again

[03:41] <eric256_> config.yml makes sense to me, but ENV variables dont. lol

[03:41] <luqui> so you can kill yours if you like

[03:42] <luqui> eric256_, I think that's a good idea

[03:43] <rafl> luqui: On writing Makefile.PLs for the perl5/ stuff.

[03:43] <rafl> eric256_: Yes, but the env hooks should still be available with a higher priority then the config.yml.

[03:43] <luqui> hahaha

[03:43] * luqui doesn't know crap about that stuff

[03:43] <rafl> luqui: OK, I'll do that.

[03:43] <luqui> I just take the default whenever I make a module

[03:44] <rafl> luqui: Me as well. That's the problem I guess. ;-)

[03:44] <rafl> luqui: OK, killing evalbot now.

[03:44] <rafl> luqui: What was the problem some time ago?

[03:44] <luqui> with evalbot?

[03:45] <eric256_> i wonder if PugsBuild::Config could be setup to check ENV then config.yml...and replace all direct references to $ENV{} ...downside to that?

[03:45] <rafl> luqui: Yes.

[03:45] <luqui> feather:   05:45:07 up 6 days, 17:04,  9 users,  load average: 1.35, 0.81, 0.51

[03:45] <luqui> feather rebooted

[03:45] <rafl> Ah, OK.

[03:45] <rafl> Was that only 6 days ago?

[03:46] <luqui> looks like it

[03:46] <rafl> autrijus: What does ./setup install actually do?

[03:46] <rafl> autrijus: Does it honor PREFIX and stuff that was set in the Makefile?

[03:46] <rafl> autrijus: It should!

[03:50] <eric256_> night all. 

[03:54] <luqui> ?eval "this is only a test"

[03:54] <evalbot_7381> 'this is only a test' 

[03:55] <luqui> okay, gtg before I get distracted by you guys :-)

[04:47] <dduncan> fyi, I've just done an upgrade to ghc 6.4.1 and a pugs make-realclean ... now rebuilding Pugs under the new version ... currently in the middle of 'make' and no issues so far

[05:19] <dduncan> there was a failure at the end of 'make', however ... here's part of the output:

[05:19] <dduncan> src/Main.hs:18:0:

[05:19] <dduncan>     Failed to load interface for `Pugs':

[05:19] <dduncan>         Could not find module `Pugs': use -v to see a list of the files searched for

[05:19] <dduncan> Triggering rebuild... done.

[05:19] <dduncan> Generating precompiled Prelude... Can't exec "./pugs": No such file or directory at /Volumes/Programming160/Perl/lib/perl5/5.8.7/IPC/Open3.pm line 244.

[07:12] <brentdax> XML is the new COBOL.

[07:14] <QtPlatypus> brentdax: Thats stament seems wrong on a number of levals.  So please explain yourself.

[07:15] <brentdax> It's incredibly painful and suits love it.

[07:16] * QtPlatypus would say that Java is the new COBOL (though java isn't painfull enought)

[07:17] * QtPlatypus doesn't think that XML is that painfull.  "Infact its not so bad realy, there are infinitly worse ways to serizile infomation"

[07:17] <brentdax> I mean, it's fine for expressing some data in (although it's a bit heavy).  But when you try to use it as a meta-language--schemas, XSLT, etc.--it totally breaks down.

[07:18] <QtPlatypus> brentdax: I totally aggry with you there.

[07:19] <QtPlatypus> its been pushed outside its neache but a rather evangilical croud that wishes to make everthing XML.

[07:19] <brentdax> It makes me want to implement a YAML parser for $gui_project.

[07:19] * QtPlatypus chuckels.

[07:33] <geoffb> brentdax: <peer_pressure>do it, do it, Do It, Do It, DO IT!</peer_pressure>

[07:34] <brentdax> It's not a Pugs thing...

[07:34] <geoffb> brentdax, who cares? It's still the right thing to do.  :-)

[07:35] <geoffb> With the metacommitter bit comes a responsibility to push people to -Ofun . . . 

[07:36] <geoffb> Dangit, my spidey sense is tingling, and I don't know why.

[07:38] <geoffb> Bah, I'm going to head off to bed and hope it resolves itself

[08:25] <gaal> wow, i notice autrijus was pushing metameta committer bits.

[08:26] <gaal> sadly, the build is still broken on windows :-(

[08:26] <gaal> fpstring.o src\cbits\fpstring.c

[08:26] <gaal> NMAKE : fatal error U1073: don't know how to make 'src\UnicodeC.o'

[08:27] <gaal> (ghc 6.4.1 prerelease)

[08:27] <gaal> i'll upgrade to the official release and see.

[08:30] <gaal> ..as i see some special Makefile moosery that has to do with 6.4(.0)?

[08:53] <gaal> problem still exists in ghc-6.4.1 release.

[09:06] <joao> hello

[09:06] <scook0> hello!

[09:07] <joao> :)

[09:13] <gaal> heya joao

[09:13] <gaal> et al.

[09:18] <scook0> uh, is anyone else getting build failures?

[09:18] <scook0> "Failed to load interface for `Pugs'"

[09:18] <gaal> scook0: yes.

[09:19] <scook0> is there a last-known-good revision?

[09:19] <gaal> you're using ghc-6.4 yes?

[09:19] <scook0> oh, yeah

[09:19] <scook0> did we upgrade?

[09:19] <gaal> i'm getting that with 6.4 and different errors with 6.4.1

[09:19] <scook0> yuck

[09:19] <gaal> cabalization, see autrijus' journal

[09:20] <gaal> no, the difference in errors is explainable, we have some version-dependednt makefile moosage.

[09:22] <GeJ> r7368 talks about Unicode.C with some Makefile.PL changes. Maybe something's missing.

[09:25] <gaal> looking...

[09:27] <gaal> heh, no, that's just the branch in the makefile that i already saw :(

[09:27] <gaal> scook0, what OS?

[09:27] <scook0> Ubuntu/x86

[09:28] <gaal> hmm. well, if you need a pugs bad, bo back a few dozen Rs, before the cabalization attempts

[09:30] <gaal> r7343 i think should be ok.

[09:30] <QtPlatypus> gaal: What is cabalization?

[09:30] <scook0> QtPlatypus: short answer: look at autrijus' journal

[09:31] <scook0> it's some kind of Haskell build-related system, I think

[09:35] <Juerd> eric256: pong

[09:36] * GeJ has a feeling that eric256 and Juerd will never be able to be online at the same time

[09:38] <Juerd> That's not a problem if eric256 starts asking/saying things instead of just pinging :)

[09:38] <Juerd> This is asynchronous communication, but some people do wish to synch before commencing 

[09:38] <GeJ> ah... a protocol issue then... I see :)

[09:38] <Juerd> Yep

[10:06] <svnbot6> r7382 | gaal++ | use canonpath

[10:07] <xinming_Beijing> is environment variable ($GHC) which can be used for pugs removed?

[10:07] <xinming_Beijing> I just do a svn update, and can't compile anymore

[10:08] <scook0> xinming_Beijing: others are also having build problems

[10:09] <xinming_Beijing> scook0: :'(

[10:10] <scook0> gaal suggested that if you really need to build, try reverting to around r7343

[10:10] <xinming_Beijing> what I do is just `svn update && make ` for everyday life. :-)

[10:11] <xinming_Beijing> I can wait.

[10:20] <joao> nothingmuch, welcome

[10:20] <nothingmuch> thanks

[10:20] <nothingmuch> morning

[10:21] <joao> :)

[10:21] <joao> what time is it there?

[10:21] <nothingmuch> 13:21

[10:21] <joao> gmt+2

[10:22] <nothingmuch> aye

[10:22] <nothingmuch> but it varies

[10:22] <joao> how?

[10:22] <nothingmuch> well, we have the penguins

[10:22] <nothingmuch> they would like to pray

[10:22] <nothingmuch> but get the easiest time possible

[10:22] <nothingmuch> they need to get up at sun-up to pray

[10:23] <nothingmuch> so this was formalized to be a certain hour

[10:23] <nothingmuch> and now they lobby each year to make the daylight savings time last as long as possible so that they won't have to get up so early

[10:23] <nothingmuch> isn't that wonderful?

[10:23] <scook0> wow

[10:23] <nothingmuch> however, starting next year it sould stop, 

[10:24] <nothingmuch> this minister from the opposing party passed a new law

[10:24] <nothingmuch> and the dates should be fixed, and no longer varied according to the jewish holiday

[10:24] <nothingmuch> and decided ad-hoc on a year-by-year basis

[10:27] <joao> that's weird

[10:34] <autrijus> I'm workin on buildsys

[10:34] <autrijus> but lunch first

[10:34] <autrijus> will bbl

[10:34] <autrijus> I got broken build on w32 too.

[10:34] <autrijus> luqui++ # journal

[10:35] <autrijus> sorry for breaking the build for 3/4 of configs. :-/

[10:35] <autrijus> &

[11:14] * theorbtwo wonders why they don't go for a comprimise position of making the dates fixed on the hebrew calendar.

[11:14] <theorbtwo> Or figuring the min and max possible dates of the high holy days, and base it on that.

[11:30] <rafl_> autrijus: Ok, did I break something yesterday? I was too tired to continue, sorry.

[11:33] <nothingmuch> TaPL arrived

[11:33] <nothingmuch> customs charged me $20

[11:33] <nothingmuch> because $50 and $60 + $15 for shipping were not enough

[11:33] <nothingmuch> *sigh*

[11:34] * nothingmuch thinks it's sick to charge customs for literature

[11:36] <scook0> nothingmuch: there's no customs-free threshold?

[11:36] <nothingmuch> there is, but it's very low

[11:36] <nothingmuch> if something is worth more than $40 or so they start charging

[11:36] <scook0> ouch

[11:37] <scook0> some people I know did a bulk ThinkGeek order recently

[11:37] <scook0> and got slugged ~AU$200 on a ~AU$500 order

[11:37] <nothingmuch> holy crap

[11:38] <scook0> turns out if they'd split it into chunks of less than $250, they'd have payed nothing (except extra postage)

[11:38] <nothingmuch> aye

[11:39] <scook0> once you go over the threshold, they really bite you

[11:39] <scook0> first you pay the processing fee (~$50-100 IIRC)

[11:40] <scook0> then you pay the actual customs charges

[11:40] <scook0> then you pay tax on everything

[11:41] <nothingmuch> aye =(

[11:45] <scook0> I suppose I should buy myself a copy of TaPL -- I've got a library copy atm

[11:46] * nothingmuch should have made his mum do an interlibrary loan instead of buying

[11:46] <nothingmuch> even that wouldn't have taken that long ;-)

[11:48] <scook0> (my uni library)++

[11:48] * nothingmuch has no uni yet

[11:48] <nothingmuch> i really ought to fix that soon

[11:48] <joao> I have a copy here at home

[11:48] <joao> from my univ library

[11:49] <joao> nothingmuch, my univ let other people to loan books. They just have to register

[11:49] <joao> (and pay a fee)

[11:49] <nothingmuch> oh, getting books from the library is no problem

[11:49] <nothingmuch> my parents are both employees

[11:50] <nothingmuch> (http://www.math.bgu.ac.il/~kojman/, http://profiler.bgu.ac.il/site/public_site/Show_User.cfm?user_id=1045)

[11:50] <scook0> but the library doesn't have its own copy?

[11:50] <nothingmuch> hmm, that page is out of date.. mum is a prof now

[11:50] <nothingmuch> anyway, the library doesn't have TaPL

[11:50] <nothingmuch> but the tel aviv university does

[11:50] <nothingmuch> so we could do an interlibrary loan

[11:50] <nothingmuch> but that doesn't matter, I still need to start thinking about studying ;-)

[11:53] * scook0 thinks that after all this extra-curricular activity, nothingmuch will find real uni boring ;)

[11:53] * nothingmuch will probably not study compsci, if that's what you mean

[11:53] <scook0> ah

[11:53] <nothingmuch> i want math & linguistics

[11:54] <nothingmuch> with maybe a bit of compsci on the side for fun

[11:54] <Juerd> There's a reply to a p6l posting that I wish to respond to, but it's not arrived yet and I accidentally deleted it already.

[11:54] <Juerd> Frustrating!

[11:54] <nothingmuch> Juerd: do you remember the poster? i could fwd as attachment, and you can append to your mailbox

[11:54] <Juerd> No

[11:54] <nothingmuch> thread?

[11:54] <Juerd> It isn't on p6l yet

[11:54] <Juerd> I guess he's stuck in moderation

[11:55] <nothingmuch> oh, i get it

[11:55] <nothingmuch> i thought you meant it hassn't reached the archives yet

[11:55] <nothingmuch> hmm

[11:55] <Juerd> The post suggested allowing declaring named roles in expressions

[11:56] <nothingmuch> i like !Int better than Int(!)

[11:56] <nothingmuch> but that's a nice syntactic idea

[11:56] <Juerd> $foo but role is_default {}

[11:56] * nothingmuch wonders what that means ;-)

[11:56] <Juerd> nothingmuch: Yes, I had ! first, but that doesn't play nice with the RHS

[11:56] <Juerd> It's:

[11:56] <Juerd> role is_default { }

[11:56] <Juerd> $foo but is_default

[11:56] <nothingmuch> oh

[11:56] <Juerd> Likewise: my $subref = sub foo { ... }

[11:56] <nothingmuch> why name the role if it's declared inline?

[11:56] <Juerd> To refer to it later

[11:57] <nothingmuch> i think that's confusing wrt runtime/compile time and the whole aspect of when and at what scope it's declared

[11:57] <nothingmuch> in that case, can't you already do that?

[11:58] <wolverian> Juerd, wouldn't that require you to add a ; to every named sub declaration?

[11:59] <nothingmuch> wolverian: nuh uh

[11:59] <nothingmuch> see t/syntax/something_or_other

[11:59] <nothingmuch> eval {

[11:59] <nothingmuch> expr;

[11:59] <nothingmuch> }

[11:59] <nothingmuch> + 1; # this is a second expression - prefix + on 1 in void context

[11:59] <nothingmuch> it's in one of the apocalypses

[11:59] <nothingmuch> stmt_or_expr.t

[11:59] <wolverian> oh.

[12:00] <wolverian> I thought we didn't need that now that we have statement and expression types for constructs

[12:00] <wolverian> but maybe it's useful anyway. 

[12:00] <nothingmuch> A02

[12:00] <wolverian> yes, I remember now.

[12:00] <wolverian> I just thought it didn't apply anymore.

[12:01] <nothingmuch> how come?

[12:01] <wolverian> see my line above

[12:01] <Juerd> wolverian: No, there's this weird syntax rule for semicolons that I used to hate but can certainly appreciate in this new light

[12:01] <wolverian> Juerd, yeah :)

[12:01] <wolverian> I feel the same.

[12:01] <wolverian> besides, after coding Haskell I don't hate whitespace rules so much anymore.

[12:02] * nothingmuch hardly ever notices whitespace rules in haskell

[12:02] <Juerd> I don't hate whitespace rules

[12:02] <wolverian> do you use a smart editor? :)

[12:02] <Juerd> I hate indenting rules.

[12:02] <nothingmuch> wolverian: nay, it's just that normall you indent it the way it likes anyway

[12:02] <wolverian> nothingmuch, true enough.

[12:03] <Juerd> nothingmuch: I tend to refactor a lot. Cutting and pasting code shouldn't break it.

[12:03] <nothingmuch> and 90% of the functions won't really require newlines in them

[12:03] <Juerd> I want to refactor first, test, then format nicely.

[12:03] <nothingmuch> Juerd: in haskell?

[12:03] <Juerd> No, I haven't used haskell yet

[12:03] <wolverian> Juerd, I just = in vim.

[12:03] <nothingmuch> ah

[12:03] <nothingmuch> haskell tends to make you write prefactored code ;-)

[12:03] <Juerd> wolverian: That doesn't do exactly what I want.

[12:03] <wolverian> Juerd, oh.

[12:04] <Juerd> My indenting rules are very simple, consistent and readable

[12:04] <nothingmuch> = seems to get haskell wrong in my vim

[12:04] <Juerd> Yet no editor has built in support for exactly what I mean.

[12:05] <integral> it's nice not having to use whitespace too

[12:05] <wolverian> Juerd, hmm, what does perl.vim do differently?

[12:06] <Juerd> Is indentation vimfile dependent?

[12:06] <Juerd> I thought it was a global option.

[12:07] <Juerd> What I want is any of (, [, { and < at the end of a line to start indentation

[12:08] <Juerd> And a ), ], }, > at the beginning of a line to end indentation, the line containing the character already no longer being indented

[12:08] <Juerd> Obviously, the bracket that ends indentation has to be of the same type.

[12:09] <wolverian> Juerd, it is indent file dependent

[12:09] <wolverian> (syntax file)

[12:10] <Juerd> And there must be no special case for words like "for", "do", ... EVER

[12:12] <joao> nothingmuch, still related with uni studies (i was having lunch :P ) , comp. sci. + math sounds cooler :)

[12:12] * nothingmuch is interested in compsci, but not on a global scale

[12:12] <nothingmuch> every small thing interests me for a while

[12:13] <nothingmuch> but it doesn't remain exciting long enough

[12:13] <nothingmuch> so maybe later i'll expand into it, but i'd like to start off with things that seem to have a better long term interest for me

[12:13] <joao> (unbelievable. 97% of Portugal is in severe or extreme drought!)

[12:14] <wolverian> nothingmuch, my major is CS, but I'm free to study whatever I want - really useful!

[12:14] <nothingmuch> wolverian: how come?

[12:15] <wolverian> nothingmuch, how come it's useful or the other point?

[12:15] <nothingmuch> no, how did you get them to let you do it?

[12:15] <wolverian> nothingmuch, oh, it's standard here. of course you don't get credit for the extra studies unless they form a minor (or another major)

[12:16] <nothingmuch> ah

[12:16] <wolverian> (or rather, you don't get credit that would count towards your diploma)

[12:16] <wolverian> nothingmuch, lectures are also free for anyone, even non-students

[12:16] <nothingmuch> that is also true here

[12:16] <wolverian> nice.

[12:16] <nothingmuch> however, IIRC the excercises and tests are for paying students only

[12:17] <wolverian> paying? ;)

[12:17] <nothingmuch> errm

[12:17] <nothingmuch> you know

[12:17] <nothingmuch> real students

[12:17] <nothingmuch> paying == scholarship too

[12:17] <wolverian> right, we don't have either.

[12:17] <nothingmuch> people the university is getting money from

[12:17] <nothingmuch> eu?

[12:17] <wolverian> right. finland.

[12:17] <nothingmuch> ah

[12:17] <joao> here you pay a small fee to extra courses. but it's hard to make extra courses, because time is not enough

[12:17] * nothingmuch ought to study in eu

[12:17] <nothingmuch> i have a citizenship

[12:17] <wolverian> joao, the latter point is true here as well

[12:18] <wolverian> and you have to maintain a certain rate of credit, otherwise you don't get student benefits

[12:18] <joao> and sometimes, classes are brain killing stuff

[12:18] <joao> it's more useful to learn thing by ourselves, sometimes

[12:19] <wolverian> (but there the credit can be anything, not just that in your major/minor(s))

[12:20] <wolverian> joao, do you have to attend the lectures?

[12:22] <joao> wolverian, unfortunately, in some cases, yes.

[12:23] <joao> usually, students in portugal don't want to learn. they just want to get a job, and that's it.

[12:23] <wolverian> joao, ew. :)

[12:24] <nothingmuch> morning kolibrie 

[12:24] <kolibrie> morning nothingmuch 

[12:24] <wolverian> afternoon

[12:24] <kolibrie> it's finally raining here - been weeks/months

[12:25] <nothingmuch> huraah for rain

[12:26] <wolverian> I am so waiting for winter.

[12:26] <kolibrie> what does winter bring

[12:27] <wolverian> snow, different (more) clothes, coldness 

[12:27] <QtPlatypus> Sad wolverian in snow?

[12:29] <wolverian> no, happy.

[12:30] <kolibrie> wolverian: I just realized your nick is not wolverine

[12:30] <kolibrie> which syllable does the stress go on

[12:30] <joao> wolverian, note that I talk about my experience (some may contest...)

[12:30] <wolverian> I have no idea. I have only spoken it in finnish and there the stress is always on the first syllable. it also doesn't mean anything.

[12:30] <nothingmuch> drat and fsck

[12:31] <joao> I hope it rains here, too

[12:42] <misc> hi

[12:43] <nothingmuch> hi misc

[12:43] <gaal> remoose

[12:45] <kolibrie> so, I missed the 'moose' thing, and now I am beginning to feel uneducated

[12:46] <nothingmuch> kolibrie: moose is gaal's word

[12:46] <misc> is the smart match operator described in exegis 4 implanted in the latest version of pugs ? i was trying to use it on 6.2.9, but it doesn't seems to work like it should..

[12:46] <nothingmuch> it's just moose

[12:46] <nothingmuch> misc: do you have any specific behhavior you'd like to be fixed?

[12:46] <nothingmuch> it's at least partly implemented

[12:47] <kolibrie> nothingmuch: okay

[12:47] <nothingmuch> if you like, you can edit t/operators/smartmatch.t to add new failing tests

[12:47] <nothingmuch> and I can give you coommit bit

[12:47] <kolibrie> gaal: you're weird :)

[12:47] <misc> nothingmuch: if ( @multi =~ $value ) {, to check if "$value" is in @multi 

[12:47] <nothingmuch> hmm

[12:47] <nothingmuch> i think that's spelled (if ($value ~~ @many) { }

[12:47] <nothingmuch> ?eval 1 ~~ [1, 2, 3]

[12:47] <evalbot_7382> bool::false 

[12:47] <nothingmuch> ?eval (1 ~~ [1, 2, 3])

[12:47] <evalbot_7382> bool::false 

[12:48] <nothingmuch> ?eval (1 ~~ (1, 2, 3))

[12:48] <evalbot_7382> bool::false 

[12:49] <nothingmuch> ?eval ([1 , 2, 3 ] ~~ 1 )

[12:49] <evalbot_7382> bool::false 

[12:50] <nothingmuch> in s04 i see:   Array   Num       array contains number    match if any($_) == $x

[12:50] <nothingmuch> { #L<<S04/"Smart matching" /\QArray\s+Num\s+array\s+contains\s+number\s+match\s+if\s+any(\$_)\s+==\s+\$x/>>

[12:50] <nothingmuch>     ok(((1, 2) ~~ 1), "(1, 2) contains 1", :todo);

[12:50] <nothingmuch>     ok(!((3, 4, 5) ~~ 2), "(3, 4, 5) doesn't contain 2");

[12:50] <nothingmuch> };

[12:50] <nothingmuch> misc: you can try to fix it if you like

[12:51] <misc> nothingmuch: i doubt, but at least, i can try to understand 

[12:52] <nothingmuch> misc: first off, can you coimmit to the pugs repo?

[12:52] <misc> nothingmuch: no

[12:52] <misc> nothingmuch: i do not even know haskell or anything :)

[12:52] <nothingmuch> in that case, if you give me an email i can invite you

[12:52] <nothingmuch> we can walk you through

[12:52] <gaal> remoose again

[12:52] <gaal> kolibrie: http://forum2.org/moose/

[12:52] <misc> i do not fear i will have enough time to spare for this :/

[12:53] <misc> nothingmuch: if i have something to commit, i will come back to you

[12:54] <nothingmuch> misc: okay

[12:55] <nothingmuch> gaal: that moose is 1/2 of the cat from alice, right?

[12:56] <gaal> )

[12:57] <gaal> or rather, })

[12:57] <nothingmuch> ?

[12:57] <dudley_> antlers and a smile...

[12:57] <gaal> well, to answer your question, yes, it is

[12:57] <nothingmuch> dudley_: aye, but that didn't answer my question =)

[12:57] <gaal> it's just the smile (and the antlers)

[12:57] <nothingmuch> =)

[12:58] <nothingmuch> some rules.t tests are *so* broken

[12:59] <nothingmuch> it's hard to convert a linearization back to multidimensional group spec

[13:12] <nothingmuch> bah

[13:13] <nothingmuch> is(("b" ~~ /(a)|(b)/ && $/[1].from), 0, 're_tests 360/2 (#470)');

[13:13] <nothingmuch> is that test correct?

[13:13] <nothingmuch> wait

[13:13] <nothingmuch> yes it is

[13:22] <svnbot6> r7383 | rafl++ | * Proper Makefile.PL for PIL-Run.

[13:22] <svnbot6> r7383 | rafl++ | * Deleted empty lib6/disabled.

[13:25] <kolibrie> gaal: thanks for the link })

[13:32] *** rafl_ is now known as rafl

[13:33] <svnbot6> r7384 | rafl++ | * New Makefile.PL for Perl6-MetaModel.

[13:34] <rafl> Only the PIL2JS stuff is missing now. Then we'll be able to install perl5/ properly.

[13:36] <nothingmuch> yummy

[13:40] <rafl> Are there some policies on how to install JS libraries system-wide? I can't find a good example..

[13:40] <nothingmuch> hmm

[13:40] <nothingmuch> what libraries are we installing?

[13:41] <rafl> Perl6.MetaModel needed by PIL2JS.

[13:41] <nothingmuch> ah

[13:41] <rafl> It could be into PIL2JS/libjs as well, if you ask me.

[13:42] <nothingmuch> i think that makes sense

[13:42] <nothingmuch> maybe you should ask on #javascript or #json first though

[13:42] <rafl> Hrm, why?

[13:42] <rafl> I'm pretty sure it'll work with the MM in PIL2JS/libjs.

[13:42] <nothingmuch> there might be a standard we dunno about?

[13:43] <rafl> I'll need to ask there anyway because if it's in PIL2JS I'll still need to write a Makefile to install it.

[13:43] <rafl> Alright. Let's ask #javascript.

[13:46] <rafl> They don't seem to be lucky with my question. Where's that #json you talked about?

[13:52] <nothingmuch> err, jsan

[13:52] <nothingmuch> not json, sorry

[13:57] <svnbot6> r7385 | nothingmuch++ | minor fixes

[14:02] <svnbot6> r7386 | rafl++ | * Moved the JS MetaModel into PIL2JS.

[14:02] <svnbot6> r7386 | rafl++ | * Adjusted paths in the tests so they run again.

[14:02] <svnbot6> r7386 | rafl++ | * Removed empty perl5/Perl6.MetaModel.

[14:02] <svnbot6> r7386 | rafl++ | * Praised Anarchism, again.

[14:03] <rafl> OK, one Makefile missing.

[14:14] <svnbot6> r7387 | rafl++ | * Makefile.PL for PIL2JS.

[14:15] <rafl> Can someone confirm that the cabalized pugs build is broken currently?

[14:15] <rafl> "Could not find module `readline'" seem's to be the first error.

[14:16] <eric256> i can.if you tell me how to test it ;)

[14:16] <rafl> perl Makefile.PL; make :-)

[14:17] <nothingmuch> rafl: worked for me about an hour go

[14:17] <nothingmuch> ago

[14:17] <eric256> thought so but wanted to check

[14:17] <eric256> ;)

[14:18] <rafl> Hrm. Where are the lamda hackers? I don't really get those ghc errors.

[14:18] <eric256> hmmm....make finished...but way to fast.  says "Failed to load interface for 'Pugs':

[14:18] <nothingmuch> rafl: nopaste it all?

[14:18] <nothingmuch> module readline is ghc-pkg related

[14:19] <nothingmuch> try ghc-pkg list readline

[14:19] <rafl> ghc-pkg describe readline works.

[14:19] <nothingmuch> hmm

[14:19] <rafl> list not, of course. It doesn't take an argument.

[14:19] <svnbot6> r7388 | iblech++ | * Usual svn props, also updated svn:ignore of / to contain "Setup" etc.

[14:19] <svnbot6> r7388 | iblech++ | * PIL2JS: PIL2JS.pm: Unbreak PIL2JS by adjusting the path to the JS metamodel.

[14:19] <svnbot6> r7388 | iblech++ |   rafl++ for cleaning the perl5/ mess!

[14:19] <nothingmuch> it works for me

[14:20] <nothingmuch> what ghc are you using?

[14:20] <eric256> hmmm make is failing on feather

[14:20] <rafl> http://feather.perl6.nl/~rafl/pugs_build.log

[14:21] <rafl> eric256: My assumption is that this problem is Debian related somehow.

[14:21] <pasteling> "eric256" at 66.102.136.70 pasted "Failing Make" (13 lines, 939B) at http://sial.org/pbot/13517

[14:21] <eric256> your trying to make on feather too?

[14:22] <rafl> No, on a local debian installation.

[14:22] <nothingmuch> is Unicode.c autogenerated?

[14:22] <nothingmuch> rafl: this may sound dumb, but does 'ld -lreadline' work?

[14:24] <rafl> No. ld: warning: cannot find entry symbol _start; not setting start address - but I don't thin this is supposed to work. libreadline is installed nevertheless.

[14:24] <nothingmuch> hmm

[14:24] <stevan> wow,.. lots of files have moved around :)

[14:25] <stevan> morning all

[14:25] <rafl> nothingmuch: Yes, UnicodeC.c is autogenerated.

[14:25] <rafl> Morning stevan 

[14:25] <stevan> rafl++ # doing the job no one else wanted to do :)

[14:25] <eric256> hmm wasn't there somethine where you had to create a fake pugs file to convince it to compile?

[14:25] <stevan> rafl++ # you deserve a couple ++ for this actually 

[14:25] <nothingmuch> what about me? i've been doing rules.t for three days

[14:26] * nothingmuch never gets enough credit around here

[14:26] <nothingmuch> i want a divorce, stevan 

[14:26] <stevan> nothingmuch++ # for doing something... uhm.. yeah that stuff

[14:26] <rafl> nothingmuch: Fix my build failure first!

[14:26] <stevan> nothingmuch: you already have the house,. the kids,.. the car,.. WTF,.. 

[14:26] <nothingmuch> rafl: i doubt I can

[14:26] <nothingmuch> damnit

[14:26] <rafl> nothingmuch: Any further ideas where to start debuging?

[14:27] <nothingmuch> i hate it when tests don't check that failure is failure for the right reasons

[14:27] <nothingmuch> ok(not(....))

[14:27] <nothingmuch> beh

[14:27] <nothingmuch> rafl: nope =(

[14:27] <rafl> Duh.. I can't do the perl5-installing stuff if pugs doesn't build :-(

[14:28] <eric256> its looking for a Unicode.c file, but all i have are UnicodeC.c files

[14:28] <eric256> andi have Unicode.hs  ....just in case this meeans anything to someone else ;)

[14:29] <rafl> eric256: I think I found it.

[14:30] <rafl> Commited.

[14:30] <svnbot6> r7389 | rafl++ | * Fixed typo that made the build fail.

[14:30] <eric256> rafl++ for having all of the most recent commits. lol

[14:31] <rafl> Yeah, stupidly moving files around gives you a lot of commits. :-)

[14:31] <eric256> one step closer

[14:32] <pasteling> "eric256" at 66.102.136.70 pasted "Pugs Build Fail" (17 lines, 1.1K) at http://sial.org/pbot/13519

[14:35] <rafl> It should be syck_parse(p), IMHO.

[14:36] <nothingmuch> bah!

[14:36] <nothingmuch> for the record i think that rules.t is not good enough to be a test

[14:36] <nothingmuch> the tests rely too much on bad behavior

[14:37] <nothingmuch> and are not accurate enough

[14:37] <rafl> Err, no.

[14:37] <nothingmuch> but i've got stuff almost passing 100% via Parrot::Test::PGE

[14:38] <rafl> eric256: I'm not too sure. Maybe including gram.c helps.

[14:39] <eric256> i wouldn't know.   ;)

[14:39] <eric256> i can try something localy if you have an idea though

[14:41] <rafl> Yes. Try #include "gram.c" in syck.c. I'm not to optimistic, though. Including .c files isn't a good Idea normally.

[14:41] <eric256> i put it right below #include "syck.h"

[14:42] <rafl> Sounds good.

[14:43] <pasteling> "eric256" at 66.102.136.70 pasted "Same error i think" (18 lines, 1.2K) at http://sial.org/pbot/13520

[14:43] <eric256> could it be that the make clean isn't cleaning well enough?

[14:44] <rafl> I don't know. Sorry.

[14:44] <eric256> thats okay.

[14:44] * Limbic_Region is getting a different Win32 build error

[14:45] <rafl> Well, it should AFAIK. You could try to make realclean and then remove all object files and auto-generated stuff by-hand.

[14:52] <eric256> hmmm....irc client didn't like me

[14:52] <eric256> could "/usr/bin/ar: dist/build/src/Data/Yaml/Syck_stub.o: No such file or directory"  be the real heart of th matter?

[14:52] <eric256> in that directory i have Syck.o but no Syck_stub.o

[14:54] <svnbot6> r7390 | nothingmuch++ | All failures are due to PGE now

[14:54] <pasteling> "Limbic_Region" at 129.33.119.12 pasted "Win32 Compile failure" (62 lines, 2.8K) at http://sial.org/pbot/13521

[14:55] <Limbic_Region> and don't let the "Cygwin" in the path fool you, that is Active State Perl

[14:55] <eric256> hey thats the same error i'm getting L~R  ;) (on feather) now i don't feel so alone

[14:56] <Limbic_Region> ok - but this is on a winbugs box

[14:56] <eric256> yea. so its definitly/maybe something to do with Syck_stub.o ?

[14:57] <Limbic_Region> dunno - I don't do much with Pugs these days other than verify that it compiles and runs the code that I have previously written

[14:58] <pasteling> "nothingmuch" at 82.81.247.180 pasted "converted rules.t output" (23 lines, 1.3K) at http://sial.org/pbot/13522

[14:59] <nothingmuch> does anybody know whither pmichaud?

[14:59] <nothingmuch> jabbot: seen pmichaud?

[14:59] <jabbot> nothingmuch: pmichaud was seen 99 days 19 hours 41 minutes 28 seconds ago

[14:59] <eric256> line 81 of build_pugs.pl seems of interest..

[14:59] <nothingmuch> blech

[14:59] * Limbic_Region wanders off to a meeting but will try again later

[15:00] *** ods15__ is now known as ods15

[15:03] <rafl> eric256: Can you pase a full build log? Maybe the error is above.

[15:03] <eric256> easiest way to do that?

[15:04] <rafl> copy&paste? make >pugs_build.log 2>&1 ?

[15:04] <eric256> thanks

[15:12] <nothingmuch> blah

[15:14] <nothingmuch> enough unfun for one day

[15:18] <svnbot6> r7391 | nothingmuch++ | remove pointless diagnosis

[15:20] <rafl> What's in the "Chasing modules from:"-line when building pugs for the people who can currently build pugs?

[15:24] <svnbot6> r7392 | rafl++ | * Moved ext/XML-SAX to misc/.

[15:24] <svnbot6> r7393 | rafl++ | * Clean Setup{,.hi} and Pugs.cabal properly.

[15:24] <kolibrie> my build from yesterday or so says: Chasing modules from: src/Main.hs

[15:25] <rafl> kolibrie: Could you please rebuild HEAD?

[15:26] <kolibrie> rafl: yikes!  # want me to break everything :)

[15:26] <kolibrie> rafl: sure

[15:26] <rafl> make a copy of a working version! :-)

[15:27] * kolibrie waits while svk pulls in yesterdays changes

[15:28] <rafl> There were a lot, yes.

[15:28] <kolibrie> make realclean first?

[15:29] <rafl> Why not? :-)

[15:30] <rafl> Hurry.. I'll leave in a few minutes. :-)

[15:31] <kolibrie> I'm trying first without realclean... that's faster

[15:32] <kolibrie> so far so good

[15:32] <kolibrie> the Chasing modules line had LOTS of files

[15:32] <gaal> failsforme on win32

[15:33] <gaal> w ghc-6.4

[15:33] <pasteling> "iblech" at 62.216.197.14 pasted "rafl: "Chasing modules from"" (1 line, 1.1K) at http://sial.org/pbot/13523

[15:33] <iblech> (successful build)

[15:33] <gaal> still the Failed to load interface for `Pugs' error here.

[15:34] <iblech> Here too.

[15:35] * iblech cleans and tries again, just to be sure

[15:36] * Limbic_Region is in the middle of a realclean now

[15:38] <Limbic_Region> running nmake

[15:40] <pasteling> "Limbic_Region" at 129.33.119.12 pasted "Total output of nmake up to and including failure" (221 lines, 14.3K) at http://sial.org/pbot/13524

[15:42] <Limbic_Region> preceeding nmake was nmake realclean; svn up; perl Makefile.PL

[15:43] <iblech> rafl: Now the build failed, but same "Chasing modules from" line. Also it couldn't find dist/build/src/Data/Yaml/Syck_stub.o

[16:15] <autrijus> back

[16:15] <autrijus> sorry, the fix is in

[16:15] <autrijus> finally got network.

[16:17] <autrijus> so, please rebuild; it should Work Now (tm)

[16:17] <svnbot6> r7394 | autrijus++ | * build fixes.

[16:19] <autrijus> however, not yet tested with ghc 6.4

[16:19] <autrijus> testing that now

[16:21] * Limbic_Region tries

[16:26] <Limbic_Region> autrijus - same failure - ghc 6.4 btw

[16:26] <autrijus> ok, I still need 8min to download 6.4

[16:26] <autrijus> have you rerun makefile.pl btw?

[16:27] <Limbic_Region> yes - every time

[16:27] <Limbic_Region> nmake realclean; svn up; perl Makefile.pl; nmake

[16:27] <Limbic_Region> fwiw - the error isn't exactly the same as before but it is in the same place

[16:28] <Limbic_Region> it suggests I run setup configure

[16:28] <autrijus> I got the fix

[16:28] <Limbic_Region> ok

[16:29] <autrijus> r7395

[16:30] * Limbic_Region tries

[16:32] <pasteling> "iblech" at 62.216.197.14 pasted "build failure with r7395" (17 lines, 1.1K) at http://sial.org/pbot/13525

[16:32] <Limbic_Region> running nmkae now

[16:32] <Limbic_Region> nmake even

[16:33] <autrijus> iblech: 

[16:33] <autrijus> /usr/bin/ar: dist/build/src/Data/Yaml/Syck_stub.o: Datei oder Verzeichnis nicht gefunden

[16:33] <autrijus> iblech: where is Syck_stub.o then?

[16:33] <autrijus> (a critical stage in util/build_pugs.pl is to add that stub back to .a)

[16:33] <iblech> ./dist/build/src/Syck_stub.o

[16:33] <autrijus> in line 98

[16:33] <Limbic_Region> same error autrijus

[16:34] <autrijus> Limbic_Region: ok, win32 ghc 6.4?

[16:34] <svnbot6> r7395 | autrijus++ | * GHC 6.4 has no 'Win32' package, so skipping those.

[16:34] <autrijus> iblech: excellent, more variable locations. can you hack build_pugs?

[16:34] <Limbic_Region> yes - just a sec

[16:34] <autrijus> in line 91, accomodate for more candidate positions

[16:34] <autrijus> alternatively, hunt for one using File::Find ;)

[16:35] <iblech> autrijus: works! committing

[16:35] <pasteling> "Limbic_Region" at 129.33.119.12 pasted "Win32, AS Perl, GHC 6.4, r7395" (73 lines, 3.8K) at http://sial.org/pbot/13526

[16:35] <autrijus> nice

[16:35] <autrijus> iblech++

[16:36] * Limbic_Region whines

[16:37] <Limbic_Region> so what about me

[16:37] <autrijus> Limbic_Region: r7397

[16:37] <svnbot6> r7396 | iblech++ | * Usual svn props.

[16:37] <svnbot6> r7396 | iblech++ | * util/build_pugs.pl: cp dist/build/src/Syck_stub.o

[16:37] <svnbot6> r7396 | iblech++ |   dist/build/src/Data/Yaml/Syck_stub.o, to fix the build (at least) on Gentoo

[16:37] <svnbot6> r7396 | iblech++ |   Linux x86 GHC 6.4.

[16:37] <autrijus> Limbic_Region++

[16:37] <Limbic_Region> Win32 are people too you know 

[16:37] <Limbic_Region> ;-)

[16:37] <autrijus> I'm on win32 at this moment :)

[16:37] <svnbot6> r7397 | autrijus++ | * ditto for the 'depends' line for ghc 6.4-win32

[16:37] <svnbot6> r7396 | iblech++ | * Usual svn props.

[16:37] <svnbot6> r7396 | iblech++ | * util/build_pugs.pl: cp dist/build/src/Syck_stub.o

[16:37] <svnbot6> r7396 | iblech++ |   dist/build/src/Data/Yaml/Syck_stub.o, to fix the build (at least) on Gentoo

[16:37] <svnbot6> r7396 | iblech++ |   Linux x86 GHC 6.4.

[16:38] <Limbic_Region> ok, trying r7397

[16:39] <iblech> food &

[16:39] <Limbic_Region> autrijus - no dice

[16:40] <Limbic_Region> should I nopaste the entire nmake output?

[16:41] <pasteling> "Limbic_Region" at 129.33.119.12 pasted "entire Win32 perl Makefile.PL and nmake output" (244 lines, 13.1K) at http://sial.org/pbot/13527

[16:43] * autrijus pouts

[16:43] <autrijus> wait, I'm installing ghc now

[16:47] <misc> the pod from Net/IRC.pm is wrong, it talk of $bot<add_command_handler> while this no longer exist ( all other examples are good, but i decided to read doc instead of source code, just to see )

[16:48] <autrijus> misc: please fix away.

[16:48] <autrijus> Limbic_Region: I'm fixing

[16:49] <Limbic_Region> I'm Joshua, nice to meet you fixing

[16:49] <autrijus> rofl.

[16:50] <misc> mhh, no, it was already correted in trunk, sorry

[16:50] <autrijus> k

[16:50] <Limbic_Region> try now?

[16:51] <Limbic_Region> oh, nevermind

[16:51] <Limbic_Region> you were addressing misc

[16:53] <autrijus> Limbic_Region: erase .setup-config

[16:53] <autrijus> it should be added to clean_files (if you got tuits please add it to Makefile.PL)

[16:54] <Limbic_Region> ok - will attempt both

[16:55] <autrijus> and I fixed the other bug... committing

[16:55] <Limbic_Region> autrijus - there is no .setup-config ???

[16:56] <Limbic_Region> does that happen after perl Makefile.PL ?

[16:56] <autrijus> no, after an attempted build

[16:56] <autrijus> please just fix Makefile.PL

[16:57] <Limbic_Region> but what I am saying is that there isn't now, nor do I have any reason to believe I have ever had a .setup-config file

[16:57] <Limbic_Region> I will add it to the Makefile.PL though for you

[16:57] <autrijus> yes, because configure failed

[16:57] <autrijus> and you should get much farther with r7398.

[16:57] <autrijus> (and at which time you would have one.)

[16:57] <Limbic_Region> ok

[16:58] <Limbic_Region> and .setup-config should be in the root?

[16:58] <autrijus> yup

[17:00] <Limbic_Region> checking in now 

[17:00] <svnbot6> r7398 | autrijus++ | * proper fix for GHC6.4+win32, for real!

[17:01] <Limbic_Region> but I screwed up

[17:02] <Limbic_Region> re-checking in

[17:03] <Limbic_Region> hey - I just came across this JS link on closures http://jibbering.com/faq/faq_notes/closures.html

[17:04] <Limbic_Region> might be interesting to those working on the JS backend

[17:06] <autrijus> Limbic_Region: so build works?

[17:06] <svnbot6> r7399 | Limbic_Region++ | Added .setup-config to clean_files in Makefile.PL per request from autrijus

[17:06] <svnbot6> r7400 | Limbic_Region++ | Added .setup-config properly to clean_files in Makefile.PL per request from autrijus

[17:06] <Limbic_Region> autrijus - don't know if it works

[17:06] <Limbic_Region> but it certainly is making it further

[17:06] <Limbic_Region> it takes a LONG time to build on this machine

[17:07] <autrijus> "nmake unoptimised"?

[17:08] <Limbic_Region> but I don't ever run unoptimized so it really doesn't do "me" any good

[17:08] <autrijus> k.

[17:12] <eric256> is the build for pugs fixed now?

[17:13] <autrijus> eric256: I believe so. try it?

[17:13] <autrijus> sorry for leaving it burning.

[17:13] <eric256> trying riight now

[17:13] * eric256 crosses fingers ;)

[17:15] <pasteling> "eric256" at 66.102.136.70 pasted "Still gives these warnigns, but appears to be working" (4 lines, 220B) at http://sial.org/pbot/13528

[17:16] <iblech> FYI, same warnings here

[17:16] <eric256> of course as far as i know it always gave those warnings. ;)

[17:19] <autrijus> woot.

[17:19] <autrijus> adding some prototype should fix those

[17:19] <autrijus> but not priority for me now.

[17:23] * geoffb pulls to try a build also

[17:25] <geoffb> I'm doing a no-embed build . . . but are embed builds a priority before 6.2.10?

[17:26] <brentdax> Interesting...165 text messages/second = no voice service in Manhattan.

[17:26] <autrijus> geoffb: it should not regress, but that's all

[17:27] <geoffb> Yesterday, P5 embed was dead.  After this build, I'll try again

[17:27] <Juerd> eric256: pong, 2nd attempt :)

[17:27] <geoffb> brentdax, huh?

[17:28] <brentdax> If you can send 165 text messages a second to that area, it ties up the control frequencies so voice calls can't get through.

[17:28] <geoffb> interesting!

[17:28] <geoffb> Where did you learn that?

[17:28] <Juerd> And... of course we can :)

[17:29] <brentdax> Bruce Schneier linked to it from his blog.

[17:29] <geoffb> I'm honestly a little surprised that doesn't happen all the time

[17:29] * geoffb goes to check BS blog

[17:29] <Juerd> The single most important reason that they don't get ddossed all the time is that sending these messages is expensive :)

[17:30] <brentdax> Not if you use the e-mail gateway, which conveniently enough is connected to the Internet, where automated attacks are easy...

[17:30] <Juerd> Is that a free service?

[17:31] <brentdax> Free to the sender.

[17:31] <Juerd> We have email to sms thingies here too, but they're still expensive

[17:31] <Juerd> Of course

[17:31] <theorbtwo> Hm, those are rather unfortunate initials.

[17:31] <Juerd> I don't think this service will even allow this many message :)

[17:31] <Juerd> s

[17:31] <Limbic_Region> autrijus - so far so good, which means I am guessing it is fixed

[17:32] <geoffb> SMP++

[17:36] <autrijus> Limbic_Region: woot.

[17:37] <geoffb> BTW, autrijus, can ghc compiles use SMP?  Right now I'm just happy that my X is still responsive while I build

[17:37] <geoffb> Looks like it built!

[17:38] <geoffb> now to nuke a pile of stuff in /usr/local and see if the install target is sane

[17:38] <pasteling> "gaal" at 192.115.25.249 pasted "still no luck, 6.4/win32" (16 lines, 941B) at http://sial.org/pbot/13530

[17:39] <gaal> trying with 6.4.1...

[17:42] <gaal> in irssi, how do i set PgUp/PgDn to scroll a full screenful rather than half a page each time? this is giving me contextual anxiety.

[17:43] <iblech> gaal: Adding an appropriate copy() call to util/build_pugs.pl:91 fixed the problem here (copy("where/ever/Syck_stub.o/is", "dist/build/src/Data/Yaml/Syck_stub.o"))

[17:44] <gaal> iblech: thanks! so far so good on 6.4.1.

[17:44] <brentdax> Heh...non-programmer friend of mine who follows Perl 6 stuff points out that 'Japanese "ofun" can be read as "honorable part (of something)".'

[17:44] <autrijus> iblech: I think we need a File::Find hunt

[17:44] <autrijus> can you take a stab at it? I need to reboot and bbiab.

[17:44] <gaal> to hunt for what, autrijus?

[17:45] <autrijus> geoffb: Syck_stub.o in its myriad of places in build_pugs

[17:45] <autrijus> er

[17:45] <autrijus> s/geoffb/gaal/

[17:45] <autrijus> brentdax: good, we are having honorable fun

[17:45] <gaal> iblech/autrijus, dynamically or is this a one time fix?

[17:46] <autrijus> dynamically (I think)

[17:46] <gaal> eeerk, hit a Strange Object ghc crash. trying again with optimizations on :)

[17:47] <geoffb> Good lord, my /usr/local was littered.  OK, time to try make install

[17:48] <geoffb> Is "make register" now manditory, or just for Haskell hackers wanting to embed pugs?

[17:49] <autrijus> geoffb: latter.

[17:50] <geoffb> ok, then I'll leave that undone so that I can catch it becoming accidently mandatory at some point

[17:50] <geoffb> make install still litters /usr/local, but not as badly, thanks rafl and autrijus 

[17:50] <geoffb> Still a lot of .t's though

[17:51] <autrijus> the perl5 bit?

[17:52] *** ods15_ is now known as ods15

[17:52] <geoffb> Hmmm, I see this in the install logs:

[17:52] <geoffb> Registering Pugs-6.2.10...

[17:52] <geoffb> Is it both registering and warning that the user needs to?

[17:53] <geoffb> autrijus, yeah, looks like the perl5 stuff.

[17:53] <geoffb> Are the .hi file still needed in the install dir?

[17:54] <autrijus> not at all

[17:54] <autrijus> they are needed in GHC install

[17:54] <autrijus> not in perl6

[17:55] <autrijus> huh, how is it registering? where's the log?

[17:56] <geoffb> /usr/local/lib/Pugs-6.2.10 is where I see all the .hi, along with HSPugs-6.2.10.o and libHSPugs-6.2.10.a

[17:56] <geoffb> I thought the latter two files made the .hi unneeded?  or just the other .o's?

[17:56] <autrijus> just the o

[17:56] <autrijus> .a is just an ar of o

[17:56] <geoffb> I just saw that registering line when I scrolled back

[17:56] <Shillo> Hullo, folks!

[17:56] <autrijus> hi is the equiv of h

[17:57] <autrijus> so still need to be around

[17:57] <geoffb> autrijus, ah, OK, got it

[17:57] <geoffb> It's the equiv of /usr/local/include

[17:57] <autrijus> yeah. haskell does not have special .h form

[17:57] <autrijus> its .hi is derived from the .hs

[17:57] <autrijus> to put an interface on top of the otherwise nonselfdescript .o files

[17:57] <svnbot6> r7401 | autrijus++ | * do not install test files from perl5/*.  geoffb++ for noticing it.

[17:58] <geoffb> Hmmm, I built 7400, but /usr/bin/pugs -v shows 7362 still.

[17:58] <geoffb> I wonder if the install didn't do so

[17:58] * geoffb rm's /usr/bin/pugs and reruns install

[17:59] <geoffb> WTF?

[17:59] <autrijus> hrmph?

[17:59] <svnbot6> r7402 | iblech++ | util/build_pugs.pl: First stab at trying to locate Syck_stub.o using

[17:59] <svnbot6> r7402 | iblech++ | File::Find to work around a Cabal bug -- works here fine.

[18:00] <geoffb> Dammit, it's reinstalling 7362.

[18:00] <autrijus> hm, wtf indeed

[18:00] <geoffb> I made realclean before this latest run, so I'm mystified

[18:00] <geoffb> bad realclean?

[18:01] <autrijus> most likely

[18:01] * joao says hello

[18:01] <autrijus> add dist/ to realclean?

[18:01] <autrijus> greetings joao.

[18:01] <joao> :)

[18:02] <geoffb> autrijus, is that clean_files in Makefile.PL?

[18:02] <autrijus> yup

[18:03] <geoffb> Does it rm -rf?  IOW, can I just add dist/ and it will recurse properly?

[18:04] * geoffb tries it

[18:04] <autrijus> geoffb: it's rmrf

[18:04] <geoffb> seems to nuked it

[18:04] <geoffb> now trying pull and rebuild

[18:04] <autrijus> geoffb: also, most of the existing clean_files can iirc go away

[18:05] <autrijus> as there will no longer be any .o and .hi in src/

[18:05] <geoffb> One change per test.  :-)

[18:05] <autrijus> geoffb++ # commendable discipline

[18:06] <autrijus> but "svk ci --interactive" will cure you of that :)

[18:06] <gaal> win32 6.4.1 - r7400 works

[18:06] <autrijus> gaal: excellent

[18:06] <autrijus> 6.4?

[18:06] <geoffb> What is --interactive?

[18:06] <autrijus> geoffb: aka darcs.

[18:06] <gaal> in think not, let me see.

[18:06] <autrijus> navigate chunks and choose which to commit.

[18:06] <gaal> (takes a while because unoptimized barfs here)

[18:06] * geoffb only uses a few SVK features, and has not done a darcs push, only a darcs get

[18:06] <geoffb> autrijus, ah, interesting

[18:07] <autrijus> most of the time a bit annoying

[18:07] <autrijus> sometimes very useful.

[18:07] <geoffb> diff-chunk at a time, so multiple times per file even?

[18:07] <autrijus> yes.

[18:07] <geoffb> ah, yeah, I can see that being both annoying and really useful

[18:07] <autrijus> you can choose "a" to apply all chunks.

[18:07] <autrijus> so it's not that bad

[18:07] <autrijus> but still a few more keystrokes.

[18:07] <gaal> darcs has something like that too, no?

[18:07] <geoffb> keystrokes--

[18:08] <autrijus> gaal: svk only steals from the best

[18:08] <geoffb> .oO( Copied from darcs? )

[18:08] <autrijus> ;)

[18:08] <gaal> or is it that you just choose diffsets to apply there?

[18:08] * Shillo is *HAPPY* RL. Bought myself a new toy... :)

[18:08] <gaal> hee :)

[18:08] <autrijus> Shillo: ooh toy

[18:08] <geoffb> Shillo, what is it?

[18:08] <Shillo> Archos PMA 400

[18:09] <Shillo> Linux/Qtopia PDA, with 30 gigs HD and WiFi. :>

[18:09] <autrijus> oooh I want one

[18:09] <geoffb> I saw someone playing with one of those at OSCON.  Very schweet

[18:09] <joao> sounds nice, how much? :)

[18:09] <svnbot6> r7403 | geoffb++ | Added dist dir to clean_files in Makefile.PL

[18:09] <Shillo> Yep! :)

[18:09] <autrijus> it's billed as "portable mp3 player", eh?

[18:10] <geoffb> autrijus, from what the OSCON guy said, that's a massive understatement

[18:10] <Shillo> Yeah. Need to install Emacs, Common LISP and Haskell on it, in that order. :)

[18:10] <autrijus> indeed.

[18:10] <Shillo> And yes, it is.

[18:10] <Shillo> It's really a laptop. :>

[18:10] <joao> Shillo, and pugs :)

[18:10] <Shillo> Will it fit 64 megs RAM?

[18:10] <autrijus> hm no keyboard?

[18:10] <Shillo> Actually I know it will. Mmmm.... :>

[18:10] <geoffb> Shillo, I forget, does it have 802.11 or bluetooth?

[18:10] <Shillo> Can take USB keyboards. :>

[18:10] <Shillo> 802.11

[18:11] <geoffb> gut

[18:11] <gaal> http://www.archos.com/products/overview/pma_400_tech_specs.html?sid=j223y224bj22co2bfcjyy4

[18:11] <Shillo> Lack of bluetooth is the only thing I have against it. :)

[18:11] <Shillo> I can live with that, though.

[18:11] * geoffb hates bluetooth for security reasons

[18:11] <geoffb> Not that 802.11 is a shining example of secure design . . . .

[18:11] <gaal> lol

[18:12] <Shillo> It does support WEP. :)

[18:12] * geoffb rolls his eyes painfully

[18:12] <Shillo> And they toll about it so much that you just -feel- like turning it on. :)

[18:12] <Shillo> But yeah. Crackable.

[18:12] <Shillo> Still, BT is a *LOT* worse.

[18:13] <geoffb> Anyone designing a security protocol to be rolled out to everybody worldwide should be forced to take it to at least Schneier before committing to it . . . .

[18:13] <geoffb> Shillo, nodnod

[18:13] <svnbot6> r7404 | iblech++ | * Added ".installed-pkg-config" to /'s svn:ignore.

[18:13] <svnbot6> r7404 | iblech++ | * util/build_pugs.pl: Extremely minor refactor.

[18:16] <theorbtwo> Reminds me, I need to get around to WEP-protecting my 802.11 setup.

[18:16] <Shillo> geoffb: 'sides, there is the Ultimate Security Override with both 802.11 and BT:

[18:16] <Shillo> geoffb: Walk away. :>

[18:16] <geoffb> :-)

[18:16] <Shillo> theorbtwo: *gasp*

[18:16] <theorbtwo> I wish I could just ipsec it, but that'll probably be as much work as getting it working in the first place was.

[18:17] <theorbtwo> Shillo, indeed.

[18:17] <Shillo> Hmm... So many things to try with this toy... And what do I do? Irc. And MUD.

[18:17] * geoffb has purchased a bag of 802.11 hardware, but refuses to even plug it in until he knows how to lock it down like Alcatraz

[18:17] <Shillo> (well, from my PC, not from the toy)

[18:18] <theorbtwo> I just got it working a couple days ago, and the laptop and server haven't been in the same room since.

[18:19] * geoffb tries make install without doing any deletions first

[18:19] <Juerd> geoffb: The best way is to have the network itself be relatively open, but as separate as possible. Then use an encrypted VPN to connect to your real network.

[18:19] <geoffb> r7403.  Much better

[18:20] <geoffb> Juerd, more detail please . . . 

[18:20] <svnbot6> r7405 | iblech++ | * src/Pugs.hs: Pass --pugs=$*EXECUTABLE_NAME to jspugs.pl.

[18:20] <svnbot6> r7405 | iblech++ | * PIL2JS: jspugs.pl: Ignore -BJS (needed to silence the warning the change to

[18:20] <svnbot6> r7405 | iblech++ |   Pugs.hs causes).

[18:20] <svnbot6> r7405 | iblech++ | * This means pugs -BJS works now even if pugs had been installed and

[18:20] <svnbot6> r7405 | iblech++ |   $sourcedir/perl5 has been rm-rfed.

[18:20] <Juerd> geoffb: Run a linux box that is connected to both the wifi and the real network

[18:20] <Juerd> geoffb: Run openvpn server on it

[18:20] <geoffb> I might be able to get away with having only linux systems connected wireless, but I also might be forced to allow windows, so supporting that would be nice

[18:20] <Juerd> geoffb: Use openvpn clients on the wifi clients

[18:21] <Juerd> Generate and spread around some keys

[18:21] <geoffb> What is the best way to test that you did not screw up and leave a gaping hole in the security?

[18:21] <Juerd> An open network doesn't attract crackers

[18:21] <Juerd> And a VPN is much more secure than WEP or WPA

[18:22] * geoffb knows how to secure a wired firewall . . . a wireless access point, not so much

[18:22] <Juerd> The best way is to hire an experienced cracker.

[18:22] <geoffb> Juerd, makes sense

[18:22] <Juerd> An access point (without router) is nothing more than a wireless hub

[18:24] <Juerd> Or, well, switch, even though you can still sniff everything :)

[18:24] <Juerd> Many access points have built in routers. It's easiest to disable that.

[18:24] <Juerd> Now, if you have a GOOD router/access point, you're in luck

[18:24] <Juerd> Because good ones let you run openwrt

[18:24] <Juerd> And openwrt solves the need for a separate vpn server box

[18:24] <geoffb> sorry, AP/switch/router

[18:24] <geoffb> netgear, IIRC

[18:24] <theorbtwo> I don't think that's quite true.

[18:24] <theorbtwo> An access point also advertises itself differently.

[18:24] <theorbtwo> But possibly from the standpoint of network security...

[18:25] * Shillo is now shopping for a suitable keyboard...

[18:25] <Juerd> theorbtwo: What exactly? (not true)

[18:25] <Shillo> :)

[18:25] <geoffb> I learned about OpenWRT a week after buying the hardware.  :-)

[18:25] <gaal> whee! r7403 builds fine here with 6.4 too.

[18:26] <Shillo> geoffb: BTW, exactly how crackable is WEP?

[18:26] <Juerd> Shillo: Very.

[18:26] <geoffb> Shillo, as Juerd said

[18:26] <Juerd> I do use WEP, though

[18:26] <theorbtwo> Juerd, not quite sure -- you probably know more then I do.

[18:26] <Juerd> In fact, at my office, currently the network is entirely open

[18:26] <geoffb> Like "click button, watch progress bar, wait a rather short while"

[18:26] <Shillo> :) :) :)

[18:27] <Juerd> theorbtwo: What exactly? (you don't think is true)

[18:27] * theorbtwo hides.

[18:27] <Juerd> theorbtwo: What's wrong with you?

[18:27] * autrijus rolls eyes

[18:27] <autrijus> ... I rolled a 11!

[18:27] <Juerd> theorbtwo: You say you don't think something is quite true, and then you won't say what you're referring to, when asked.

[18:28] <Juerd> theorbtwo: That's weird.

[18:28] <geoffb> autrijus hits and does 432 points of damage

[18:28] <theorbtwo> Juerd, I'm rather depressed and unsure of my knowladge in this subject.

[18:28] <gaal> autrijus hits!--more--

[18:28] <Juerd> theorbtwo: This leaves very little room for me to confirm your thinking...

[18:28] <Juerd> Your knowledge won't grow this way...

[18:29] <theorbtwo> An access point is distingished from a normal 802.11 NIC not by what it does with the packets once it gets them, but by how it advertises itself.

[18:29] <theorbtwo> Thus some NICs having infrastructure, ad-hoc, and HostAP modes.

[18:30] <Juerd> Oh, certainly

[18:30] <Juerd> But that's at an entirely different level

[18:30] <Juerd> Eventually, the access point just bridges it with the cabled ethernet network

[18:31] <Juerd> It could do so in ad-hoc mode if it (and its creators) wanted.

[18:31] <theorbtwo> That's actually what I'm doing now -- I've got my NIC in ad-hoc mode, bridged with the ethernet.

[18:31] <Juerd> hostap isn't a mode, it's the name for a project that enables a "normal computer" (whatever that is) to be an access point

[18:32] <Juerd> infrastructure uses the modes Master and Managed

[18:32] <Juerd> ad-hoc uses Ad-Hoc

[18:32] <theorbtwo> Ah.

[18:32] <Juerd> an access point or hostap interface is Master

[18:32] <Juerd> clients are Managed

[18:32] <theorbtwo> OK.

[18:33] <Juerd> The names are weird because hostap came later. Otherwise it'd probably have been Master/Slave

[18:33] <Juerd> Note that this is all linux lingo

[18:33] <Juerd> It may or may not be applicable to other systems

[18:33] <theorbtwo> In that case, with the new terminology, APs are in Master mode; some desktop-style NICs can only be in Managed or Ad-Hoc and not Master.

[18:33] <Juerd> Also, it's wireless-tools, not wlan-ng

[18:34] <Juerd> theorbtwo: Yes, except when the desktop-style nic is actually capable of being a Master too.

[18:34] <Juerd> theorbtwo: Some use the hostap driver for this.

[18:34] <autrijus> gaal: did I miss your ghc6.4/win32 build failuare?

[18:34] <theorbtwo> Ah.  Now I begin to understand.

[18:36] <gaal> autrijus: you missed my success ;)

[18:37] <autrijus> gaal: woot :)

[18:37] <autrijus> all clear then

[18:37] <gaal> smoke running.

[18:37] <autrijus> good. I'll go back to embedding.

[18:37] <autrijus> are you still up to cleanup ext/ fest tails?

[18:37] <gaal> just what i was about to suggest. :)

[18:37] <autrijus> I mean, test fails. mmm dyslexia.

[18:38] <Shillo> Going. Later, folks! :)

[18:38] <gaal> "Our Lord is a shoving leopard" -- Rev. Spooner

[18:48] <geoffb> OK, deleted all install files (I hope . . . I at least cleaned /usr/local/... and /usr/bin/pugs*)

[18:48] <geoffb> Now to try a build with P5 embed

[18:59] <geoffb> Go boom

[19:00] <autrijus> nopaste?

[19:00] <geoffb> Looks like it compiled the src/*Perl5* files OK (delta a couple warnings that don't look too bad)

[19:00] <geoffb> perlbot, nopaste

[19:00] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[19:01] <pasteling> "geoffb" at 69.110.115.185 pasted "Last lines of Perl 5 Embed death" (359 lines, 27.7K) at http://sial.org/pbot/13531

[19:01] <geoffb> Sorry, forgot to increase scrollback buffer size, so that's just the last few hundred lines

[19:04] <geoffb> Nice, Gnome bug . . . can't change the scrollback settings without some config thingie exploding

[19:04] <autrijus> okay, I fixed the death

[19:04] <autrijus> retesting

[19:05] <geoffb> do I need to realclean first?

[19:05] <geoffb> oh, not committed yet

[19:11] <geoffb> I normally just 'svk co <remote_url>' . . . what should I do to get the same thing, but in a new local depot (I'd like to have the parrot mirror depot separate from my other mirrors, which share a depot)?

[19:13] <autrijus> svk co <remote_url> too

[19:13] <autrijus> but when asked, instead of saying

[19:13] <autrijus> //mirror/pugs

[19:13] <autrijus> say

[19:13] <autrijus> /foo/pugs

[19:13] <autrijus> where "foo" is the depot name

[19:14] <autrijus> you you may wish to establish it first with "svk depot" 

[19:14] <geoffb> Will I need to do some depotmap magic first?

[19:14] <geoffb> Ah, I guess so

[19:14] <autrijus> I don't know if my autovivivicatoion code is that clever

[19:15] <autrijus> try and see... patches welcome

[19:15] <geoffb> OK, will try.  :-)

[19:17] <geoffb> nope, autoviv fails -- in fact, it just loops back and gives the whole depot path blurb and question again

[19:17] <gaal> new smoke up (win32 snapshot, '03)

[19:21] <gaal> there's some trouble over at ext/libwww-perl/t/base/headers-util, it crashes but the pos is wrong

[19:22] <autrijus> I'm still hair deep in -lperl, sorry

[19:22] <gaal> k

[19:23] * eric256 begins the process of installing all his tools on a new computer after his old one died..(realy died, badly)

[19:23] <eric256> anyone have a favorite windows editor for perl?

[19:24] <autrijus> eric256: eclipse?

[19:24] <autrijus> scite?

[19:24] <autrijus> *gasp* visual perl?

[19:25] <autrijus> nah. s/visual perl/komodo/ if you feel compelled that way

[19:25] <eric256> i like free tools...i'm a mucher that way. ;)

[19:26] <eric256> opps

[19:27] <Ash> eric256: XEmacs on windows is grate

[19:28] <gaal> eric256: i use vim from cygnus.

[19:29] <Ash> there's a gvim for win32 as well

[19:29] <autrijus> most of the time I use that too.

[19:29] <autrijus> more used to it than gvim.

[19:29] <autrijus> but sometimes eclipse is nice.

[19:29] <gaal> to make the terminal not suck completely, i use a clever hacked version of putty that connects to cygnus.

[19:29] <autrijus> (with epic)

[19:29] <autrijus> gaal: oooh. url?

[19:30] <gaal> autrijus: http://www.chiark.greenend.org.uk/~sgtatham/putty/

[19:30] <gaal> only problem is that it's not up to date with mainstream putty

[19:30] <eric256> hehe. well this is the place to ask for ideas...  excluding vim and emac....ecplipse is good?

[19:31] <autrijus> it's good if you have the prerequisite amount of ram.

[19:31] <geoffb> & # lunch -- autrijus, ping me if you get perl 5 embed in a testable state again, and I'll try when I'm bak

[19:31] <gaal> so with my real putty i get real BiDi -- i mean, wow, i never wrote a Hebrew email on linux in my life, and now i can, without HTML mail in mutt.

[19:31] <autrijus> geoffb: I got it, but I want to make sure it works in both threaded and non-

[19:31] <autrijus> geoffb: enjoy yer lunch

[19:31] <geoffb> k

[19:32] <theorbtwo> Cool, gaal.

[19:32] <gaal> ooh, they updated their stuff to putty's version. neat.

[19:32] <gaal> oh wait no, did i send you to the main site? oops :)

[19:33] <gaal> ah, here we go. http://gecko.gc.maricopa.edu/~medgar/puttycyg/

[19:33] <gaal> oh, and!

[19:34] <gaal> for a totally sicksessful experience, you want to run that with GNU screen too

[19:34] <gaal> which you get here

[19:34] <gaal> http://gecko.gc.maricopa.edu/~medgar/screen.html

[19:35] <gaal> but be warned, no detach/resume

[19:35] <dduncan> does this error during 'make' of pugs look more like a pugs error, or problem with my system?  (GHC 6.4.1 final):

[19:36] <dduncan> Compiling Data.Yaml.Syck   ( src/Data/Yaml/Syck.hs, dist/build/src/Data/Yaml/Syck.o )

[19:36] <dduncan> Setup: waitForProcess: interrupted (Interrupted system call)

[19:36] <dduncan> Build failed: 256 at util/build_pugs.pl line 84.

[19:36] <dduncan> make: *** [pugs] Error 2

[19:36] <dduncan> it happened on 2 attempts

[19:37] <svnbot6> r7406 | iblech++ | New t/pugsbugs/t/pugsbugs/passing_the_pair_class_to_a_sub.t (:todo<bug>eds):

[19:37] <svnbot6> r7406 | iblech++ | Passing ::Pair to a sub fails (this is the reason for

[19:37] <svnbot6> r7406 | iblech++ | ext/Perl6-Container-Array/t/array-operations.t and

[19:37] <svnbot6> r7406 | iblech++ | ext/Perl6-Container-Array/t/array-fetch-store.t not passing).

[19:37] <eric256> is there a standard putty site?  searching for it returns quite a few sites

[19:37] <autrijus> dduncan: so it always stop on the same Syck?

[19:38] <dduncan> yes

[19:38] <gaal> eric256: top google hit

[19:38] <autrijus> dduncan: weird...

[19:38] <eric256> http://www.chiark.greenend.org.uk/~sgtatham/putty/ ??

[19:38] <gaal> putty++, and (its author)++ also for writing that nice piece about coroutines in c.

[19:38] <dduncan> more pertinent question is whether this happens to anyone else

[19:39] <gaal> eric256: yes

[19:39] <dduncan> who here has upgraded to GHC 6.4.1, and who hasn't?

[19:39] <gaal> dduncan: as 7403, pugs builds on my win32 with either version of ghc.

[19:39] <eric256> gaal thanks...it didnt' realy look offical.;) i could jsut see someone posting a hacked version that collected server addressses and passwords too. 

[19:40] <dduncan> I was on 7405 ... try that one

[19:40] <gaal> eric256: that apparently happened! but that is the site :)

[19:41] * eric256 tries to remember what other tools he is missing....hmm how about perl...;)

[19:42] <bigh23> Is there a release date for perl 6?

[19:42] <eric256> later than today

[19:42] <eric256> early than never

[19:42] <bigh23> eric256: Anything more specific?

[19:43] <bigh23> I googled for it, but with no success.

[19:44] <QtPlatypus> bigh23: A release date for perl6 has not been set.

[19:44] <bigh23> Is there any estimate? half a year? year?

[19:44] <bigh23> I want to know if I should get "lerning perl" which discusses perl 5.8.

[19:46] <eric256> yes. 6 will not replace 5.8 in the near future ;)

[19:46] <autrijus> but 5.10 will, for some value of near.

[19:47] <eric256> 5.x and 6.x will probably coexist for a very long time. ;)

[19:47] <gaal> is the "Expected:" string in verbose output officially part of TAP?

[19:47] <bigh23> eric256: OK, thanks, I will give it a try.

[19:48] <pjcj> gaal: I believe so, shich 

[19:49] <pjcj> which is why Got can't be changed to something better

[19:49] <pjcj> or the order swapped

[19:49] <iblech> [FYI] New JS smoke up, 90.89% ok

[19:49] <eric256> wow

[19:50] <gaal> pjcj: this is too bad, because it means that isnt(1, 2)

[19:50] <gaal> no, isnt(1, 1)

[19:50] <gaal> proclaims "Expected: 1, Got: 1"

[19:50] <gaal> which can be confusing.

[19:51] <pjcj> yes, it confuses me

[19:52] <pjcj> don't take my word as gospel in thus matter though

[19:52] <dduncan> well, I got the compilation to continue on past the YAML

[19:52] <gaal> it's extremely tempting to fix, but i don't know what i'd break if i do :(

[19:53] <dduncan> now there's a different problem

[19:53] <dduncan> more like what I reported yesterday

[19:54] <gaal> hahahaah! if you look at a smoke you'll notice red on ext/Set/t/overload.t

[19:54] <dduncan> when/following 'Skipping Pugs', it gives a warning in gram.c about syckparse

[19:54] <gaal> but looking at the failing tests you'll see they are TODOed

[19:54] <eric256> whats the feather servers domain name?  

[19:54] <pjcj> gaal: why do you get that output from isnt(1, 1) ?

[19:55] <iblech> gaal: I fixed that. The test descriptions contained "#", causing the harness to not recognize the TODO bug

[19:55] <gaal> the reason: the desc contains a #, and the code that picks the # TODO up is confused :)

[19:55] <gaal> yes

[19:55] <iblech> d'oh, but I forgot to ci

[19:55] <gaal> pjcj: you get it because the test fails

[19:56] <gaal> iblech: i'm working on TODOing ext myself, so let's divide and conquer.

[19:56] <pjcj> doh!  it's been a long week

[19:57] <iblech> gaal: ext/Perl6-* will be fixed as sonn as t/pugsbugs/passing_the_pair_class_to_a_sub.t is fixed

[19:57] <dduncan> the last few make failure lines say:

[19:57] <dduncan> ld: archive: dist/build/libHSPugs-6.2.10.a has no table of contents, add one with ranlib(1) (can't load from it)

[19:57] <dduncan> Build failed: 256 at util/build_pugs.pl line 135.

[19:57] <dduncan> make: *** [pugs] Error 2

[19:58] <svnbot6> r7407 | iblech++ | ext/Set: t/overload.t: Fixed test description to not include #, so the test

[19:58] <svnbot6> r7407 | iblech++ | harness doesn't get confused.

[19:58] <svnbot6> r7408 | iblech++ | util/version_h.pl: The location of the .hi and .o files changed because of the

[19:58] <svnbot6> r7408 | iblech++ | Cabalization, thus Version.hs didn't get rebuilt. Fixed.

[20:01] <rafl> iblech: For me the first item is readline.

[20:01] <rafl> geoffb: Thought /usr/local is the default prefix.

[20:03] <wolverian> eric256, feather.perl6.nl

[20:03] <eric256> thanks...it was among the numerous other things lost.../me mourns the loss of his old friend

[20:03] <Juerd> eric256: You pinged me?

[20:04] <eric256> way long ago...now i don't have time but it was mentioned to me that you were looking for someone to run the automated scripts on feather

[20:04] <iblech> rafl: Hm? You mean the readline bug from a few days ago?

[20:04] <eric256> just wanted to volunteer if you needed anything 

[20:04] <Juerd> eric256: That is true

[20:04] <Juerd> eric256: Good; thanks

[20:04] <Juerd> eric256: I'll copy the stuff over to your homedir soon

[20:04] <Juerd> eric256: You can then do with it what you think is best

[20:05] <rafl> iblech: Dunno. I'll try current HEAD now.

[20:05] <eric256> alright

[20:07] <svnbot6> r7409 | iblech++ | Fixed ext/FindBin/lib/FindBin.pm, ext/Config-Tiny/t/basic.t, and

[20:07] <svnbot6> r7409 | iblech++ | ext/Config-Tiny/lib/Config/Tiny.pm WRT "use fatal" being in effect by default

[20:07] <svnbot6> r7409 | iblech++ | (at least in current Pugs).

[20:08] <rafl> iblech: Same error..

[20:08] <iblech> gaal: FYI, r7409 will be my last fix in ext/ for today

[20:08] <Juerd> eric256: done

[20:08] <rafl> iblech: Working on Config-Tiny? Please give me a method to read from strings and fhs. And maybe use proper OO.. :-)

[20:08] <iblech> rafl: Could you give me some failing code?

[20:08] <rafl> iblech: Yes.

[20:08] <Juerd> eric256: It's in ~/auto

[20:08] <rafl> iblech: Hold on, it's being uploaded to feather.

[20:08] <Juerd> eric256: See also crontab -e

[20:09] <rafl> iblech: http://feather.perl6.nl/~rafl/pugs_build.log

[20:10] <eric256> so every 15 minutes it rebuilds pugs on feather?

[20:10] <iblech> rafl: I've already ported Config::Tiny to real OO, but it's hosted on FreePAN, as Pugs was not nearly ready for OO at the time I ported it. Limbic_Region then ported it to fake OO. So we might be able to just copy my OO Config::Tiny port to ext/

[20:10] <eric256> and parrot it would seem

[20:10] <Juerd> It's funny that so much time and effort is spent by so many programmers and system administrators all over the world, just to enable nice prompts...

[20:10] <Juerd> eric256: Yes, but only if they have updates available

[20:10] <geoffb> rafl, yes /usr/local is right.  My complaints were that way too much was in /usr/local, and also in too many different subdirs of /usr/local.

[20:10] <geoffb> It's getting better.

[20:10] <rafl> iblech: Yeah, please!

[20:10] <iblech> rafl: Ah, this error (I thought you were referring to P6 &readline). Sorry, no idea...

[20:10] <geoffb> Thanks to you and autrijus.  :-)

[20:10] <rafl> geoffb: --verbose please. What directories don't you like?

[20:11] <rafl> autrijus: Please take a look: r7409 fails to build for me: 7409

[20:11] <rafl> autrijus: Please take a look: r7409 fails to build for me: http://feather.perl6.nl/~rafl/pugs_build.log

[20:11] <geoffb> Can't give detail right now, because I deleted everything before starting my embed build/install test, which failed to build

[20:11] <geoffb> I will post details next successful install.

[20:11] <rafl> autrijus: libreadline and the haskell readline package are installed.

[20:12] <rafl> geoffb: Yeah, just highlight me.

[20:12] <eric256> was there anything specific that needs fixed? or am i just in charge of it incase something breakes?

[20:12] <geoffb> rafl, will do (I assume using your nick is enough)

[20:12] <gaal> iblech: ACK, thanks.

[20:12] <rafl> geoffb: of course.

[20:13] <autrijus> rafl: ack

[20:14] <rafl> rafl: Not reproduceable on feather, which is also a debian box, though.

[20:16] <dduncan> I'm going to try isolating whether the GHC upgrade broke anything ...

[20:16] <rafl> Which ghc upgrade?

[20:16] <dduncan> to 6.4.1 from 6.4.0

[20:17] <geoffb> autrijus, how is p5 embed coming?

[20:17] <rafl> feather still has 6.4.0.

[20:17] <autrijus> geoffb: I ran into some Cabal-1.0 bugs.

[20:17] <rafl> It works there.

[20:17] <autrijus> I can commit what I have and let you test

[20:17] <geoffb> autrijus, bleah

[20:17] <geoffb> ok, do

[20:18] <dduncan> I did both a GHC upgrade and applied some system security patches between when Pugs last compiled and when it failed

[20:18] <eric256> Juerd  the script fails because its trying to cd to your directories

[20:18] <dduncan> right now, I'm going to start off with trying to compile the Pugs 6.2.9 off CPAN, and a fresh checkout of the repository also, under the newer GHC and system

[20:19] <eric256> i'' change to cd to mine...just didn't know if there is something else you need to change

[20:19] <autrijus> geoffb: done.

[20:19] <dduncan> if those fail, I'll try reverting GHC to 6.4.0

[20:19] <Juerd> eric256: I have no idea, really.

[20:19] <geoffb> autrijus, OK, making

[20:19] <rafl> dduncan: I also have 6.4.0.

[20:19] <svnbot6> r7410 | autrijus++ | * various weird voodoo to get perl5 embedding working. work in progress.

[20:19] <autrijus> can you put one .a file into another?

[20:20] <pjcj> gaal: See I think it may not be part of TAP per se, but see http://www.mail-archive.com/perl-qa@perl.org/msg03999.html, especially chromatic's reply

[20:20] * autrijus tries and see

[20:20] <eric256> Juerd: well you tell me...i don't even know what you are expecting me to do with it. ;)  

[20:21] <eric256> hey you changed the file in my directory....spooky

[20:23] <dduncan> I just discovered something else ... as of Pugs 6.2.9 ... having space characters in your current path causes 'make' to fail before it starts:

[20:23] <dduncan> Darren-Duncans-Computer:/Volumes/Programming160/Parrot and Pugs distro archives/Perl6-Pugs-6.2.9 darrenduncan$ make

[20:23] <dduncan> Makefile:449: *** target file `/Volumes/Programming160/Parrot' has both : and :: entries.  Stop.

[20:24] <rafl> Can't someone reproduce the 'readline'-problem I run into?

[20:24] <dduncan> I can work around this easily, but it doesn't look like something a script should have a problem with ... it should escape as necessary

[20:24] <rafl> autrijus: Maybe I can provide you some debugging info now? I'll be offline in about 5 to 10 minutes.

[20:25] <svnbot6> r7411 | gaal++ | avoid readlink on MSWin32

[20:27] <autrijus> rafl: try commenting away line 130, among other lines, in build_pugs.pl

[20:29] <geoffb> perlbot nopaste

[20:29] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[20:30] <pasteling> "geoffb" at 69.110.115.185 pasted "p5 embed dead again" (215 lines, 14.3K) at http://sial.org/pbot/13532

[20:30] <rafl> autrijus: 132? (the one mentioning readline) - I commented it out. Still doesn't work.

[20:31] <geoffb> autrijus, see new paste -- seems to complain more now

[20:32] <autrijus> geoffb: yeah, I think I nailed it

[20:32] <autrijus> rafl: :-(

[20:32] <autrijus> rafl: I can't reproduce.

[20:32] <rafl> autrijus: Hrm.. no way. I'll need to go now unfortunately.

[20:33] <rafl> autrijus: I can give you shell access tomorrow, if you want.

[20:33] <rafl> Bye!

[20:33] <geoffb> bye, rafl 

[20:33] <autrijus> rafl: ok. bye!

[20:35] <autrijus> geoffb: committing

[20:35] <geoffb> pulling and making after realclean

[20:35] <svnbot6> r7412 | autrijus++ | * link against perl5 embed. it would work for static perl5

[20:36] <geoffb> And it's off . . . 

[20:36] <geoffb> (sounds of steeplechase . . . )

[20:37] <geoffb> afk for a few while this builds

[20:44] <eric256> any svn gurus out there?  since i'm starting fresh i was hoping to svn most everythign i work with ....is there a quick way to create an empty repository and ilnk a directory to it?  seems like svn wants me to create, import, and then check out....which seems kind of silly

[20:45] <Juerd> eric256: Root isn't spooky :)

[20:45] <autrijus> eric256: svk import --to-checkout 

[20:46] <eric256> autrijus do you have stock in svk or something? ;)

[20:46] <autrijus> eric256: I happen to be its second committer :)

[20:47] <eric256> ahh ;)  website? 

[20:47] <svnbot6> r7413 | autrijus++ | * rename perl5.[ch] into p5embed.[ch] to avoid silly

[20:47] <svnbot6> r7413 | autrijus++ |   case-insensitive filesystems.

[20:47] <autrijus> svk.elixus.org

[20:48] <eric256> if i have many different projects (from random scripts to websites) are they better each in there own repository? or one repository for everything?  

[20:48] <michael> autrijus, so it's possible to use svk with a vanilla svn (remote) repository, right?

[20:48] <autrijus> michael: sure yes

[20:48] <autrijus> it's just a client.

[20:49] <autrijus> eric256: I prefer one repo for everything, but immv.

[20:49] <autrijus> s/immv/ymmv/

[20:49] <eric256> http://svk.elixus.org/?SVKWin32 :(

[20:49] <michael> autrijus: do you happen to know whether it works with clients like TortoiseSVN or RapidSVN?

[20:50] <autrijus> michael: it does.

[20:50] <michael> very cool.

[20:50] <michael> one more reason to convince $work to switch to subversion :-)

[20:50] <michael> (from CVS, that is)

[20:50] <eric256> nm...page finaly came up after giving me errors several times

[20:50] <michael> (I fear darcs is no option as they live and die with Eclipse's "Synchronise" feature, whatever that is)

[20:51] <gaal> pjcj: i decided it's okay to change, and i made note of the lexical advice there.

[20:51] <pjcj> gaal: will you change the order too?

[20:52] <gaal> no, wasn't convinced that's important. :)

[20:52] <svnbot6> r7414 | gaal++ | when `isnt(1,1)' fails, don't say you expected 1 (you expected anything but 1)

[20:52] <pjcj> as you wish, but I'd prefer the expected first ;-)

[20:53] <gaal> oh oops

[20:53] <gaal> the expected already is first :)

[20:57] <pjcj> aha!

[20:57] <gaal> dduncan: for when your build works: two tests in LKT are failing, please have a look

[20:57] <gaal> i'm off to bed, i think we're pretty close to all green.

[20:57] <svnbot6> r7415 | putter++ | STATUS: p5 backend correction

[20:58] <autrijus> gaal++

[20:58] <gaal> i barely changed anything today :)

[20:58] <putter> briefy...

[20:58] * eric256 still odesn't have enough memory to compile pugs on windows... jeez

[20:58] <autrijus> geoffb: how's the build?

[20:59] <autrijus> eric256: hm? not at all, or just need to restart twice?

[20:59] <eric256> not at all.  750mb right now...gonna see if i can rearrange sticks and get a full gigi in here

[21:00] <gaal> ext\libwww-perl\t\base\headers-util.t is weird, but i'm too tired to track down the failure now

[21:01] <gaal> good night!

[21:01] <autrijus> eric256: this is very strange as I only have 768m.

[21:01] <autrijus> eric256: what is the err?

[21:01] <autrijus> gaal: night!

[21:01] * autrijus turns to parrot embed

[21:01] <leo__> autrijus: don't forget to make realclean after svn up

[21:02] <autrijus> noted.

[21:03] <autrijus> but I'm testing 0.3.0 first :)

[21:03] <svnbot6> r7416 | autrijus++ | * dynamic perlembed _should_ work now.

[21:04] <eric256> rebooting and reorganizing right now...i'll let you know when i get back to the error though

[21:04] <leo__> okie - but realclean applies to 0.3.0 as well as trunk head r9400 - and any witsching between these versions 

[21:04] <autrijus> ok

[21:10] <geoffb> autrijus, sorry, afk for longer than expected.  Looks like it failed again, though.

[21:10] <geoffb> Pasting . . . 

[21:11] <pasteling> "geoffb" at 69.110.115.185 pasted "P5 embed failure #3" (29 lines, 6.9K) at http://sial.org/pbot/13536

[21:12] <autrijus> geoffb: r7417

[21:13] <geoffb> OK, realclean, pull, build . . .

[21:13] * autrijus hands geoffb "unoptimised"

[21:13] <geoffb> Should I stop the opt build?

[21:13] <svnbot6> r7417 | autrijus++ | * first step toward parrotbedding.

[21:14] * geoffb trying to minimize variables during debugging

[21:14] <autrijus> well, go ahead then, it's valuable

[21:14] <autrijus> seeing that I did not make clean

[21:14] * geoffb doing 'make realclean; svk pull; perl Makefile.PL; make' each time

[21:19] <geoffb> Putter, I saw you changed Perl 5 backend STATUS to <50% . . . but the smokeserve said like 52% last time I checked.  What happened?

[21:19] <geoffb> er, putter

[21:19] <autrijus> geoffb: note the number of tests run.

[21:20] <geoffb> yep, and that's why I'd said "of main tests (no ext/)"

[21:20] <geoffb> :-)

[21:20] <geoffb> Because otherwise it wouldn't match the way iblech counts PIL2JS quality

[21:20] <autrijus> ah. well then

[21:20] <autrijus> I think it's 52%.

[21:21] <geoffb> & # brb, build still in progress

[21:31] <geoffb> ooh, looks like success

[21:31] <svnbot6> r7418 | autrijus++ | * parrot embedding cabalized. I think.

[21:31] <geoffb> installing

[21:31] <autrijus> good!

[21:31] <autrijus> whew.

[21:31] <geoffb> Are you ready for me to try a dual-embed?

[21:31] <geoffb> w00t: Version: 6.2.9 (r7417)

[21:31] <autrijus> goahead

[21:31] <autrijus> woot

[21:32] <eric256> the svk.elixus.org server doesn't seem very stable...

[21:32] * eric256 means the web server...as i keep getting proxy errors

[21:32] <eric256> and i'm not behind a proxy 

[21:33] <Juerd> Proxies can be used on both ends

[21:33] <geoffb> oh, btw, looking at /usr/local . . . the tests for PIL2JS are getting installed, presumably because they are .t.html

[21:33] <Juerd> It can be very useful to cache your own website.

[21:33] <autrijus> geoffb: yeah, but I don't think we need to do much about it now

[21:33] <Juerd> Or to balance the load using a proxy

[21:33] <geoffb> nah, just fyi

[21:34] <autrijus> geoffb: unless you feel strongly, in which case go hack util/src_to_blib.pl :)

[21:34] <Juerd> Or to integrate several different kinds of web server software on a single hostname

[21:34] <geoffb> Bah, it's been about 2000 revs since I built parrot.  What's the standard thing?

[21:34] <geoffb> ah Configure.pl

[21:36] <dduncan> hello again

[21:37] * geoffb hears The Cars in his mind

[21:37] <dduncan> ping gaal

[21:37] <geoffb> er, that was really fast . . . does parrot normally build in like a minute or two?

[21:37] <dduncan> I've known about those failures for a few days ... they are related to hashes-and-arrays/pairs.t not working

[21:37] <dduncan> when pairs.t works, LKT should work

[21:38] <Juerd> Fuck.

[21:38] <Juerd> It's not good to type "halt" in a remote shell.

[21:38] <Juerd> Good thing this box is connected to an IP power switch.

[21:38] <autrijus> Juerd: indeed

[21:38] * Juerd should learn to use the power button instead of commands.

[21:38] <dduncan> or, I could be wrong ... will look into LKT again

[21:39] <autrijus> geoffb: yes, what a refreshing change from pugs.

[21:39] <geoffb> autrijus, wow, impressive

[21:39] <Juerd> ACPI works very well. IFF you use it.

[21:39] <autrijus> geoffb: but not if you throw ICU in

[21:39] <dduncan> fyi, Pugs 6.2.9 seems to 'make' fine under my current system

[21:39] <autrijus> which is considerably longer than pugs.

[21:39] <dduncan> will try a fresh checkout next

[21:39] <geoffb> autrijus, ah.

[21:44] <geoffb> What should be in PARROT_PATH?  I used the root of my parrot checkout, with trailing slash . . . but Makefile.PL spewed several 'Can't exec "parrot"' warnings

[21:44] <autrijus> geoffb: have you built it?

[21:44] <geoffb> nod, and installed

[21:44] <autrijus> geoffb: please chase Makefile.PL

[21:44] <autrijus> in parrot_config

[21:45] <autrijus> that needs to be fixed

[21:45] <geoffb> nodnod, I just wanted to make sure I had the expected dir in PARROT_PATH,

[21:45] <geoffb> before assuming the code was wrong

[21:48] <dduncan> fyi, I'm currently on 'make' of a fresh checkout

[21:50] <eric256> is there some reason that GHC wont use the pagefile while compiling? i mean if its gonig to be a memory hog...why isn't it nice about it?

[21:51] <eric256> autrijus i'm just about to start a new make, then i'll have the error for you

[21:53] <autrijus> eric256: cool

[21:53] <dduncan> on a side-track, I have a question about semantics concerning whether a Perl 6 module goes in /ext or /misc ...

[21:53] * geoffb smacks his forehead

[21:54] <geoffb> Duh, it's for lack of ./ -- OK, can I add that and not break Win32?

[21:54] <dduncan> if a module doesn't work "today" but it is expected to work by the time of the next Pugs release, can it go in /ext right away, or should it stay away until it works "today"?

[21:54] <autrijus> dduncan: go into ext/ with failing tests.

[21:54] * eric256 hands geoffb a giant pillow (with a 2x4 hidden in the middle)....here this will hurt less

[21:55] <geoffb> thanks, eric256 

[21:55] <autrijus> back... was hacking install logic in parrot's build system

[21:56] <leo__> autrijus: thanks

[21:56] <eric256> geoffb its always the little things that drive us nuts (spent 2 hours fighting with an upload script the other day only to find a typo in the actual HTML...;) )

[21:56] <geoffb> ouch

[21:57] <eric256> perlbot nopaset

[21:57] <eric256> perlbot nopaste

[21:57] <perlbot> Paste your code here and #<channel> will be able to view it: http://sial.org/pbot/<channel>

[21:58] <pasteling> "eric256" at 66.102.136.66 pasted "Memory Error" (7 lines, 393B) at http://sial.org/pbot/13537

[21:58] <eric256> ehh... i just realized that isn't the same error i was getting before

[21:58] <geoffb> OK, committed (and some SVK DWIM), off for another build

[21:58] <svnbot6> r7419 | geoffb++ | Makefile.PL: SVK-friendly DWIM for parrot dir, plus exec ./parrot rather than just parrot

[21:58] <eric256> still don't know what it means though

[22:00] <autrijus> geoffb: cool. so it built?

[22:00] <autrijus> ah, still building

[22:01] <geoffb> autrijus, yeah, still building

[22:03] * eric256 only now realizes that the evalbot includes the rev number in its now. ;)

[22:03] <eric256> autrijus any idea what causes that error?

[22:06] <autrijus> sorry, a sec

[22:07] <geoffb> OK, dual-embed failed.

[22:08] <geoffb> Pasting

[22:09] <pasteling> "geoffb" at 69.110.115.185 pasted "Dual-embed failure" (268 lines, 29.8K) at http://sial.org/pbot/13538

[22:09] <eric256> ?eval $?VERSION

[22:09] <evalbot_7419> Error: Undeclared variable: "$?VERSION" 

[22:10] <geoffb> ?eval $?PUGS_VERSION

[22:10] <evalbot_7419> \'Perl6 User\'s Golfing System, version 6.2.9, August 3, 2005 (r7419)' 

[22:10] <eric256> ahhh

[22:10] <eric256> i was suprised it managed to get the new version compiled and restart itself in 4 minutes. pretty impressive

[22:12] <autrijus> eric256: this is defintely not memory related

[22:12] <autrijus> eric256: ghc 6.4.1 unoptimised?

[22:12] <eric256> yea

[22:12] <autrijus> try optimised

[22:13] <autrijus> geoffb: fixed

[22:13] <geoffb> committed?

[22:14] * geoffb building as of 7420

[22:14] <svnbot6> r7420 | autrijus++ | * parrot embedding, try #142857.

[22:15] <geoffb> autrijus, at least you don't have to do *everything* yourself.  Just the hard part.  :-)

[22:15] <autrijus> lol.

[22:16] <dduncan> fyi, the clean checkout had a failure under my current setup, whereas the clean 6.2.9 worked fine ... both at 'make' time

[22:16] <dduncan> ld: archive: dist/build/libHSPugs-6.2.10.a has no table of contents, add one with ranlib(1) (can't load from it)

[22:16] <dduncan> Build failed: 256 at util/build_pugs.pl line 165.

[22:16] <wilx> You are missing Template Haskell support it seems.

[22:16] <wilx> Forgot to bootstrap GHC?

[22:17] <wilx> Or maybe not.

[22:17] <dduncan> I didn't do anything special, just installed GHC

[22:17] <dduncan> just a minute ...

[22:18] <SamB> dduncan: were you the guy who came to #haskell with that problem?

[22:18] <dduncan> I never went to #haskell at all

[22:19] <dduncan> I only mentioned any issues on #perl6

[22:19] <dduncan> if Template Haskell is a separate install from the normal GHC, then I don't have it

[22:20] <rep> it's not

[22:20] <rep> afaik, at least

[22:20] <SamB> dduncan: I think someone mentioned a similar problem in #haskell. maybe ask there?

[22:22] <autrijus> dduncan: how did you install ghc?

[22:22] <dduncan> in a minute ...

[22:23] <dduncan> I downloaded this: http://www.uni-graz.at/imawww/haskell/GHC-6.4.1.pkg.zip

[22:23] <dduncan> it had an installer, which I ran

[22:23] <SamB> dduncan: in fact, I believe they figured out what was causing it...

[22:23] <eric256> yea!!! it worked

[22:23] <dduncan> my make failure does mention template haskell

[22:23] <eric256> thansk autrijus

[22:24] <dduncan> before the error line I reported, it said: *** Building: /usr/local/bin/ghc -package stm -package network -package mtl -package template-haskell -package base -package unix -idist/build -Ldist/build -idist/build/src -Ldist/build/src -o pugs src/Main.hs -lHSPugs-6.2.10 -L. -Lsrc -Lsrc/syck -Lsrc/pcre

[22:24] <autrijus> eric256: cool

[22:24] <dduncan> but SamB, as you were saying ...

[22:25] <autrijus> dduncan: hm, it seems OSX wants ranlib

[22:25] <geoffb> autrijus, same error at 7420

[22:25] <eric256> any ideas why opimized failed? and should we add a note to that effect somwhere?

[22:25] <autrijus> dduncan: what if you run ranlib with it?

[22:25] <autrijus> geoffb: yow. sec

[22:25] <autrijus> eric256: you mean "unoptimised" failed?

[22:25] <geoffb> k

[22:25] <eric256> ehhh...yea

[22:25] <autrijus> eric256: no, no idea why, must be perlbug

[22:25] <SamB> I think I heard something about cabal not using libtool...

[22:25] <autrijus> er I mean ghcpug

[22:26] <autrijus> sigh I mean ghcbug.

[22:26] <autrijus> (guess that shows how ingrained p5 is to me)

[22:26] <autrijus> eric256: and gaal could reproduce it, so it's not your setup

[22:26] <autrijus> somehow I can't though.

[22:26] <autrijus> hm.

[22:27] <rafl> OK, what causes my build failure (that readline thingy) is that ./Setup calls ghc with '-DPUGS_HAS_READLINE=1 readline' instead of '-DPUGS_HAS_READLINE=1 -package readline'.

[22:27] <autrijus> eric256: it may worth documenting, but I don't know how -- in INSTALL perhaps

[22:27] <rafl> I suspect it's a Cabal bug, isn't it?

[22:27] <autrijus> rafl: ooh.

[22:27] <dduncan> autrijus, there is a 'ranlib' on my system, but I don't immediately know what to do with it

[22:27] <rafl> Cabal-1.0 as shiped by ghc 6.4.0.

[22:27] <dduncan> I'm not an expert with the C side of things

[22:27] <autrijus> dduncan: just run

[22:27] <autrijus> ranlib dist/build/libHSblahblah.a

[22:27] <geoffb> .oO( Why, after half a century of programming, are build systems still such a bloody pain? )

[22:27] <autrijus> where the blahblah is tab completed

[22:28] <rafl> autrijus: "ooh", what? :-)

[22:28] <autrijus> rafl: look at your Pugs.cabal

[22:28] <SamB> geoffb: because they either don't abstract enough or the abstractions don't cover enough

[22:28] <autrijus> see where readline occurs

[22:28] <dduncan> I'm svn-up again ...

[22:29] <rafl> autrijus: -package readline.

[22:29] <autrijus> rafl: so something is fishy.

[22:30] <autrijus> rafl: try removing the two occurences of readline, each at a time, ./Setup configure and ./Setup build

[22:30] <autrijus> and see if things improve.

[22:30] <rafl> The define as well?

[22:31] <autrijus> the readline -any

[22:31] <autrijus> in build-depends

[22:33] <rafl> Removing the build-dependency doesn't improve things. Removing the -DFOO -package readline does. Not sure if it will work as it is finished, though.

[22:34] <dduncan> okay, I did a: ranlib dist/build/libHSPugs-6.2.10.a 

[22:34] <dduncan> but a subsequent 'make' gave the same error

[22:34] <dduncan> will try Makefile.PL again ...

[22:36] <autrijus> rafl: I wonder if adding the -DFOO in will help

[22:37] <autrijus> dduncan: a sec

[22:37] <dduncan> btw, template haskell 1.0 is in my system, according to the makefile/make output

[22:40] <dduncan> autrijus, I'll wait to see what you come up with ... my other tries failed

[22:40] <autrijus> dduncan: up and try again

[22:41] <svnbot6> r7421 | autrijus++ | * do a ranlib for OSX, prompted by dduncan.

[22:41] <autrijus> just straight "make"

[22:42] <dduncan> seems to be doing something right ...

[22:44] <geoffb> autrijus, ping me if you want me to try a dual-embed build again, my attention is mostly on $work right now

[22:44] <autrijus> geoffb: yeah, I'm will fiddling with this on my laptop

[22:44] <geoffb> k

[22:45] <dduncan> still working ...

[22:45] <dduncan> autrijus, your change got 'make' to continue on and generate the prelude ... now its on the second compile pass, working on Pugs.Run ... taking awhile

[22:46] <autrijus> it would

[22:46] <autrijus> but I think it works

[22:46] <dduncan> I'll announce when something else happens

[22:47] <dduncan> right, 'make' is done!

[22:48] <dduncan> now trying a smoke

[22:49] <dduncan> thanks for that ... good to have experts around!

[23:03] <rafl> autrijus: OK, compilation succeeded.

[23:03] <rafl> autrijus: However, there's no pugs executable.

[23:04] <rafl> autrijus: So what's going wrong here? There's -package readline in Pugs.cabal but ./Setup omit's the -package when calling ghc? Seems to be a Cabal bug to me.

[23:06] <autrijus> rafl: hm, "compilation"?

[23:06] <autrijus> ./Setup build 

[23:06] <autrijus> does not build executable

[23:07] <autrijus> rafl: it may be a Cabal bug, but we don't need that extra -package anyway in the ghc cmdline

[23:07] <autrijus> so maybe we can safely omit it.

[23:07] <rafl> autrijus: OK, will you do the according changes? My development box doesn't have a connection ATM.

[23:07] <autrijus> I'll do so

[23:09] <rafl> Would be nice to put the diff somewhere on the net so I can do the same changes locally without needing to use websvn *brrr*..

[23:10] <leo__> autrijus: parrot embed/install is ok?

[23:10] <autrijus> leo__: yes

[23:10] <leo__> woot - super

[23:10] <autrijus> geoffb: fixed (I think.)

[23:11] <geoffb> r#?

[23:11] <autrijus> still building here but got past the bogus point

[23:11] <autrijus> 7422

[23:12] <geoffb> OK, making 7422 after realclean

[23:13] <autrijus> gawd

[23:13] <autrijus> one remaining problem

[23:13] <autrijus> src/global_setup.c:34: undefined reference to `parrot_get_config_string'

[23:13] <autrijus> leo__: what should I link against?

[23:14] <leo__> installed exec?

[23:14] <autrijus> ah, need to put ./src/parrot_config.o

[23:14] <autrijus> right?

[23:15] <autrijus> hm weird, parrot_config.o is in the .a already

[23:15] <svnbot6> r7422 | autrijus++ | * remove the redundant "-package readline" from ghc-options at

[23:15] <svnbot6> r7422 | autrijus++ |   rafl's suggestion to work around yet more Cabal-1.0 bug.

[23:15] <svnbot6> r7422 | autrijus++ | * also, normalize the -D flags to not use =1.

[23:15] <autrijus> I don't get it. :-/

[23:16] <autrijus> it should've been caught by build_pugs line 126

[23:16] <leo__>  $(SRC_DIR)/install_config$(O) \

[23:16] <leo__> after 'make install' in parrote

[23:16] <autrijus> leo__: right, it's just linking against parrot by its own is no problem

[23:16] <autrijus> somehow parrot+perl5 fails

[23:16] <autrijus> however, I need to find food and (maybe) nap a bit

[23:17] <leo__> parrot_config is the uninstalled parrot

[23:17] <autrijus> yeah, I'm linking against the uninstalled one

[23:17] <autrijus> for this build

[23:17] <leo__> install_config knows about --prefix, to find it's libs

[23:17] <autrijus> yup

[23:17] <autrijus> the thing is why doing p5+parrot fails

[23:18] <autrijus> yet parrot and p5 by their own succeeds

[23:18] <autrijus> geoffb: I'll bbiab

[23:18] <autrijus> but please see if you run into the same bug.

[23:18] <geoffb> autrijus, OK, I'll paste the result

[23:18] <autrijus> geoffb++

[23:18] <geoffb> (when it comes)

[23:18] <geoffb> autrijus++ # persistence in the face of adversity

[23:20] * leo__ thinks that pugs install could just build install_config.o as the parrot Makefile does, then continue install

[23:24] <pasteling> "geoffb" at 69.110.115.185 pasted "Latest dual-embed failure" (268 lines, 29.9K) at http://sial.org/pbot/13543

[23:24] <geoffb> autrijus, latest failure pasted

[23:24] <geoffb> (that was 7422, opt dual-embed, for those in the peanut gallery)

