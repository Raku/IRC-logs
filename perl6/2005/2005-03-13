[00:01] * Juerd z

[00:16] * theorbtwo crazy is.

[00:34] <jabbot> pugs - 626 - More authors updates: extra column with 

[00:52] * Khisanth strangles YAHT

[00:54] <theorbtwo> http://desert-island.dynodns.net/perl/prims.html

[00:55] <Khisanth> is that all the implemented operators?

[00:57] <theorbtwo> Yep.

[00:59] <theorbtwo> Currently done with a little p5 script that takes them out of initSyms = table in Prims.hs

[01:00] <theorbtwo> The presentation could use some work, but I'm not 100% sure what to do with it.

[01:10] <theorbtwo> Allo, FOAD.

[01:17] <Khisanth> theorbtwo: can't do it in p6 yet? :)

[01:19] <theorbtwo> Hm, could, but would be hard.

[01:19] <theorbtwo> Regexes are a great goodness.

[01:24] <theorbtwo> Updated

[01:24] <theorbtwo> sleep &

[02:17] <mugwump> I guess perl5 regexes would be `easier' via pcre than implementing perl6 regexes straight away

[02:18] <obra>     i thought pcre wasn't quite C

[02:19] <mugwump> :-/

[02:19] <mugwump> How is your weekend going for you anyway obra ?

[02:21] <obra> Today was ok. I haven't done the work work I need to do before monday, but I got Devel::CallTrace commented, tested, docced and uploaded

[02:21] <obra> Which has led me to want to understand the debugger

[02:27] <mugwump> yeah.  ever looked at the implementation of Devel::Cover vs. Devel::Coverage?

[02:31] <obra> nope

[02:47] <mugwump> Devel::Coverage uses the debugging hooks, Devel::Cover uses a more comphrehensive approach - it replaces Perl_runops

[02:48] <mugwump> AIUI

[02:48] <obra>    nod

[02:48] <obra> pjcj said that the hooks jst aren't suffiicnent for that

[02:48] <obra> man. cna't type

[02:49] <mugwump> I had to bite my tongue at the last PM meet when someone had just finished off showing off Devel::Cover, then described "how it works" like Devel::Coverage.  Didn't want to look like a pratt ;)

[02:54] <mugwump> I was thinking, "I remember being shown this at a presentation before it was released"

[03:04] <obra> heh

[03:23] <mugwump> Yay, my crack-fueled quantum junction script got another complete standing down message from Larry!  Those are the best.

[03:24] <metaperl> standing down? you mean he rejected it?

[03:33] <mugwump> http://xrl.us/fe9d (Link to groups-beta.google.com)

[03:34] <mugwump> right, gotta go, cafe closing...

[03:44] <jabbot> pugs - 627 - Added examples/golf, containing Santa Cl

[05:14] <jabbot> pugs - 629 - * param extraction for $_ and $^x now en

[05:14] <jabbot> pugs - 628 - * use proper 'skip' syntax

[05:15] <autrijus> lucs: fixed.

[05:15] <obra> morning, autrijus

[05:15] <autrijus> hey obra.

[05:20] <lucs> autrijus: Thanks. And good morning :)

[05:21] <autrijus> :)

[05:21] <autrijus> I'll start to write pugscc now.

[05:21] <autrijus> est 3 mins :)

[05:22] <autrijus> "compile p6 to native code and deter all reverse engineering attempts!"

[05:22] <autrijus> or something.

[05:22] * obra is timing from now until he sees the checkin

[05:22] <obra> "compile perl6 to native code for a huge performance boost"?

[05:23] <autrijus> not huge. same as B::*

[05:23] <autrijus> currently.

[05:23] <autrijus> ~ same as B::C

[05:25] <lucs> Simple as a B::C.

[05:29] <autrijus> done. testing.

[05:29] <autrijus> (yeah, more than 3 mins. :-/)

[05:29] <obra> you are forgiven

[05:29] <obra> how many loc?

[05:30] <autrijus> 12

[05:30] <obra> you-- # you promised it would be 0 loc

[05:30] <obra> autrijus++ # pugs->native code

[05:30] <autrijus> all 12 is in the "pugscc" helper script.

[05:30] <autrijus> ;)

[05:30] <obra> hah

[05:30] <obra> you++ # no new core code

[05:30] <autrijus> so I consider 0 really.

[05:31] <obra> fair

[05:31] <autrijus> committing.

[05:31] * obra looks around for clkao

[05:31] <obra> it appears that his p5 p4 mirror is missing files

[05:32] <autrijus> hm.

[05:33] * autrijus finds a security exploit.

[05:33] <autrijus> in pugscc.

[05:33] * autrijus blames p5 and fixes that.

[05:34] <obra> nice

[05:44] <jabbot> pugs - 630 - * first cut at pugscc

[05:46] <nothingmuch> hola

[05:47] * obra reads perl5db.pl and starts to twitch

[05:51] <autrijus> ok, we have a honest-to-god pugscc now.

[05:52] <autrijus> the executable it generates depends on nothing but libc :)

[05:52] <autrijus> so it's more like 30 minutes :)

[05:52] <obra> wow

[05:52] <obra> how big is hello world?

[05:52] <autrijus> and I'm sad to report that the loc is 24 lines

[05:53] <autrijus> including empty lines

[05:53] <nothingmuch> how does it do that?

[05:53] <autrijus> 3.6mb

[05:53] <autrijus> nothingmuch: read script/pugscc :)

[05:53] <obra> stripped?

[05:53] <nothingmuch> autrijus: did you look at my annoyances of yesterday, btw?

[05:53] <autrijus> not sure how to strip a win32 executable

[05:54] <autrijus> nothingmuch: zip?

[05:54] <jabbot> pugs - 631 - * fixed typos and cleaned up messages.

[05:54] <nothingmuch> uhuh

[05:54] <Khisanth> get strip from cygwin/mingw?

[05:54] <nothingmuch> ah

[05:54] <autrijus> maybe. not very concerned at this point.

[05:55] <nothingmuch> pugscc is naughty

[05:55] <autrijus> it is!

[05:55] <nothingmuch> autrijus++

[05:55] <autrijus> but imagine doing it with C!

[05:55] <autrijus> :)

[05:55] <Khisanth> witing pugscc with C?

[05:55] <autrijus> actually, don't imagine, look at B::C :)

[05:55] <autrijus> Khisanth: aye. pugscc does exactly what B::C in perl5 did.

[05:55] <autrijus> well, not exactly, but a close approximation

[05:55] <nothingmuch> autrijus: when i'll get to work i'd like to implement zip

[05:55] <nothingmuch> and get some help on that

[05:55] <autrijus> nothingmuch: cool

[05:56] <autrijus> sure

[05:56] <nothingmuch> ok

[05:56] <nothingmuch> now i've got to get ready and stuff

[05:56] <autrijus> see ya

[05:57] <Khisanth> works better than B::C? :)

[05:57] <autrijus> of course :)

[05:58] <Khisanth> s/better/more reliably/

[05:58] <Khisanth> it was kinda hit and miss thing

[06:02] <autrijus> well, try it and see :)

[06:04] <jabbot> pugs - 632 - * even more cleanup on pugscc; now assum

[06:04] <autrijus> ingy: I think doc/perlkwid.kwid belonds to ext/Kwid/doc

[06:04] <autrijus> or ext/Kwid/lib

[06:04] <autrijus> but I think it's cool for each ext to maintain their own installable kwids.

[06:11] <Khisanth> how do you use it?

[06:12] * Khisanth tried compiling one of he examples

[06:14] <jabbot> pugs - 633 - * add usage info and pathsep to pugscc

[06:16] <autrijus> Khisanth: hm?

[06:16] <autrijus> make install

[06:16] <autrijus> pugscc examples/life.p6

[06:16] <Khisanth> can't just do perl scripts/pugscc ?

[06:17] <autrijus> that should work also, provided a "pugs" executable is built first

[06:17] <autrijus> i.e. after "make"

[06:17] <autrijus> (in r633)

[06:18] <Khisanth> getting "Fail: -C: openFile: does not exist (No such file or directory)" with a file and with -e

[06:19] <autrijus> did you rebuild pugs?

[06:20] <autrijus> a sec

[06:22] * Khisanth makes clean just to be sure

[06:24] <autrijus> try r634?

[06:24] <autrijus> I wonder what's wrong.

[06:24] <nothingmuch> damnit

[06:24] <nothingmuch> censoreship sucks

[06:24] <autrijus> does "pugs -C -e 'print 123'" work for you?

[06:24] <nothingmuch> now my mother hates me, /and/ she won't better herself

[06:24] <autrijus> eh?

[06:24] <nothingmuch> all because I kept my mouth shut for years

[06:26] <Khisanth> same error

[06:26] <Khisanth> after the make clean that is, tryin 634

[06:27] <autrijus> very strange.

[06:27] <nothingmuch> ok, well anyway

[06:27] <nothingmuch> my ride is here in an hour

[06:27] <nothingmuch> and I'm ready

[06:27] <autrijus> anyone else willing to try pugscc and see if it works?

[06:27] <nothingmuch> so i'd like to do the zip thing

[06:28] <nothingmuch> autrijus: trying...

[06:28] <autrijus> ok. you'd like to make semicolon inside brackets to be multidim constructor

[06:28] <nothingmuch> i think

[06:28] <nothingmuch> will that yield a list of lists in pugs internals?

[06:28] <autrijus> yes.

[06:29] <nothingmuch> ok, then that's what we'll do

[06:29] <nothingmuch> and then make an explicit type vcast thingy

[06:30] <autrijus> yeah.

[06:30] <nothingmuch> where the thing wants a vlist where the Vlist -> a => Vlist a ?

[06:30] <autrijus> the trick is how to make

[06:30] <autrijus> zip @a;@b

[06:30] <autrijus> and

[06:30] <autrijus> zip(@a;@b)

[06:30] <autrijus> parse differently.

[06:30] <nothingmuch> oh my

[06:30] <nothingmuch> ';' is evil

[06:31] <Khisanth> is the ; in first case ending the statement?

[06:31] <autrijus> yup.

[06:31] <autrijus> may I interest you in the Y operator first? :D

[06:32] <nothingmuch> you may

[06:32] <autrijus> i.e. let's first make zip work before tackling ;

[06:32] <nothingmuch> how does chaining stuff work?

[06:32] <autrijus> it's list-associative

[06:32] <Khisanth> that ; looks for for obfuscating :)

[06:32] <autrijus> chaining means something else

[06:32] <Khisanth> s/for/good/

[06:33] <autrijus> nothingmuch: just add a 

[06:33] <nothingmuch> autrijus: explain what the tree looks like

[06:33] <autrijus> \\n   List  list    Y       (List)\

[06:33] <nothingmuch> for @a Â¥ @b Â¥ @c

[06:33] <autrijus> and it will Just Work.

[06:33] <nothingmuch> vs. (@a Â¥ @b) Â¥ @c

[06:34] <jabbot> pugs - 635 - * first approximation of <>

[06:34] <jabbot> pugs - 634 - * use absolute path throughout.

[06:34] <autrijus> a sec.

[06:34] <autrijus> well, currently it is a bug

[06:34] <autrijus> (@a Y @b) Y @c

[06:34] <autrijus> will also be parsed as list-associative

[06:34] <autrijus> so we need to fix that

[06:35] <autrijus> the place to fix this is in Lexer

[06:35] <nothingmuch> hmm

[06:36] <autrijus> that is nontrivial, so I'll just outline the idea

[06:36] <nothingmuch> i think we'll start with @a Â¥Â @b Â¥Â @c working correctly

[06:36] <autrijus> you can just assume it's there and write the rest thing :)

[06:36] <nothingmuch> brb, and then we start

[06:36] <autrijus> exactly.

[06:37] <autrijus> food &

[06:37] <autrijus> will be back in a few mins

[06:42] <nothingmuch> ok

[06:42] * nothingmuch is now back, but autrijus is gone ;-)

[06:42] <autrijus> I'm still here:)

[06:42] <autrijus> so, added the two lines (Y and Yen) to Prim.hs?

[06:43] <autrijus> as list-associative OPs

[06:43] <nothingmuch> doing now

[06:43] <nothingmuch> unicode inline?

[06:43] <autrijus> they are of the op0 category

[06:43] <nothingmuch> or should i put the code?

[06:43] <autrijus> \000 etc for now

[06:44] * nothingmuch should look at what | et al do?

[06:44] <autrijus> aw. never mind.

[06:44] <autrijus> just use utf8 ;)

[06:44] <autrijus> time to bite the bullet

[06:44] <autrijus> anyway. so as listOps they take a list.

[06:45] <nothingmuch> the bottom of Prim.hs is percedence order , right?

[06:45] <autrijus> no...

[06:45] <nothingmuch> or can i just slap it anywhere?

[06:45] <autrijus> precedence is now in Parser.hs

[06:45] <autrijus> we should unify them

[06:45] <autrijus> but not for 6.0.11

[06:45] <nothingmuch> ok

[06:45] <autrijus> you can slap it anywhere you feel like

[06:46] <nothingmuch> \\n   List      list	Y		(List)\

[06:46] <nothingmuch> ?

[06:46] <nothingmuch> \\n   List      list	Â¥		(List)\

[06:46] <nothingmuch> seems like hypers use utf8

[06:47] <autrijus> I'll handle Parser

[06:47] <autrijus> right just use utf8

[06:48] <autrijus> Y and Yen are now parsed.

[06:48] <autrijus> now just hook them to your "zip" op0

[06:48] <nothingmuch> op0 "Â¥" = return . VList . concat . transpose . map vCast?

[06:48] <autrijus> and that should be all.

[06:48] <nothingmuch> looking at op0 ",", sort of

[06:49] <autrijus> op0 "Y" = op0 "Â¥"

[06:49] <autrijus> that's all

[06:49] <nothingmuch> is my solution OK?

[06:49] <nothingmuch> or should I revert to the old?

[06:50] <autrijus> does transpose stop whenever the shorter list stops?

[06:50] <nothingmuch> no

[06:50] <nothingmuch> it does the right string

[06:50] <nothingmuch> thing

[06:50] <autrijus> yay.

[06:50] <nothingmuch> adding 'import List'

[06:50] <nothingmuch> it's very pretty

[06:50] <autrijus> nono

[06:50] <autrijus> in Internals

[06:50] <nothingmuch> so List.transpose?

[06:51] <autrijus> line 74

[06:51] <autrijus> add "transpost" there

[06:51] <autrijus> add "transpose" there

[06:51] <autrijus> and just use transpose without extra "import List"

[06:52] <autrijus> wow. transpose is really Just The Right Thing

[06:52] <autrijus> I think that's all it takes.

[06:54] <nothingmuch> having trouble with op0 patterns

[06:54] <jabbot> pugs - 636 - * infix Y is now parsed; listOPify thing

[06:54] <nothingmuch>                  op0 "\194\165" = ...

[06:54] <nothingmuch>                  op0 "Y" = ...

[06:55] <autrijus> does it not work?

[06:55] <nothingmuch> no

[06:55] <nothingmuch>     Warning: Pattern match(es) are overlapped

[06:55] <nothingmuch>              In the definition of `op0': op0 "\194\165" = ...

[06:56] <autrijus> it's not fatal

[06:56] <autrijus> just commit it and we'll deal.

[06:56] <nothingmuch> one second

[06:56] <nothingmuch> running tests

[06:59] <nothingmuch> tests are not passing

[07:01] <autrijus> and i know why

[07:01] <autrijus> luqui broke list assoc a while ago it seems

[07:01] <autrijus>  fixing

[07:02] <autrijus> fixed.

[07:02] <autrijus> up to r637

[07:02] <autrijus> and things should work.

[07:03] <nothingmuch> Fail: cannot cast as Str: VError "unimplemented listOp: \194\165" (Val (VList [VInt 0,VInt 4,VInt 2,VInt 6]))

[07:03] <ingy> hola

[07:03] <nothingmuch> hola ingy

[07:03] <nothingmuch> why does it want a str?

[07:04] <jabbot> pugs - 639 - * save a pattern match

[07:04] <jabbot> pugs - 638 - Converted pa01 to kwid.

[07:04] <jabbot> pugs - 637 - * resurrect list-associativity evaluatio

[07:04] <ingy> oh nice

[07:04] <ingy> 638 was me of course

[07:04] <autrijus> nothingmuch: try Y first? :)

[07:04] <autrijus> ingy: woot!

[07:05] <autrijus> now we need to talk a bit about doc/ vs docs/ :)

[07:05] <nothingmuch> pugs> (1,2) Y (3, 4)

[07:05] <nothingmuch> *** Error: "unimplemented listOp: Y" at (1, 2, 3, 4)

[07:05] <ingy> we need those kwid tools

[07:05] <autrijus> aww you killed 01Overview.html!

[07:05] <autrijus> people are linking to it :-/

[07:05] <ingy> I have to tune out. see y'all tommorrow. I plan on working on the Kwid ext

[07:06] <ingy> autrijus: undelete it

[07:06] <autrijus> ok.

[07:06] <ingy> I just didn't want skew

[07:06] <ingy> nite all!

[07:06] <autrijus> nite!

[07:07] <autrijus> thanks ingy!

[07:07] <autrijus> nothingmuch: weird. that error only happens when there is no "op0 Y"

[07:08] <nothingmuch> hmm

[07:08] <nothingmuch> is it related to:

[07:08] <nothingmuch> src/Prim.hs:22:

[07:08] <nothingmuch>     Warning: Pattern match(es) are overlapped

[07:08] <nothingmuch>              In the definition of `op0': op0 "\194\165" = ...

[07:09] <autrijus> maybe. comment out the 194 part?

[07:09] <nothingmuch> op Y only now

[07:09] <autrijus> yup

[07:12] <nothingmuch> not working

[07:13] <autrijus> commit?

[07:13] <autrijus> I'll see

[07:13] <nothingmuch> ok

[07:14] <jabbot> pugs - 641 - * fix typo

[07:14] <jabbot> pugs - 640 - undelete

[07:15] <nothingmuch> 642

[07:16] <autrijus> looking

[07:17] <autrijus> ahh.

[07:17] <autrijus> you shoulve'added it _before_ "op0 s"

[07:17] <autrijus> because "op0 s" is the base case.

[07:17] <nothingmuch> heh

[07:18] <nothingmuch> i think i did something naughty in line 74

[07:19] <nothingmuch> ok, something is starting

[07:19] <autrijus> r643 fixed

[07:20] <nothingmuch>  it is giving the first array

[07:20] <nothingmuch> @a Â¥Â @b Â¥ @c -> @a

[07:21] <autrijus> fixing

[07:21] <autrijus> I see. it's already flattened when it's passed in.

[07:22] * lightstep notes that -Wall actually warns now

[07:22] <nothingmuch> ?

[07:22] <autrijus> lightstep: 6.4?

[07:22] <lightstep> 6.2.2

[07:22] <autrijus> what warning?

[07:22] <nothingmuch> good morning, lightstep

[07:22] <lightstep> g'morning

[07:23] <lightstep> we're UTC+2

[07:23] <clkao> autrijus: where's your xcin25-utf8 port?

[07:23] <nothingmuch> sorry about 74, autrijus!

[07:24] <autrijus> fixed!

[07:24] <jabbot> pugs - 644 - * unnaughtify lien 74

[07:24] <jabbot> pugs - 643 - * fix ordering; better debug msg for uni

[07:24] <jabbot> pugs - 642 - Attempt at Y and yen operators

[07:24] <autrijus> clkao: wagner.elixus.org/~autrijus/xcin-utf8-ports.tar.gz

[07:24] <nothingmuch> i think tests 2, 3, 5, 6 should pass

[07:25] <nothingmuch> 8, 9 - wrong value, but not the current wrong value

[07:25] <lightstep> the case in readVar (at AST.hs) ignores the possibility of symExp not being a Val

[07:25] <nothingmuch> it'll yield 0, 2, 1, 4, 6, 3, 5, 7, instead of 0, 1, 2, 3, 4, 5, 6, 7

[07:25] <clkao> cheers autrijus

[07:25] <nothingmuch> i'll test for that

[07:26] <nothingmuch> err, well, it is tested for, actually

[07:26] <nothingmuch> actually there's no real room for improvement

[07:26] <autrijus> r645, fixed!

[07:26] <nothingmuch> what was the diff?

[07:27] <nothingmuch> err, same results

[07:28] <nothingmuch> ahg

[07:28] <nothingmuch> wait

[07:29] <nothingmuch> zip of two arrays seems to be sort of working

[07:29] <nothingmuch> my @y; eval '@y = (@a Â¥ @b) Â¥ @c';

[07:29] <nothingmuch> @y eq @a Â¥ @b

[07:29] <nothingmuch> maybe it's a parsing error

[07:30] <nothingmuch> 	my @y; eval '@y = (@a Â¥ @b)';

[07:30] <nothingmuch> 	todo_is(~@y, ~@e, "also with yen char");

[07:30] <autrijus> not an error!

[07:30] <autrijus>     assignment          = := ::= += **= xx=

[07:30] <autrijus>     list item separator , ¥

[07:30] <nothingmuch> ok 2 - also with yen char # TODO

[07:31] <autrijus> see, Y is lower than =

[07:31] <nothingmuch> oh!

[07:31] <nothingmuch> crap

[07:31] <nothingmuch> why the hell is that?

[07:31] <nothingmuch> nevermind

[07:31] * nothingmuch hates it when assignment is higher percedence than things you do

[07:31] <nothingmuch> i'll fix the tests

[07:32] <autrijus> ok.

[07:32] <autrijus> brb

[07:32] <nothingmuch> hmm

[07:34] <jabbot> pugs - 646 - Fix test due to Y/= prec issues, and unt

[07:34] <jabbot> pugs - 645 - * fixed op0 parsing... this broke some t

[07:34] <nothingmuch> with 3 parms it does not work

[07:34] <nothingmuch> that is now a bug in the impl

[07:35] <lightstep> why does yen stand for zip?

[07:35] <nothingmuch> because it looks like a zipper

[07:35] <nothingmuch> =D

[07:36] <nothingmuch> ride is

[07:38] <lightstep> do i have to cd to the Test.pm directory to run the tests?

[07:43] <autrijus> lightstep: no, just make install

[07:43] <autrijus> or set PERL6LIB

[07:46] <lightstep> thanks

[07:49] <lumi> There's a hash stringify test that fails because of precedence

[07:50] <lumi> Ghh, or I'm wrong

[07:52] <autrijus> whoa. our new committer, asavige, is pure genius

[07:53] * autrijus running his http://wagner.elixus.org/~autrijus/saturn.perl

[07:55] <lumi> I'm wrong, itfails because of junction eq?

[07:55] <autrijus> a sec :)

[07:56] <obra> um. er. fear.

[07:56] <obra> planet6

[07:56] <autrijus> obra: did you run it with perl5?

[07:57] <obra> I have not yet. should I?

[07:57] <autrijus> sure!

[07:57] <autrijus> please do so.

[07:57] <obra> oh.

[07:57] <obra> wow

[07:58] <autrijus> sheer genius

[07:58] <obra> That's insane

[07:58] <obra> does it work in perl6?

[07:58] <autrijus> perl6 will have much more insane obfus

[07:58] <autrijus> ;)

[07:58] <autrijus> (no)

[07:58] <obra> heh

[08:02] <lumi> Something really broken with junction comparison?

[08:03] <lumi> '5 == (5 | 6)' evals to false

[08:03] * obra -> sleeep

[08:03] <autrijus> I'm fixing them, lumi :)

[08:04] <lumi> I could write a test..

[08:05] <autrijus> r647.

[08:13] <autrijus> lumi: should be fixed now

[08:14] <jabbot> pugs - 647 - * revive list-based listops

[08:23] <nothingmuch> so...

[08:23] <autrijus> so, 2 tests are failing

[08:23] <autrijus> #          got: '0 2 1 5 3 4'

[08:23] <autrijus> #     expected: '0 1 2 3 4 5'

[08:23] <autrijus> both reads that

[08:23] <autrijus> you have time to investigate?

[08:23] <autrijus> or should I?

[08:23] <nothingmuch> i will try

[08:24] <nothingmuch> but that i think it's beyond me

[08:24] <autrijus> okie. I'll work some more toward 6.0.11 releng.

[08:24] <autrijus> ok, I'll do that too :)

[08:24] <nothingmuch> i'll keep trying to grok it

[08:24] <nothingmuch> and ask questions

[08:24] <nothingmuch> and in the end i'd like to know what went wrong

[08:24] <nothingmuch> for starters: what is mapM doing in that example?

[08:24] <autrijus> k.

[08:24] <nothingmuch> ensuring that all elems are extracted in order?

[08:25] <nothingmuch> and elem extraction:

[08:25] <nothingmuch> is that the actual array refs?

[08:26] <autrijus> mapM fromValue

[08:26] <autrijus> fromValue is the monad version of castV

[08:26] <autrijus> castV can't read from mutable variables or references to them

[08:26] <autrijus> fromValue could

[08:26] <autrijus> mapM fromValue is like map castV

[08:26] <autrijus> I need to find more food.

[08:27] <autrijus> will be back in a bit.

[09:06] <nothingmuch> phew

[09:07] <nothingmuch> ok, back to pugs

[09:17] <nothingmuch> ok

[09:17] <nothingmuch> back again

[09:17] <nothingmuch> and looking at it i see:

[09:17] <nothingmuch> @a Â¥Â  @b Â¥ @c makes sense in the way that (@a Â¥Â @b ) Â¥ @c should

[09:20] <nothingmuch> pugs> (0, 4) Y (2, 6) Y (1, 3, 5, 7)

[09:20] <nothingmuch> (0, 1, 2, 3, 4, 5, 6, 7)

[09:21] <nothingmuch> pugs> (( 0, 4) Y (2, 6)) Y (1, 3, 5, 7)

[09:21] <nothingmuch> (0, 1, 2, 3, 4, 5, 6, 7)

[09:21] <nothingmuch> that makes sense

[09:21] <nothingmuch> but without grouping it should be per n arrays, not per 2 arrays N times

[09:22] <nothingmuch> autrijus: so how do we make the first Â¥ be the actual op, and the subsequent ones more like a , argument to it?

[09:29] <autrijus> nothingmuch: fixed!

[09:29] <autrijus> list assoc redistirbution was still looking for args

[09:29] <autrijus> instead of invs 

[09:29] <autrijus> and it's now all invs thanks to luqui

[09:29] <autrijus> so that's fixed

[09:29] <autrijus> now of course ((a Y b) Y c) breaks

[09:32] <autrijus> we can work around it by decreeing () is a special construct "Paren"

[09:32] <autrijus> or by truly implement the listop parsing foo in Lexer

[09:32] <autrijus> the latter is of course the way to go

[09:32] <autrijus> but I don't think it's release-critical for 6.0.11.

[09:33] <autrijus> so, anyone got any pet things that needs to go into 6.0.11 before I start releng?

[09:34] <nothingmuch> umm

[09:34] <nothingmuch> not me

[09:35] <autrijus> perlbot: seen stevan

[09:38] <jabbot> pugs - 649 - * list association redistribution now re

[09:38] <jabbot> pugs - 648 - -c now mimicks perl5's -c behaviour.

[09:38] <Khisanth> blind bot!

[09:40] <autrijus> bbiab. &

[09:40] <nothingmuch> autrijus: is (@a Â¥ @b) Â¥Â @c a bug or todo?

[09:41] <autrijus> it is a todo.

[09:41] <nothingmuch> ok

[09:41] <autrijus> it's a lexer todo, to be specific.

[09:45] <vladtz> now that Y works I noticed a FIXME in given.t, can I send it to someone?

[09:47] <lumi> There's a typo on the --help

[09:48] <lumi> "it's" should be "its"

[09:51] <vladtz> in zip.t it says: zip(@a;@b), should not the ; ba a , ??

[09:51] <vladtz> Synopsis syas ,

[10:12] <vladtz> S03 says , S04 syzs ; which one is correct,  semicolon looks odd to me

[10:15] <tiw> d

[10:16] <tiw> perl 5 style sub seem do not work

[10:16] <nothingmuch> vladtz: luke palmer says it needs to be ;

[10:18] <tiw> sub s{say $_[0]; say $_[1];} just print the first arg.

[10:19] <vladtz> OK, more reason to use Y

[10:19] <nothingmuch> uhuh =)

[10:21] <nothingmuch> vladtz: r650 makes given.t use Â¥

[10:21] <nothingmuch> tiw: do you know if that's tested?

[10:21] <tiw> i didn't find it in test

[10:21] <nothingmuch> i'll try to write it

[10:21] <nothingmuch> basically:

[10:22] <nothingmuch> my @result; sub s { push @result, $_[0]; push @result $_[1] }

[10:22] <nothingmuch> s(<foo bar>)

[10:22] <vladtz> Oops, I menat: I did the fix, not fix it :-(

[10:23] <nothingmuch> todo_is(@result, <foo bar>, "...")?

[10:23] <nothingmuch> oops! sorry...

[10:23] <nothingmuch> in that case

[10:23] <nothingmuch> sign up for rt.openfoundry.org access

[10:23] <nothingmuch> and become a comitter

[10:24] <tiw> ok, i will do it

[10:27] <jabbot> pugs - 650 - Use yen operator to simplify testing

[10:29] <clkao> yen operator

[10:30] <nothingmuch> clkao: huh?

[10:32] <theorb> Morning, all.

[10:33] <nothingmuch> hola orb

[10:38] <theorb> http://desert-island.dynodns.org/perl/prims.html should now be up-to-date.

[10:42] <nothingmuch> theorb: i can't do a proper lookup on that

[10:42] <nothingmuch> is the TLD correct?

[10:43] <theorb> http://desert-island.dynodns.net/perl/prims.html should now be up-to-date.

[10:43] <theorb> You'd think after all this time, I'd remember what the TLD is.

[10:43] <theorb> Perhaps I should just get a dynodns.org account additionally.

[10:44] <nothingmuch> wtf?

[10:44] <nothingmuch> left-associative infix

[10:44] <nothingmuch> List

[10:44] <nothingmuch> zip

[10:44] <nothingmuch> (

[10:44] <nothingmuch> List

[10:44] <nothingmuch>  ($List zip $List) zip $Lis

[10:47] <theorb> \\n   List      left    zip     (List)\

[10:48] <theorb> There's some that are known wrong... but that's not one of them... that's a very odd definition line.

[10:48] * nothingmuch blames it on autrijus

[10:48] <nothingmuch> *shrug*

[10:55] <theorb> BBIAB.

[10:58] <tiw> i have change subroutine.t : -plan 12;

[10:58] <tiw> +plan 13;

[10:58] <tiw>  sub foobar ($var) {

[10:58] <tiw>      return $var;

[10:58] <tiw> @@ -70,3 +70,11 @@

[10:58] <tiw>  is($_, "-wibble-", 'sub closures close');

[10:58] <tiw>  $_ = $block.();

[10:58] <tiw>  is($_, "-quux-", 'block closures close');

[10:58] <tiw> +

[10:58] <tiw> +my @result;

[10:58] <tiw> +sub perl5sub {

[10:58] <tiw> +    push @result , $_[0];

[10:58] <tiw> +    push @result, $_[1];

[10:58] <tiw> +}

[10:58] <tiw> +perl5sub(<foo bar>);

[10:58] <tiw> +todo_is(@result, <foo bar>, "use \@_ in sub");

[10:58] <tiw> is this ok?

[10:59] <nothingmuch> perlbot nopaste?

[10:59] <perlbot> Paste your code here and #perl will be able to view it: http://sial.org/pbot/perl

[10:59] <nothingmuch> you should use that normally

[10:59] <nothingmuch> now i'll read through

[10:59] <nothingmuch> it looks good, tiw

[10:59] <tiw> thanks

[10:59] <nothingmuch> only id use single quotes

[11:00] <nothingmuch> 'use @_ in sub'

[11:00] <nothingmuch> do you have commit access?

[11:00] <nothingmuch> ooh, we're going out to lunch, appearantly

[11:00] <tiw> i hava sign up in rt.openfoundry.org

[11:00] <Juerd> [http://perlmonks.org/index.pl?node_id=439079|That time of the year again!]

[11:01] <nothingmuch> tiw: so you can just type 'svn ci t/op/subroutine.t'

[11:01] <nothingmuch> and type in your login/password

[11:01] <tiw> ok, i do it

[11:01] <nothingmuch> or wherever subroutine.t is

[11:01] <nothingmuch> great!

[11:01] <nothingmuch> see you guys later

[11:01] <nothingmuch> lunch &

[11:13] <tiw> KVIrc 2.1.3 'Renaissance'

[11:20] <pasteling> "tiw" at 85.74.5.210 pasted "a test ignore it" (1 line, 16B) at http://sial.org/pbot/8138

[11:36] <pasteling> Someone at 85.74.5.210 pasted "another test, please ignore it" (80 lines, 1.6K) at http://sial.org/pbot/8140

[11:44] <tiw> Problem about commit access: i can login rt.openfoundry.org, but can not commit file with svn :(

[12:01] *** Aankh|Clone is now known as Aankhen``

[12:14] <nothingmuch> tiw: what error do you get?

[12:14] * castaway_ waves at nm

[12:14] <nothingmuch> hola castaway_!

[12:15] *** castaway_ is now known as castaway

[12:15] <castaway> (bah)

[12:15] * nothingmuch ate about 2.5 liters of salad

[12:15] <castaway> saladcomes in liters?

[12:15] <nothingmuch> well, it's harder to estimate the mass/weight

[12:15] <castaway> true

[12:15] <nothingmuch> i think it was around 1 kilo

[12:16] <castaway> excet that a liter is 1kilo weight.. so that must have been 2.5Kg

[12:17] <nothingmuch> well, if it were that dense, maybe

[12:17] <nothingmuch> but there was some grated salty cheese

[12:17] <nothingmuch> which is more volumenous than it's normal form

[12:17] <nothingmuch> and lots of lettuce

[12:17] <nothingmuch> and onions, in rings, which is not a dense form

[12:18] <nothingmuch> cucumber and tomatoe are probably .9x mass/volume of water in the shape they were there

[12:18] <nothingmuch> and lots of yellow pepper

[12:18] <nothingmuch> maybe a little less

[12:18] <nothingmuch> maybe it was more than 1k

[12:18] <nothingmuch> i think it's more logical that it was less than 2.5l

[12:19] <nothingmuch> given the size of the bowl, and the size of a 0.5 liter bottle of water before me it seems to make more sense

[12:19] <nothingmuch> anywho...

[12:19] <nothingmuch> tiw: please mention my name if you reply, the IRC window will probably be in the bg, and mentioning me will cause it to popup

[12:19] <nothingmuch> ciao!

[12:28] <tiw> nothingmuch: something like: svn: MKACTIVITY  result  ?/pugs/!svn/act/8e13e8ea-2ff2-0310-80ad-e9d419cfe8d5?:  fail authorize (http://svn.openfoundry.org)

[12:28] <nothingmuch> hmm

[12:29] <nothingmuch> what is your login?

[12:29] <nothingmuch> to rt?

[12:29] <tiw> nothingmuch: you mean my login name? tiw

[12:30] <nothingmuch> ah

[12:30] <nothingmuch> it's not listed in the project staff

[12:30] <nothingmuch> err, get hcchien, autrijus or bestian to invite you

[12:31] <tiw> just ask them to do that?

[12:31] <nothingmuch> this will probably be done immediately once one of them wakes up

[12:31] <nothingmuch> yes

[12:31] * nothingmuch thinks that more inviters/project admins should be made

[12:31] <nothingmuch> to cover more time zones

[12:31] <nothingmuch> luqui and ingy would probably be willing and trusted

[12:31] * nothingmuch nominates

[12:32] <tiw> i see, thanks. Are you in Eu?

[12:32] <nothingmuch> i'm from israel

[12:32] <nothingmuch> so time zone wise, you could say i'm from eastern europe

[12:32] <nothingmuch> nearly the same longitude as moscos

[12:32] <nothingmuch> w

[12:33] <tiw> i'm in German

[12:34] <tiw> we are closer as autrijus

[12:59] <autrijus> greetings /\/\s

[13:00] <autrijus> S29++ # jfdi

[13:02] <nothingmuch> autrijus: open up commit access for tiw 

[13:02] <tiw> autrijus: can you add me to the project list?

[13:02] <autrijus> sure sec

[13:03] <nothingmuch> so that it is not limited to a certain time zone's day

[13:03] <nothingmuch> daytime

[13:03] <nothingmuch> and also, please consider letting people like ingy and luqui and maybe someone from europe the ability to do this

[13:03] <autrijus> sure.

[13:04] <autrijus> will talk about that on yapc::taipei

[13:04] <nothingmuch> goody

[13:04] <autrijus> tiw: welcome aboard

[13:04] <nothingmuch> Juerd will probably be willing to do it too

[13:04] <nothingmuch> he is from nl

[13:04] <tiw> autrijus: thanks

[13:04] <nothingmuch> so i think that covers everything

[13:05] <nothingmuch> wtf is s29?

[13:06] <nothingmuch> and also, autrijus++ for fixing last two tests in for.t

[13:07] <theorbtwo> Allo, autrijus.

[13:07] <autrijus> yo theorbtwo

[13:07] <theorbtwo> Have you seen http://desert-island.dynodns.net/perl/prims.html ?

[13:07] <jabbot> pugs - 651 - add a test for using arguments with perl

[13:07] <autrijus> yes I had.

[13:07] <autrijus> you++

[13:08] <autrijus> I wonder if you can massage it into proper perl6 sub signature

[13:08] <theorbtwo> I rather wonder as well.

[13:09] <theorbtwo> But I think I want to try to get it to know the precidence order first, which I'm not sure how to do.

[13:09] <autrijus> you look at Parser.hs table.

[13:10] <theorbtwo> Right, but how do I get stuff out of there?

[13:10] <theorbtwo> ghci won't even show it, because it's not in the Show class.

[13:11] <autrijus> from line 456 on

[13:11] <autrijus> you can just slurp them into a string

[13:11] <autrijus> and parse them as a string ;)

[13:12] <autrijus> wouldn't be hard ;)

[13:12] <theorbtwo> That's what I'm doing with Prims.hs now.

[13:12] <autrijus> sure. it's good enough for booting.

[13:12] <theorbtwo> I was worried if that was all of them, though.

[13:12] <autrijus> once you have proper signatures

[13:12] <autrijus> then well, we can use that for the table instead

[13:12] <theorbtwo> And what the "Not yet transcribed" comment means.

[13:12] <autrijus> and all will be joy

[13:12] <theorbtwo> Oh!

[13:12] <theorbtwo> I see what you mean now.

[13:13] <theorbtwo> I was just thinking of this in terms of a reference.

[13:13] <autrijus> oh. "Not yet transcribed" means that the things below is now yet transcribed to proper perl6 sigs!

[13:13] <theorbtwo> Aaah!

[13:13] <autrijus> i.e. that comment means "theorbtwo was not here"

[13:13] <autrijus> or something.

[13:13] <theorbtwo> Heh.

[13:14] <autrijus> so the idea is to take that table and primdecl

[13:14] <autrijus> and generate things in builtins.pod format

[13:14] <autrijus> or an equally good format

[13:14] <autrijus> kind of like a .h file

[13:14] <autrijus> err builtins.kwid

[13:14] <autrijus> and then use _that_ to generate decl and prec

[13:14] <autrijus> and throw the old things away.

[13:15] <autrijus> that way we can kill the adhoc decl parser

[13:15] <autrijus> and use the same parser as the one we use to parser userdefined routines.

[13:15] <autrijus> I hope I'm making sense :)

[13:15] <theorbtwo> I think so.

[13:15] <theorbtwo> You want to convert the existing lists of primitives into standard perl6 sub declarations.

[13:16] <theorbtwo> Then implement them with inline haskell or something, and consider that file implicitly used.

[13:16] <theorbtwo> Hm, possibly not inline haskell, since eval STRING would be hugely impure.

[13:17] <theorbtwo> Inline AST, then.

[13:17] <theorbtwo> This, and my AUTHORS script, are currently rather ad-hoc perl5 -- is there anywhere they go in the repo?

[13:17] <autrijus> put them to utils/

[13:18] <autrijus> mk a new dir

[13:18] <theorbtwo> Cool.

[13:18] <theorbtwo> Working on one of my other projects for a bit, though.

[13:18] <autrijus> that's fine. take yer time :)

[13:24] <autrijus> ooh.

[13:24] <autrijus> =begin testing method after othermethod Some::Class 25

[13:24] <autrijus> (supposedly new Test::Inline syntax)

[13:24] <autrijus> ingy: inline FITish things in kwid makes sense to you?

[13:24] <nothingmuch> Test::Inline gives me the creeps

[13:25] <nothingmuch> reduces readability by a lot

[13:25] <nothingmuch> since you have to skip, and skip, and skip, and skip

[13:25] <nothingmuch> and you can't organize tests well

[13:25] <autrijus> unless your editor has folding...

[13:25] <nothingmuch> mine does

[13:25] <nothingmuch> but i never get along with it

[13:25] <autrijus> oh. folding++

[13:25] <nothingmuch> i might be retarded though ;-)

[13:25] * autrijus likes folding.

[13:26] * rgs likes folding too, but almost never uses it :(

[13:26] <autrijus> hi rgs :)

[13:26] <nothingmuch> will perl6 support non upwards flowing ranges?

[13:27] <nothingmuch> i usually like to say @a[2 .. -3]

[13:27] <nothingmuch> but can't do it

[13:27] <nothingmuch> since it makes no sense

[13:27] <nothingmuch> except that it does

[13:27] <rgs> I think that python supports that

[13:27] <rgs> yup, it does

[13:28] <rgs> >>> x = [1,2,3,4,5,6,7,8,9,10]

[13:28] <rgs> >>> print x[2:-3]

[13:28] <rgs> [3, 4, 5, 6, 7]

[13:28] <nothingmuch> 2 1 0 -1 -2 -3

[13:28] <nothingmuch> and if not in the context of array subscripts, i'd like it to do something like:

[13:28] <nothingmuch> because that's also sometimes useful

[13:28] <nothingmuch> and reverse(-3 .. 2) is just, err, unnecessary

[13:28] <rgs> I don't think so

[13:28] <rgs> but I'm not familiar with Perl 6 slice notation

[13:29] <autrijus> haskell has it as

[13:29] <autrijus> [2,1 .. -3]

[13:29] <autrijus> which I really like, but won't work in p6

[13:30] <nothingmuch> why not, actually?

[13:30] <nothingmuch> as a special case?

[13:31] <autrijus> no, because it conflicts with splice syntax

[13:31] <autrijus> @array[2, 1..-3]

[13:32] <rgs> what's the splice syntax ?

[13:32] <autrijus> s/splice/slice/

[13:32] <autrijus> @array[2, 1..-3] # means @array[2], @array[1] ...

[13:32] <autrijus> so can't steal the comma to mean step-by

[13:33] <autrijus> so in p6 it is

[13:33] <autrijus> @array[1..-3:by(-1)]

[13:33] <autrijus> not very sexy

[13:33] <autrijus> but works

[13:33] <nothingmuch> which is actually 1 0 -1 -2 -3?

[13:33] <autrijus> aye

[13:33] <autrijus> to get 2, use

[13:33] <autrijus> @array[1^..-3:by(-1)]

[13:34] <nothingmuch> so how do i do something like:

[13:34] <rgs> hmm, and to get what python does ?

[13:34] <nothingmuch> (isn't that 0?)

[13:34] <nothingmuch> [1, 2, ... , -4 -3]?

[13:34] <autrijus> oh. sorry. that will start from 0.

[13:34] <rgs> yes. Lazy extensino

[13:34] <autrijus> [1^..^-3:by(-1)] ?

[13:35] <nothingmuch> nay nay

[13:35] <rgs> ^-3 ? this confuses me

[13:35] <autrijus> oh never mind

[13:35] <autrijus> I was misparsing you all along

[13:35] <nothingmuch> i mean where -3 is really (+@a - 3)

[13:35] <autrijus> right right.

[13:35] * rgs thinks his brain begins to be python-infected

[13:35] <autrijus> sorry

[13:35] <nothingmuch> [ 1 .. (+a - 3) ] <-- this does it

[13:35] <nothingmuch> but i'd like 1 .. -3 to dwim

[13:35] <autrijus> yeah but that's sad

[13:35] <autrijus> according to lwall the range constructs a range object

[13:36] <autrijus> so maybe range object behaves weirdly in a slice context.

[13:36] <autrijus> weirdly as in dwimmy.

[13:36] * nothingmuch hopes that is the case

[13:36] <autrijus> not seen it raised before.

[13:36] <autrijus> throw it to the snake pit that is p6l?

[13:36] <rgs> :))

[13:36] <nothingmuch> @a[0 ^.. -Inf] == reverse(@a)

[13:36] <nothingmuch> =D

[13:36] <autrijus> yow =D

[13:36] <autrijus> -Inf, oh my

[13:43] <autrijus> woot. I lured Alias into committership.

[13:44] <autrijus> PPI-based p5-to-p6

[13:44] <autrijus> I think is very feasible.

[13:45] <theorbtwo> Great!

[13:45] <rgs> larry doesn't seem to think so

[13:46] <autrijus> he base it on 90% mark.

[13:46] <autrijus> I'm happy with 50%.

[13:46] <autrijus> and lots of runtime magic.

[13:46] <theorbtwo> Pretty much anything is better then 0%.

[13:46] <rgs> larry wants 100% :)

[13:46] <autrijus> I think the idea is more of a partial recompilation/reparse

[13:46] <autrijus> i.e. PPI gets the tokens in place

[13:46] <rgs> PPI is already very good

[13:46] <nothingmuch> rgs: 100% is ponie, i think

[13:46] <autrijus> and we can selectively reparse p5.

[13:47] <autrijus> that way we can put more burden in the runtime helper libraries

[13:47] <rgs> nothingmuch: no, ponie is more than 100% : it ports XS too...

[13:47] <autrijus> instead of on the parser at once

[13:47] <autrijus> rgs: only perl parses Perl

[13:47] <rgs> autrijus: that's larry's plan.

[13:47] <autrijus> so anything not based on perl trunk is, by definition, broken

[13:47] <autrijus> but I can very well live with that.

[13:48] <rgs> anyway we'll see what larry comes up with

[13:48] <autrijus> I don't really care about having to write in some more streamlined (i.e. always use strict)

[13:48] <autrijus> fashion in order to be fed to p5top6.

[13:48] <autrijus> in that case PPI+Parser/Perl5.hs is Good Enough (tm)

[13:49] <theorbtwo> I'm certainly fine with that provision.

[13:49] <autrijus> anyway iff alias is interested, we'll figure something out :)

[13:49] <theorbtwo> I would think B::-based translation makes more sense, though.

[13:49] <autrijus> aye. that is another route.

[13:50] <autrijus> but that means we'll probably have to emulate all the p5 runtime OPs.

[13:50] <autrijus> whilst with PPI we can operate at a coarse-grained level

[13:51] <autrijus> but it's all handwaving before alias hops here and starts coding :)

[13:51] <theorbtwo> Oh, I meant something like a B::Deparse that output p6 code rather then p5 code.

[13:51] <Steve_p> heh

[13:51] <rgs> theorbtwo: B:: lose info about BEGIN blocks and other stuff

[13:51] <theorbtwo> Possibly calling functions in Perl5::* instead of builtins, at least in some cases.

[13:51] <autrijus> theorbtwo: sure, but the B::* backend operates on p5 op level

[13:51] <Steve_p> like constants

[13:51] <autrijus> including all its stack semantics

[13:52] <rgs> actually larry is patching perl 5 itself to produce perl 6 code

[13:52] <autrijus> which is the Correct layer.

[13:52] <autrijus> why go above the reification layer when you can instrument the runtime?

[13:52] <autrijus> and I'm sure larry is the best one to do that

[13:52] <rgs> I had, 2 or 3 years ago, the idea to modify the output of perl -Dp, to get it machine-parseable

[13:52] <autrijus> he wrote all of it anyway :)

[13:52] <rgs> -DpT even

[13:52] <autrijus> <- mucking with perl5 OpTree != my forte

[13:53] <rgs> and that's basically what larry does

[13:53] <autrijus> nod.

[13:53] <rgs> autrijus: you know me, I like mucking with optrees :)

[13:53] <autrijus> that's why we pay you Big Money and make you the pumpking! :)

[13:53] <rgs> Big Money ?

[13:53] <autrijus> like, 0e12 or something :)

[13:54] <Steve_p> perlbot, Nicholas?

[13:54] <rgs> so far I only had a couple of beers :)

[13:54] <rgs> which I'm very grateful for

[13:55] <rgs> hi Steve_p

[13:55] <Steve_p> hi rgs :)

[13:55] <Steve_p> perlbot doesn't say the right response yet ;)

[13:56] <rgs> heh

[13:56] * rgs out to lunch &

[13:57] <jabbot> pugs - 652 - Adding Algorithm::Dependency for porting

[13:58] *** safrican_ is now known as safrican

[13:58] <autrijus> I asked alias to hop in here soon

[13:58] <Alias_> dum de dum

[13:58] <autrijus> the plan is to gradually p6ify Algorithm-Dependency

[13:58] <autrijus> oh. hi!

[13:59] <Alias_> As the log message says, it's reasonably large, a little trick, and has no external dependencies whatsoever

[13:59] <Alias_> s/trick/tricky/

[13:59] <autrijus> Alias_: so I trust the A::Dep doesn't really need external deps

[13:59] <autrijus> yup.

[13:59] <Alias_> Nope

[13:59] <autrijus> and has well-defined tests.

[13:59] <Alias_> It's a "green box"

[13:59] <autrijus> so, ideal for p6ification

[13:59] <Alias_> yep

[13:59] <Alias_> Shitloads of tight testing, and no deps

[14:00] <autrijus> whose code was it?

[14:00] <autrijus> I see you're listed as the "maintainer"

[14:00] <Alias_> oh... I tag that on everything

[14:00] <Alias_> in case there are two authors

[14:01] <Alias_> Most of that stuff is automated these days

[14:01] <Alias_> Got sick of maintaining janatorial stuff for 60 modules

[14:01] <Alias_> :)

[14:01] <autrijus> har :)

[14:01] <autrijus> can you write a call-for-p6ifier announcement on p6c?

[14:01] <rgs> Alias_: btw, side note : if you like dependency solvers, you should have a look at http://smartpm.org/

[14:01] <autrijus> that will likely help to draw in additional people to work on p6ification :)

[14:01] * rgs really off now &

[14:02] <autrijus> Alias_: i.e. extoll the virtue of this green box thing :)

[14:02] <theorbtwo> "green box"?

[14:02] <Alias_> modules on my big module dep graph get coloured green when they have no non-core deps

[14:02] <autrijus> theorbtwo: no external dependencies; tightly tested

[14:03] <autrijus> genuinely useful

[14:03] <autrijus> (for many things)

[14:03] <autrijus> and small enough :)

[14:03] <Alias_> ironically doesn't support versioned dependencies :)

[14:03] <Alias_> ... yet

[14:03] <autrijus> it's the same virtue as Locale-KeyedText really.

[14:03] <autrijus> p6c's posting address is [email@hidden.address] and subscription address is [email@hidden.address]
[14:04] <autrijus> it's not as high-volume as p6l :)

[14:04] <Alias_> eep, wrong window :)

[14:04] <Alias_> I'm on enough mailing lists thanks :)

[14:04] <autrijus> you can post without subscribing and tell people to cc you if they have questions, then.

[14:05] <theorbtwo> There's an NNTP server that's nice for occasional reading.

[14:05] <autrijus> if you really don't want to do that I'll try posting for you, but that is not as convincing :)

[14:06] <metaperl> I was able to post via nntp.perl.org

[14:06] <metaperl> without joining p6c or p6l

[14:06] * metaperl hugs Gnus

[14:06] <metaperl> :)

[14:06] <autrijus> that... works too :)

[14:07] <autrijus> Alias_: can PPI serialize to something else than perl code or internal data structure dumps?

[14:07] <Alias_> I you want

[14:07] <Alias_> If you want

[14:07] <autrijus> instrument PPI::Dumper?

[14:09] <autrijus> the first step is to for haskell to load PPI dump tree

[14:09] <autrijus> we can certainly write a custom p5 dump parser

[14:09] <autrijus> or yaml parser

[14:10] <autrijus> Alias_: will it be lossy if we instrument PPI::Dumper to dump yaml?

[14:10] <autrijus> i.e. is there self-cyclic blessed substructures?

[14:10] <autrijus> if not, yaml may be the best way

[14:11] * nothingmuch just spend 30 minutes going through a 50 line perl file

[14:11] <nothingmuch> reading every char

[14:11] <Alias_> p6c email sent

[14:11] <nothingmuch> 100 times at least

[14:11] <nothingmuch> trying to figure out where the fscking bug is

[14:11] <autrijus> p5 source -> PPI -> PPI::Document yaml -> Yaml parser -> Haskell YAML AST -> Pugs AST -> runtime

[14:11] <nothingmuch> when it turns out the CSV excel imports is just bad

[14:11] <nothingmuch> and the input is really at fault

[14:11] <Alias_> PPI::Document is non-cyclic

[14:11] <autrijus> woot!

[14:12] <autrijus> good good

[14:12] <nothingmuch> i think microsoft owes me about 100 hours of my life, and I don't even work on windows

[14:12] <Alias_> Theres a %PPI::Element::_PARENT hash that does refaddr-indexed upward refs

[14:12] <nothingmuch> Alias_: i think refaddr is flakey on 5.9

[14:12] <nothingmuch> i tried using it a while

[14:12] <autrijus> will check w/ ingy when he's up.

[14:12] <nothingmuch> but stuff got a bit fooey

[14:12] <autrijus> now really food. &

[14:12] <nothingmuch> so i wrote Tie::RefAddr::Weak to complement Tie::RefAddr

[14:13] <nothingmuch> otherwise, just use overload::StrVal

[14:13] <scw> Hi, pugs now view '(say "something" if 1)' as valid expression, but should it?

[14:14] <Alias_> autrijus: in fact, it should dump to YAML quite normally

[14:14] <nothingmuch> scw: i think autrijus is keeping it as long as larry doesn't say to remove it

[14:18] <scw> Oh, so it is already on mailing list? sorry for not checking malil these two days :)

[14:56] <Alias_> autrijus: OK, gotta run, tired. But for the record, if you simply throw a PPI::Document object at YAML, it should dump cleanly. The rest is up to you :)

[15:59] <autrijus> scw: no, it's only in #perl6 I think; nobody bothered to check p6c

[15:59] <autrijus> scw: you can certainly ask on p6c; that may help

[16:00] <nothingmuch> blackout in -1 minute

[16:00] * nothingmuch wonders if they can shutdown all the machines in time

[16:07] <jabbot> pugs - 653 - * GHC 6.4 compilation sanity; more relen

[16:07] <autrijus> hi ingy!

[16:07] <ingy> hi autrijus 

[16:08] <ingy> good things are happening I see

[16:08] <autrijus> yuppers

[16:09] <hcchien> new module in repository. :)

[16:09] * rgs notices Data::COW

[16:10] <ingy> hi hcchien 

[16:11] <hcchien> ingy: hola

[16:12] <ingy> Algorithm-Dependency is Perl5?

[16:12] <ingy> why is it in modules?

[16:13] <autrijus> ingy: because I invited alias to check in

[16:13] <autrijus> and try to do it piecemeal

[16:13] <autrijus> instead of only check in after it's all p6ized

[16:13] <autrijus> alias posted to p6c talking about that.

[16:13] <autrijus> it will take some time to get thru.

[16:13] <autrijus> it has no deps, and tests are well-covered

[16:13] <autrijus> so I gather it makes sense to do a free-for-all p6ization in modules

[16:13] <autrijus> just as a social experiment.

[16:14] <ingy> ok

[16:14] <autrijus> (modules/ is not installed anyway)

[16:14] <ingy> sure

[16:15] <lightstep> Makefile is now broken (8 spaces instead of a tab)

[16:15] <ingy> I am torn on whether to work on a perl5 or haskell kwid parser today...

[16:15] <autrijus> lightstep: aw. my bad.

[16:15] <autrijus> fixing

[16:15] <autrijus> lightstep: or can you fix it real quick?

[16:15] <lightstep> i don't know makemaker

[16:15] <ingy> I can do it

[16:15] <autrijus> ok. will do

[16:16] <autrijus> ingy++

[16:16] <autrijus> I'm working on changelog.

[16:23] <ingy> wow. all tests passing again

[16:24] <ingy> is a realease imminent?

[16:24] <autrijus> it is... but I made tests pass by implementing them

[16:24] <autrijus> not by TODO them.

[16:24] <autrijus> a release is due in an hour

[16:25] <theorbtwo> Oh, I should put my p5 scripts in the repo, then.

[16:26] <autrijus> theorbtwo: right, until/

[16:26] <autrijus> err

[16:26] <autrijus> util/

[16:27] <jabbot> pugs - 654 - Somehow tabs got changed to spaces in Ma

[16:37] <jabbot> pugs - 655 - Rather ad-hoc p5 scripts to make a HTML 

[16:37] <autrijus> theorbtwo++

[16:38] <autrijus> (!)

[16:38] <autrijus> # fixauthors.pl

[16:38] <autrijus> somehow gugod appeared twice in AUTHORS.

[16:39] <theorbtwo> Oh, odd.

[16:39] <theorbtwo> With different romanized names.

[16:39] <theorbtwo> But the same Han name.

[16:40] <autrijus> what's with the irc nicks?

[16:40] <autrijus> looks weird

[16:41] <lightstep> why isn't AUTHORS edited manually? isn't there a closed group that grants contributorship?

[16:41] <autrijus> lightstep: syntax error, I can't parse that questions

[16:42] <ingy> autrijus: I think perl6 should install html docs instead of just man pages

[16:42] * rgs ponders switching to UTF-8 for perl 5's AUTHORS file

[16:42] <lightstep> if "author" is same as "contributor", and contributors are added manually to the system, why isn't AUTHORS updated manually too?

[16:42] <autrijus> ingy: I happen to agree.

[16:42] <ingy> I'll work on the doc fu today

[16:43] <autrijus> lightstep: AUTHORS is updated manutally.

[16:43] <autrijus> that script just fills in metadata from cpan.

[16:43] <lightstep> oh

[16:43] <theorbtwo> James "theorbtwo" Mastros is the normal way of writing nicknames with proper names, at least in English.

[16:43] <theorbtwo> Could have added a column just for it.

[16:43] <autrijus> okay. what if the nick agrees with cpan id?

[16:43] <theorbtwo> Or switched to something like linux's AUTHORS format.

[16:44] <theorbtwo> Then I left it out.

[16:44] <autrijus> what is the linux author format?

[16:44] <theorbtwo> Each person gets a \n\n-seperated stanza, with each line having a single-letter prefix for the data-type.

[16:47] <autrijus> hm, ok.

[16:47] <xerox> autrijus, what parser do you use in pugs?

[16:47] <autrijus> xerox: src/Rules/

[16:47] <jabbot> pugs - 656 - * correct some AUTHORS misentries

[16:47] <autrijus> err, src/Rule

[16:48] <autrijus> which is based on parsec.

[16:48] <autrijus> theorbtwo: ok. I think that works better. you want to hack toward that?

[16:48] <autrijus> I'll use your current format  for 6.0.11.

[16:48] <theorbtwo> Nod.  Will in a while; going to get back to my book.

[16:50] <xerox> theorbtwo, reading or writing it? :D

[16:50] <theorbtwo> Reading it.

[16:51] <xerox> hi nothingmuch :D

[16:51] <theorbtwo> Star trek: Stargazer: Oblivion.

[16:51] <nothingmuch> hi xerox, all!

[16:52] <theorbtwo> Hi, nothingmuch.

[16:52] * nothingmuch can only remember really having liked one sci fi thingy... the 5th element

[16:52] <lumi> Hi nothing

[16:52] <nothingmuch> and scifi is not it's point =)

[16:52] <lumi> Well, it was good

[16:53] <nothingmuch> everything else I tend to look over again, and, err, not appreciate as much

[16:53] <ingy> autrijus: I think ActiveState does lib/bin/man/html for install, so I'll copy that style

[16:53] <autrijus> ingy: also did you read about my reservation for having a core doc/ location?

[16:53] <autrijus> it's not proper module style

[16:53] <lightstep> is Alan Sung gone?

[16:54] <autrijus> lightstep: he is Chen-Lung Song on cpan

[16:54] <autrijus> the cpan name is considered canonical

[16:54] <autrijus> Cheng-Lung Song, even

[16:54] <ingy> I don't get it?

[16:54] <ingy> s/?//

[16:54] <autrijus> ingy: ok. CPAN modules don't have doc/

[16:54] <autrijus> if they have pod, they put it in lib/

[16:54] <ingy> true yes

[16:54] <autrijus> so doc/ is a p5 core special case

[16:54] <autrijus> well I hate that special case

[16:55] <autrijus> because it complicates matters

[16:55] <ingy> I never suggested doc/ in modules

[16:55] <autrijus> I love your idea that the core should not have modules of its own

[16:55] <autrijus> everything should be in ext/

[16:55] <ingy> only in top level to match perl core pod/

[16:55] <autrijus> formatted like true modules

[16:55] <autrijus> in that sense, I propose that we split all the docs into ext/*/doc

[16:55] <autrijus> or ext/*/kwid/

[16:55] <autrijus> or ext/*/whatever/

[16:56] <autrijus> instead of a toplevel doc/

[16:56] <ingy> fine

[16:56] <autrijus> so perlkwid.kwid really belonds to ext/Kwid/

[16:56] <autrijus> etc. that has a good effect of making the core "merely a bundle"

[16:56] <ingy> I see, because you want to continue thinking of pugs as simply a Perl5 module :P

[16:56] <autrijus> which is what I've wished all along

[16:56] <autrijus> no, I want to think pugs as a simple perl6 runtime :)

[16:56] <autrijus> i.e. I want perlkwid.kwid etc be shared among perl6 environments.

[16:57] <autrijus> even if pugs ends up becoming the only perl6 implementation, it also has the good effect of cleaner layout

[16:57] <autrijus> versus the sick special-casing of doc => lib/pod/

[16:57] <autrijus> which is sick sick sick.

[16:57] <jabbot> pugs - 657 - * more fixes to AUTHORS

[16:58] <cls_bsd> oh great!!

[16:59] <ingy> putting perlkwid.kwid in ext/Kwid makes little sense to me. how about ext/doc

[17:00] <ingy> there are 108 perl*.pod that need to be integrated

[17:00] <ingy> plus more I'm sure

[17:00] <ingy> you want a module for each of those?

[17:01] <autrijus> I'm not even sure that we want to keep this perl*.kwid format :)

[17:01] <ingy> ?

[17:01] <jabbot> ingy: ¬O³o¼Ëª±¶Ü? o_oa

[17:01] <autrijus> never mind.

[17:01] <autrijus> I was thinking along the lines of "pugsdoc Kwid::Syntax"

[17:01] <ingy> sure

[17:01] <autrijus> because perlsyn etc is now called synopses

[17:02] <autrijus> so the 108 things can really be integrated along the 

[17:02] <autrijus> ext/Synopses/

[17:02] <ingy> of course that will be in ext/Kwid

[17:02] <autrijus> etc lines.

[17:02] <autrijus> I don't think we want to transliterate the perl*.pod just now.

[17:02] <autrijus> but if that is the case, sure, ext/coredocs/ or just ext/doc/ makes sense.

[17:02] <ingy> ok

[17:03] <ingy> I'll work on it. we can always refactor

[17:03] <autrijus> I think we keep it simple for now.

[17:03] <autrijus> yeah. thanks! ingy++

[17:03] <theorbtwo> ext/Perl6/Apoclypse01.kwid ?

[17:03] <autrijus> something like that, yes

[17:03] <ingy> gotta run&

[17:03] <autrijus> ext/Pugs/Apocrypha01.kwid

[17:03] <autrijus> ext/Apocrypha/01Overview.kwid

[17:03] <autrijus> etc etc.

[17:04] <autrijus> it's all negotiatable :)

[17:04] <ingy> I'll start with ext/Apocrypha

[17:04] <ingy> oops

[17:04] <ingy> gotta run&

[17:04] <autrijus> ok, and move the two doc/*.kwid into it.

[17:04] <autrijus> uh. ok. run then

[17:04] <autrijus> I'll move it myself :)

[17:05] <lightstep> isn't it ext/Pugs/Apocryphon01.kwid ?

[17:06] <autrijus> it is.

[17:06] <autrijus> unless it is ext/Pugs/docs/Apocryphon01.kwid 

[17:06] <autrijus> or ext/Pugs/lib/Apocryphon01.kwid 

[17:06] <autrijus> I am not sure we want to split lib with docs.

[17:06] <autrijus> I kind of like perl5's treatment of making those two under lib/

[17:06] <autrijus> what do you think?

[17:07] <autrijus> since ingy is away I'll move it myself now :)

[17:11] <pasteling> "gugod" at 61.64.173.217 pasted "Tibeten characters" (1 line, 29B) at http://sial.org/pbot/8143

[17:11] <gugod> autrijus: can you see those characters ? I have a unicode_varnames.t ready

[17:11] <gugod> that's 123456789 in tibeten :P

[17:11] <nothingmuch> gugod: please checkin, i'd like to contribue hebrew =)

[17:11] <nothingmuch> the Ord haskell class if a class of types whose values have some kind of order?

[17:12] <gugod> alright

[17:12] <theorbtwo> I see them.

[17:12] <lightstep> nm, yes

[17:12] <theorbtwo> Yeah, nm.

[17:12] <gugod> just wondering if perl6 should handle complex combining characters as varnames

[17:12] <nothingmuch> huh?

[17:13] <nothingmuch> gugod: as I understand it, it should

[17:13] <gugod> that sounds awesome

[17:13] <theorbtwo> gugod, IIRC, Larry said somewhere that it considers them as a sequence of unicode characters -- that is, it will, iff they're always written the same.

[17:13] <autrijus> gugod: sure, it should. make judicious use of eval"" and todo

[17:13] <autrijus> and have fun

[17:14] <gugod> I committed

[17:14] <theorbtwo> Add a check with a unicode sub name there as well?

[17:16] <nothingmuch> err, it doesn't compile

[17:16] <nothingmuch> should it?

[17:17] <nothingmuch> or is it untested?

[17:17] <jabbot> pugs - 658 - unicode variname name

[17:19] <autrijus> greetings ati

[17:19] <gugod> should I make them all inside eval() so that those ok() can all be invoked ?

[17:20] <autrijus> gugod: give me a min

[17:21] <nothingmuch> gugod: i'm fixing as we speek

[17:21] <nothingmuch> speak

[17:22] <nothingmuch> i have a version that passes

[17:22] <nothingmuch> and also tests hebrew

[17:22] <nothingmuch> and english

[17:22] <nothingmuch> and umlauts

[17:22] <nothingmuch> and french

[17:22] <nothingmuch> and arabic

[17:22] <nothingmuch> that's as much as I can type

[17:22] <lightstep> what about malformed codepoint sequences?

[17:22] <nothingmuch> lightstep: i think that's a file corruption error, perhaps

[17:23] <nothingmuch> not even syntax

[17:23] <autrijus> yup.

[17:36] *** lightstep is now known as lightstep_eating

[17:37] <jabbot> pugs - 660 - rename because it should be more than ju

[17:37] <jabbot> pugs - 659 - Some more varnames

[17:40] <nothingmuch> autrijus: when are you going to fix $CALLER::POSITION?

[17:40] <autrijus> nothingmuch: I'll look at it now

[17:40] <autrijus> but I'm still in utf8

[17:40] <nothingmuch> goody

[17:40] <autrijus> most of your tests passes.

[17:40] <nothingmuch> there's a test for it

[17:40] <autrijus> I mean unicode.t

[17:40] <autrijus> fixing the rest.

[17:41] * nothingmuch wonders whether to try things like sub Ï { 3.141 }

[17:41] <nothingmuch> sub Âµ ($x) { $x/1000 }

[17:41] <nothingmuch> err, *

[17:42] <nothingmuch> my $micro = Âµ$unit;

[17:42] * nothingmuch wants to port Data::Dimensions to p6

[17:43] <nothingmuch> autrijus: t/magicals/caller_pos.t

[17:43] <autrijus> danke.

[17:43] * nothingmuch happy

[17:43] <autrijus> hm? :)

[17:46] <autrijus> only arabic fails.

[17:46] <autrijus> for some reason.

[17:46] <autrijus> you sure the arabic is legal?

[17:46] <nothingmuch> the arabic is crap

[17:46] <wilx> Right to left issues? :)

[17:46] <nothingmuch> i don't know it

[17:46] <nothingmuch> i just opened the unicode palette

[17:47] <nothingmuch> and stuck letters i sort of still remembered in

[17:47] <nothingmuch> but IIRC arabic has no funny constraints

[17:47] <autrijus> no, not RTL

[17:47] <nothingmuch> wilx: it's all logical order anyway

[17:47] <nothingmuch> and hebrew does work

[17:47] <autrijus> I pasted from wikipedia

[17:47] <autrijus> then it wors

[17:47] <nothingmuch> ok

[17:47] <autrijus> so I'll just assume your arabic was bad.

[17:47] <nothingmuch> sorry =)

[17:47] <jabbot> pugs - 661 - Add some subs, too, but not for the funn

[17:48] <nothingmuch> is jabbot stealing the data from RSS?

[17:48] <autrijus> ok, all passes.

[17:48] <autrijus> yes.

[17:48] <nothingmuch> because if it is, perhaps the rss feed should be made so it doesn't truncate...

[17:49] <autrijus> I think the bot truncates

[17:49] <autrijus> not the rss

[17:49] <nothingmuch> my rss reader seems to have the same truncations 

[17:49] <autrijus> oh. hm.

[17:50] <autrijus> it's clkao's baby.

[17:50] <autrijus> btw, r662.

[17:50] <autrijus> welcome to the age of unicode.

[17:50] <nothingmuch> laa di daa!

[17:50] * nothingmuch wonders what damage this may do

[17:50] <theorbtwo> The arabic might have contained chars that aren't legal in identifers, perhaps?

[17:51] <nothingmuch> theorbtwo: perhaps

[17:51] <autrijus> aw. I overwrote your changes.

[17:51] <nothingmuch> given macros we couldl rename the entire language, right?

[17:51] <autrijus> bad me.

[17:51] <nothingmuch> and at the very worse, we could redefine the Perl6 grammer class

[17:51] <autrijus> nothingmuch: can you repair?

[17:52] <nothingmuch> noo!!!

[17:52] <nothingmuch> oh my, what will i do!

[17:52] <autrijus> just put some of the "sub" tests back

[17:52] <autrijus> one or two would be fine.

[17:52] <autrijus> sorry for that.

[17:52] <autrijus> looking at caller position

[17:52] <nothingmuch> no big deal =)

[17:53] <autrijus> haskell++ # Char is unicode by default

[17:54] <autrijus> so implementing that is piece-of-cake

[17:54] <autrijus> I'm happy that 

[17:54] <autrijus> isAlpha

[17:54] <autrijus> Just Works

[17:54] <autrijus> without any complications

[17:54] <autrijus> hurray for sanity!

[17:54] <Khisanth> will perl6 be able to be "parsed" from right to left? :)

[17:55] <autrijus> Khisanth: write a macro :)

[17:55] <nothingmuch> ook

[17:55] * Khisanth awaits REALLY obfuscated golfing solutions

[17:55] <Juerd> 14:08 < nothingmuch> Juerd will probably be willing to do it too

[17:55] <nothingmuch> Juerd: tee hee

[17:55] <Juerd> No, I'm taking no extra physical or psychological load

[17:56] <Juerd> I'll sometimes be able to hack some tests or provide informatio

[17:56] <autrijus> bad nothingmuch

[17:56] <Juerd> But in general, do not count on me at all

[17:56] <autrijus> "t/magicals/caller_pos.t at line 12"

[17:56] <autrijus> should use $?FILE

[17:56] <autrijus> because it's t\magicals\ on win32. :)

[17:56] <autrijus> I fixed that

[17:56] <nothingmuch> autrijus: ah

[17:56] <nothingmuch> as soon as i get opendiff to work with utf8

[17:56] <nothingmuch> i was thinking of $?PROGNAME

[17:56] <nothingmuch> oh, goody =)

[17:56] <nothingmuch> but that wasn't impl

[17:56] <nothingmuch> i'll update,

[17:57] <nothingmuch> Juerd: sorry!

[17:57] <nothingmuch> Juerd: i was just sort of brainstorming about who is in europe, and sort of known by everyone

[17:57] <jabbot> pugs - 663 - * use $?FILE not hardcodes

[17:57] <jabbot> pugs - 662 - * utf8 support

[17:58] <nothingmuch> how do i get see to save a BOM?

[17:58] <autrijus> why do you want to save a BOM?

[17:58] <autrijus> BOM doesn't make sense on UTF8.

[17:58] <nothingmuch> to see if maybe opendiff will make sense

[17:58] <theorbtwo> Sure it does.

[17:59] <theorbtwo> Pretty good book, BTW.

[17:59] <autrijus> what is the byte-order of utf8?

[17:59] <theorbtwo> BOM is somewhat misnamed.

[17:59] <theorbtwo> "Magic number" is what it is.

[17:59] <autrijus> so "cat" will eat it?

[17:59] <autrijus> if it doesn't, it breaks some important file assumptions.

[18:00] <autrijus> namely, plain text should not require magic numbers.

[18:00] <theorbtwo> Cat won't, but it won't eat any other sort of magic number either.

[18:00] <autrijus> <- was biten by Notepad.exe too many times

[18:00] <theorbtwo> Including UTF-16 LE and BE BOMs.

[18:00] <autrijus> true.

[18:00] <autrijus> if BOM is named "magic number"

[18:01] <autrijus> I'll maybe see the use.

[18:01] * theorbtwo shrugs.

[18:01] <theorbtwo> BOM should be considered whitespace.

[18:01] <autrijus> # http://www.w3.org/International/questions/qa-utf8-bom.html

[18:01] <theorbtwo> ...so it shouldn't matter that it's there, any way you slice it.

[18:03] <theorbtwo> (It'll keep a #! from being seen, but that's not pugs's problem.)

[18:03] <autrijus> \xEF\xEE\xBF#!/usr/bin/perl

[18:03] <autrijus> eh. :)

[18:04] <nothingmuch> heh

[18:04] <autrijus> anyway, haskell groks BOM just fine.

[18:04] <autrijus> so pugs did not do anything

[18:04] <autrijus> and it's transparently working now.

[18:05] <autrijus> which is fine; I'll keep it that way :)

[18:05] <nothingmuch> hmm

[18:06] <nothingmuch> tests are not passing, autrijus 

[18:06] <nothingmuch> see woobling.org

[18:06] <autrijus> hm?

[18:06] <autrijus> pardon?

[18:06] <nothingmuch> the tests for unicode stuff

[18:07] <nothingmuch> with sub calls, are not working

[18:07] <nothingmuch> but neither are arabic, hebrew, etc

[18:07] <nothingmuch> even though I svn upped

[18:07] <autrijus> osx?

[18:07] <autrijus> ghc 6.2?

[18:07] <nothingmuch> uhuh

[18:07] <nothingmuch> uhuh again

[18:07] <nothingmuch> is it a notabug?

[18:08] <gugod> wow, hebrew and arabic uncode varanme tests are so cool

[18:08] <gugod> right-to-left perl!

[18:09] <nothingmuch> gugod: the really nice thing is that { } are displayed like } { when flowed in rtl text

[18:09] <nothingmuch> so theoretically, if your keywords are RTL

[18:09] <nothingmuch> or at least you have dir marks in your unicode

[18:10] <nothingmuch> then your editor will display the control blocks correctly

[18:10] <autrijus> gugod: does it work or not?

[18:10] <autrijus> for you

[18:10] <autrijus> tr r665

[18:11] <gugod> trying

[18:12] <nothingmuch> oi, what a nasty revision

[18:12] <nothingmuch> â¢ [syeeda:/usr/local/src/pugs] nothingmuch % svn up

[18:12] <nothingmuch> At revision 666.

[18:12] <autrijus> ;)

[18:12] <nothingmuch> no wonder we're having troublew

[18:12] <autrijus> "6" means lucky in chinese.

[18:12] <autrijus> and "66" or "666" means "things going really well".

[18:13] <nothingmuch> well, it's meaningless for jews =)

[18:13] <autrijus> CALLER_POSITION is so borked.

[18:13] <autrijus> fixing

[18:14] <gugod> now those latin characters in unicode.t passes

[18:14] <autrijus> but not others?

[18:15] <gugod> not Chinese / Japanese / Tibten /Arabic / Hebrew / Arabic

[18:15] <autrijus> yow.

[18:15] <gugod> oops, two Arabic

[18:15] <nothingmuch> new unicode.t

[18:15] <autrijus> platform specificism detected.

[18:15] <gugod> oh?

[18:16] <nothingmuch> crap, typo

[18:17] <nothingmuch> that subcall reads rtl in see

[18:17] <nothingmuch> fun fun fun!

[18:17] <jabbot> pugs - 668 - err, id is zehut, not zehu in heb... =P

[18:17] <jabbot> pugs - 667 - merge todo with subs, and add hebrew sub

[18:17] <jabbot> pugs - 666 - oops, forgot to increase plan

[18:17] <jabbot> pugs - 665 - * fix hyperop Prim

[18:17] <jabbot> pugs - 664 - Japanese unicode varname test

[18:18] <gugod> hmm

[18:18] <autrijus> platform specificism detected.

[18:18] <autrijus> err. sorry

[18:18] <nothingmuch> ook, i zapped japanese

[18:18] <nothingmuch> will remerge

[18:20] <gugod> I'm a little confusd about how to read those hebrew tests

[18:20] <gugod> no, actually I'm /really/ confused now.

[18:20] <nothingmuch> gugod: ×××¨ is bar

[18:20] <nothingmuch> read it from ×

[18:20] <nothingmuch> right to left

[18:21] <autrijus> gugod: think classical chinese

[18:21] <nothingmuch> since the sigil is in the context of my in the declaration, it is on the left of the hebrew

[18:21] <nothingmuch> the rest is sort of confused in see

[18:21] <nothingmuch> sub

[18:21] <nothingmuch> ××

[18:21] <nothingmuch> {};

[18:22] <nothingmuch> 1

[18:22] <nothingmuch> that's the logical order

[18:22] <nothingmuch> the second example is also sort of screwed up

[18:22] <nothingmuch> except for ××××ª($×××¨)

[18:22] <ihb> what's "××"?

[18:22] <nothingmuch> "laa"

[18:22] <nothingmuch> which reads RTL pretty well

[18:22] <nothingmuch> since ××××ª is the sub

[18:22] <nothingmuch> and $×××¨ is the var

[18:23] <nothingmuch> and even the sigil is on the right that time

[18:23] <nothingmuch> sadly so is the single quote ;-)

[18:24] <nothingmuch> the arabic reads ok

[18:24] <nothingmuch> 'my $'

[18:24] <nothingmuch> then start reading from the comma

[18:24] <ihb> so, in perl 6, can i write source code from right to left?

[18:24] <nothingmuch> rtl

[18:24] <nothingmuch> arabic = 2; $arabic

[18:24] <nothingmuch> ', 2

[18:24] <nothingmuch> you are now back in the 'my $' sigil

[18:24] <nothingmuch> continue to "evaluation"

[18:24] <nothingmuch> ihb - it's all logical order, so it doesn't matter

[18:24] <nothingmuch> it is written from begining to end =)

[18:27] <jabbot> pugs - 670 - * oops

[18:27] <jabbot> pugs - 669 - * add a missing sub

[18:29] <nothingmuch> everyone: update unicode.t before you edit it

[18:30] <autrijus> ok.

[18:30] <autrijus> it all passes for me.

[18:30] <nothingmuch> woot

[18:30] <nothingmuch> ghc 6.4?

[18:30] <autrijus> 6.2

[18:30] <autrijus> win32

[18:30] <autrijus> must be win32 specific.

[18:30] <autrijus> bad bad.

[18:30] <autrijus> btw, nothingmuch: indeed sub calls are now evaluated lazily

[18:30] <autrijus> but in the wrong pad

[18:31] <autrijus> so all hell breaks loose

[18:31] <autrijus> nothingmuch++ # uncovering subtle bug

[18:31] <gugod> I'm using ghc 6.2.2 on osx

[18:31] <nothingmuch> *bow*

[18:31] <gugod> and uniocde.t still failed on non-latin characters

[18:31] <nothingmuch> same here

[18:32] <nothingmuch> gugod: put yourself in http://pugs.kwiki.org/?OSXPeople if you're interested

[18:32] <gugod> sure.

[18:33] * autrijus updates README to say [email@hidden.address]
[18:34] <gugod> I got a error message upon saving

[18:34] <gugod> but it still saves

[18:34] <gugod> it appers that Kwiki::Notify::IRC fails :P

[18:34] <Khisanth> hmm

[18:34] <Khisanth> autrijus: could the locale setting affect those?

[18:34] <autrijus> Khisanth: I have no idea.

[18:35] <autrijus> ask #haskell?

[18:35] * autrijus still fixing callerpos

[18:35] <theorbtwo> Linux, 6.2.2, fails 16/18 tests in t/syntax/unicode.

[18:35] <Khisanth> meh, I'll just run the test.. O_o

[18:35] <autrijus> I'll boot to fbsd shortly after.

[18:36] <Khisanth> 17 & 18 went from failing to passing and back to failing again

[18:36] <nothingmuch> Khisanth: could you try svn up -r ... to try and see what passes?

[18:37] <jabbot> pugs - 672 - * mention pugsbugs.

[18:37] <jabbot> pugs - 671 - merge merge merge... *sigh*

[18:39] <Khisanth> nothingmuch: you want the revision where those two were passing?

[18:39] <nothingmuch> autrijus prolly wants it, but yeah =)

[18:39] * Khisanth scrolls up :)

[18:40] <Khisanth> that was r688

[18:40] <wilx> pugspugs, nice name :D

[18:40] <nothingmuch> 668, you mean?

[18:40] <Khisanth> oh wait a minute nvm

[18:41] <Khisanth> it wasn't passing those, they just didn't exist!

[18:41] <nothingmuch> heh

[18:41] <nothingmuch> before japanese

[18:41] <Khisanth> going to try with a different locale 

[18:42] <nothingmuch> not ok 5 - a m??se once bit my sister

[18:43] <nothingmuch> pugs (err, ghc?) seems to be downgrading utf8 to ascii

[18:43] <autrijus> callerpos fixed

[18:43] <autrijus> committing

[18:43] <nothingmuch> dance dance dance

[18:43] <autrijus> the caller scope needs to be entered only in sub body

[18:43] <autrijus> not in binding time

[18:44] <autrijus> sub (?$x = $?CALLER::POS) {...}

[18:44] <autrijus> this now will use the caller's caller

[18:44] <autrijus> not the caller

[18:44] <autrijus> which is counterintuitive

[18:44] <autrijus> but not really seeing how to fix.

[18:44] <nothingmuch> is that a bug?

[18:45] <autrijus> I don't know.

[18:45] <autrijus> attempting a fix.

[18:45] <nothingmuch> i'll test for it as a bug

[18:45] <autrijus> it's tested

[18:45] <autrijus> in subroutine.t

[18:45] <nothingmuch> ah

[18:47] <Khisanth> t/syntax/unicode.................ok

[18:47] <nothingmuch> btw, is $?POSITION the one we're in now?

[18:47] <nothingmuch> Khisanth: what r?

[18:47] <Khisanth> nothingmuch: no change from when it was failing

[18:47] <Khisanth> nothingmuch: locale issue

[18:47] <nothingmuch> ah

[18:48] * nothingmuch tried LC_ALL as C and 'he_IL.utf-8'

[18:48] <nothingmuch> neither worked

[18:48] <Khisanth> hmm

[18:48] <Khisanth> I used en_US.utf8

[18:48] <nothingmuch> what did you set it to?

[18:49] <nothingmuch> not working for m

[18:49] <nothingmuch> e

[18:49] <nothingmuch> linux?

[18:50] <Khisanth> yup

[18:50] * nothingmuch starts emerging svn et al

[18:51] <Khisanth> err this is r671

[18:56] <vladtz> Is there a way to get an english "Term of use agreement"  from rt.openfoundry.org?

[18:57] <nothingmuch> vladtz: autrijus says it is basically sf.net's one,

[18:59] *** lightstep_eating is now known as lightstep

[19:01] <autrijus> hi.

[19:01] <autrijus> vladtz: http://wagner.elixus.org/~hcchien/termtouse.html

[19:01] <autrijus> nothingmuch: I'll try to ignore locale.

[19:03] <autrijus> please try r675.

[19:04] <autrijus> please try 675 on linuxen, too

[19:04] <nothingmuch> my linux is emerging subversion

[19:04] <nothingmuch> will try it soon

[19:04] <nothingmuch> oxsx is making

[19:05] <autrijus> I'm seeing a tibetan error

[19:05] <autrijus> fixing

[19:07] <jabbot> pugs - 675 - * fix callerpos bug by only evaluate the

[19:07] <jabbot> pugs - 674 - * unicode is the Only True Locale

[19:07] <jabbot> pugs - 673 - Chinese sub name

[19:07] <nothingmuch> dum dee dum

[19:09] * nothingmuch grudges at gentoo regenerating ssl keys every time postfix is updated

[19:09] <autrijus> all pass now for me.

[19:09] <autrijus> r677.

[19:10] <nothingmuch> none passed before 677, except ascii

[19:10] <nothingmuch> compiling 677

[19:11] <autrijus> try set LANG=en_US.UTF-8

[19:11] <autrijus> and LC_ALL=en_US.UTF-8

[19:12] <nothingmuch> ah, that did the trick for latin

[19:12] <nothingmuch> including mÃ¸Ã¸se

[19:12] <nothingmuch> but that still prints as m??se on the terminal

[19:12] <autrijus> okay. I understand now

[19:12] <nothingmuch> however, asian and semite scripts are not working

[19:12] <autrijus> macosx build did not compile in libunicode

[19:13] <autrijus> that's all.

[19:13] <autrijus> not fun

[19:13] <nothingmuch> ah

[19:13] <oozy> hi, I try to install Pugs, but gets errors about Ambiguous occurrences from modules GHC.List.null and Data.Set.null, what can I do tot fix this?

[19:13] <autrijus> oozy: are you using GHC 6.4 and Pugs 6.0.10?

[19:13] <oozy> exactly

[19:14] <oozy> I do

[19:14] <autrijus> do you have subversion?

[19:14] <oozy> are you telling to get latest Pugs from svc?

[19:14] <autrijus> if you already have subversion, yes.

[19:15] <oozy> ok, thanks I try

[19:15] <autrijus> if you don't, try this tarball:

[19:15] <autrijus> http://autrijus.org/tmp/Perl6-Pugs-6.0.11.tar.gz

[19:15] <autrijus> oh good.

[19:15] * nothingmuch wonders what $MACHTYPE/$OSTYPE eq in emacs

[19:15] <oozy> :)

[19:15] <nothingmuch> oozy: svn tree is pretty stable

[19:15] <autrijus> it should be, because I need to roll a release now.

[19:15] <autrijus> nothingmuch: so what we do about unicode.t?

[19:15] <nothingmuch> i find it always tends to be

[19:16] <autrijus> the problem is clear

[19:16] <nothingmuch> autrijus: say unicode is supported if GHC supports it

[19:16] <autrijus> just not sure what to do.

[19:16] <nothingmuch> and complain to ghc folks

[19:16] <autrijus> they can't help either

[19:16] <autrijus> the underlying OS need to have some way of libunicode

[19:16] <autrijus> it's up for the porter

[19:16] <autrijus> to compile with the lib

[19:16] <nothingmuch> by the GHC people I meant those which make the GHC dmg

[19:16] <nothingmuch> can't it be compiled properly on OSX?

[19:17] <autrijus> not sure, I hope it can

[19:17] <nothingmuch> gentoo: all fail without LC_ALL

[19:17] <nothingmuch> all pass with

[19:17] <nothingmuch> The Glorious Glasgow Haskell Compilation System, version 6.2

[19:17] <nothingmuch> pugs at head rev

[19:20] <autrijus> okay.

[19:20] <lightstep> i get the moose as iso8859-1

[19:21] <autrijus> try r678

[19:21] <lightstep> (ghc-6.2.2 on debian linux)

[19:21] <nothingmuch> on linux? or osx?

[19:21] <autrijus> either. it should now always pass.

[19:22] <autrijus> I'm really working on changelog now.

[19:22] * autrijus declares it's freeze time

[19:22] <lightstep> now it says "no unicode support"

[19:22] <lightstep> 677 was better

[19:23] <autrijus> I see.

[19:23] <autrijus> r680?

[19:23] <nothingmuch> =)

[19:23] <autrijus> 680 should be happy.

[19:24] <lightstep> just a moment

[19:24] <lightstep> still iso8859-1

[19:25] <autrijus> what do you mean "still iso8859-1"?

[19:25] <autrijus>     skip("GHC was not compiled with non-latin1 Unicode support, bummer");

[19:25] <autrijus> did this line run?

[19:25] <lightstep> no

[19:25] <autrijus> nopaste the full run log.

[19:25] <autrijus> thanks :)

[19:26] <lightstep> which run log? is succeeded. but the slashed o was latin1, not unicode

[19:26] <lightstep> s/is/it

[19:26] <autrijus> oh oh ok

[19:26] <autrijus> that's fine.

[19:26] <autrijus> ghc managed output translations

[19:26] <autrijus> that's Correct Behaviour.

[19:26] <lightstep> ok

[19:26] <autrijus> nothingmuch: what about osx vs r680?

[19:27] <jabbot> pugs - 680 - * latin1 only

[19:27] <jabbot> pugs - 679 - * oops

[19:27] <jabbot> pugs - 678 - * don't bomb out on unicode.t

[19:27] <jabbot> pugs - 677 - * all pass now

[19:27] <jabbot> pugs - 676 - * unTODO

[19:28] <nothingmuch> ok 1 - ascii declaration

[19:28] <nothingmuch> not ok 2 - french declaration

[19:28] <nothingmuch> #     Failed test (t/syntax/unicode.t at line 10, column 5)

[19:28] <nothingmuch> ok 3 -  # skip GHC was not compiled with non-latin1 Unicode support, bummer

[19:28] <autrijus> so even french failed.

[19:29] <autrijus> what if you run it with LANG=C ?

[19:29] <autrijus> or LANG=en_US.UTF-8 ?

[19:29] <nothingmuch> C faukes

[19:29] <nothingmuch> fails

[19:29] <nothingmuch> en_US.UTF-8 will pass

[19:30] <nothingmuch> yup

[19:30] <autrijus> hm.

[19:30] <autrijus> do you think we should putEnv?

[19:31] <autrijus> at start of pugs

[19:31] <nothingmuch> i have no clue

[19:31] <autrijus> alternatively, only do that on harness

[19:31] <nothingmuch> i think not

[19:31] <autrijus> thinking.

[19:31] <autrijus> let me try putenv

[19:31] <theorbtwo> User apps might want to know what the user's locale was set to.

[19:31] <nothingmuch> that makes programs written in perl6 not know what LANG was originally

[19:31] <autrijus> that is true too

[19:32] <autrijus> nothingmuch: hm. so all other tests passed?

[19:32] <autrijus> including french quotes and yen?

[19:32] <autrijus> even under LANG=C?

[19:32] <nothingmuch> autrijus: yes, that stuff works perfectly

[19:33] <autrijus> oooook

[19:33] <nothingmuch> it doesn't really matter

[19:33] <nothingmuch> if it's not utf8 to parsec  or whomever

[19:33] <nothingmuch> it's not utf8 in both cases

[19:33] <nothingmuch> so it still gets parsed =)

[19:34] <autrijus> does "en.UTF-8" work?

[19:34] <nothingmuch> on osx?

[19:35] <theorbtwo> Hm, not working for me even with LANG=en_US.UTF-8

[19:36] <wilx> Hmm....

[19:36] <nothingmuch> autrijus: en.UTF-8 causes french to fail again

[19:36] * wilx doesn't like the way *nix handles locale stuff.

[19:36] <autrijus> sigh.

[19:36] <nothingmuch> handle? what handle?

[19:37] <autrijus> ok, I abandon all hope.

[19:37] <lightstep> theorbtwo, which ghc do you have?

[19:37] <autrijus> r683. ;)

[19:37] <jabbot> pugs - 684 - * doc is gone.

[19:37] <jabbot> pugs - 683 - * sigh.

[19:37] <jabbot> pugs - 682 - * perlkwid.kwid belongs somewhere under 

[19:37] <jabbot> pugs - 681 - * move to docs for now before we figure 

[19:39] <Khisanth> gugod: can you make jabbot print those in the other order?

[19:43] <autrijus> 1477 tests now.

[19:43] <autrijus> one week ago it was 1050

[19:43] <nothingmuch> =)

[19:43] <lightstep> but they fail

[19:44] <nothingmuch> lightstep: a failing tests tests something too =)

[19:44] <obra> 50 more tests and pugs will have more tests than RT

[19:44] <lightstep> rt?

[19:44] <obra> make pugs able to run RT and I'll double your test suite ;)

[19:44] <obra> http://bestpractical.com/rt/

[19:44] <autrijus> hah :)

[19:45] <autrijus> nothingmuch: please delete my password.

[19:45] <autrijus> err, sorry, mischan

[19:47] <nothingmuch> hola stevan 

[19:47] <stevan> hey there nothingmuch 

[19:47] <stevan> just the person I was looking for

[19:47] <nothingmuch> =)

[19:47] <jabbot> pugs - 685 - * regen manifest

[19:49] <theorbtwo> Sorry -- GHC 6.2.2, from debian unstable.

[19:49] <autrijus> hi stevan!

[19:49] <stevan> hey autrijus 

[19:49] <stevan> how goes Pugs

[19:49] * autrijus is doing changelog :-/

[19:49] <stevan> I have been busy with work and "real live" lately sorry

[19:50] <autrijus> that's just fine.

[19:50] <autrijus> 6.0.11 will be out in a few mins.

[19:50] <stevan> nice

[19:50] <theorbtwo> s/live/life/

[19:50] <lightstep> theorbtwo, i have the same problem. i'm installing 6.4 now to see the difference

[19:55] <lightstep> modules/Sample-Module is missing (this complaint is from Makefile.PL)

[19:56] <lightstep> or rather, some of its files (meta, blib, etc.)

[19:57] <lightstep> and there are warnings about orphan instances

[19:57] <lightstep> in Internals and in AST

[19:57] <jabbot> pugs - 686 - * don't spread my email around.

[19:58] <obra> autrijus: is svn.perl.org reasonably syncced?

[19:59] <autrijus> obra: I think so.

[19:59] <obra>   expected to pass tsts?

[19:59] <autrijus> yeah. what fails?

[20:00] <obra> nothing yet

[20:00] <obra> I'm running the suite nopw

[20:00] * obra got a bad idea

[20:00] <obra> or rather, jhi gave me a bad idea

[20:01] <autrijus> yes?

[20:01] <rgs> nasty jhui

[20:01] <rgs> jhi

[20:01] <obra> Digest::SHA::PurePerl

[20:01] <obra> a necessary precondition of cp6an, in his opinion is working things like FTP and SHA1 

[20:02] <obra> Digest::SHA::PurePerl appears to do math but otherwise be pretty simple

[20:02] <autrijus> sure, but we can also hook haskell Codec.

[20:02] <obra> sure.

[20:02] <autrijus> is ::SHA::PurePerl already on cpan?

[20:02] <obra> yes

[20:02] <obra> In terms of "prove perl6" "hack in a haskell extension" isn't a win

[20:03] <obra> in terms of "Get sha1 working" it's reasonable

[20:03] <obra> but In that case, exec and perl5 would be fine too ;)

[20:03] <obra> Is that at all sensical?

[20:04] <autrijus> of course...

[20:04] <autrijus> ext/Digest-SHA/ awaits you.

[20:04] <autrijus> want committer bit?

[20:04] <obra> no committer bit until I prove that I have code

[20:04] <autrijus> sure.

[20:04] <obra> "incentive to write code"

[20:05] <autrijus> brb.

[20:05] <obra> "incentive to not do customer work I _must_ do before monday"

[20:06] <nothingmuch> obra: a comitter bit will make you feel guilty about not having written code already ;-)

[20:07] <obra> nothingmuch:   I have rather a lot of committer bits ;)

[20:07] <nothingmuch> heh

[20:07] <jabbot> pugs - 687 - * fix manifest

[20:14] <obra> so. um. perl6 tutorials

[20:15] <autrijus> Perl 6 Now?

[20:16] <wilx> Yay for jabbot!

[20:17] <autrijus> http://kw.pm.org/talks/2004-10-24-Perl6talk.ppt ?

[20:17] <wilx> It should print the changes oldest first.

[20:17] <autrijus> wilx: yeah, that's a FAReq :-/

[20:17] <autrijus> jabbot is gugod's

[20:17] <obra> is perl6now any good?

[20:18] <theorbtwo> p6now isn't really about perl 6, it's about how to implement p6-like ideas under p5.

[20:18] <obra> oh. "enh"

[20:21] <theorbtwo> Came up near the beginning of the project; wanted to use the code examples as tests, but they're p5 code... IIRC.

[20:22] <autrijus> there's some p6 code there.

[20:23] <autrijus> but it's not needed anymore

[20:23] <autrijus> the t/* gang completely overwhelmed its scope.

[20:25] * nothingmuch gloats a bit

[20:25] <nothingmuch> ;-)

[20:25] <autrijus> nothingmuch++

[20:26] <autrijus> testers++

[20:27] <autrijus> ok. who has GHC 6.4 on linux?

[20:27] <lightstep> me

[20:27] <autrijus> all tests passed for you?

[20:27] <autrijus> (ignore the warnings)

[20:27] <lightstep> how do i check it>

[20:27] <lightstep> ?

[20:27] <jabbot> lightstep: ¬O³o¼Ëª±¶Ü? o_oa

[20:27] <autrijus> "make test"

[20:27] <jabbot> pugs - 689 - * set properties

[20:27] <jabbot> pugs - 688 - * changelog for 6.0.11

[20:27] <obra> I have 6.22. Want me tto upgrade?

[20:28] <autrijus> I don't think 6.4-macosx is out

[20:28] <lightstep> i'm pulling right now

[20:28] <nothingmuch> obra: are you osx too?

[20:28] <obra> I have linux and osx

[20:28] <obra> right here, linux

[20:29] <obra> why is algorthm::dependency checked into pugs svn?

[20:29] <autrijus> obra: see backlog :)

[20:29] <obra>  it appears to be p5.

[20:29] <obra> how far back?

[20:29] <lightstep> on t/examples: 10/10 skipped, various reaons

[20:29] <autrijus> it's my experiment in doing p6ification in trunk.

[20:29] <obra> ahhhhh

[20:29] <autrijus> modules/ means "does not really work and is not installed" anyway.

[20:29] <autrijus> and A::Dep is not even in MANIFEST.

[20:29] <autrijus> so I feel safe.

[20:30] * obra nods

[20:30] <obra> I went looking for example code for modules :/

[20:30] <autrijus> yeah. :/

[20:30] <autrijus> 'mafraid there's only t/* for you.

[20:30] <obra> Ok.

[20:31] <obra> what's the right set of tests to learn about setting up package variables, etc

[20:31] <nothingmuch> obra: if you use OSX for dev, perhaps write yourself down in http://pugs.kwiki.org/?OSXPeople

[20:31] <nothingmuch> it's basically a subetha users directory, for pairing

[20:31] <autrijus> http://autrijus.org/Perl6-Pugs-6.0.11.tar.gz 

[20:31] <autrijus> calling for a final round of tests.

[20:31] <lightstep> all tests succeeded or skipped

[20:31] <nothingmuch> 404

[20:32] <autrijus> http://autrijus.org/dist/Perl6-Pugs-6.0.11.tar.gz

[20:32] <autrijus> sorry.

[20:32] <nothingmuch> autrijus+=0; # forgiven ;-)

[20:33] <nothingmuch> ime stamp 2005-03-13 22:33:09 is 25 s in the future

[20:33] <nothingmuch> heh

[20:33] <autrijus> adjusted back.

[20:33] <stevan> orba if you want module example code,.. you could check Test.pm 

[20:33] <theorbtwo> Ah, good, I'm not the only one that's off from Autrijus Standard Time.

[20:33] <nothingmuch> server 128.139.6.20, stratum 1, offset -7.521101, delay 0.04782

[20:33] <nothingmuch> i'm not that good either

[20:34] <theorbtwo> Remind me how to check, nm?

[20:34] <nothingmuch> oh, sorry, different box

[20:34] <obra> should this statement work:  my $foo = 5;

[20:34] <autrijus> ...yes.

[20:34] <nothingmuch> ntpdate -qd your_server

[20:34] <autrijus> I think.

[20:34] <autrijus> will be surprised if it does not

[20:34] <nothingmuch> obra: t/op/assign.t ;-)

[20:35] <obra>  I'm typing this:

[20:35] <obra> pugs

[20:35] <theorbtwo> -0.030720 sec

[20:35] <theorbtwo> I'm pretty good.

[20:35] <obra> my $foo = 5;

[20:35] <nothingmuch> oh, in interactive...

[20:35] <obra> >pugs says: undef

[20:35] <lightstep> it only evaluates expressions

[20:35] <obra> I say: 

[20:35] <theorbtwo> All succeeded, 11 skipped.

[20:36] <obra> say $foo

[20:36] <obra> *** Error: Undefined variable $foo at Var "$foo"

[20:36] <autrijus> context is lost between lines.

[20:36] <autrijus> that was debated.

[20:36] <nothingmuch> pugs> my $foo = 5; $foo

[20:36] <nothingmuch> 5

[20:36] <autrijus> it will be made togglable.

[20:36] <obra> *blink* why would you want to lose context between lines?

[20:36] <autrijus> between lines in interactive shell, that is.

[20:37] <theorbtwo> I rather wondered that as well...

[20:37] <nothingmuch> will you implement an :r, to throw away context when sticky, autrijus?

[20:37] <autrijus> uh, because no-one complained loudly :)

[20:37] <autrijus> nothingmuch: sure, that sounds good

[20:37] * theorbtwo should have been louder.

[20:37] <autrijus> any lambdafolks up for it? :)

[20:37] <nothingmuch> obra, theorbtwo: to sure errors don't leak between your checks

[20:37] <autrijus> otherwise I'll look at it tomorrow.

[20:37] * nothingmuch is too dead to even think he can try

[20:37] * autrijus too, today

[20:38] <obra> to make sure errors don't leak?

[20:38] <nothingmuch> .11 passes all

[20:38] <nothingmuch> obra: err, if you did something wrong

[20:38] <obra> Is it not supposed to be an interactive environment for pugs in the end?

[20:38] <lightstep> if i look at it in a few hours, who should i report to?

[20:38] <nothingmuch> and you go at it again

[20:38] <nothingmuch> bad state might leak

[20:38] <nothingmuch> causing stuff which is correct to not be correct, due to screwey environment

[20:39] <theorbtwo> :reset , then.

[20:39] <nothingmuch> autrijus: also nice would be the ability to have non balanced structures cause a secondary prompt

[20:40] <autrijus> true.

[20:40] <nothingmuch> so you can type:

[20:40] <nothingmuch> pugs> {\n

[20:40] <nothingmuch> type a multiline expr

[20:40] <nothingmuch> and then }\n

[20:40] <nothingmuch> and it evals

[20:41] <autrijus> yup.

[20:41] * nothingmuch always saw pugs in interactive mode as sort of <code>eval while <></code>

[20:42] <nothingmuch> err, before .11

[20:42] <stevan> this is still testing,.....

[20:42] <stevan> I think we have too many tests :P

[20:42] <nothingmuch> t/parser....Perl v6.0.0 required--this is only v5.8.5, stopped at t/parser.t line 1.

[20:42] <nothingmuch> BEGIN failed--compilation aborted at t/parser.t line 1.

[20:42] <nothingmuch> t/parser....dubious                                                          

[20:42] <nothingmuch>         Test returned status 9 (wstat 2304, 0x900)

[20:42] <nothingmuch> FAILED--1 test script could be run, alas--no output ever seen

[20:42] <nothingmuch> ooh, LANG=he_IL.UTF-8 bothers make

[20:43] <nothingmuch> make[1]: *** [test_dynamic] 2 ×××§×ª

[20:43] <stevan> it probably need #!/usr/bin/pugs at the top

[20:43] <nothingmuch> it types 'error', but in reverse =D

[20:43] <lightstep> make is funny in hebrew

[20:43] <autrijus> 04:42  * CPAN upload: Perl6-Pugs-6.0.11 by AUTRIJUS

[20:43] <autrijus> if there's bugs, it's now too late :)

[20:43] <nothingmuch> hah

[20:44] <stevan> All tests successful, 11 subtests skipped.

[20:44] <stevan> Files=87, Tests=1461, 405 wallclock secs (265.73 cusr +  9.47 csys = 275.20 CPU)

[20:44] <lightstep> search.cpan.org/dist/Perl6-Pugs still has only .10

[20:44] <nothingmuch> lightstep: it usually takes a while

[20:44] <nothingmuch> 2 hours or so

[20:44] <stevan> lightstep: it will take a few hours to get there

[20:44] <nothingmuch> you can leech of nic.funet.fi if you're really impatient

[20:45] <nothingmuch> but search.cpan is the slowest of all

[20:45] <lightstep> i have the svn version

[20:46] * nothingmuch reads a bit of YAHT before sleep

[20:46] <stevan> what is pugscc?

[20:47] <autrijus> stevan: it turns p6 code into standalone exe.

[20:47] <autrijus> same as perlcc.

[20:47] <obra> aw. the test suite has no tests

[20:47] <nothingmuch> obra: you mean Test.pm?

[20:47] <nothingmuch> no Test::Ouput yet

[20:48] <nothingmuch> anyway, if it was bad, we'd know ;-)

[20:48] <theorbtwo> Oh: It doesn't have +x perms.

[20:48] <autrijus> nothingmuch: you got a "special thanks" :)

[20:48] <autrijus> # http://www.nntp.perl.org/group/perl.perl6.compiler/309

[20:48] <rgs> autrijus: is there an url for the latest pugs ?

[20:48] <lightstep> why are single-statement monadic blocks prefixed with `do'? is this some convention?

[20:49] <rgs> the tarball, i mean

[20:49] <autrijus>     http://autrijus.org/dist/Perl6-Pugs-6.0.11.tar.gz

[20:49] <nothingmuch> ooh

[20:49] <rgs> thanks

[20:49] <autrijus> lightstep: yes, some convention.

[20:49] <lightstep> it looks strange in, eg, doRun

[20:49] <nothingmuch> careful, my ego might boil ;-)

[20:49] <autrijus> oh, that.

[20:49] <autrijus> that's just baskell legacy

[20:50] <autrijus> it matters little to me anyway.

[20:50] <autrijus> ok, sleep time.

[20:50] <autrijus> have fun, folks!

[20:50] <autrijus> thanks for making 6.0.11 possible! :)

[20:50] <nothingmuch> good night autrijus 

[20:50] <nothingmuch> great job!

[20:50] <theorbtwo> G'night, autrijus, and congrats.

[20:50] <autrijus> =) &

[20:57] <jabbot> pugs - 690 - * This be Pugs, version 6.0.11.

[21:03] <rgs> kwid is no longer installed in latest pugs ?

[21:03] <nothingmuch> ext/Kwid

[21:03] <rgs> no, after "make install"

[21:03] <nothingmuch> oh, installed

[21:03] * nothingmuch never installed pugs =P

[21:04] * rgs makes rpms of pugs

[21:04] <nothingmuch> yeah, i misread

[21:04] <rgs> in fact, I use pugs straight from svn, but I have friends who play with it via the rpm

[21:04] <rgs> and it amuses me

[21:05] <rgs> which justifies the worthwhility of it :-)

[21:08] * theorbtwo ponders a CGI that will deliver a up-to-date .deb.

[21:08] <rgs> theorbtwo: investigate CPANPLUS.

[21:09] <theorbtwo> But that'd only give the latest release.

[21:09] <theorbtwo> And the release is always out of date.

[21:09] <rgs> yes, the pace is amazing

[21:10] <rgs> but you can "make dist" and have cpanplus produce a .deb IIRC

[21:10] <obra> ok. I've got a test patch. what's the right place to get it reviewed?

[21:11] <rgs> p6c I think

[21:11] <nothingmuch> obra either pastebot

[21:11] <nothingmuch> or subetha pariring

[21:11] <nothingmuch> or mailing lists

[21:11] <nothingmuch> or just commit and someone will cleanup

[21:11] <theorbtwo> I'd say just put it someplace http-accessable, and point us at it, or commit.

[21:12] <obra> given that it's my first perl6 code and it's a patch to the test harness, I'm not about to commit it without review ;)

[21:12] <obra> but as soon as the suite runs, I'll put it up

[21:12] <theorbtwo> Does it work for you?

[21:12] <obra> it's appearing to. but I'm somewhat build-break averse

[21:12] <rgs> obra: so what are your first impressions about writing p6 code ?

[21:13] <obra> "more copmplexity, not any more utility"

[21:13] <obra> complexity

[21:13] <nothingmuch> and it's use of zip

[21:13] <nothingmuch> obra: for nice p6 only utility see t/op/given.t

[21:13] <nothingmuch> err, Â¥

[21:13] * obra nods

[21:14] <nothingmuch> and for () -> ($try, $expected)

[21:14] <obra> sure. I expect this will change once I've used it for more than anhour

[21:14] * rgs hugs perl 6

[21:14] <nothingmuch> one thing to be weary of:

[21:14] * rgs curses his perl 5 hat

[21:14] <nothingmuch> is($thing, <junction>, "foo");

[21:14] <obra> http://fsck.com/~jesse/test.pm6

[21:15] <nothingmuch> like, is($thing, ("ok value" | "other ok value"), "foo");

[21:15] <nothingmuch> this will invoke is twice

[21:15] <nothingmuch> once for ok value

[21:15] <nothingmuch> and another for other

[21:15] <nothingmuch> and one will fail

[21:15] <nothingmuch> so you do ok($thing eq junction, "foo")

[21:15] * integral still disagrees with this scheme for junctions

[21:16] <nothingmuch> report_failure could be made cooler:

[21:16] <nothingmuch> $?CALLER::CALLER::POSITIOn

[21:16] <nothingmuch> =),

[21:16] <obra> that will just work?

[21:16] <nothingmuch> uhuh

[21:16] <nothingmuch> err, supposed to

[21:16] <nothingmuch> will test

[21:17] <obra> Ok. patched

[21:18] <obra> and actually, I think I'll switch to integrating with proclaim

[21:19] <theorbtwo> "proclaim"?

[21:19] <nothingmuch> theorbtwo: Test.pm internals

[21:19] <obra> see the main code

[21:20] * autrijus wakes up from sleep

[21:21] <nothingmuch> autrijus: CALLER::CALLER?

[21:21] <autrijus> just one thing: obra now has the admin bit. if I'm unavailable and someone needs committer bit, ping him :)

[21:21] <nothingmuch> yay!

[21:21] <autrijus> CALLER::CALLER works, no?

[21:21] <nothingmuch> i don't know how to syntax it

[21:21] <autrijus> $?CALLER::CALLER::POSITION

[21:22] <nothingmuch> undef var

[21:22] <nothingmuch> sub inner { return join("\n", $?CALLER::CALLER::POSITION, $?CALLER::POSITION) }

[21:22] <nothingmuch> sub outer { inner() }

[21:22] <autrijus> I see. it's TODO then.

[21:22] <nothingmuch> Undefined variable $?CALLER::CALLER::POSITION

[21:22] <autrijus> the relevant bit is line 225 Eval.hs

[21:22] <nothingmuch> does eval have a caller?

[21:22] <autrijus> you can write a test

[21:22] <nothingmuch> i am writing one =)

[21:23] <autrijus> or attempt a fix by somehow using findVar instead of findVar' in eval line 225.

[21:23] * autrijus really sleeps &

[21:23] <nothingmuch> i'll try to grok

[21:24] * mugwump sends autrijus SIGSTOP

[21:25] * mugwump renice's autrijus to 1.5Hz 

[21:25] <nothingmuch> mugwump: his irc client is prolly beeping... let him be!

[21:25] <nothingmuch> ;-)

[21:26] <mugwump> true

[21:30] * nothingmuch tries to figure out where caller is defined

[21:32] <nothingmuch> hmmm

[21:32] <nothingmuch> i think i can actually do this

[21:32] <nothingmuch> anybody want to SEE with me?

[21:32] <lumi> You mean someone who actually has a clue?

[21:32] <theorbtwo> I will, but I don't know how useful I'll be.

[21:33] <nothingmuch> err, cluefullness adds up, lumi =)

[21:33] <lumi> I'd like to read over your shoulder anyway

[21:33] <theorbtwo> If a third wants to come in, I've been wanting to get some protocol caps of three-party SEE.

[21:34] <nothingmuch> ok, we'll discuss here

[21:34] <nothingmuch> see freeforall is open at see://woobling.org

[21:36] <nothingmuch> lumi: try again

[21:36] <nothingmuch> wifi problems

[21:36] <lumi> I'm learning to loath these

[21:37] <nothingmuch> the guy who built our house before we bought it appearantly had a very good friend who was a cement dealer or something

[21:37] <nothingmuch> that's why i have wifi problems

[21:37] <jabbot> pugs - 691 - test CALLER::CALLER

[21:37] <lumi> I think he did my house as well

[21:38] <nothingmuch> i believe there is about 0.5 meters of concrete, when it sums up, between me and the station

[21:38] <theorbtwo> Hmmpf, I'm having network problems; OSX isn't doing DNS, it's trying to do portmapping.

[21:38] <nothingmuch> oi oi oi

[21:39] <nothingmuch> theorbtwo: we'll wait a bit then

[21:39] <obra> will $?CALLER::CALLER::CALLER::POSITION work in the end?

[21:39] <nothingmuch> just tell us if you give up

[21:40] <nothingmuch> obra - the way it seems like the impl might be, yes

[21:40] <nothingmuch> it's just going to be recursive

[21:40] <obra> okm

[21:40] <lumi> Bh

[21:40] <obra> but I should expect that right now, it does not?

[21:40] <lumi> A pox on wifi in all its forms

[21:40] <nothingmuch> obra: not yet, only single level

[21:40] <obra> ok

[21:41] <theorbtwo> Huh?  My /var/run is missing!

[21:41] <nothingmuch> oi oi oi

[21:44] * nothingmuch begs OSXPeople to join in

[21:45] <nothingmuch> everyone that is interested seems to be having some kind of issue with it ;-)

[21:46] <lumi> I've changed my network configuration a little

[21:46] <nothingmuch> me too

[21:47] <lumi> (And stayed on irc, a miracle!)

[21:47] <nothingmuch> nat punch now goes to ethernet ip

[21:47] * nothingmuch needs to get both interfaces to bind to the same port some how... does arp even allow it?

[21:48] <nothingmuch> theorbtwo: how are you coming along?

[21:49] <theorbtwo> Not sure.

[21:51] <nothingmuch> shall we start?

[21:51] <nothingmuch> (this is a vote, larsen, lumi ;-)

[21:51] <lumi> Sure

[21:51] <larsen> ok

[21:51] <nothingmuch> ok

[21:52] <theorbtwo> Go for it; I'll join later if I get this fixed.

[21:52] <nothingmuch> first i think we'll start guessing on findVar

[21:52] <lumi> Gr

[21:52] <nothingmuch> as i see it it's taking a varname

[21:53] <nothingmuch> the first line is taking the package prefix, and the rest

[21:53] <nothingmuch> i.e. foo::bar::gorch is -> foo, bar::gorch

[21:53] <nothingmuch> lumi->ping

[21:53] <lumi> Ow

[21:53] <lumi> I keep dying

[21:53] <nothingmuch> go somewhere where you have a physical cable =)

[21:53] <lumi> I *do* have physical cable

[21:54] <nothingmuch> anywho,then it's looking at the package variable

[21:54] <nothingmuch> and if it's CALLER, without the sigil, err sort of

[21:54] <nothingmuch> then it calls findVar' inside an env for that context, which does the dirty work

[21:55] <nothingmuch> i think what our task is going to be is to make findVar' the general case

[21:55] <nothingmuch> or otherwise cause findVar to have another variant

[21:55] <nothingmuch> which takes env args

[21:55] <nothingmuch> and recurses them

[21:55] <nothingmuch> each time dealing with another CALLER prefix

[21:55] <lumi> That is, factor the env thing into findVar'?

[21:55] <nothingmuch> and eventually using findVar' to extract the actual whatever it extracts

[21:56] <nothingmuch> i'm not exactly sure

[21:56] <lumi> Hh

[21:57] <nothingmuch> blockedit is fun 

[21:57] <nothingmuch> =)

[21:57] <larsen> :)

[21:59] <theorbtwo> I think you're better off making findVar call findVar instead of findVar' when it sees CALLER.

[21:59] <theorbtwo> Oh, wait, no.

[21:59] <nothingmuch> theorbtwo: the problem is how to get findVar to look in another env

[22:00] * nothingmuch has commented Eval.hs a bit

[22:00] <nothingmuch> you should see, but you have no see.

[22:00] <theorbtwo> Factoring the CALLER bit into findVar'...

[22:00] <theorbtwo> Right.

[22:00] <nothingmuch> heh, pun not intendant

[22:00] <nothingmuch> heh, pun not intended

[22:00] <theorbtwo> I'll get back to that now.

[22:00] <theorbtwo> That's too bad, as it was good.

[22:00] <nothingmuch> theorbtwo: save an image when you get it fixed ;-)

[22:01] <nothingmuch> good catch, lumi

[22:03] <lumi> I don't understand the call to caller

[22:03] <nothingmuch> anybody got a clue how that call to caller makes any sense as a Num?

[22:03] <lumi> Ehm it's not, is it

[22:03] <nothingmuch> caller n = do

[22:03] <lumi> rv is Just x (x is called caller)

[22:04] <nothingmuch> when (depth <= n)

[22:04] <nothingmuch> it's $CALLER::FOO -> $FOO

[22:04] <nothingmuch> i get this part: (sig ++ (drop 2 name'))

[22:04] <lumi> findvar' x (sig..etc)

[22:05] <lumi> What is it? I don't

[22:05] <nothingmuch> since sig and name were sliced properly

[22:05] <nothingmuch> i assume drop 2 takes the '::' off of name

[22:05] <lumi> Oh

[22:05] <nothingmuch> oh

[22:05] <nothingmuch> the call to caller is not a call to caller

[22:05] <nothingmuch> we're used to reading it wrong ;-)

[22:05] <lumi> No, confusing

[22:05] <lumi> Yup

[22:06] <nothingmuch> if it were (caller (sig ++))

[22:06] <nothingmuch> so what is the caller?

[22:06] <nothingmuch> an env?

[22:06] <nothingmuch> that is really a function, that is errr, lazifyingly made in to an env?

[22:06] <lumi> It got it from "asks envCaller"

[22:06] <nothingmuch> not rv

[22:06] <nothingmuch> findVar' caller

[22:06] <nothingmuch> caller is something

[22:07] <lumi> It's Just caller

[22:07] <nothingmuch> oh shit

[22:07] <nothingmuch> sorry

[22:07] <lumi> The case binds it

[22:07] <nothingmuch> ok

[22:07] <obra> does pugs use the perl5 test harness?

[22:08] <nothingmuch> obra: uhuh

[22:08] <nothingmuch> what do | and , really do in a function?

[22:08] <nothingmuch> case?

[22:09] <lumi> Yes, "if so and so fits, the function = this"

[22:09] <lumi> Otherwise that

[22:09] <lumi> I think

[22:09] <nothingmuch> and comma is and?

[22:09] <nothingmuch> how would we extract the caller of a caller?

[22:10] <nothingmuch> rv <- asks envCaller

[22:10] <lumi> Yes

[22:10] <lumi> I don't know that "asks" magic

[22:10] <nothingmuch> i think we'll deal with it later

[22:10] <lumi> Possibly another <- asks envCaller will get you the next one

[22:11] <nothingmuch> another?

[22:11] <nothingmuch> how does it keep state?

[22:11] <lumi> It's a monad

[22:11] <nothingmuch> right

[22:11] <nothingmuch> but we don't return states to it at the end of findVar

[22:12] <lumi> I see returns in findVar'

[22:12] <lumi> I don't yet grok it :/

[22:12] <nothingmuch> return is, as i gather, a way to type do

[22:12] <nothingmuch> since do is a number of actions/functions

[22:13] <nothingmuch> you declare some to be final

[22:13] <nothingmuch> i think

[22:13] <nothingmuch> s/think/guess/

[22:13] <nothingmuch> (infer ;-)

[22:13] <lumi> Final?

[22:13] <nothingmuch> the thing whose type is the type of the do segment

[22:14] <nothingmuch> hence the type of findVar

[22:15] <nothingmuch> okay, lumi, i think i'm sort of done

[22:15] <nothingmuch> except for the parrts I really don't know

[22:15] <nothingmuch> larsen: any feedback?

[22:16] <lumi> What did you do?

[22:17] <nothingmuch> perlbot: nopaste?

[22:17] <perlbot> Paste your code here and #perl will be able to view it: http://sial.org/pbot/perl

[22:17] <pasteling> "nothingmuch" at 212.143.91.217 pasted "findVar for recursive CALLER" (23 lines, 946B) at http://sial.org/pbot/8151

[22:17] <larsen> nothingmuch: sorry, I was writing some code for another project

[22:17] <nothingmuch> 			rv <- -- getNextEnv env

[22:17] <nothingmuch> that part we don't know yet

[22:17] <larsen> actually, I'm too ignorant in Haskell to really contribute

[22:17] <nothingmuch> hence it's commented out

[22:18] <nothingmuch> well, nevermind then

[22:18] <lumi> I know absolutely nothing, and I think I helped some

[22:18] <nothingmuch> you're picture in the participants window is fun enough ;-)

[22:18] <nothingmuch> lumi: liar, you do too know

[22:18] <larsen> nothingmuch: cheers for that

[22:18] <lumi> I do not!

[22:18] <nothingmuch> beh

[22:18] <lumi> I only read YAHT a bit

[22:18] <obra>  what's the authenticated svn url for pugs?

[22:19] * nothingmuch svn co http://svn.openfoundry.org/pugs

[22:19] <nothingmuch> and then ci

[22:19] <nothingmuch> and it just worked

[22:19] <nothingmuch> i guess it uses DAV

[22:19] <obra> ah. ok

[22:19] * obra has a refactored test harness to check in

[22:19] <nothingmuch> obra: does it use CALLER::CALLER?

[22:20] <nothingmuch> wtf is envCaller?

[22:20] <lumi> I think the do is magic

[22:21] <nothingmuch> do is pretty magic, yes

[22:21] <lumi> I think it passed in a monad, and asks is defined on that monad

[22:21] <lumi> I mean, it's "THE" magic here

[22:21] <nothingmuch> that's two levels farther than I understand do

[22:21] <nothingmuch> so lets just try asks envCaller, you say?

[22:21] <obra> nothingmuch: it does not. it has a todo for that

[22:21] <nothingmuch> okay,

[22:21] <lumi> I think do topicalizes on a monad

[22:22] <nothingmuch> lumi: elaborate?

[22:22] <lumi> You pick somehow a monad, and then you do stuff. And you call other folk who do stuff

[22:22] <lumi> Everyone who is do-ing is do-ing with the "topic" monad

[22:23] <lumi> <- binds from the monad

[22:23] <lumi> I should really start quoting temrs

[22:23] <lumi> Terms as well

[22:24] <lumi> I'm not sure about the part that picks the monad, but the rest I'm.. fairly sure of

[22:24] <lumi> Well, vaguely sure

[22:24] <nothingmuch> that's an oxymoron

[22:24] <theorbtwo> Ugh.

[22:24] <lumi> Aren't there any Followers of the Lambda about?

[22:25] <theorbtwo> I think I need to reinstall my OSX.

[22:25] <theorbtwo> Join #haskell and ask there?

[22:27] <lumi> Except what's the question exactly

[22:27] <lumi> "Explain monads, please" is a bit vague

[22:27] <theorbtwo> I certianly don't know.

[22:28] <theorbtwo> Going to bed, will probably be back in approx .5hr.

[22:28] <nothingmuch> night, theorbtwo 

[22:28] <theorbtwo> Perhaps "do you know where 'asks'" comes from in this code.

[22:28] <theorbtwo> Hm, misplaced end quote.

[22:28] <lumi> Right, do pastebots

[22:28] <lumi> That's not what I meant to type

[22:30] <nothingmuch> lumi->sanify

[22:30] <nothingmuch> i get indent errors now, trying to figure out why

[22:34] <lumi> Why'd you take findVar' out of findVar?

[22:35] <nothingmuch> trying stuff out

[22:35] <nothingmuch> to see if i coudl make the error more specific

[22:36] <nothingmuch> beh

[22:36] <nothingmuch> rewriting

[22:36] <nothingmuch> svn revert first, copying new broken version

[22:38] <lumi> It doesn't compile now?

[22:38] <nothingmuch> no

[22:39] <nothingmuch> ok, this ocmpiles now

[22:39] <lumi> What fixed it?

[22:39] <nothingmuch> i have no clue

[22:39] <nothingmuch> i just zapped the change

[22:39] <nothingmuch> and rewrote it

[22:39] <nothingmuch> cleanly

[22:40] <nothingmuch> ok

[22:40] <nothingmuch> the recursion works

[22:40] <nothingmuch> but asks envCaller is not getNextEnv

[22:40] <lumi> And for our next trick, let's rewrite using Maybe monad :P

[22:40] <lumi> Oh.. What does it do then?

[22:40] <nothingmuch> not ok 3 - caller::caller notation works # TODO

[22:40] <nothingmuch> #     Failed (TODO) test (t/magicals/caller_pos.t at line 24, column 1)

[22:40] <nothingmuch> #          got: 't/magicals/caller_pos.t at line 22, column 13

[22:41] <nothingmuch> # t/magicals/caller_pos.t at line 22, column 13'

[22:41] <nothingmuch> #     expected: 't/magicals/caller_pos.t at line 24, column 1

[22:41] <nothingmuch> # t/magicals/caller_pos.t at line 22, column 13'

[22:41] <nothingmuch> appearantly asks envCaller always returns the same thing

[22:41] <nothingmuch> $?CALLER::POSITION -> $?POSITION in asks envCaller

[22:41] <nothingmuch> recursively, till you run out of CALLER

[22:41] <nothingmuch> so now lets figure out what asks and envCaller are

[22:43] <lightstep> i think -fno-warn-orphans should be added to line 139 in Makefile.PL

[22:43] <obra> once you fix CALLER::CALLER, I'll redo the test suite again

[22:43] <nothingmuch> lumi - join #haskell

[22:45] <metaperl> are there tests written for smartmatching?

[22:45] * metaperl does svn update

[22:46] <metaperl> yup: t/op/smartmatch.t

[22:47] <nothingmuch> ok, back here, to not annoy #haskell

[22:47] <nothingmuch> it appears like caller n allows you to err, give it an int

[22:47] <jabbot> pugs - 693 -  r8413@hualien:  jesse | 2005-03-13 17:3

[22:47] <jabbot> pugs - 692 -  r8412@hualien:  jesse | 2005-03-13 17:3

[22:47] <nothingmuch> and get the same thing as rv <- env

[22:47] <nothingmuch> or whatever

[22:48] <nothingmuch> obra++

[22:48] <lightstep> ok

[22:48] <nothingmuch> =)

[22:49] <nothingmuch> lightstep: are envs a sort of linked list that is really a stack?

[22:49] <lightstep> to my unsuspecting eye, it seems that the first branch of findVar is never taken

[22:49] <nothingmuch> it is

[22:49] <nothingmuch> at least, i am nearly sure

[22:50] <lightstep> oh, i misinterpreted the (:) in breakOnGlue

[22:50] <lightstep> they are stacked, through envCaller

[22:50] <nothingmuch> look what we've come up with:

[22:50] <lightstep> envCaller :: Env -> Maybe Env

[22:50] <nothingmuch> perlbot: nopaste

[22:50] <perlbot> Paste your code here and #perl will be able to view it: http://sial.org/pbot/perl

[22:51] <pasteling> "nothingmuch" at 212.143.91.217 pasted "new findVar" (24 lines, 1K) at http://sial.org/pbot/8152

[22:51] <nothingmuch> lightstep: where do you read that?

[22:51] <lightstep> is it supposed to be equivalent?

[22:51] <nothingmuch> ATS.hs

[22:52] <lightstep> line 487 on AST.hs

[22:52] <nothingmuch> no, it's supposed to recurse, running findVar' on the highest env

[22:52] <xerox> 'night folks

[22:52] <nothingmuch> err, highest -> shallowest

[22:52] <nothingmuch> night xerox!

[22:52] <nothingmuch> removing a level for every time package isa CALLER

[22:53] <nothingmuch> as we gathered, the first findVar thingy will match a name which has 'CALLER::' in it

[22:53] <nothingmuch> and will put the part before that in sig, and the part after in name'

[22:53] <nothingmuch> and then should call findVar' oneUpperEnv (newname)

[22:55] <lightstep> it seems to want "<sig>CALLERCALLER::<name'>"

[22:55] <lightstep> i mean, the guard

[22:55] <lightstep> oh, not

[22:55] <nothingmuch> lightstep: it does seem to work

[22:55] <nothingmuch> guard = | ... | otherwise?

[22:55] <nothingmuch> $?CALLER::CALLER::POSITION did not parse before

[22:55] <lightstep> yes

[22:56] <nothingmuch> and now it basically folds into $?CALLER::POSITION

[22:56] <nothingmuch> which folds into $?POSITION in envCaller

[22:56] <nothingmuch> except that envCaller stuff doesn't add up

[22:56] <lightstep> it requires "<sig>CALLER::<name'>"

[22:56] <nothingmuch> yah

[22:56] <nothingmuch> and then it mushes <sig><name> to make a new name

[22:58] <nothingmuch> so how do we recurse upwards through the env stack?

[22:58] <nothingmuch> i don't understand data Env = Env {}

[22:58] <lightstep> it's a record

[22:58] <nothingmuch> ah

[22:58] <nothingmuch> how does one fudge a record's contents?

[22:59] <lightstep> and the field names are the same as the names of the extractor functions

[22:59] <nothingmuch> someEnv <-- envCaller

[22:59] <nothingmuch> will yield the envCaller record of ...?

[23:00] <nothingmuch> findVar' 's env param?

[23:00] <lightstep> (envCaller someEnv) is the obvious field

[23:01] <nothingmuch> err, someEnv <- envCaller

[23:01] <lightstep> it's illegal

[23:01] <lightstep> the thing on the rhs of a <- must be a monad value

[23:01] <nothingmuch> why is envCaller monadic?

[23:01] <nothingmuch> or called in a monadic fashion?

[23:01] <nothingmuch> oh crap

[23:01] <nothingmuch> err

[23:01] <nothingmuch> =)

[23:02] <lightstep> envCaller is a regular function

[23:02] <nothingmuch> rv <- asks envCaller

[23:02] <lightstep> this gets the caller of the current env

[23:03] <nothingmuch> and the current env is ... env?

[23:03] <nothingmuch> obviously not, otherwise it'd be giving back the same thing

[23:04] <lightstep> the env of the current evaluation state

[23:04] <nothingmuch> rv <- asks envCaller env -- does this make sense?

[23:04] <nothingmuch> err, (envCaller env)

[23:04] <lightstep> i need a few moments, to figure out these lines of code

[23:08] * theorbtwo returns

[23:08] <nothingmuch> hola theorbtwo  

[23:12] * nothingmuch yawns

[23:13] <lightstep> now i grokked the code

[23:13] <lightstep> what is the problem?

[23:13] <nothingmuch> it is late

[23:13] <nothingmuch> that's the main problem

[23:13] <lightstep> indeed

[23:13] <nothingmuch> ;-)

[23:13] <nothingmuch> the second problem is:

[23:13] <nothingmuch> envCaller

[23:13] <nothingmuch> err

[23:13] <lightstep> rv <- asks envCaller

[23:13] <nothingmuch> 	        rv <- asks envCaller

[23:13] <lightstep> yes

[23:13] <nothingmuch> i don't see how it know which env to get the envCaller out of

[23:14] <lightstep> like in env <- ask

[23:14] <nothingmuch> that part i didn't understand either

[23:14] <nothingmuch> lumi pointed out that it's the current env

[23:14] <nothingmuch> and that made sense

[23:14] <lightstep> a type like Eval a contains a value of type a, and an evaluation state

[23:14] <lightstep> it is invisible and magical

[23:15] <lightstep> monadic, in other words

[23:15] <nothingmuch> ... because it is a monad

[23:15] <nothingmuch> ok

[23:15] <lightstep> env <- ask

[23:15] <lightstep> gives env the environment part of that stat

[23:15] <lightstep> *state

[23:15] <lightstep> and asks likewise

[23:17] <nothingmuch> ... parsing ...

[23:17] <lightstep> but you don't want this

[23:17] <nothingmuch> by saying env <- ask

[23:17] <nothingmuch> i, err, 

[23:17] <nothingmuch> fudge the monad

[23:17] <nothingmuch> so that asks frobnicates it correctly?

[23:18] <lightstep> yes and no

[23:18] <nothingmuch> for simplicity shall we assume yes or no?

[23:18] <nothingmuch> note that i am no where near monads in YAHT

[23:18] <lightstep> since you want rv to be the caller of env, not of the current evaluation state

[23:18] <nothingmuch> right

[23:18] <lightstep> using asks will get the current evaluation state

[23:18] <nothingmuch> ah

[23:18] <lightstep> to get the caller of env, just use envCaller env

[23:19] <nothingmuch> so i should just do away with the monad stuff

[23:19] <nothingmuch> ok, i see

[23:19] <nothingmuch>  case (envCaller env) of ...?

[23:19] <lightstep> yes

[23:19] <nothingmuch> or let rv =  envCaller env

[23:19] <lightstep> both are good

[23:19] <nothingmuch> ok

[23:19] <nothingmuch> sounds logical

[23:19] <lightstep> i'd dispose of the `do', but it's a matter of coding style

[23:20] <nothingmuch> now why didn't we see it before... ;-)

[23:20] <nothingmuch> because now it's not necessary?

[23:20] <nothingmuch> wow!

[23:20] <nothingmuch> ok 3 - caller::caller notation works # TODO

[23:20] <nothingmuch>  

[23:20] * nothingmuch hugs lightstep 

[23:20] <lightstep> now i'll get to the Maybe monad part

[23:20] <nothingmuch> and llumi and larsen and theorbtwo

[23:21] <larsen> :)

[23:22] * theorbtwo ?

[23:23] <pasteling> "lightstep" at 212.235.32.146 pasted "findVar name= do env <- ask fi" (25 lines, 1K) at http://sial.org/pbot/8155

[23:23] <lightstep> damn

[23:23] <lightstep> tab doesn't work well

[23:24] <nothingmuch> lightstep: all of pugs' haskell is spaced at 4

[23:24] <nothingmuch> i think

[23:24] <nothingmuch> obra: enjoy CALLER::CALLER, 694

[23:24] <lightstep> i tried to type "tab space" in the edit box, and it pasted

[23:24] <nothingmuch> ah, i get it... heh

[23:25] <obra> nothingmuch: does CALLER::CALLER::CALLER work?

[23:25] <nothingmuch> theoretically yes, it's recursive

[23:25] <obra> col

[23:26] <Juerd> Is there a way to figure out what the first caller namespace is of a caller that isn't the current sub?

[23:26] <nothingmuch> Juerd: rephrase please?

[23:27] <jabbot> pugs - 694 - CALLER::CALLER with lightstep, lumi, and

[23:29] <nothingmuch> obra: 695 tests CALLER::CALLER:CALLER, and it works

[23:31] <Juerd> nothingmuch: In a recursive sub, how do you get to the caller of the sub that initiated the recursion

[23:31] <nothingmuch> ah

[23:31] <nothingmuch> errm

[23:31] <lightstep> ouch

[23:31] <lightstep> do you include mutual recursion?

[23:31] <Juerd> s/caller/namespace of the caller/

[23:32] <lightstep> and some functions call themselves on multiple points...

[23:32] <Juerd> lightstep: I don't know what that is.

[23:32] <nothingmuch> eval '$?' ~ join("::", ("CALLER" xx $current_level)) ~ "::POSITION"; # ;-)

[23:33] <nothingmuch> I would guess the proper idiom would be, err, something like:

[23:33] <nothingmuch> sub function { ## blah blah, set up $CALLER:: introspection

[23:33] <nothingmuch> recursive_function($outercaller_info, @params)

[23:33] <nothingmuch> }

[23:34] <nothingmuch> sub recursive_function ($caller, @params){ ... }

[23:34] <nothingmuch> anyway, i need sleep

[23:34] <nothingmuch> work tomorrow

[23:34] <Juerd> nothingmuch: Or, if we can iterate over the caller stack,

[23:35] <nothingmuch> i don't know how we'd do that though

[23:35] <nothingmuch> is that for p6l?

[23:36] <lightstep> is there a CALLER::sub_id ?

[23:36] <Juerd> $::( (first { not &?SUB :=: &$_ } @?CALLERS).namespace )::_

[23:36] * nothingmuch is too tirred to remember what synopsis CALLER/OUTER are in to check what might make sense

[23:37] <Juerd> This was hard to write :)

[23:37] <lightstep> with anonymous functions (closures), it's getting really hard to know what really is recursion and what is just a sequence of successive calls to the same function

[23:37] <nothingmuch> oh my

[23:37] <nothingmuch> Juerd++

[23:37] <nothingmuch> that's beautiful

[23:37] * nothingmuch forgot all about :=:

[23:37] <Juerd> I suddenly realised it has no negated version

[23:37] <nothingmuch> and actually $?SUB too

[23:37] <lightstep> what is :=: ?

[23:37] <Juerd> Perhaps :!=: is implied

[23:37] <nothingmuch> lightstep: identity

[23:37] <jabbot> pugs - 696 - Also test for just plain old $?POSITION.

[23:37] <jabbot> pugs - 695 - Also check error condition, and three le

[23:38] <Juerd> lightstep: See my talk for a quick introduction of all weird new operators (except the ones for sub calling)

[23:38] <nothingmuch> the first caller which is not the same thing as $?SUB (the current sub), is what we're after

[23:38] <Juerd> lightstep: http://juerd.nl/, most recent news item

[23:38] <nothingmuch> err, rather, it's namespace is what were after

[23:38] <nothingmuch> then we just smudge that into the $::( <here> )::

[23:39] <Juerd> See the slide titled "Binding"

[23:39] <nothingmuch> Juerd: does caller reach into lexical or dynamic scope?

[23:39] <Juerd> nothingmuch: Any score.

[23:39] <Juerd> $CALLER::foo is $foo as it would be in the caller

[23:39] <nothingmuch> isn't that naughty?

[23:39] <nothingmuch> well, err

[23:39] <Juerd> That can be global, lexical, dynamically global or lexical

[23:39] <nothingmuch> enough rope to hang yourself =)

[23:39] <Juerd> It's like eval '$foo' in a B:: sub in Perl 5

[23:39] <Juerd> eh, DB::

[23:40] <Juerd> (perldoc -f eval)

[23:40] <Juerd> nothingmuch: You get punished by not getting to make use of some optimizations.

[23:41] <nothingmuch> Juerd: thanks for eval link, that's both scary and fun at the same time

[23:41] <Juerd> nothingmuch: See also tnx.nl/include

[23:41] <nothingmuch> also, i'd like to hear about optimisation crap, but tomorrow

[23:41] <nothingmuch> now i sleep

[23:41] <Juerd> I don't know that crap

[23:41] <Juerd> So don't ask me

[23:41] <nothingmuch> because i already am

[23:41] <nothingmuch> ok, i will speculate =)

[23:42] <nothingmuch> uh, why tnx.nl/include?

[23:42] <nothingmuch> for DB::?

[23:42] <Juerd> eval fun

[23:42] <Juerd> With DB::

[23:42] <Juerd> It's actually implementing include() as I want Perl 6 to have by default

[23:43] <nothingmuch> aha

[23:43] <nothingmuch> Juerd++

[23:43] <lightstep> what us // ?

[23:43] * Juerd doesn't dare asking, because people will only say it's PHP-ish and thus bad. However, there are some situations in which very simple inclusion is in fact the best solution, so I'll make it work in Perlego.

[23:43] <Juerd> lightstep: defined-or.

[23:43] <nothingmuch> very nice

[23:45] <nothingmuch> what is perlego?

[23:45] <nothingmuch> perl for foreigners?

[23:46] <Juerd> A better Perl 6.

[23:47] <Juerd> In my opinion.

[23:47] <Juerd> Also, *following* my opinion.

[23:47] <nothingmuch> made by fudging the grammer at runtime?

[23:47] <nothingmuch> or deeper than that?

[23:47] <Juerd> That, and maybe adding some useful methods or functions

[23:47] <Juerd> Maybe macros can implement all I need

[23:48] <mugwump> so will there be seperate directories in Dialects for each specific ego?  :)

[23:48] <Juerd> It should be entirely compatible with vanilla Perl 6

[23:48] <Juerd> So that you can add it to any existing file.

[23:48] <Juerd> brb

[23:48] <mugwump> Maybe I should make one where any() junctions autothread on creation rather than when being passed to a function

[23:48] * nothingmuch goes to slee

[23:48] <nothingmuch> well, enough

[23:48] <nothingmuch> p

[23:49] <lightstep> i'll go join nothingmuch

[23:49] <lightstep> g'night all

[23:59] <Juerd> mugwump: Perhaps

