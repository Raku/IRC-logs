[00:03] <autrijus> ok, "make test" should yield 100% now.

[00:03] <autrijus> consider this a preliminary preflight

[00:03] <autrijus> still awaiting rafl 

[00:03] <autrijus> and I can't stay up any longer

[00:04] <clkao> i am doing smoke-js

[00:04] <autrijus> cool, clkao++

[00:04] <clkao> go for another sauna?

[00:04] <autrijus> we'll release 6.2.10 tomorrow.

[00:04] * autrijus waves &

[00:04] <autrijus> nah too tired.

[00:15] <scook0> autrijus: oh, I see my patch broke Prelude--I had a feeling something would go wrong

[00:15] <scook0> I'll look into it

[00:18] <autrijus> cool.

[00:18] <autrijus> journal up -- g'nite!

[00:18] <scook0> bye

[00:24] <dduncan> I'm back ... but about to leave again ... I'll svn up in a few hours and smoke with precompiled Test.pm and lib.pm

[02:02] <svnbot6> r7454 | stevan++ | Perl6-MetaModel - 

[02:02] <svnbot6> r7454 | stevan++ | * adding 2 pictures :

[02:02] <svnbot6> r7454 | stevan++ |    1) normal method disptaching 

[02:02] <svnbot6> r7454 | stevan++ |    2) method dispatching with eigenclasses

[02:43] *** Cryptic_K is now known as K

[05:10] <scook0> autrijus: I have a revised version of my Parser patch, but I might wait until after 6.2.10 in case it breaks other stuff

[05:40] <svnbot6> r7455 | qtplatypus++ | Adding a simple DFA.  This is in preperation to build a simple regex 

[05:40] <svnbot6> r7455 | qtplatypus++ | implementation as a work around for "Noting having PGE" installed problems.

[05:47] <QtPlatypus> ?eval my %hash = {foo => "bar",baz => "buz"};%hash{"foo"|"baz"}

[05:47] <evalbot_7455> [undef] 

[05:48] <QtPlatypus> ?eval my %hash = {foo => "bar",baz => "buz"};$temp="foo"|"baz";say %hash{$temp}

[05:48] <evalbot_7455> Error: Undeclared variable: "$temp" 

[05:48] <QtPlatypus> ?eval my %hash = {foo => "bar",baz => "buz"};my $temp="foo"|"baz";say perl %hash{$temp}

[05:48] <evalbot_7455> \undef bool::true 

[05:49] <QtPlatypus> Damn.

[05:59] <gaal> morning

[05:59] <QtPlatypus> gaal: Good morning.

[06:00] <gaal> we've moved to winter time :(

[06:01] <QtPlatypus> Summer time for me in a few weeks.

[06:01] <gaal> and the livin' is easy

[06:09] <dduncan> I'm back

[06:17] <gaal> wb

[06:35] <QtPlatypus> ?eval Bool::True

[06:35] <evalbot_7455> Error: No compatible subroutine found: "&Bool::True" 

[06:36] <QtPlatypus> ?eval bool::true

[06:36] <evalbot_7455> bool::true 

[06:43] <QtPlatypus> Is there somewhay to tell perl to recurse deeper?

[06:44] <scook0> QtPlatypus: recurse deeper?

[06:45] <QtPlatypus> There seems to be a limmit to the depth of structures that .perl will give you 

[06:46] <QtPlatypus> ?eval ([=>] (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15)).perl

[06:46] <evalbot_7455> '(1 => (2 => (3 => (4 => (5 => (6 => (7 => (8 => (9 => (10 => (11 => (12 => (13 => (14 => 15))))))))))))))' 

[06:46] * QtPlatypus mmmsss.

[06:50] <QtPlatypus> Its spitting out (... => ...) for me in some situations

[06:55] <gaal> QtPlatypus: backlog a few days, this was discussed here

[06:55] <gaal> i think autrijus changed the limit to 1024 or something

[06:56] <svnbot6> r7456 | gaal++ | use parametric $(MAKE) instead of assuming `make'. Should fix build for some systems.

[06:59] <gaal> here's a musing. now that we have auto smoke uploads, i want to tag each smoke matrix with "clean source" or "has local mods" (and, for bonus points, a list of the locally changed files).

[06:59] <gaal> not sure where to get that information, though. the easiest way is to check mtimes on source files

[07:00] <gaal> but that's obviously not correct.

[07:00] <gaal> also, we probably don't want to maintain a list of interesting files manually

[07:01] <gaal> and finally, i don't want to couple this too tightly with any source control system :)

[07:01] * QtPlatypus makes a request for the lambda camels to build some debugging tools.

[07:01] <gaal> there's alread a debugger in perl6, QtPlatypus

[07:02] <gaal> only it's not for perl6 :)

[07:02] <gaal> examples/obfu/l33t.p6 :-p

[07:02] * QtPlatypus looks puzzled.

[07:02] <gaal> i'm just being silly :)

[07:04] <jp-autark> Hm, I'm still getting build errors with a fresh checkout of 7455

[07:05] <jp-autark> *** Wasn't able to find 'Syck_stub.o', aborting...

[07:05] <jp-autark> I have Syck_stub.o in ./dist/build/src/Data/Yaml/Syck_stub.o

[07:06] <nothingmuch> morning

[07:07] <gaal> hola and aloha nm

[07:07] * nothingmuch discovered, to his great shock, that he is actually neat and tidy

[07:07] <scook0> howdy nothingmuch

[07:07] <nothingmuch> my family went away for holiday

[07:07] <gaal> alek

[07:07] <nothingmuch> and I stayed due to lack of vacation days from work

[07:07] <nothingmuch> the house is clean

[07:07] <nothingmuch> the kitchen is spotless

[07:07] <nothingmuch> i ironed my shirt

[07:07] <nothingmuch> s

[07:08] <gaal> really? you should come visit more often.

[07:08] <nothingmuch> there is no hairbrush hair or toothpaste around the sink in the bathroom

[07:08] <nothingmuch> no mess has been made of the living room

[07:08] <nothingmuch> and the real issue is that I'm usually blamed for this stuff when they're home1

[07:08] * nothingmuch has shift key sync problems

[07:11] <nothingmuch> mmm... someone brought nice chocolate to work

[07:13] <gaal> you're already at work? doing good with the clock change i see.

[07:15] <nothingmuch> didn't I gain an hour?

[07:15] <nothingmuch> 24h ago it was 10:15, right??

[07:24] * nothingmuch considers porting Path::Class instead of File::Spec

[07:24] <nothingmuch> and assimilating File::Spec into Path::Class

[07:24] <gaal> nothingmuch: yes.

[07:24] <gaal> off to work &

[07:25] <nothingmuch> ciao

[07:26] <nothingmuch> it should be delightful with $path.=subdir("foo");

[08:10] * autrijus wakes up to drink something and sleep again

[08:10] <autrijus> scook0: please don't hold off patches... you can do a "make test" :)

[08:11] <autrijus> if you see parsefails, then you know that your Parser.hs refactoring breaks things

[08:11] <autrijus> so you'd know where to look; otherwise it's as safe as it can be and please commit ahead.

[08:12] <autrijus> bbiab&

[08:12] <scook0> autrijus: "make test" would take my box a few weeks :)

[08:13] <autrijus> you don't have a feather account? :)

[08:13] <nothingmuch> scook0: if you'd like you can test on my box

[08:13] <nothingmuch> or probably on feather

[08:13] <autrijus> ah, there you go

[08:13] * autrijus goes back to sleep

[08:14] <scook0> well, I'm currently hunting down a subtle bug in it

[08:14] <scook0> there's a temporary workaround, but I'd rather do a proper fix

[08:14] <autrijus> *nod* take your time :) scook0++

[08:14] <nothingmuch> scook0: /msg me if I can help CPU power wise... irssi is in the BG

[08:15] <scook0> ooh, I think I found the bug!

[08:16] <scook0> apparently `foo($bar, $baz,)` is legal

[08:17] <scook0> building...

[08:21] <meppl> guten morgen

[08:22] <scook0> ooh, it works!

[08:24] * nothingmuch hates the fact that in order to write multitasking code in perl 5 you have to think too much up front

[08:24] <nothingmuch> i wish we had lightweight threads that behaved like closures

[08:25] <rep> well, concurrency is not easy

[08:25] <rep> (in any language)

[08:25] <nothingmuch> right

[08:25] <nothingmuch> but this stuff is really not complex concurrency

[08:25] <nothingmuch> it's separate parts

[08:25] <nothingmuch> that must run at the same time

[08:25] <nothingmuch> and report to the same parent

[08:26] <nothingmuch> threads introduce too much of a headache (all data must serialize properly, can't rely on e.g. Tie::RefHash for proper identity keying, etc)

[08:26] <nothingmuch> the issue is that you not only have to design your app

[08:26] <nothingmuch> but you also haave to figure out how you are going to implement everything at the lowlevel

[08:27] <nothingmuch> like what tradeoffs you're willing to make to work with forks

[08:27] <nothingmuch> or whether you can fake concurrency by using an event loop

[08:27] <nothingmuch> if your code has good enough latency

[08:28] <scook0> nothingmuch: care to test my patch for me?

[08:28] <nothingmuch> scook0: sure... nopaste a unidiff

[08:30] <pasteling> "scook0" at 220.253.96.162 pasted "Parser patch" (109 lines, 4.5K) at http://sial.org/pbot/13573

[08:30] <nothingmuch> full test suite?

[08:31] <scook0> I don't know

[08:31] <scook0> whatever you're happy with

[08:32] <nothingmuch> okay

[08:33] <scook0> it shouldn't be changing any behaviour

[08:33] <nothingmuch> just see that it compiles?

[08:33] <scook0> (at least any behaviour that was already working)

[08:34] <scook0> oh, it compiles

[08:34] <scook0> but last time I committed it, it caused parsefails in Prelude

[08:34] <scook0> it runs Prelude fine now

[08:34] <scook0> I'm just not sure if it will break anything else

[08:39] <nothingmuch> fsck

[08:39] * nothingmuch 's puter made a weird sort of freeze-ish thing

[08:39] <scook0> eep

[08:39] <nothingmuch> i wish osx had virtual consoles

[08:39] <nothingmuch> the player kept making noise

[08:39] <nothingmuch> and the UI sort of responded

[08:39] <nothingmuch> i think the UI server crashed or something

[08:40] <nothingmuch> you could move the mouse, but not click anything

[08:40] <nothingmuch> and the cmd+tab app switcher thingy was frozen in place

[08:40] <nothingmuch> and now i forgot if I applied your patch already or not ;-)

[08:41] <nothingmuch> seems like I did

[08:42] * scook0 's computer semi-freezes due to thrashing every time he builds pugs

[08:42] <nothingmuch> ah, that I don't get... =)

[08:42] <scook0> which sometimes crashes nautilus :(

[08:42] <nothingmuch> that's not nice

[08:43] * nothingmuch bought plenty of ram

[08:43] <nothingmuch> src/Pugs/Parser.hs:1734:0: Warning: Defined but not used: `parseParamList'

[08:43] <scook0> the fact that I'm running GHC + Gnome + Firefox with 256m probably doesn't help

[08:43] <nothingmuch> is that supposed to be there?

[08:43] <nothingmuch> hehe

[08:43] <scook0> oh, I'll take it out when I commit

[08:44] <scook0> the code that used to call that now calls my new code

[08:44] <nothingmuch> ah

[08:45] <scook0> thanks for telling me though--I'd forgotten to take it out

[08:45] <nothingmuch> dum dee dum... still compiling

[08:53] * nothingmuch likes Schwern even more after the recent Test::Builder::Tester issues =)

[08:53] <nothingmuch> http://use.perl.org/~schwern/journal/27075

[08:56] <scook0> so he made an update to a test module

[08:56] <scook0> which then broke other test modules

[08:56] <nothingmuch> right

[08:56] <scook0> which broke large parts of CPAN

[08:56] <scook0> wow

[08:56] <nothingmuch> Mark Fowler was sick so he took over T::B::T

[08:56] <nothingmuch> now it's being fixed

[08:56] <nothingmuch> overall it was handled quite well

[09:00] <nothingmuch> dum deee dum

[09:00] <nothingmuch> i think it's been compiling Pugs.Run for the past few minutes now =)

[09:00] <nothingmuch> perhaps I shouldn't have built Test.pm into it ;-)

[09:02] <scook0> I remember once my compiles were taking heaps longer then usual

[09:03] <scook0> so I looked in Makefile.PL

[09:03] <scook0> and found that somebody had accidentally made `make unoptimised` and alias for `make optimized`

[09:03] <nothingmuch> i'm making optimized =)

[09:05] <scook0> &

[09:05] <nothingmuch> ciao

[09:10] <pdcawley> Does pugs still need haskell plugins installed?

[09:11] <nothingmuch> pdcawley: no, that's only for eval_haskell('...') last I heard

[09:12] <pdcawley> Something I'm unlikely to do in the immediate future.

[09:12] <pdcawley> By gum, it's been a while since I brought pugs up on this box.

[09:12] <nothingmuch> did you get the compilation stuff fixed?

[09:12] <pdcawley> I hope so; got the ghc binary package installed

[09:13] <pdcawley> I'm about to find out :)

[09:13] <nothingmuch> =)

[09:15] <pdcawley> It's even been a while since I last did an update of parrot.

[09:16] <nothingmuch> how can you live with yourself?

[09:16] <pdcawley> Easily enough.

[09:16] <nothingmuch> okay =)

[09:16] <pdcawley> I've been doing Ruby On Rails stuff in my programming life.

[09:17] <nothingmuch> if I had more time I would probably learn that

[09:17] <pdcawley> Ruby's not as nice as Perl 6, but it has the massive advantage of being here now.

[09:17] <pdcawley> And, as I don't know either C or Haskell...

[09:17] <pdcawley> Well, I *read* C. But I don't write it.

[09:17] <nothingmuch> as you don't know them... ?

[09:18] <pdcawley> I can't really go about implementing much of either Parrot or Pugs.

[09:18] <nothingmuch> pugs can use lots of non c knowlege

[09:19] <nothingmuch> what about a PIL backend on ruby to help both pugs and your ruby learning?

[09:19] <nothingmuch> i think that would be uber cool

[09:19] <pdcawley> Yeah. I might well come back to that; hence the getting pugs built again.

[09:19] <nothingmuch> write with rails in perl 6 

[09:19] <pdcawley> :)

[09:19] <pdcawley> Oh. Bollocks. Build failed.

[09:19] <pdcawley> RTLD_NEXT undeclared.

[09:20] <nothingmuch> it's been a while since I've seen that... let me see if I can remember

[09:20] <nothingmuch> can you nopaste more of the braindump?

[09:20] <pdcawley> Ah... I think I may have gcc_select 4.0 in power.

[09:21] <nothingmuch> ghc 6.4 or 6.4.1?

[09:21] <pdcawley> 6.4.1

[09:21] <nothingmuch> i thought that was supposed to be fixed =(

[09:21] <pdcawley> And I didn't do a make clean, so starting again.

[09:21] <nothingmuch> scook0: tests seem to be passing

[09:22] <scook0> nothingmuch: cool

[09:22] <scook0> I just have to finish cleaning the kitchen &

[09:22] <nothingmuch> t/builtins/caller..................................*** 

[09:23] <nothingmuch>     unexpected "c"

[09:23] <nothingmuch>     expecting ";", statements or "}"

[09:23] <nothingmuch>     at t/builtins/caller.t line 12, column 19

[09:23] <nothingmuch> t/builtins/caller..................................dubious    

[09:23] <nothingmuch> is that your fault?

[09:25] <nothingmuch> scook0: ?>

[09:25] <scook0> hmm

[09:25] <scook0> maybe

[09:25] <scook0> I'll look into it

[09:25] <scook0> does it work in normal pugs?

[09:25] <nothingmuch> let me see

[09:26] <scook0> ?eval sub b_sub { try { caller.subname } }

[09:26] <evalbot_7456> undef 

[09:26] <scook0> must be the patch

[09:26] <pdcawley> Oh bollocks, bollocks and bollocks some more. Still throwing the RTLD_NEXT error.

[09:26] <nothingmuch> scook0: yes, on the other machine it works

[09:26] <scook0> &

[09:26] <nothingmuch> pdcawley: did you relclean and regenerate the gcc

[09:27] <pdcawley> Did a make clean. Isn't that enough?

[09:27] <nothingmuch> regenerate the makefile

[09:27] <pdcawley> Yup, did that.

[09:27] * nothingmuch got confused (i was talking to someone else while typing)

[09:27] <nothingmuch> realclean or distclean ought to fix it

[09:27] <pdcawley> K

[09:28] <pdcawley> Shame there's not a 'make realclean_but_keep_makefiles'

[09:28] <nothingmuch> that wouldn't be really clean, would it? =)

[09:28] <pdcawley> Well, it depends what you're trying to clean.

[09:29] <pdcawley> make clean_generated_c_files ?

[09:29] <nothingmuch> i think what you really want is 'make optimized_but_really_quickly_without_making_a_fuss'

[09:29] <pdcawley> Bollocks!

[09:30] * nothingmuch buys some suspiciously cheap tea (http://cgi.ebay.com/ws/eBayISAPI.dll?ViewItem&item=4400323366)

[09:30] <nothingmuch> scook0: more parse barfs, please wait

[09:31] <nothingmuch>  t/oo/attributes/instance.t parses on regular pugs, but not with your patch

[09:31] * pdcawley distcleans this time.

[09:32] <pasteling> "nothingmuch" at 212.143.92.226 pasted "./pugs -Iext/Test/lib t/oo/attributes/instance.t output" (4 lines, 411B) at http://sial.org/pbot/13574

[09:36] <pdcawley> And more bollocks.

[09:36] <nothingmuch> pdcawley: =(

[09:36] <nothingmuch> do you have an account on feather?

[09:38] <pasteling> "nothingmuch" at 212.143.92.226 pasted "more parse fails for scook0: t/operators/operator_overloading.t" (4 lines, 200B) at http://sial.org/pbot/13575

[09:42] <scook0> I see a common theme

[09:43] <scook0> it doesn't like `foo.bar`, `Class.bar` or `Class.bar()`

[09:43] <nothingmuch> i'm glad testing is helping =)

[09:44] <scook0> nothingmuch: thanks

[09:44] <scook0> I can see the general shape of the problem

[09:44] <scook0> but I'll need to do some more investigating

[09:45] <pdcawley> Yes. But I'm going to try a build on the laptop first.

[09:45] <pdcawley> Which seems to have a clean ghc installation.

[09:45] <pdcawley> No, I don't know why.

[09:45] <nothingmuch> pdcawley: okay... if you need an OSX that works I can give you ssh to $home_box

[09:45] <nothingmuch> scook0: it still hasn't finished the test suite

[09:45] <pdcawley> It's a local box that works I want more than anything.

[09:46] <pdcawley> But thanks for the offer.

[09:49] <nothingmuch> scook0: out to lunch - will report more later

[09:49] <scook0> ok

[09:52] <scook0> ?eval class Foo {}; Foo.new

[09:52] <evalbot_7456> Foo.new(); 

[09:53] <scook0> ?eval foo.bar

[09:53] <evalbot_7456> Error: No compatible subroutine found: "&foo" 

[09:53] <scook0> ?eval sub foo {}; foo.bar

[09:53] <evalbot_7456> Error: No compatible subroutine found: "&bar" 

[09:53] <scook0> ?eval sub foo {}; sub bar {}; foo.bar

[09:53] <evalbot_7456> undef 

[09:53] <scook0> ?eval sub foo {}; sub bar { say $_ }; foo.bar

[09:53] <evalbot_7456> Error:  unexpected "b" expecting block construct, ":", term, term postfix, operator, postfix conditional, postfix loop, postfix iteration, ";" or end of input 

[09:54] <scook0> ?eval sub foo {}; sub bar { say @_ }; foo.bar

[09:54] <evalbot_7456>  undef 

[09:54] <scook0> ?eval sub foo {3}; sub bar { say @_ }; foo.bar

[09:54] <evalbot_7456>  3 

[09:54] <scook0> ?eval sub foo {3}; sub bar { "A: @_[]" }; foo.bar

[09:54] <evalbot_7456> 3 

[10:04] <pdcawley> How is foo.bar legal in those contexts?

[10:06] <rep> win 13

[10:06] <rep> oops

[10:12] <svnbot6> r7457 | autark++ | * Don't abort when Syck_stub.o is in the correct directory.

[10:13] <jp-autark> is linking with parrot-0.3.0 supposed to work at this time?

[10:18] <scook0> pdcawley: I don't think any of those is *supposed* to work

[10:19] <scook0> `foo.bar` should mean `foo().bar()`

[10:20] <scook0> and `MyClass.new` should mean something like `(::MyClass).new()`

[10:20] <scook0> but I'm not yet sure how pugs currently makes those work

[10:22] <scook0> nothingmuch: when the test suite finishes, could you email me the results as a file? (@gmail)

[10:33] <QtPlatypus> ?eval multi sub foo(bool $test) { say "Match" };foo(bool::true);

[10:33] <evalbot_7457> Match bool::true 

[10:34] <QtPlatypus> ?eval multi sub foo() {say "MissMatch"};multi sub foo(bool $test) { say "Match" };foo(bool::true);

[10:34] <evalbot_7457> Match bool::true 

[10:42] <svnbot6> r7458 | qtplatypus++ | Can now mark some state as "Final".

[10:47] <QtPlatypus> gaal: Can you check if Mine::Base64 still hangs?  I think I've resolved the issue, but since my copy never hanged I don't know if that is the case.

[10:48] <svnbot6> r7459 | qtplatypus++ | Resolving conflicts with the ruleless version of Base64.  Test still

[10:48] <svnbot6> r7459 | qtplatypus++ | diked out untill I can confirm there non hanging state.

[10:51] <rafl_> autrijus: What are gmakeisms? :-)

[10:54] <autrijus> rafl_: for foo in perl5 :)

[10:56] <rafl_> Oooch.. why? :-)

[10:56] *** Lopo_ is now known as Lopo

[10:56] <autrijus> rafl_: because nmake does not understand that.

[10:57] <autrijus> rafl_: so, you going to check in the privlib changes?

[10:57] <rafl_> Yes, but I'm going to write them first.

[10:57] <autrijus> cool. I'll adjust the hs side now

[10:58] <rafl_> How will the hs side know where possible locations are? Do we set something in PugsConfig?

[11:01] <rafl_> Whops:

[11:01] <rafl_>   Interface file inconsistency:

[11:01] <rafl_>     home-package module `Pugs.AST.SIO' is mentioned,

[11:01] <rafl_>     but does not appear in the dependencies of the interface

[11:01] <rafl_> ghc-6.4: panic! (the `impossible' happened, GHC version 6.4):

[11:01] <rafl_>         forkM Declaration for retError{v}

[11:02] <wolverian> I just love errors with "panic" and "the impossible happened" in them

[11:02] <rafl_> I don't for some reason.

[11:03] <autrijus> rafl_: we already have access to privlib and sitelib so I'll check both

[11:03] <rafl_> autrijus: OK.

[11:03] <autrijus> rafl_: hm, did you restart the build?

[11:03] <autrijus> incremental nonclean builds in ghc 6.4 is known to be troublesome

[11:04] <rafl_> Hrm, I hate waiting for a full build..

[11:04] <rafl_> OK, I'll be offline until the build finished now.

[11:07] <autrijus> k.

[11:19] <meppl> *g

[11:19] <rafl_> autrijus: You said you reverted my install vs. copy changes. But I can't find a $setup install anywhere..

[11:20] <gaal> QtPlatypus: at $work now for at least five more hours, better get someone else on win32 to check it

[11:21] <rafl_> It get's install though. Dumb rafl..

[11:21] <nothingmuch> beer++

[11:22] <autrijus> rafl_: right... see util/ghc_setup.pl

[11:22] <rafl_> nothingmuch: Indeed!

[11:22] <nothingmuch> scook0: no more errors in the test run

[11:22] <autrijus> (r7460)

[11:22] <nothingmuch> beer at lunch++ for 1 .. 5

[11:22] * nothingmuch is underslept (also works when oversleeping)

[11:22] <nothingmuch> and it really helps me calm down

[11:22] <nothingmuch> big calorie boost

[11:22] <nothingmuch> the cultural aspect is also significant

[11:22] <rafl_> autrijus: Ah, works well.

[11:22] <nothingmuch> and ofcourse a small amount of alcohol

[11:23] <gaal> beer and peanuts. you're hitchhiking?

[11:23] <nothingmuch> gaal: nope, just went out to lunch

[11:24] <svnbot6> r7460 | autrijus++ | * do install instead of copy when there's no DESTDIR...

[11:26] <gaal> nothingmuch: you just reminded me of ford prefect, is all.

[11:26] <nothingmuch> ah

[11:26] <nothingmuch> =)

[11:26] * nothingmuch is rereading the guide right now

[11:26] <nothingmuch> with the 5th part

[11:27] <nothingmuch> it's going a bit slow due to too many nights spent doing other stuff, but i'm really having fun

[11:30] <svnbot6> r7461 | rafl++ | * Install perl5 into perl6 {sitelib,privlib}/auto/pugs instead of pugslibdir.

[11:30] <svnbot6> r7461 | rafl++ | * Removed pugslibdir from util/PugsConfig.pm.

[11:30] <svnbot6> r7461 | rafl++ | * Make clean and realclean for perl5/ not fail if there were errors.

[11:33] <scook0> erp

[11:33] <scook0> I got `foo.bar` to parse again...as `foo ($_.bar)` :(

[11:34] <scook0> it might be time to cheat a little...

[11:35] <rafl_> OK, the HS, PIL-Run and PIL2JS site needs to be fixed WRT r7461

[11:36] <autrijus> already fixed. testing

[11:36] <nothingmuch> 3http://okmij.org/ftp/papers/zfs-talk.pdf

[11:36] <nothingmuch> cool!

[11:36] <nothingmuch> i wonder how it performs

[11:37] <autrijus> nothingmuch: not terribly amazingly; the memory is never freed.

[11:37] <autrijus> and also GHC did not have native support for the thousands of delimited continuations oleg uses.

[11:37] <autrijus> hence, his request to me that GHC should get native support for resume.

[11:38] * nothingmuch starts backing up 30GB of music

[11:38] <integral> does it even have exposed support for any kind of continuation?

[11:39] <autrijus> integral: Control.Exception.throw/catch is escape continuations

[11:39] <nothingmuch> what exactly are delimited continuations?

[11:39] <autrijus> nothingmuch: see ccshan's "shift to control" slides

[11:40] <integral> oooh.

[11:40] <autrijus> http://www.eecs.harvard.edu/~ccshan/recur/talk.ps.gz

[11:40] <nothingmuch> what about this? http://www.eecs.harvard.edu/~ccshan/recur/recur.pdf

[11:41] <autrijus> same, but in paper form

[11:41] <svnbot6> r7462 | autrijus++ | * adjust the helper launchers to find auto/pugs/ in either

[11:41] <svnbot6> r7462 | autrijus++ |   privlib or sitelib, now pugslibdir is gone.

[11:41] <scook0> nothingmuch: there's also a good explanation of delimited continuations way back in the #perl6 logs

[11:41] <scook0> from when autrijus explained them to me

[11:41] <nothingmuch> scook0: how way back?

[11:42] * nothingmuch gimbles over to the chatlogsa

[11:42] <scook0> nothingmuch: a few months

[11:42] <nothingmuch> oh my, that won't be easy

[11:43] * scook0 wishes he'd started keeping his pugs notebook earlier

[11:43] <scook0> then I'd have the date

[11:44] <nothingmuch> scook0: could you share that notebook?

[11:45] <scook0> nothingmuch: it's made of dead trees

[11:45] <nothingmuch> ah

[11:45] <scook0> so sharing it wouldn't really be feasible

[11:46] <autrijus> nothingmuch: 

[11:46] <autrijus> "reset introduces a new scope, in which you can call shift to get a partial continuation. Calling this partial continuation will result in starting at reset again. At the end of the shift, shift will return from the reset."

[11:46] <rafl_> autrijus: Does it work now? Because we installed into perl6 privlib/sitelib, not the perl5 equivalents.

[11:47] <nothingmuch> what does reset do?

[11:47] <nothingmuch> postpones execution and returns a continuation instead of a result?

[11:47] <autrijus> nothingmuch: no, reset on itself does nothing.

[11:47] <autrijus> it's jsut a mark.

[11:47] <autrijus> rafl_: oh, I totally misunderstood you.

[11:47] <autrijus> rafl_: I thought we were installing into perl5 sitelib/privlib.

[11:48] <nothingmuch> so shift does what I thought reset does up to the parent reset?

[11:48] <autrijus> rafl_: fixing

[11:49] <autrijus> nothingmuch: er no, shift is just like call/cc

[11:49] <autrijus> it takes a block, then runs that block with the cc as the argument.

[11:49] <autrijus> the only difference is that the cc is not until end of program

[11:49] <autrijus> but only until the reset

[11:49] <nothingmuch> oh, i got it backwards

[11:49] <scook0> nothingmuch: there's a conversation starting at http://colabti.de/irclogger/irclogger_log/perl6?date=2005-06-04,Sat#l283

[11:49] <nothingmuch> scook0++

[11:49] <autrijus> nothingmuch: so unlike normal call/cc which never returns

[11:49] <nothingmuch> ... it returns via it's caller

[11:49] <integral> I think it looks really confusing in scheme where the future is to the *left* of the reset/shift not the right :-/

[11:49] <autrijus> shift can return just fine

[11:49] <scook0> nothingmuch: also, look at the haddocks for shiftT/resetT in pugs

[11:50] <scook0> integral: shift/reset is SO much easier to understand in Haskell :)

[11:50] <nothingmuch> callCC is essentially a clean goto

[11:50] <nothingmuch> right?

[11:50] <integral> scook0: I agree :-)

[11:51] <scook0> eep, it's late

[11:52] <scook0> hopefully I can finish my patch tommorow evening

[11:52] <scook0> otherwise it'll be at least a week :(

[11:52] <scook0> bye all

[11:52] <nothingmuch> ciao!

[11:52] <autrijus> nothingmuch: it's goto that passes values, but is

[11:53] <autrijus> otherwise comparable

[11:53] <nothingmuch> and how does shift/reset compare to goto?

[11:53] <autrijus> the good thing about delimited continuations is that they act more like normal functions

[11:53] <autrijus> so they are like... gosub!

[11:53] <nothingmuch> gosub?

[11:53] <autrijus> (i.e. they can be reasoned about like normal functions.)

[11:54] <autrijus> never mind, crude BASIC joke.

[11:54] <nothingmuch> ah

[11:54] <nothingmuch> which are closer to coroutines?

[11:54] <integral> they also label more than a goto label does;  you typically can't goto out of the current function for example

[11:54] <autrijus> true

[11:55] <nothingmuch> integral: assume goto is sub goto { $*INSTRUCTION_POINTER = $_[0] }

[11:55] <nothingmuch> and the rest is just compile time mishmash

[11:55] <integral> nothingmuch: yep.  a continuation OTOH sets the IP, and fiddles the return stack

[11:55] * nothingmuch is very proud that in his p5orth that's how jumps are done

[11:56] <nothingmuch> EXECUTE keeps it's stack frame but overwrites the instruction pointer such that the passed in address looks like it was really the caller

[11:56] <nothingmuch> and it's all pure forth

[11:57] <nothingmuch> shift reset is basically call with caller continuation, but also give it the current continuation on the side as if we called it regularly?

[11:59] <autrijus> nothingmuch: reset marks the boundary of shift's return

[12:00] * nothingmuch gives up on the distinction

[12:01] <rafl_> autrijus: Seems to work now. Thanks.

[12:01] <rafl_> Anyone who want's to fix PIL-Run and PIL2JS?

[12:02] <autrijus> rafl_: they are implicitly fixed.

[12:02] <integral> nothingmuch: reset puts a label in the return stack at that point.  shift as opposed to call/CC only saves the stack upto the last reset marked into the continuation it makes

[12:02] <autrijus> rafl_: try "pugs -BPerl5 -e 'say 123'" after moving the srcdir aside.

[12:02] <nothingmuch> integral: the problem is that I'm reading too fast to really grok now... @work. I'll read carefully later

[12:02] <nothingmuch> but that is a good explanation

[12:02] <autrijus> iblechbot: PIL2JS will die with "permission denied" if run with nonroot for precomp prelude/Test

[12:02] <svnbot6> r7463 | autrijus++ | * look into perl6 sitelib/privlib, not perl5 one...

[12:03] <autrijus> iblechbot: you think it's wise to pregen the Prelude at build time for JS?

[12:03] <nothingmuch> phew! all installed CPAN modules were updated

[12:04] <nothingmuch> integral++; # you made it real clear as I was formulating my "thanks but no thanks" reply =)

[12:04] <integral> np ;)

[12:05] <autrijus> nothingmuch: I think you'll enjoy this too

[12:05] <autrijus> http://www.eecs.harvard.edu/~ccshan/nepls8/talk.pdf

[12:05] <autrijus> it's ccshan's dissertation -- using delimited continuations to solve linguistic problems

[12:05] <nothingmuch> the harvard server is responding very very slow from here

[12:12] <rafl_> Hrm.. how would you explain this: /usr/bin/make install DESTDIR=/home/rafl/projects/perl6/pugs_local/debian/tmp

[12:12] <rafl_> make[1]: Entering directory `/home/rafl/projects/perl6/pugs_local'

[12:12] <rafl_> make[1]: *** No rule to make target `tmp-Prelude.pm', needed by `pm_to_blib'.  Stop.

[12:13] <autrijus> rafl_: I think you ran Makefile.PL during a strange time that tmp-Prelude.pm is present.

[12:15] <rafl_> autrijus: OK. I'll just clean it.

[12:15] <autrijus> rafl_: I fixed that.

[12:16] <rafl_> autrijus: btw, ./Setup copy wants --copy-prefix, not --prefix.

[12:20] * autrijus is apalled that gobby is not in freebsd ports.

[12:20] <svnbot6> r7464 | autrijus++ | * s/Prelude-temp.pm/Prelude/

[12:20] <autrijus> rafl_: noted

[12:21] <rafl_> autrijus: What also would be much easier is to do ./Setup copy --copy-prefix=/\$(DESTDIR). Then the default copy prefix is / which is what ./Setup install does, AFAIK.

[12:21] <autrijus> rafl_: but register takes prefix as DISTDIR?

[12:21] <autrijus> rafl_: er no, it's not / it's /usr/local

[12:21] <autrijus> hence my problem

[12:22] <rafl_> Oh, of course.

[12:22] <autrijus> rafl_: try r7465.

[12:22] <rafl_> autrijus: I'm not sure about the register stuff. I don't use that target. It's only important for me that it is not executet implicitly with install.

[12:23] <rafl_> autrijus: I take .installed-pkg-config and register manually with ghc-pkg  in a script that is executed when I install the Debian package (postinst).

[12:23] <autrijus> ok, I'll keep it that way.

[12:25] <rafl_> autrijus++ # Works

[12:25] <svnbot6> r7465 | autrijus++ | * copy wants --copy-prefix according to rafl.

[12:25] <autrijus> eggcellent.

[12:25] <autrijus> so... do we please the Great Hierarchy sufficiently for this release now? :)

[12:28] <rafl_> I'm not sure your sentence makes sense, but from what I can guess from it: Yes, I think the build system is perfekt for this release. :-)

[12:29] <autrijus> excellent!

[12:29] * autrijus goes back to tidy up changelog during the lunch.

[12:32] <rafl_> Only the JS Prelude should be generated during the build and also get installed.

[12:33] <autrijus> I was afraid you'd say that.

[12:34] <autrijus> if you or iblech can add that in, sure

[12:34] <rafl_> It tries to write to /usr/share/perl6/5.8/auto/pugs/perl5/lib/Prelude.js which it can't otherwise.

[12:34] <autrijus> but I really need to find food :)

[12:34] <autrijus> nod.

[12:34] <rafl_> OK, I'll try to do that.

[12:48] <iblech> rafl_: ./runjs.pl --compile-only -we 1 >/dev/null will generate Prelude.js and Test.js

[12:49] <iblech> rafl_: (This command does not need an installed /bin/js)

[12:52] <svnbot6> r7466 | iblech++ | * Usual svn props.

[12:52] <svnbot6> r7466 | iblech++ | * PIL2JS: Makefile.PL: Clean Prelude.js, Test.js, output.html.

[12:53] <rafl_> iblech: Oh, I just hacked it in in another way. But it doesn't find the prelude yet. Maybe you can hack that in?

[12:55] <iblech> rafl_: ./runjs --p6preludepc=/path/to/where/the/Prelude.js/should/be/created --testpc=/path/to/where/Test.js/should/be/created --compile-only -we 1 >/dev/null

[12:58] <rafl_> iblech: Could you please hack that into Pugs.hs? The prelude will be in sitelib/auto/pugs/js/lib/PIL2JS/Prelude.js or in the same path in privlib.

[12:59] <iblech> rafl_: Hm? Pugs.hs? Not into some Makefile.PL?

[12:59] <rafl_> iblech: Pugs.hs calls runjs in doHelperRun

[13:00] <iblech> rafl_: Yep. And runjs will precompile the Prelude and Test.pm if not already done. But I thought we wanted to force precompilation at build-time?

[13:01] <iblech> rafl_: (pugs -CJS --p6preludepc=... --testpc=... -we 1 >/dev/null works too)

[13:01] <rafl_> iblech: I think the options should go there.

[13:01] <rafl_> iblech: The PIL2JS Makefile already generates the prelude and get it installed.

[13:01] <rafl_> Hey, why aren't my changes pushed to the repository? Stupid me..

[13:01] <rafl_> Ah, hasn't been merged because you changed perl5/PIL2JS before.

[13:02] <svnbot6> r7467 | iblech++ | PIL2JS: jspugs.pl, runjs.pl: Document the --testpc option and added --metamodel-base.

[13:03] <svnbot6> r7468 | rafl++ |  r16904@ata:  rafl | 2005-10-09 14:48:46 +0200

[13:03] <svnbot6> r7468 | rafl++ |  * Generate precompiled JS Prelude and install it.

[13:03] <rafl_> iblech: Yeah, it's precompiled at build time, but runjs needs to know where it is. Therefor it needs to be called with the right --p6preludepc args.

[13:03] <rafl_> iblech: Does runjs really need a precompiled Test.js?

[13:05] <iblech> rafl_: Yep, Test.js is unconditionally linked in. (This is because there's no real reliable way for runjs.pl to read the sourcecode and search for /use Test/ (think -e, -M, etc.))

[13:05] <rafl_> Ah, OK.

[13:07] <iblech> rafl_: Is pugs already installed when PIL2JS's Makefile.PL:pure_all runs?

[13:08] <rafl_> iblech: No.

[13:08] <iblech> rafl_: (Because it'll either need a "pugs" in $PATH or we've to give it a --pugs=... option)

[13:08] <iblech> rafl_: Hm.

[13:08] <rafl_> iblech: But there are only two paths where the precompiled stuff can be.

[13:08] <rafl_> p6{sitelib,privlib}/auto/pugs/js/lib/PIL2JS/Prelude.js

[13:10] <rafl_> iblech: pugs is already built at this time. ../../pugs should work.

[13:12] <iblech> rafl_: Hm. Currently, PIL2JS.pm expects Prelude.js and Test.js in ./, where . is the dir runjs.pl/jspugs.pl is in.

[13:13] <iblech> rafl_: But if Prelude.js should be in js/lib/PIL2JS/, then we'd have to update PIL2JS.pm accordingly, resulting in runjs.pl/jspugs.pl not working when PIL2JS is not installed...

[13:13] <svnbot6> r7469 | rafl++ |  r16910@ata:  rafl | 2005-10-09 15:08:44 +0200

[13:13] <svnbot6> r7469 | rafl++ |  * Also generate Test.js as build time.

[13:13] <rafl_> iblech: Yes, therefor Pugs should pass a proper --p6preludepc to runjs.

[13:14] <rafl_> iblech: Shouldn't be too hard to let it look into two places.

[13:15] <iblech> rafl_: Right, but the definition of "proper" varies: if PIL2JS is installed, --p6preludepc should point to p6{sitelib,privlib}/auto/pugs/js/lib/PIL2JS/Prelude.js, but when developing, it should be $srcdir/perl5/PIL2JS

[13:15] <rafl_> Oh, right.

[13:15] <rafl_> iblech: Breaking it when it's not installed it maybe acceptable for this relase only if it's too much work to get both working..

[13:16] <iblech> rafl_: Actually, it is, because we can't simply check for the existance of Prelude.js/Test.js (as we can do with other files, as PIL2JS.js or the metamodel)

[13:16] <iblech> rafl_: Hm. What about if install Prelude.js and Test.js unconditionally in the dir jspugs.pl/runjs.pl get installed into?

[13:16] <iblech> rafl_: This would work, I think.

[13:17] <iblech> We'd only have to cp Prelude.js Test.js blib/lib/

[13:17] <rafl_> And not that hard to do. commited.

[13:18] <svnbot6> r7470 | rafl++ |  r16912@ata:  rafl | 2005-10-09 15:18:35 +0200

[13:18] <svnbot6> r7470 | rafl++ |  * Install precompiled js stuff next to runjs.pl.

[13:18] <iblech> rafl_++ # great! :)

[13:19] <iblech> Only thing left to do is setting $PIL2JS::cfg{pugs} appropriately

[13:19] <rafl_> -v please.

[13:20] <iblech> Never mind, autrijus had already hacked that in into PIL2JS.pm

[13:20] <iblech> So we're set, I think :)

[13:20] <rafl_> Yay!

[13:20] <rafl_> Generating some .debs to test it.

[13:21] <rafl_> * Error: Your precompiled Prelude is outdated.

[13:21] <iblech> This means that Prelude.js is older than Prelude/JS.pm.

[13:21] <rafl_> Possible. The order in which they get installed isn't predictable.

[13:22] <rafl_> (in the debian package)

[13:22] <iblech> Hm, Prelude.js/Test.js get re-compiled each time one issues make... Fixing that.

[13:23] <rafl_> OK.

[13:23] <rafl_> Could you also disable that mtime check?

[13:24] <iblech> Is this a one-time error only? If so, I would s/die/warn/

[13:25] <rafl_> No, it happens every time when I run pugs -BJS.

[13:25] <rafl_> For the installed pugs only.

[13:26] <iblech> Ok, removing the check.

[13:26] <rafl_> Thanks.

[13:32] <svnbot6> r7471 | iblech++ | PIL2JS:

[13:32] <svnbot6> r7471 | iblech++ | * PIL2JS.pm: Removed the mtime check for the Prelude, as it breaks Debian.

[13:32] <svnbot6> r7471 | iblech++ | * Makefile.PL: Only precompile the Prelude and Test.pm if not already done.

[13:32] <svnbot6> r7471 | iblech++ |   Also make use of autrijus's $PIL2JS::cfg{pugs}, so Makefile.PL will find

[13:32] <svnbot6> r7471 | iblech++ |   ../../pugs or ..\..\pugs.exe.

[13:33] <rafl_> Generating new packages..

[13:36] <rafl_> Works. Gereat!

[13:36] <rafl_> iblech++

[13:36] <rafl_> iblech: pugs -BJS -e'"Foo".say'

[13:36] <rafl_> iblech: Why is '1..0' printed at the end?

[13:37] <iblech> FYI, just make cleaned, rm -rf /usr/lib/perl6/site_perl/auto/pugs/, make install'ed, mved $srcdir, typed pugs -BJS, and it worked! :)

[13:37] <iblech> Because Test.pm is unconditionally linked in, and Test.pm always installs an END {...} block

[13:38] <iblech> (Again, runjs.pl can't detect reliably whether Test.pm is really needed.)

[13:39] * QtPlatypus needs someone to test his MIME::Base64 in Win32

[13:40] <iblech> Look at runjs.pl:71 -- I tried to use some magic which'd make pugs-smokejs unnecessary, but failed because pugs wasn't able to parse the combination of -CPerl5, -M and -e I used...

[14:04] *** rafl_ is now known as rafl

[14:04] <svnbot6> r7472 | rafl++ |  r16916@ata:  rafl | 2005-10-09 15:56:13 +0200

[14:04] <svnbot6> r7472 | rafl++ |  Debian:

[14:04] <svnbot6> r7472 | rafl++ |   * Let the pugs package suggest perl and spidermonkey-bin.

[14:04] <svnbot6> r7472 | rafl++ |   * Removed usr/share/pugs from pugs-modules.install. Those stuff is now

[14:04] <svnbot6> r7472 | rafl++ |     installed in usr/share/perl6.

[14:04] <svnbot6> r7473 | rafl++ |  r16917@ata:  rafl | 2005-10-09 15:59:39 +0200

[14:04] <svnbot6> r7473 | rafl++ |  * Added perl5/*/t/*.t to test files.

[14:04] <svnbot6> r7474 | rafl++ |  r16918@ata:  rafl | 2005-10-09 16:02:14 +0200

[14:05] <svnbot6> r7474 | rafl++ |  * Reverted accidently changed util/yaml_harness.pl. I forgot to remove the

[14:05] <svnbot6> r7474 | rafl++ |    patches applied for the Debian package before commiting.

[14:06] <rafl> iblech: Why is Test.pm handled specially at all?

[14:06] <iblech> rafl: Performance of the testsuite

[14:07] <rafl> :-(

[14:07] <rafl> iblech: You told me a cool way do disable smoking/sending smoke results once. I forgot it. Can you tell me again how it worked.

[14:07] <rafl> s/.$/?/

[14:08] <iblech> rafl: Sure, PUGS_BUILD_OPTS="smoke_upload=0" (but untested)

[14:08] <rafl> Great, thanks.

[14:09] <iblech> rafl: I quite like seeing JS smoke results after a hour (instead of at least three) :)

[14:09] <rafl> iblech: Buy better hardware!

[14:10] <iblech> In the future, we'll probably need /var/cache/pugs/js/Prelude.js, with appropriate measures that no one can write precompile an evil modul and save it as Prelude.js

[14:10] <iblech> rafl: Do you want so sponsor me? :)

[14:10] <iblech> s/so/to/

[14:11] <rafl> iblech: Yes, nice feature.

[14:11] <rafl> iblech: Well, actually... no.

[14:12] <rafl> iblech: It would be nice to include the name of the smoker in the overview of smoke results on smokeserv.

[14:13] <rafl> And maybe also display the architecture.

[14:15] <rafl> pugs doesn't work on mipsel, arm, mips, ia64, etc. yet.

[14:16] <rafl> It kind of works on hppa, but lots of tests seem to fail.

[14:17] <iblech> Should both be relatively simple to implement. I'll have a look at it, probably tomorrow

[14:17] <rafl> On s390 as well.

[14:17] <rafl> Thanks.

[14:17] <iblech> IIRC putter runs Pugs on ia64, not sure

[14:18] <rafl> OK, I'm off till this evening. I hope a have a new release to put in Debian then. :-)

[14:18] * nothingmuch wonders how much effort it'll be to make smokeserv.pl into a catalyst based app

[14:18] <nothingmuch> with slightly more abstraction WRT the naming

[14:18] <nothingmuch> and have it submit storable dumps instead of htmls

[14:18] <rafl> iblech: Well, it doesn't work with Debian's ghc6 on ia64. Haven't tested other compilers.

[14:18] <iblech> rafl: Ah, ok.

[14:18] <rafl> nothingmuch: Hm. I'd volunteer to do that if iblech agrees.

[14:19] <nothingmuch> it's opensource, iblech doesn't have to agree ;-)

[14:19] <rafl> Well, I don't want to crack the machine it runs on to install it. :-)

[14:19] <nothingmuch> if that becomes a problem i'll host it

[14:19] <rafl> Beside iblech agrees ;-)

[14:20] <iblech> I don't have any knowledge of Catalyst, but if rafl wants to do it, I'm fine :)

[14:20] <nothingmuch> rafl: what I would really like is that once it gets storables and slightly more structure, we use Test::TAP::Model::Consolidated to display diffs

[14:20] <rafl> OK, I'll start on that this evening if the build of the Debian packages I currently do is finished and fine.

[14:20] <nothingmuch> rafl++

[14:20] <iblech> Installing Catalyst on the smokeserver is absolutely no problem :)

[14:20] <iblech> rafl++ indeed

[14:20] <nothingmuch> iblech: what about mod_perl?

[14:21] <rafl> OK, bye. (really now) :-)

[14:21] <nothingmuch> ciao!

[14:21] <iblech> nothingmuch: I'm root on the server, so that'd be no problem either :)

[14:21] <integral> why storable rather than something more inter-language like XML, YAML, or JSON?

[14:21] <iblech> bye rafl

[14:21] <nothingmuch> yummy

[14:21] <nothingmuch> integral: performance

[14:21] <nothingmuch> YAML takes 40 seconds to load

[14:21] <nothingmuch> XML is probably not as bad

[14:22] <nothingmuch> but Storable is optimized for speed

[14:22] <nothingmuch> and the structure is very big, at 10000 unit tests

[14:22] <integral> that's irritiating about YAML

[14:22] <nothingmuch> very =(

[14:22] <nothingmuch> rafl: if you backlog, use Data::Serilizer so that the serialization backend is pluggable ;-)

[15:09] <gaal> autrijus: re r7464, sorry for the bikeshed paintjob suggestion, but imo "Prelude.pm" is better than having no extension at all...

[15:12] <autrijus> gaal: problem was if it failed it left a .pm around for MakeMaker to pick up

[15:12] <autrijus> gaal: maybe a END{} block to clean that away?

[15:18] <geoffb> See, now *there's* a good reason to be offline

[15:20] <nothingmuch> darnit

[15:25] <svnbot6> r7475 | autrijus++ | * "make haddock" now complies with Cabal convention and

[15:25] <svnbot6> r7475 | autrijus++ |   put the HTML docs into dist/doc/html/.  This should keep

[15:25] <svnbot6> r7475 | autrijus++ |   the src/ tree cleaner.

[15:31] <svnbot6> r7476 | autrijus++ | * Expose all Pugs.*, Emit.* and PIL.* modules for Haskell programs.

[15:31] <svnbot6> r7477 | autrijus++ | * Inline::Pugs: revert to the previous, non-PIL-Run UI

[15:31] <svnbot6> r7477 | autrijus++ |   as the API has changed and I don't quite feel like to

[15:31] <svnbot6> r7477 | autrijus++ |   chase it right now...

[15:35] <gaal> autrijus: or put in a tmp/ directory MM won't touch?

[15:35] <gaal> (end block where, build_pugs.pl?)

[15:35] <autrijus> gaal: end on genprelude

[15:36] <svnbot6> r7478 | autrijus++ | * Pugs.Run.Perl5: remove commented-out debug statements.

[15:36] <svnbot6> r7479 | autrijus++ | * Pugs.hs: refactor out noEnvDebug so external programs

[15:36] <svnbot6> r7479 | autrijus++ |   can elect to run without debug traces.

[15:38] <autrijus> gaal: done.

[15:38] <gaal> too fast for me, as usual :)

[15:38] <autrijus> :)

[15:42] <svnbot6> r7480 | autrijus++ | * adopt gaal's bikesheding correction to paint the tmp Prelude back

[15:42] <svnbot6> r7480 | autrijus++ |   as Prelude.pm, and unlink it at END of gen_prelude.pl.

[15:42] <svnbot6> r7481 | gaal++ | add --keep option for Prelude debugging

[15:42] <gaal> current music, incidentally: Paint It Black

[15:43] * autrijus chuckles

[15:43] <gaal> coincidence, I swear :)

[15:45] * gaal imagines a PHB giving a speech: "... now this, our bikeshed feature for which we had worked so hard in design meetings..."

[15:45] <gaal> (corporate malapropisms)++

[15:47] <autrijus> civilization is wonderful: it replaces bloodshedding with bikeshedding

[15:48] <gaal> cats are perfection of this process, just shedding.

[15:48] <autrijus> lol

[15:49] <autrijus> I think I'll be in OSDC.

[15:49] <autrijus> (preferably if damian will also be there)

[15:49] <autrijus> # http://www.osdc.com.au/

[15:50] <gaal> monash!

[15:50] <gaal> sounds close to home for him.

[15:51] <autrijus> bleh, ::Pair also participated in magical pairs

[15:51] <autrijus> I mean the ::Pair class object itself

[15:51] <autrijus> simply because it .isa Pair

[15:51] * autrijus feels like hlaghing

[15:53] <gaal> Pair: Pairs are indeed recursive

[15:58] <autrijus> down to two failures.

[15:58] <svnbot6> r7482 | autrijus++ | * even more giving-up on magical pairs: stringify ::Pair in is()

[15:58] <svnbot6> r7482 | autrijus++ |   calls as otherwise it would participate in Pair magical binding

[15:58] <svnbot6> r7482 | autrijus++ |   because it .isa Pair.  Special casing for that feel wrong, so

[15:58] <svnbot6> r7482 | autrijus++ |   let's also write it off and wait for the sane-magic-pairs revolution...

[15:58] <svnbot6> r7483 | autrijus++ | * ditto for Perl6-Value-List/t/.

[15:58] * autrijus relooks arcfour

[16:02] * gaal $works :(

[16:02] <autrijus> enjoy :)

[16:02] <gaal> :)

[16:03] <gaal> I like your attitude!

[16:03] <stevan> morning autrijus, gaal 

[16:03] <gaal> yoyoyo

[16:03] * stevan thinks that p6 will be the new LISP

[16:03] <stevan> we just need to get nothingmuch's exceptuations accepted

[16:04] <leo__> autrijus: are you planning to write some official messages about Pair's insaneness?

[16:04] <autrijus> leo__: it's been extensively documented on p6l by luqui et al

[16:04] <autrijus> with a working proposal even

[16:04] <autrijus> s/proposal/counterproposal/

[16:05] <autrijus> so I'm not sure what I can add to this, other than outlining what I'd like to support instead in pugs...

[16:05] <leo__> ok - rather warnocked iirc 

[16:07] <autrijus> nod.

[16:13] <autrijus> hm, arcfour seems to have actual problems

[16:13] <autrijus> as the ciphertext did not match and the garbled chars killed my terminal

[16:13] <gaal> unicode problems probably

[16:14] <gaal> our io assumes utf8

[16:14] <gaal> getc etc.

[16:14] <autrijus> oh hm. yeah.

[16:14] <autrijus> though we have binmode

[16:15] <gaal> but that doesn't help if the prim reads more than one byte and assumes an encoding :)

[16:15] <autrijus> true.

[16:15] <gaal> binmode is Haskell's binmode, i think it just does eol/eof?

[16:16] <autrijus> you are correct

[16:16] <autrijus> okay, we need to integrate the Data.FastPackedString based IO.

[16:16] <autrijus> (it's already in src/Data/)

[16:16] <gaal> we can add some metadata to VHandle

[16:17] <autrijus> *nod*

[16:17] <gaal> there's a dummy $layer arg to open :)

[16:17] <autrijus> I saw that :)

[16:18] <gaal> P.hGet assumes latin-1

[16:19] <gaal> also, i don't see a character based read

[16:19] <gaal> but it's very nice that they have gz io.

[16:20] <gaal> can Haskell strings contain NULs?

[16:20] <svnbot6> r7484 | autrijus++ | * todo-fail arcfour.t again as its test failures garbles my

[16:20] <svnbot6> r7484 | autrijus++ |   terminal and there is no obvious piece at fault; gaal

[16:20] <svnbot6> r7484 | autrijus++ |   suggests utf8ness, which is plausible.

[16:21] <autrijus> gaal: of course... 

[16:21] <autrijus> gaal: CStringLen too

[16:21] <gaal> (i mean other than at the last byte ;-)

[16:21] <gaal> cool

[16:21] <gaal> @t Char

[16:21] <gaal> er, not here

[16:28] <pasteling> "iblech" at 62.216.196.182 pasted "luqui's pair proposal" (10 lines, 295B) at http://sial.org/pbot/13579

[16:31] <autrijus> iblech: that, and also more importantly

[16:31] <autrijus> $pair = :foo(1)

[16:31] <autrijus> blah($pair) # positional

[16:31] <autrijus> blah(*$pair) # named

[16:32] <iblech> ok. I like the proposal very much :)

[16:33] <iblech> How will we implement the normal pair/magical pair distinction? Two classes (Pair and Pugs::Internals::PairUsedForNamedParameters)?

[16:34] <autrijus> no, the named for parser is a parser form

[16:34] <autrijus> it's not really a pair in any sense

[16:34] <autrijus> it's syntactic.

[16:35] <iblech> Ah, makes sense. But then how'll the PIL for foo(a => 42) look like? Currently, it's simply serialized as foo(infix:=>("a", 42))

[16:35] <autrijus> yeah, in vanilla core we use Syn=> to distinguish 

[16:35] <autrijus> I think the App form needs extension to support all annotations

[16:36] <autrijus> so instead of using substructural forms, it's all represented at App level

[16:36] <iblech> example please?

[16:37] <iblech> PApp { pFun = ..., pNamedParams = {...}, pPositionalParams = [...] }?

[16:40] <autrijus> yeah, have a structure for each zones sounds prudent

[16:41] <iblech> ok. And *$pair will simply add $pair to pNamedParams then. Makes sense and is easy to implement in PIL2JS :)

[16:42] <autrijus> which is always good to hear :)

[16:44] * iblech goes to write tests for it

[16:45] <autrijus> :todo<revolution>

[16:45] <iblech> :)

[16:47] <autrijus> seriously, <unspecced> would do

[16:47] <autrijus> would be good to have it in the release and then posted to p6l.

[16:47] <svnbot6> r7485 | iblech++ | * util/gen_prelude.pl: Removed now unnesessary unlink() call.

[16:47] <svnbot6> r7485 | iblech++ | * PIL2JS:

[16:47] <svnbot6> r7485 | iblech++ |   * jspugs.pl, runjs.pl: Better handling/ignoring of -BJS.

[16:47] <svnbot6> r7485 | iblech++ |     This means make test-js works again.

[16:47] <svnbot6> r7485 | iblech++ |   * runjs.pl: New option --precompile-only (only precompile the Prelude and

[16:47] <svnbot6> r7485 | iblech++ |     Test.pm, do not run or compile any user code).

[16:47] <svnbot6> r7485 | iblech++ |   * Makefile.PL: s/compile-only/precompile-only/

[16:51] *** reffie is now known as rep

[16:58] <leo__> autrijus: what do you think of ~lt/named-args.txt

[16:58] <leo__> (at feather)

[16:59] <pasteling> "autrijus" at 194.145.200.126 pasted "lt's proposal" (20 lines, 647B) at http://sial.org/pbot/13580

[17:00] <autrijus> leo__: sure, that is the same with luqui/iblech/me/etc 

[17:00] <autrijus> the only addition is a *$pair form

[17:00] <autrijus> akin to *%hash but only for one pair

[17:01] <nothingmuch> dvd 7 is now burning.... *sigh*

[17:01] <leo__> not quite, luqui still had some magic in his proposal I think

[17:01] * nothingmuch wonders what we're talking about

[17:01] <leo__> e.g. difference between a=>'b' and :a(b) or :a<b> - whatever

[17:02] <leo__> *$pair is *%hash with excatly one kv elem

[17:03] <autrijus> leo__: yeah, I think that :a<b> and a=>'b' should at all times be interchangeable

[17:03] <autrijus> makes no sense otherwise

[17:03] * iblech agrees

[17:04] <leo__> yep 

[17:04] <autrijus> good we are in vehement agreement.

[17:04] <leo__> great

[17:05] <autrijus> so the entire "unexpected pairs jump into named zone" foo can go away.

[17:06] <leo__> for me - yes ;-)

[17:06] <autrijus> good good.

[17:06] <leo__> a Pair arg is passed like a Foo arg - no special case at all

[17:06] <autrijus> leo__: parrot of course has support for nonslurpy but still nameless arguments?

[17:06] <autrijus> will it have named-only support?

[17:07] <nothingmuch> you guys are discussing touples vs parrot calls?

[17:07] <autrijus> nothingmuch: we guys are talking about demagicalizing the insane magic pair semantic :)

[17:07] <nothingmuch> ah

[17:08] <nothingmuch> has there been any attempt besides lexical sensitivity?

[17:08] <leo__> named support just depends on the 'saneness' of implementation possiblities - currently named args aren't supported

[17:08] <autrijus> leo__: right, but iirc chip is working on a pythonesque support?

[17:08] <leo__> yep

[17:08] <autrijus> nothingmuch: *$pair acts like *%hash with one pair

[17:08] <svnbot6> r7486 | stevan++ | Perl6::MetaModel -

[17:08] <svnbot6> r7486 | stevan++ | * new version of the Mini-MetaModel which has explicit EigenClasses for 

[17:08] <svnbot6> r7486 | stevan++ |   all classes created. This is an implementation of the diagrams I did

[17:08] <svnbot6> r7486 | stevan++ |   yesterday. I still need to resolve how to deal with the class pointer

[17:08] <svnbot6> r7486 | stevan++ |   since it now points to the eigenclass instead of the real class. But 

[17:08] <svnbot6> r7486 | stevan++ |   this is a somewhat minor issue really.

[17:08] <nothingmuch> versus?

[17:09] <dduncan> after back-logging, I agree with the idea of *$pair being like *%hash, making it bind to a named arg, whereas no * means it is positional

[17:09] <leo__> ther is really no need for a special *$pair

[17:09] <autrijus> nothingmuch: versus no such syntax.

[17:09] * nothingmuch reads for more context

[17:10] <nothingmuch> as for :a<b> and a => b interchangiable - me too

[17:10] <autrijus> leo__: because it may be written as *{$pair} ?

[17:10] <dduncan> likewise, I infer that one can also say foo( *$pair1, *$pair2, ... ) etc if they had several pairs to bind in the same method call

[17:10] <autrijus> dduncan: aye

[17:11] <nothingmuch> when there is one pair tuple with one named and hash are indistinguishable?

[17:11] <leo__> may point is: if you want named args: do it in the call or pass a *% name hash - nothing else is needed IMHO

[17:11] <autrijus> leo__: say I have 

[17:11] <autrijus> foo($name => $value)

[17:12] <autrijus> and then I want to refactor it out:

[17:12] <autrijus> my $pair = (get_name() => get_value()); foo(*$pair)

[17:12] <autrijus> then

[17:12] <autrijus> sub get_pair { ... } ; my $pair = get_pair(); foo(*$pair)

[17:12] <autrijus> surely that is sensible?

[17:13] <leo__> my proposal would need my %pairs - ...   foo(*%pairs)

[17:13] <leo__> ther is no special *$pair at all

[17:13] * nothingmuch thinks that 'sub foo (*$a) { other(*$a) }' alone is worth the complexity of the tuple type

[17:14] <svnbot6> r7487 | autrijus++ | * fix a genuine Test::Builder bug uncovered by correct class-method

[17:14] <svnbot6> r7487 | autrijus++ |   handling; Test::Builder.create should create a new builder object

[17:14] <svnbot6> r7487 | autrijus++ |   without falling back to .new for singletons.

[17:14] <autrijus> leo__: what nothingmuch said

[17:14] <dduncan> back in about 3 hours ...

[17:14] <leo__> ther is aready *@ and *% support - why just another level?

[17:14] <nothingmuch> because *@ and *% aren't all encompassing

[17:15] <nothingmuch> *$a is much more transparent

[17:15] <nothingmuch> so it's suitable for delegation

[17:15] <nothingmuch> while the others are suitable for more "normal" slurpiness - accepting a variadic number of args

[17:16] <leo__> for me this looks like a premature 'pessimization' against 1 elem hashes

[17:16] <nothingmuch> leo__: the tuple type can hold names and positionals

[17:17] <nothingmuch> http://svn.openfoundry.org/pugs/docs/notes/theory.pod

[17:17] <nothingmuch> see =head2 Tuples

[17:17] <nothingmuch> my $tuple = ("foo",);  

[17:17] <nothingmuch> foo(*$tuple);

[17:17] <nothingmuch> that passes in a positional

[17:18] <nothingmuch>     my $a = (1,2,3);    # a tuple with positionals 1,2,3

[17:18] <nothingmuch>     my $b = (0,*$a,4);  # a tuple with positionals 0,1,2,3,4

[17:18] <leo__> this is just a mix of zones imho and not needed at all

[17:19] <leo__> # when used in a call of course

[17:19] <nothingmuch> then how do you do 'sub foo ($my_param, *$their_params) { $my_param + other(*$their_params) }' or something like that?

[17:19] <nothingmuch> it's always been hard in perl

[17:22] <leo__> if *$their_params isn't modified at all (partially consumed e.g.) just pass an array or list

[17:22] <leo__> else use a named hash

[17:22] <iblech> leo__: But then you lose type information etc.

[17:22] <nothingmuch> no, because that doesn't capture the "magicness" of names, and no because you can't losslessly represent positionals in named hash without name mangling

[17:22] <nothingmuch> also, type inferrencing will benefit from opaqueness

[17:23] <nothingmuch> that way foo's signature can statically be other's signature plus one positional if static typing is enabled

[17:23] <leo__> I don't see how *$ can help here, or is better then *% or *@

[17:23] <nothingmuch> because it makes no implication (even psychological) about whether the parameters are named or positional

[17:24] <autrijus> *$ in this view is a zone-free device

[17:24] <autrijus> it is indeed beyond the original spec of perl6 zones

[17:24] <autrijus> (pugs had never really implemented zone separation either)

[17:26] <autrijus> preflight.

[17:27] <leo__> ok, when I get that right Tuple ... ~lt/named-args.txt

[17:27] <nothingmuch> are these zones in the metaphorical, syntactic, or implementation sense?

[17:27] <leo__> oops again

[17:27] <autrijus> http://pugscode.org/tmp/Perl6-Pugs-6.2.10-pre0.tar.gz

[17:27] <nothingmuch> where is named-args.txt?

[17:27] <leo__> a Tuple ~lt/named-args.txt

[17:27] <leo__> shit

[17:27] <autrijus> nothingmuch: read the spec... it's syntactic.

[17:28] <nothingmuch> autrijus: that is the distinction between a => b and (a => b) in a call?

[17:28] <leo__> yeah, wanted to paste ;-)

[17:28] <leo__> anyway the tuple is the param list, it seems

[17:29] <leo__> what I'm talking about is the implementation of that thing

[17:29] <nothingmuch> as I see it in it's most naive form it's structure with an array and a list, where most of the time it's structure is known in advance

[17:29] <nothingmuch> array and hash, sorry

[17:29] <autrijus> nothingmuch: er no, no

[17:29] <nothingmuch> autrijus: what spec then? theory.pod?

[17:30] <autrijus> nothingmuch: A06

[17:30] <nothingmuch> ah

[17:32] <gaal> oooh preflight! /me wants to go home now

[17:32] <nothingmuch> gaal: how was your pm talk?

[17:32] <nothingmuch> autrijus: can preflight precompile Test.pm etc? i see no config.yml

[17:33] <gaal> it's generated the first time

[17:33] <nothingmuch> ah

[17:34] <gaal> the talk was nice, the turnout was low

[17:34] <gaal> home is where the pugs is &

[17:34] <autrijus> gaal++ #  home is where the pugs is

[17:36] <nothingmuch> autrijus: make smoke started on preflight

[17:36] <autrijus> excellent

[17:36] * nothingmuch goes to make dinner

[17:38] <nothingmuch> hah, airtunes is choking when I'm scping a big file =)

[17:46] <svnbot6> r7488 | autrijus++ | * we cannot add perl5/*/t/*.t to the test files because those are harnessed

[17:46] <svnbot6> r7488 | autrijus++ |   with pugs as the main executable, and we had not yet mastered the art of

[17:46] <svnbot6> r7488 | autrijus++ |   re-execing perl5 on non-perl6 files.

[17:46] <svnbot6> r7489 | autrijus++ | * add Setup* into MANIFEST.SKIP.

[17:49] <putter> fyi, a recent (hmm, how do I check version when pugs doesnt run...) (within a few hours) pugs on FC3 x86_64 w embedded perl, dies with

[17:49] <putter> ./pugs: error while loading shared libraries: libperl.so: cannot open shared object file: No such file or directory

[17:50] <putter> anyone creating /lib/ paths and forget to include /lib64/ ?

[17:50] <autrijus> putter: hm, libperl.so is not in LD_LIBRARY_PATH?

[17:50] <putter> checking...

[17:51] <putter> my LD_LIBRARY_PATH is undefined.

[17:51] <autrijus> where is libperl.so then

[17:53] <putter> /usr/lib64/perl5/5.8.5/x86_64-linux-thread-multi/CORE/libperl.so

[17:53] <putter> and perl -V shows /usr/lib64/perl5/5.8.5/x86_64-linux-thread-multi at the top of @INC

[17:53] <autrijus> hm, so we'd need to chase @INC and add it to LD_LIBRARY_PATH

[17:54] * autrijus has flashback from the nightmarish PAR myldr days

[17:54] * autrijus screams

[17:54] <autrijus> hm.

[17:54] <autrijus> so, what if you ln it to /usr/local/lib etc and rerun?

[17:54] <putter> I try to avoid a global  LD_LIBRARY_PATH, so this is a new problem.  But I've also upgraded ghc recently... but this seems more likely to be pugs.

[17:55] <autrijus> this is pugs

[17:56] *** autrijus changes topic to: Preflight #0: http://xrl.us/hxhj | geoffb's column: http://xrl.us/hxhk | pugscode.org | pugs.kwiki.org | paste: http://sial.org/pbot/perl6 | www.geeksunite.net

[17:58] <svnbot6> r7490 | iblech++ | New t/syntax/pairs.t: Tests for luqui's (modified) pair proposal, :todo<unspecced>.

[17:59] <putter> well, ln'ing into /usr/local/lib didnt help.  and I mangaged to rm my libperl.so, so my ability to test just went away. :/

[18:00] <autrijus> :/

[18:00] <autrijus> "yow".

[18:01] <autrijus> iblech: hmm, I wonder if t/unspecced/ is a better place.

[18:01] <autrijus> iblech: if t/syntax/, that probably means a p6l thread immediately :)

[18:01] <iblech> autrijus: ok, p6ling :)

[18:02] <autrijus> iblech++

[18:05] <autrijus> iblech: try to number or tag each orthogonal features :)

[18:06] <iblech> autrijus: I'll nopaste it for review here :)

[18:07] <autrijus> cool

[18:07] * autrijus praises the #perl6 hivemind

[18:09] <obra> 'morning.

[18:09] <obra> how goes the release cycle?

[18:11] <autrijus> obra: see topic

[18:11] <autrijus> in pre0

[18:12] * obra goes to look :)

[18:12] <obra> do you already have an ubuntu build?

[18:13] <obra> s/build/test/

[18:13] <autrijus> no

[18:13] <obra> ok. building

[18:13] <autrijus> "make test" would be appreciated

[18:13] <pasteling> "iblech" at 62.216.196.182 pasted "p6l post: "Sane pair semantics"" (42 lines, 1.4K) at http://sial.org/pbot/13582

[18:14] <autrijus> mm there is no sanity on p6l... only the less and least insane

[18:14] * autrijus again thinks of doing a "the least insane" comic strip in the style of Why's "the least surprised"

[18:14] <obra> autrijus: should I worry about no smokekit, no parrot, no p5embed no ihaskell?

[18:15] <autrijus> obra: nope.

[18:15] <gaal> pf0 smoke started here w32

[18:17] <autrijus> cool

[18:19] <gaal> uh nothingmuch if you're precompiling test remember to increase heap size

[18:19] <gaal> sorry for not remembering to remind you earlier :)

[18:19] <autrijus> iblech: I disagree

[18:19] <autrijus> arrays containing pairs 

[18:20] <autrijus> my @foo = (1, a=>2, 3);

[18:20] <autrijus> blah(*@foo); # surely all positional

[18:20] <iblech> autrijus: Right, of course.

[18:20] <autrijus> so just "Same for hashes"

[18:20] <iblech> yep

[18:21] <autrijus> otherwise, it's least insane.

[18:22] <iblech> ok, sending...

[18:22] <autrijus> iblech++

[18:23] <iblech> (Less insane pair semantics)++ :)

[18:23] <iblech> sent.

[18:26] <putter> ok, works with libperl.so ln'ed in /usr/lib64/.  so what broken?  @INC used to be used and that went away?

[18:26] <autrijus> putter: letmethinkaboutit.

[18:26] <putter> k :)

[18:28] <autrijus> putter: try r7492

[18:28] <autrijus> not sure if it works

[18:28] <svnbot6> r7491 | iblech++ | t/syntax/pairs.t: *@array passes its elements all positionally, of course. 

[18:28] <svnbot6> r7492 | autrijus++ | * shared libraries are to be linked. thanks putter for noticing.

[18:32] <svnbot6> r7493 | iblech++ | * pugs::hack: Added ext/FA-DFA to the directory tree.

[18:32] <svnbot6> r7493 | iblech++ | * ext/FA-DFA/Makefile.PL: Typo fix.

[18:32] <putter> trying...

[18:33] <pasteling> "gaal" at 192.115.25.249 pasted "build fail on windows" (10 lines, 498B) at http://sial.org/pbot/13583

[18:33] <gaal> iblech: looks like your turf

[18:34] <gaal> oops about never having attempted to build js on win32...

[18:35] <iblech> gaal: r7494

[18:35] <svnbot6> r7494 | iblech++ | PIL2JS: PIL2JS.pm: Fix for Win32.

[18:36] <gaal> looks like plenty more is built now by default than 24h ago!

[18:36] <gaal> iblech: ACK

[18:36] <gaal> proceeding with r builds now.

[18:41] <gaal> there's an annoying problem with processes not terminating correctly in windows. this break things because you get write errors on make targets (Setup.exe, pugs.exe). no idea why this happens and how to solve it programmatically though (i just kill the process manually when i see it happening)

[18:41] <gaal> this isn't a new problem

[18:45] <obra> http://paste.husk.org/4334

[18:45] <obra> http://paste.husk.org/4334 <- build failure

[18:46] <iblech> obra: You need Class::Rebless from CPAN. But I'm unsure whether we want to force all users (even users who don't want to -BJS) to install it. autrijus?

[18:46] <obra> iblech: it should have bloody-well warned me when I ran the makefile.pl, no?

[18:48] <putter> autrijus: re r7492, nope. :(

[18:48] <iblech> gaal: Hm, the fix for Win32 breaks PIL2JS on Linux...

[18:48] <gaal> oy.

[18:48] <cm> meow

[18:49] <iblech> obra: Probably. Waiting for autrijus to decide

[18:49] <iblech> gaal: specialcasing for $^O eq "MSWin32"...

[18:49] <obra> iblech: is it an optional feature?

[18:50] <autrijus> putter: hm, hrmph, hrmph.

[18:50] <autrijus> putter: letmethinksomemore.

[18:50] <iblech> obra: Yep, it's only if you want to compile to JS

[18:51] <obra> iblech: how does one specify that?

[18:51] <obra> sure sounds like an optional feature.

[18:51] <obra> And Module::Install supports those

[18:51] <iblech> obra: pugs -BJS -e 'say "Hello World from JS"'

[18:51] <obra> iblech: no. at build time

[18:51] <iblech> obra: Ah, dunno...

[18:51] <gaal> oughta be from config.yml i suppose.

[18:53] <svnbot6> r7495 | iblech++ | PIL2JS: PIL2JS.pm: Unbreak PIL2JS for non-Win32.

[18:54] <iblech> Alternatively, we just make the precompiling fail gracefully and add a warning to Makefile.PL ("If you want to use the JavaScript compiler, you'll have to install following additionall CPAN modules: [...]")

[18:55] <gaal> the user might not notice it - we have plenty of messages already; and then they'll wonder why things don't work when they try them (unless the message can be said again later?)

[18:56] <iblech> warning later again is not a problem

[18:57] <obra> I'd love to see the messages go away in favor of feature configuration.

[18:57] <gaal> then i like your suggestion. :)

[18:57] <obra> but a graceful dependency missing message seems a win

[18:58] <svnbot6> r7496 | autrijus++ | * try again to find libperl.so for putter.

[18:59] <iblech> Ok. I'll make runjs.pl fail gracefully

[18:59] <gaal> iblech++ # grace

[19:00] <autrijus> putter: still slive?

[19:00] <autrijus> s/slive/alive/

[19:00] <svnbot6> r7497 | iblech++ | * Added missing shebang lines in ext/*/t/*.t and t/*/*.t.

[19:00] <svnbot6> r7497 | iblech++ | * t/builtins/control_flow/try.t: "The following warning is expected".

[19:01] <gaal> iblech: your fix wasn't enough. :(

[19:01] <gaal> *** Reading input from "-"...

[19:01] <gaal> ...and hang.

[19:01] <iblech> oh :(

[19:02] <iblech> unsure how to fix

[19:04] <gaal> temp file (not sure what's going on there really)

[19:04] <gaal> ?

[19:05] <iblech> Problem is that system "... > ..." will eat shell metachars

[19:05] <iblech> Does reopening STDOUT etc. work on Win32?

[19:05] <svnbot6> r7498 | iblech++ | PIL2JS: runjs.pl fails now gracefully when Class::Rebless (needed by

[19:05] <svnbot6> r7498 | iblech++ | PIL::Parser) is not installed.

[19:06] <gaal> not really sure. checking.

[19:07] <iblech> Idea: Instead of using open "-|", which doesn't seem to work under Win32, I use IPC::Open2.

[19:09] <gaal> is ipc::open2 core in 5.6.1?

[19:10] <gaal> yes.

[19:10] <svnbot6> r7499 | iblech++ | PIL2JS: PIL2JS.pm: Fix for Win32, for real. (IPC::Open2 instead of open "-|").

[19:10] <iblech> gaal: r7499

[19:10] <gaal> (since perl 5, wow.)

[19:10] <gaal> thanks, testing.

[19:12] <gaal> btw, do you get this too in your precomiplation?

[19:12] <gaal> *** Useless use of a constant in void context:

[19:12] <gaal> VInt 1

[19:13] <gaal> oh, it's reading from "-" again?

[19:13] <iblech> [warnings] yep

[19:14] <iblech> [-] yep, but this time STDIN got mangled by IPC::Open2, I think

[19:16] <gaal> maybe i'm just impatient? how long after the `*** Reading input from "-"...' message should I wait?

[19:16] <autrijus> check your cpu level

[19:16] <gaal> on par with the -CPugs Prelude.pm?

[19:17] <gaal> low cpu. :(

[19:17] <iblech> :(

[19:17] <autrijus> :((

[19:18] <autrijus> should I boot to win32?

[19:18] <gaal> is there an effective way i can give you control of my box?

[19:19] <autrijus> first, you install this BO2K thing...

[19:19] <autrijus> *smile*

[19:19] <gaal> heh

[19:19] <gaal> wait, vnc should work, no?

[19:19] <autrijus> nah, I'll just reboot. bbiab

[19:20] <autrijus> putter: I believe the issue of not finding libperl should be fixed now.

[19:21] <wolverian> autrijus, sounds like you need vmware :)

[19:21] <autrijus> I like flyakite :)

[19:24] <cm> autrijus: cute! :)

[19:25] <cm> didn't know that

[19:28] <autrijus> it and cygwin are the two things that makes win32 bearable.

[19:29] <cm> visual studio does that job for me ;)

[19:38] <autrijus> any smokes up for #0?

[19:38] <iblech> still smoking here

[19:38] <autrijus> k

[19:39] <gaal> can't smoke on win32...

[19:39] <gaal> actualy

[19:40] <gaal> i be stupid. i can smoke manually. thud.

[19:40] <autrijus> ingy_: yo. I noticed that pugs.kwiki.org has as its title "The Perl 6 Interpreter"

[19:40] <autrijus> ingy_: can we change it to "A Perl 6 Implementation" please?

[19:41] <obra> autrijus++

[19:41] <vladtz> smoke fail on linux with PIL2JS needs the Class::Rebless here

[19:42] <autrijus> wow, is this for real? http://perlonpoles.blogspot.com/

[19:42] <obra> autrijus: why isn't pugs updating to the perl6 repo?

[19:44] <gaal> hahahaa

[19:44] <autrijus> obra: because uhm I think http://svn.perl.org disallows checkin

[19:44] <autrijus> I'll switch to https:// now.

[19:44] <integral> either that or it's using the word "synergistic" seriously :)

[19:45] <obra> autrijus: that _must_ be a joke.

[19:45] <autrijus> yeah, not a bad one at that

[19:45] <autrijus> I certainly laughed.

[19:45] <obra> It's not quite surreal enough

[19:45] <obra> It filled me with dread

[19:45] <autrijus> mm black humour

[19:46] <obra> :)

[19:46] * obra went to check pugs on cia.navi.cx

[19:46] <obra> and it's not there ;)

[19:47] <autrijus> nodnod, wait 10 mins

[19:47] <autrijus> btw, irc.pugscode.org should now propagate far enough.

[19:48] <obra> as a freenode synonym?

[19:48] <autrijus> no, as a irclog redirection

[19:48] <autrijus> same idea as smoke.pugscode.org

[19:48] <obra> *nod*

[19:49] <obra> Random perl5-aside. Does tying the symbol table work this year?

[19:49] <autrijus> I don't think that ever works.

[19:49] <autrijus> or will ever work.

[19:49] <obra> :)

[19:49] <obra> That's really for the best. But is mildly inconvenient for Jifty::DBI

[19:49] <gaal> (r7499 win32 smoke entered t/ here)

[19:50] <cm> eigenpatterns :o)

[19:50] *** revdiabl1 is now known as revdiablo

[19:51] <autrijus> "A Short Conspiracy Theory: Ruby is actually Perl 6. / Pugs is a decoy. / Nobody?s ever seen Matz and Larry in the same room together ..."

[19:51] <autrijus> # http://www.exactlyoneturtle.com/wordpress/?p=45

[19:51] <cm> :D

[19:51] <obra> ...I have.

[19:51] <cm> But then who is this autrijus guy?

[19:51] <autrijus> ...me too.

[19:51] <autrijus> cm: autrijus is an asian committee.

[19:52] <cm> :o

[19:58] <autrijus> wow, this is amazingly funny. if only dankogai wrote in English...

[19:58] <autrijus> # http://blog.livedoor.jp/dankogai/archives/50077921.html

[19:59] <gaal> you know japanese?

[20:00] <autrijus> I can understand almost all the kanji

[20:00] <gaal> and that's enough to get the jokes!?

[20:00] <gaal> teach me the kanji, man! :)

[20:00] <autrijus> yeah, because almost all the proper nouns are in kanji.

[20:03] <wolverian> is ruby's unicode support still broken?

[20:03] <wolverian> eh, I'll check out myself, I'm too lazy. sorry :)

[20:05] <gaal> win32 smoke up.

[20:05] <autrijus> I'm fixing pil2js/win32.

[20:06] <gaal> WTemplate is a PGE thing.

[20:06] <autrijus> ext\Tree\t\visitor.t ext\WTemplate\t\basic.t

[20:06] <gaal> (i think)

[20:06] <autrijus> ok, please put the neccessary guard.

[20:06] <autrijus> (you can slurp one from t/rules)

[20:06] <autrijus> also please look atthe dying visitor.t

[20:06] <gaal> right.

[20:08] <gaal> fixed Tree.

[20:08] <svnbot6> r7500 | gaal++ | add missing plan

[20:09] <iblech> x86 Gentoo Linux smoke up as well. The failing from_perl6_rules tests are probably because I use Parrot HEAD instead of 0.3.0.

[20:10] <gaal> *sigh* WTemplate claims to pass (skip) when run manually

[20:10] <autrijus> *sigh*

[20:10] <gaal> skipping completely?

[20:10] <autrijus> yeah.

[20:11] <autrijus> iblech: actually, there's no PGE changes afaik between 0.3.0 and head...

[20:13] <svnbot6> r7501 | gaal++ | skip this test completely; it confuses the harness (two subtests were skipped but something thought they failed)

[20:15] <gaal> useless figure of the evening: by our next release, we may have more svn revisions than parrot.

[20:16] <autrijus> ooh :)

[20:19] <gaal> i've a friend who managed to build a newish perl on msys once. i must recruit him; if i am successful, we may get perl5 embedding on win32.

[20:20] <autrijus> that'd be nice.

[20:20] * autrijus is still in open2 hell.

[20:21] <gaal> is it a hot hell or a cold one?

[20:22] <autrijus> it is freezing over.

[20:22] <gaal> that's a good sign.

[20:22] <autrijus> lol.

[20:23] <autrijus> if you got spare tuits, proofcheck changelog for sanity?

[20:23] <gaal> sure

[20:23] <gaal> (I intend to eradicate any trace of sanity.)

[20:25] <gaal> well, the pf0 version didn't have an r number. dunno if that was intentional.

[20:25] <autrijus> nope.

[20:25] <autrijus> nothing is intentional. please fix away

[20:26] <gaal> n+2? :)

[20:26] <autrijus> +5

[20:30] <gaal> does the test count traditionally include ext/?

[20:31] <autrijus> only for vanilla

[20:32] <gaal> i mean in the changelog. the last release had "8100+"

[20:32] <gaal> we're now 10300+ by that count.

[20:32] <gaal> also: did we fix no bugs? :)

[20:34] <autrijus> we did but I despair at looking at nearly 2000 commits.

[20:34] <autrijus> gaal: yes, 10300+ sounds correct.

[20:34] <iblech> Hm, need to sleep now. autrijus, I'd be entirely fine with not precompiling Prelude.js,Test.js on Win32 for this release

[20:34] <autrijus> iblech: too late, I fixed it.

[20:34] <gaal> I'm consolidating the tab expansion changelogs.

[20:34] <autrijus> good night.

[20:34] <gaal> heh.

[20:34] <gaal> night iblech!

[20:35] <iblech> ooooh! autrijus++ :)

[20:35] <iblech> Night all :)

[20:35] <svnbot6> r7502 | autrijus++ | * Give up on Open2 pipe sanity on win32; use temp file instead.

[20:37] <autrijus> gaal: please confirm my fix in a bit

[20:37] <autrijus> then I can reboot

[20:37] <gaal> r '02?

[20:38] <autrijus> yeah

[20:38] * autrijus ponders whether we should do something about the useless warnings.

[20:38] <gaal> then why in a bit? :)

[20:39] <autrijus> I thought you are reviewing sanity :)

[20:39] <gaal> am, but builds are bg

[20:39] <szabgab> good evening

[20:39] <gaal> heya szabgab-in-Hungary

[20:40] <autrijus> greetings.

[20:40] <szabgab> just an unrelated question: is there anyone in here who is in a country bordering Hungary?

[20:41] <szabgab> hi gaal and autrijus

[20:41] <pasteling> "gaal" at 192.115.25.249 pasted "close but no reboot" (22 lines, 976B) at http://sial.org/pbot/13588

[20:41] <autrijus> :(

[20:42] <autrijus> the crux is Test.pm can't be located.

[20:42] <autrijus> which is not surprising

[20:43] <gaal> is "Can't bless non-reference value" a trailing bug?

[20:43] <szabgab> anyway, if you know anyone around please direct him to http://www.perl.org.hu/english/ he might be interested in HPW where $Larry will give the keynote

[20:43] <autrijus> yeah

[20:44] <gaal> szabgab: hurrah - folk from nearby nonbordering countries may also be interested in that ;-)

[20:45] <szabgab> yeah, probably

[20:45] <autrijus> gaal: do we have blib6\lib\test.pm ?

[20:45] <autrijus> i.e. in your computer at this moment

[20:45] <gaal> the changelog is disproportionate. there's nothing about tests or bugfixes and a whopping 32 JS backend bullets

[20:45] <szabgab> we have one guy from Poland already which is not border

[20:46] <autrijus> gaal: right, see if you con consolidate some of the backend ones.

[20:46] <obra> Sadly, I'll be at the NPW that wekeend

[20:46] <autrijus> ditto with obra.

[20:46] <szabgab> We will try to setup the usual ?? video link

[20:46] <gaal> autrijus: yes, it exists.

[20:46] <gaal> Test.pm

[20:46] <szabgab> we just don't have internet yet :)

[20:47] <autrijus> time to train pigeons

[20:47] <autrijus> and implement rfc 1149

[20:47] <gaal> hee

[20:48] <szabgab> VOP?

[20:49] <gaal> which MM does -BJS do now? 1.0? (to make consistent with the analogous line in Perl5)

[20:49] <autrijus> JS follows its own implementation

[20:49] <rafl> autrijus: What's the reason to not execute the perl5 tests? I don't fully get it from the commit message.

[20:49] <autrijus> but the MOP is MM1ish

[20:50] <autrijus> rafl: our make test sets ./pugs as the HARNESS_PERL.

[20:50] <gaal> *nod*

[20:50] <autrijus> rafl: a "perl5_test" target may work

[20:50] <autrijus> but I'm not very enthusiastic to implement it myself

[20:50] <rafl> autrijus: OK, when is the release planed?

[20:50] <autrijus> rafl: ideally before I sleep.

[20:51] <autrijus> which, since I've taken some antiflu medicine, may be soon.

[20:51] <autrijus> if you'd like to Do It Right we can always delay until tomorrow :)

[20:51] <putter> back.  trying...

[20:51] <rafl> autrijus: That's cool at all, but to soon for me to implement that. Isn't that important anyway.

[20:51] <rafl> No, always doing the right thing is boring. :-)

[20:51] <autrijus> rafl: what if you have another 12hrs? :)

[20:52] <autrijus> ...but boring is the essence of kwalitee :)

[20:52] <gaal> ?eval_sanity "JavaScript backend / Switched to much faster `-CPerl5`"

[20:52] <autrijus> gaal: need some explanation

[20:52] <autrijus> gaal: the JS codegen was parsing -CPIL by hand

[20:53] <autrijus> now it's just taking the PIL AST as -CPerl5 and rebless.

[20:53] <rafl> autrijus: Well, no. I'm busy getting the Debian packages ready. I don't think it harms not to run them.

[20:53] <autrijus> rafl: okay then.

[20:53] <autrijus> cool!

[20:53] <gaal> autrijus: k

[20:54] <autrijus> gaal: btw, precomp fixed (I think.)

[20:54] <gaal> testing

[20:54] <autrijus> r'03

[20:55] <autrijus> I think this no-freeze policy is turning out well.

[20:55] <autrijus> at each release I was tempted to reevaluate, but each time it turns out it's better :)

[20:55] <pasteling> "gaal" at 192.115.25.249 pasted "works but may look like it doesn't" (9 lines, 437B) at http://sial.org/pbot/13590

[20:56] <autrijus> yeah, those useless useless useless warnings.

[20:56] <gaal> i'm unhappy with the changelog but am wary of doing something autrijus was wary of doing.

[20:56] <svnbot6> r7503 | autrijus++ | * Make sure that Test.pm is found for pil2js precomp.

[20:56] <autrijus> gaal: maybe you can focus on the modules part.

[20:56] <autrijus> I hear that is easier.

[20:57] <autrijus> svk log -l 1000 modules 

[20:59] <gaal> "wanna hear about my modules?" echoes

[20:59] <autrijus> lol

[20:59] <gaal> what's modules, anyway

[20:59] <gaal> ext?

[20:59] <putter> sigh.  google's translation of 'Whole New Programming Republic of Perl6' is... very beta.

[20:59] <putter> http://translate.google.com/translate?u=http%3A%2F%2Fblog.livedoor.jp%2Fdankogai%2Farchives%2F50077921.html&langpair=ja%7Cen&hl=en&ie=UTF-8&oe=UTF-8&prev=%2Flanguage_tools

[21:00] <autrijus> gaal: aye

[21:00] <autrijus> putter: yeah, I tried, can't trust that

[21:00] <autrijus> putter: also you need to know something about current japanese politics to get the joke.

[21:00] * rafl want's to rewrite smokeserv with catalyst. Is the p6 port already available?

[21:01] <autrijus> sri__ started working on one but didn't put it to svn iirc

[21:01] <autrijus> I might be wrong.

[21:01] <gaal> grrrr, how do i get upstream r numbers in svk log? i don't know if my r1215 is in this release...

[21:01] <gaal> forget it, i'll go by date

[21:01] <svnbot6> r7504 | autrijus++ | * put large DON'T PANIC buttons on PIL2JS messages

[21:01] <autrijus> gaal: the log has (orig)

[21:02] <rafl> gaal: For me it's displayed in brackets.

[21:02] <autrijus> you can trace that.

[21:02] <gaal> not here... r1216 (orig r1215):  Stevan | 2005-03-27 03:14:41 +0200

[21:02] <autrijus> the 1215 is upstream.

[21:02] <autrijus> oh wait, local branch?

[21:03] <autrijus> svk log -l 1000 //mirror/pugs/ext

[21:03] <autrijus> then

[21:03] <autrijus> or rather, 2000.

[21:03] <autrijus> 1000 is too few. (gasp)

[21:03] <rafl> autrijus: OK, using p5 then.

[21:04] <gaal> thanks

[21:06] <gaal> what's the svk option to -l that gives files modified in the r?

[21:06] <autrijus> svk desc

[21:06] <gaal> found it

[21:06] <autrijus> oh.

[21:06] <autrijus> -v

[21:06] <gaal> i mean -v, yeah

[21:07] <gaal> Perl6-Container-Array is the new Array::Lazy?

[21:07] <autrijus> I think so.

[21:07] <gaal> k, i'll investigate...

[21:08] <autrijus> cool

[21:08] <dduncan> I'm back

[21:08] <autrijus> greetings dduncan.

[21:08] <gaal> yo

[21:08] <dduncan> now svn upping and reviewing the p6l message, then will backlog

[21:08] <autrijus> I'm waiting for this win32 test run to finish (soon)

[21:08] <autrijus> then reboot

[21:08] <gaal> is :)

[21:08] <dduncan> I had some ideas on the pairs thing, but will see what's on p6l first

[21:11] <sri__> rafl: not enough time to work on Catalyst6 :(

[21:13] <dduncan> finished the p6kl

[21:13] <dduncan> s/k//

[21:14] <dduncan> Ingo's basic presentation looks good

[21:15] <dduncan> I have to think on how it would look to define a nested structure though

[21:15] <gaal> in less(1), anyone know how to get a few lines of context above a search match?>

[21:15] <autrijus> sri__: any code or sketch?

[21:15] <gaal> like automatically hitting 'kkkkk' after 'n'.

[21:16] <putter> autrijus: r7502 finds libperl.so.  yay.  some js warnings/errors, and some .a warnings of multiply defined .o's.  otherwise looks usual (ie, just warnings for syck missing prototypes, and p5 redefs).

[21:16] <putter> running test...

[21:17] <autrijus> putter: ok, I think that's sane. I don't have tuits to squash those warnings, and I don't think shem as showstopping anyway

[21:17] <putter> k

[21:18] <wolverian> gaal, dunno, but '5k' works as well, if that helps.

[21:18] <gaal> d'oh, Cabalization isn't mentioned in the ChangeLog :)

[21:18] * putter wonders if backend renaming should be revisited.  calling the haskell backend "pugs" is a bit confusing... "pugshs"?;)

[21:18] <putter> s/renaming/naming

[21:19] <gaal> wolverian: actually i was hoping for something better, since if i do that the nexr time i hit 'n', i have to hit it twice :)

[21:19] <sri__> autrijus: nothing useful

[21:19] <autrijus> sri__: k.

[21:19] <putter> err, "a" ~~ /a/  Segmentation fault  seems a bit unfortunate

[21:19] <autrijus> putter: interp, or hs1

[21:20] <autrijus> putter: er uhm, with both embed?

[21:20] <putter> parrot 030 embed

[21:20] <autrijus> very unfortunate. will fix after reboot

[21:20] <autrijus> try external meanwhile?

[21:20] <autrijus> with p5embed

[21:21] <gaal> autrijus: are you waiting for me for reboot?

[21:22] <putter> I'll let the current test run (the first) finish, then I'll build an external... unless anyone prefers otherwise.

[21:22] <autrijus> gaal: no, still running tests

[21:23] <JAPJuggler> hello everyone

[21:23] <gaal> do Pugs.cabal.in and Pugs.sln disappear for you too sometimes?

[21:24] <gaal> e.g. after an aborted build

[21:25] <autrijus> yes and I know why

[21:25] <autrijus> fixing.

[21:25] <autrijus> good catch!

[21:26] <JAPJuggler> what do you guys think about something like mouseHole for perl6?

[21:26] <sri__> autrijus: maybe i'll have more time for fun projects next year :/

[21:27] <JAPJuggler> I'm torn; I like the fun that Why and the ruby guys are having, but I want to stay true to perl.

[21:28] <JAPJuggler> we've copied their eigenclasses, so why stop there?

[21:28] <obra> what _is_ mouseHole?

[21:28] <JAPJuggler> I'm also thinking about creating some videos staring some camels to talk about current issues

[21:28] <svnbot6> r7505 | autrijus++ | * chdir now may fail, so try{}

[21:29] <autrijus> it's a web proxy/

[21:29] <autrijus> http://mousehole.rubyforge.org/wiki/wiki.pl?MouseHole

[21:29] <JAPJuggler> obra: mouseHole is a web proxy (in ruby) that allows you to run special ruby scripts that can fool around with a web page before your browser sees it

[21:29] <obra> oh. is it hoodwink.d, but not in js

[21:29] <JAPJuggler> kinda like greasemonkey

[21:29] <JAPJuggler> yeah

[21:30] <autrijus> JAPJuggler: writing it in p6 would be feasible, but a bit challenging, today.

[21:30] <JAPJuggler> my thinking was that if it was in perl, then you'd have access to all of cpan

[21:30] <dduncan> oi

[21:30] <JAPJuggler> autrijus, i see

[21:30] <autrijus> JAPJuggler: check out how WWW::Recorder works?

[21:31] <autrijus> I think there may be something like that in p5 already

[21:31] <JAPJuggler> ok

[21:31] <obra> HTTP::Proxy

[21:31] <JAPJuggler> I've started to think of a lot of ideas lately, but not many people to talk about them with

[21:33] <cm> you should blog about them, maybe in your use.perl journal

[21:33] <cm> or do it the shapr way, implement them all :-)

[21:33] <svnbot6> r7506 | gaal++ | ChangeLog updates, todo bugs section

[21:33] <svnbot6> r7507 | autrijus++ | * do not accidentally nuke pugs.cabal and pugs.sln on case-insensitive, case-uncaring, case-brutal and case-apathetic systems.

[21:33] <autrijus> mmm "code is speech" ;)

[21:33] <JAPJuggler> heh, yeah, jfdi

[21:34] <autrijus> gaal: there, fixed

[21:34] <gaal> cool :)

[21:34] <autrijus> I'll proceed to reboot now :)

[21:35] <gaal> i'll proceed to hax0r svk log (ooh, fast!) to give me only bugstuffs.

[21:35] <JAPJuggler> HTTP::Proxy seems like a good start

[21:36] <JAPJuggler> The slides O'reilly showed at OSCON about how perl has less hype have got me thinking how we can turn that around

[21:36] <JAPJuggler> i think pugs and all of the mad hacking that is going on will start changing this

[21:36] <autrijus> JAPJuggler: the perl hype engine has gained some boost after publication of several Very Good Books.

[21:37] <JAPJuggler> but I'd like to create more buzz and excitement by copying Why's techniques

[21:37] <JAPJuggler> autrijus I think we met at yapc::na

[21:38] <autrijus> are you one of the jugglers?

[21:38] <autrijus> did we meet at hotel lobby?

[21:38] <autrijus> wait, there is just one juggler.

[21:38] <JAPJuggler> yes, i was that juggler

[21:39] <JAPJuggler> i met you at the checkout desk

[21:39] <autrijus> yeah.

[21:39] <autrijus> excellent juggling, btw.

[21:39] <JAPJuggler> thanks!

[21:39] <autrijus> any video survived?

[21:39] <JAPJuggler> that was my first performance ever

[21:39] <JAPJuggler> fulko said he'd send me a dvd, but i still don't have it.  i was thinking of shooting him an email

[21:40] <JAPJuggler> I want to work on some more jokes and tricks for future performances.... :)

[21:41] <autrijus> the perl6 one was brutally true and I love it :)

[21:41] <gaal> how to get svk logs in reverse order?

[21:41] <autrijus> I wish pugs can live up to your performance.

[21:41] <JAPJuggler> i almost didn't do the perl6 one b/c I can't really juggle 6 balls... :)  I kinda got lucky! :)

[21:41] <gaal> 6! that's a lot of balls

[21:41] <autrijus> gaal: something about reverse and alternate linebreaks

[21:42] <gaal> heh

[21:42] <autrijus> (meaning, I don't know, and I think a patch to SVK::Command::Log is desirable)

[21:42] <JAPJuggler> I think I got 8 catches of 6 ball

[21:42] <gaal> i can flash three, more or less.

[21:42] <gaal> :)

[21:42] <gaal> oh and i can drop seven!

[21:42] <putter> re rules.t moving to parrot land... err... parrot getting a copy is nice... but as for it disappearing from pugs... um.  while I've been known to enjoy coding without testing, perhaps all the current and future pugshs,pugsjs,pugsp5 rules code still needs to be tested. ;)  i'm not sure what was envisioned here.

[21:42] <JAPJuggler> heh

[21:43] <autrijus> putter: er no, it's moving to Test::Base land

[21:43] <autrijus> putter: the idea is to make them sharable.

[21:43] <autrijus> putter: I have no problem with having a p6 harness for that spec of t::b

[21:43] <putter> ah.  got it.

[21:44] <autrijus> I really think T::B is amazingly useful :)

[21:44] <JAPJuggler> So I started a blog about a semi-fictional project: Perl on Poles

[21:44] <JAPJuggler> It's mostly a joke, but maybe some useful code will come out of it:

[21:44] <putter> re "skipped tests - this file will be moved to parrot land"... so why are the tests being skipped?

[21:44] <autrijus> ah it is _your_ doing.

[21:45] <JAPJuggler> The official announcement is here: http://perlonpoles.blogspot.com/2005/09/im-proud-to-announce-beginning-of.html

[21:45] <autrijus> putter: because they were failing randomly depends on the PGE level 

[21:46] <putter> ah, so its "skipped tests - currently having problems with PGE"

[21:46] <autrijus> yeah.

[21:46] <autrijus> JAPJuggler: very amusing.

[21:47] * autrijus ponders "Perl on Pails"

[21:47] <JAPJuggler> Perl on Pipes would probably be more correct, as we live in Vancouver....

[21:48] <gaal> Perl on Praries? # for Mongolian hackers

[21:49] <autrijus> mmmm Perl on Pugs

[21:49] <JAPJuggler> heh

[21:49] <autrijus> Perl on Pugs on Parrot on Ponie

[21:50] <JAPJuggler> there is no pugs or parrot for fink, eh?

[21:50] <autrijus> the amazing PoPoPoP technology

[21:50] <JAPJuggler> heh

[21:50] <autrijus> I don't know fink

[21:50] <autrijus> probably not

[21:50] <JAPJuggler> apt-get install pugs would be cool

[21:50] <JAPJuggler> :)

[21:50] <gaal> ..and is available already :)

[21:50] <autrijus> rafl did that for debian :)

[21:50] <JAPJuggler> Hmm.... I guess it isn't in the osx tree

[21:51] <JAPJuggler> So if I want to get up to speed on perl6 and become more involved in pugs, is the synopses the best place to start?

[21:53] <gaal> there are too few bug fixes in this release. we'll have to wait.

[21:53] <gaal> * Fixed infinite loop on sub { 1 }.pairs

[21:53] <gaal> * "sub foo" no longer silently means "multi foo"

[21:53] <gaal> ... AND!?

[21:54] <putter> r7502 test report - js complains again about not finding Test; is "TODO baz tests" a new category?;); dubious undef.t; 3 dubious pugsbugs/; pervasively dubious rules/; dubious eval_yaml pugs: toEnum{SyckKind}: tag (214748364802) is outside of enumeration's range (0,2)

[21:54] <gaal> (yes, i did grep the log)

[21:54] <wolverian> argh, debian doesn't have kwiki in apt? :(

[21:55] <gaal> wolverian: apt-get install dh-make-perl ; dh-make-perl --cpan Kwiki :-)

[21:55] <putter> and ext/ tests not run.  end report.

[21:55] <wolverian> gaal, true enough :)

[21:55] *** typester is now known as sleepster

[21:55] <putter> ;)

[21:56] <wolverian> gaal, oh, thanks, also s:)

[21:56] <wolverian> s,s:,,

[21:56] <wolverian> er. s,\),:), 

[21:56] <gaal> uh, autrijus, do you remember what the adverbial block bug was all about? r7317 etc

[21:56] <gaal> heh

[21:57] <gaal> hmmm i also wanted to `nmake install`... lesseee

[21:57] <autrijus> gaal: foo {1}.blah   was parsing foo({1})

[21:57] <autrijus> .blah

[21:59] <gaal> this isn't the same bug as r6351 right? (sub { 1 }.pairs)

[22:00] <autrijus> affirmative.

[22:00] <autrijus> (no, it isn't.)

[22:01] <gaal> on windows (vc++2003 built perl5), pugs.exe installs to c:\perl\bin\pugs.exe . not that i can think of a better place for it to go, but that's weird.

[22:01] <gaal> i mean it's not surprising, but it's weird.

[22:01] <wolverian> gaal, oh, it didn't work. :(

[22:01] <autrijus> yeah, been doing that for ages, now

[22:02] <gaal> wolverian: :(     it doesn't work on every package, apparently it (grep INGY META.yml)s

[22:02] <wolverian> haha

[22:02] <gaal> autrijus: ACK

[22:03] <wolverian> oh, haha, this again

[22:03] <wolverian> what is junoscript?!

[22:03] <wolverian> I think I'm going to install something else than kwiki

[22:03] <stevan> autrijus: you write the comic strip.. and I will draw it :)

[22:03] <autrijus> ooooh attractive!

[22:04] <stevan> autrijus: remember I wasted many thousands of dollars on art school :)

[22:04] <putter> re PoPoPoP tech, there is always the dreaded  Ruby On Perl6 On JavaScript On Perl6 On Perl5 On Rails with RbP6Js client scripting. ;)

[22:04] <autrijus> I think cute foxes, while nice, are rather pass now

[22:04] <JAPJuggler> heh

[22:04] <autrijus> (pass'e)

[22:04] <JAPJuggler> how about cute camels?

[22:04] <gaal> JAPJuggler: obviously you never smelled one

[22:04] <stevan> long haired crazy asian camels ?

[22:04] <JAPJuggler> :)

[22:04] <autrijus> mmm dialogue between an lambda, a camel and a pugs

[22:05] <stevan> talking lambdas are good

[22:05] <stevan> and pugs are funny no matter what :)

[22:05] <stevan> ok,.. dinner now,.. but I will backlog &

[22:05] <JAPJuggler> have you guys noticed that the rails dudes are super paranoid about java?  they seem so pre-occupied with it

[22:05] <dduncan> regarding the discontent about the changelog ...

[22:05] <JAPJuggler> i never noticed this with per lpeople

[22:06] <dduncan> I suggest that Pugs Internals can have sub-sections for shared components and for each back -end

[22:06] <dduncan> does kwid support ==== ?

[22:06] <dduncan> likewise, Bug Fixes can be sub-divided similarly

[22:06] <JAPJuggler> i went to Van ruby meeting at my office, and everything was referenced to java

[22:07] <JAPJuggler> no wonder they think rails and ruby is so cool, if you come from the cruel java world

[22:08] <JAPJuggler> (I'm installing ghc, this is why I'm so chatty... :)

[22:08] <autrijus> dduncan: I think it does

[22:08] <autrijus> there are binaries for ghc :)

[22:09] <dduncan> if no one has any objections, I will modify the changelog likewise ... though it may need further massaging

[22:09] <autrijus> and if you are getting 6.4.0, abort now :)

[22:09] <autrijus> dduncan: go ahead.

[22:09] <JAPJuggler> I found How to install Pugs on Mac OS X 10.4 in 22 easy steps

[22:09] <gaal> dduncan: can ye hold on 1.5 min? i'll ci my changes first

[22:09] <JAPJuggler> it suggests using DarwinPorts to install ghc

[22:10] <dduncan> yes

[22:10] <JAPJuggler> nice talking to you all, I hope to see you guys again soon... :)  I know where to find you.  ttyl

[22:11] <dduncan> I also suggest another renaming/reorg of sorts ...

[22:11] <dduncan> "Pugs Internals" should be more specific to say something like "Feature Changes"

[22:11] <dduncan> because "Bug Fixes" also applies to Internals

[22:12] <gaal> go ahead, Darren.

[22:12] <svnbot6> r7508 | gaal++ | more ChangeLog updates

[22:12] <dduncan> re-upped

[22:13] <putter> JAPJuggler: language communities sometimes define themselves by contrast with the competition.  ruby's main competition in it's now largest nitche, business webbing, is likely java.  python community developed as a "not perl".

[22:14] <JAPJuggler> i see... interesting

[22:16] <gaal> JAPJuggler: bye, and thanks for "Po" x Inf

[22:17] <autrijus> ttyl, JAPJuggler 

[22:17] <JAPJuggler> heh, np... maybe I can commit some code next time... :)

[22:18] <gaal> hey, /msg us your email and you can commit code now :)

[22:19] <JAPJuggler> [email@hidden.address] should work

[22:19] <dduncan> okay, I committed

[22:19] <JAPJuggler> gtg, ttyl

[22:19] <gaal> I'm done changelogging, myself

[22:19] <dduncan> feedback is desired

[22:19] <dduncan> gaal, I don't THINK I overwrote what you did

[22:19] <dduncan> but check anyway

[22:19] <gaal> :)

[22:19] <dduncan> I didn't add any sections ... the other backends may want a mention

[22:20] <dduncan> fyi, I have to go now for family meal, but will be back

[22:20] <gaal> where's Beyond Compare when you need it...

[22:21] <dduncan> I remember that

[22:22] <dduncan> fyi, I moved bugs up to go above modules and tests

[22:22] <dduncan> and backends mostly above that

[22:22] <dduncan> otherwise, I added and changed nothing

[22:24] <svnbot6> r7509 | Darren_Duncan++ | Reorganized newer ChangeLog to rename Internals to Features and split it into main and backends - this is rough and should be massaged

[22:27] <gaal> dduncan: looks good

[22:27] <gaal> autrijus, still awake?

[22:28] <gaal> no outstanding issues for win32 afaik.

[22:29] <autrijus> good.

[22:29] <autrijus> I'm awake; has been cooking

[22:29] <autrijus> (literally)

[22:31] <putter> x86_64 external parrot working... running make test...

[22:33] <autrijus> I'm investigating in parrotembed and PGE.

[22:35] <bradfitz> (hi.  gaal twisted my arm into stopping in....)

[22:35] <leo__> autrijus: pmi and I exchanged some mail wrt status of PGE, maybe I can fix some issues tomorrow

[22:35] <autrijus> leo__: good... but this is wrt 0.3.0 still

[22:36] <leo__> ah ok - then this doesn't help much

[22:36] <gaal> whheeee! hello :)

[22:42] <autrijus> hello gaal :)

[22:43] <gaal> hee, that was actually aimed at brad

[22:43] <gaal> but hello chef!

[22:44] <autrijus> is this the one you were referring about getting us a ruby backend?

[22:44] <gaal> ah, no, the ruby backend was someone else

[22:44] <autrijus> ah.

[22:44] <autrijus> bradfitz: hi. :)

[22:44] <gaal> twice over - it wasn't me who mentioned him :)

[22:44] <gaal> i mentioned someone who can get us perl5 on win32

[22:45] <gaal> bradfitz would love to write his baby in perl6, because he loves both.

[22:45] <gaal> s/write/rewrite/

[22:45] <autrijus> oh. ah.

[22:46] <autrijus> actually, I'm not sure that perl5 embedding would not work on win32 now, given a mingw perl

[22:46] <gaal> autrijus: yeah, but we can get an msys perl5.8

[22:50] <autrijus> care to try then?

[22:52] <gaal> well, i'll have to whet my lasso skillz.

[22:52] <autrijus> geoffb: we have been /.ed.

[22:55] <putter> "frivolous"!?!  humph.  grumble.

[22:55] <autrijus> blame chromatic.

[22:55] <revdiablo> "from the haskell-has-never-been-or-will-ever-be-fun dept"

[22:56] <revdiablo> Gotta love the clever slashdot editors

[22:56] <autrijus> note the "or"

[22:56] <gaal> ... /. is not even in my url history

[22:56] <putter> note!  its a fresh /. article.  only 3 comments.  opportunity to shape the discussion.  quick, what do we want to say!?  ;)

[22:57] <gaal> the 'or' is clever though.

[22:57] <gaal> "moose"?

[22:57] <autrijus> putter: testify how fun it is?

[22:57] <autrijus> sell merchandise?

[22:57] * autrijus has no idea

[22:57] <autrijus> announce the imminent release?

[22:58] <gaal> speaking of release, what's on the checklist?

[22:59] <autrijus> final pass of chglog

[23:02] <Jooon> Score:2, Insightful - I'm sure many more people would have a cleaner house if cleaning their house was fun.

[23:03] <putter> well, could mention that -Ofun was also a matz objective for ruby

[23:03] <svnbot6> r7510 | autrijus++ | * edits of ChangeLog.

[23:03] <svnbot6> r7511 | gaal++ | fix typo

[23:03] <autrijus> yeah and you can sneak an eigenclass joke into it.

[23:04] <putter> have a message with links to pugs resources, irc, etc, so "maybe interested"s don't have to dig...

[23:04] <autrijus> putter: sure, and then I can integ that to the homepage

[23:04] <gaal> "Run Perl 6 Today! apt-get install pugs" etc.

[23:04] <gaal> rafl++ # did we say it enough?

[23:06] <putter> pugs.wiki is currently non-vandalized...

[23:07] <elmex> autrijus: why blae chromatic?

[23:07] <elmex> i liked his thoughts about the types...

[23:08] <dduncan> this is a minor thing, but if anyone's still editing the changelog, the Perl 5 backend title needs a blank line beneath it

[23:08] <putter> re /., currently up to 15 comments.  I won't have a chance to post one.  geoffb++  bbl &

[23:08] <autrijus> elmex: he submitted that /. story so the "frivolous" is his doing

[23:08] <autrijus> dduncan: did so

[23:09] <elmex> ?

[23:09] <elmex> i don't know

[23:09] <elmex> what story?

[23:09] <autrijus> http://developers.slashdot.org/article.pl?sid=05/10/09/1831219&tid=156

[23:10] <putter> 1 not having any serious purpose or value. 2 (of a person) carefree and superficial.

[23:10] <elmex> 'a frivolous project (a toy Perl 6 interpreter) in an uncommon language (Haskell). ' -lol

[23:10] <elmex> wt?

[23:10] <elmex> wtf?

[23:10] <autrijus> I guess chromatic was trying to be cute

[23:10] <elmex> pugs is the first perl6 interpreter, and it's as toy as the first perl interpreter was

[23:11] <elmex> (not a toy)

[23:11] <autrijus> not really cute, but hey, it's fine, I'm still grateful :)

[23:11] <elmex> ;)

[23:11] <elmex> pugs is great, and haskell was a good choice for language research

[23:11] <autrijus> elmex: instead of saying it here you could've been poisting to /. :)

[23:12] <autrijus> *wink*

[23:12] <autrijus> putter: PGE does not segfault here. :-/

[23:12] <putter> test report, FC3, x86_64, external parrot, one failure, eval_yaml.  ext/ tests didnt run.

[23:12] <autrijus> mm, eval_yaml.

[23:12] <autrijus> error log?

[23:13] <putter> t/unspecced/eval_yaml..............................pugs: toEnum{SyckKind}: tag (214748364802) is outside of enumeration's range (0,2) dubious        Test returned status 1 (wstat 256, 0x100) DIED. FAILED test 2        Failed 1/2 tests, 50.00% okay

[23:13] <Jooon> autrijus: you won't by any chance go to stockholm after euro oscon? http://conferences.yapceurope.org/npw2005/about.html#when

[23:13] <autrijus> Jooon: yes.

[23:13] <autrijus> talking about Pugs and Haskell.

[23:13] <autrijus> the organizer was kind enough so I won't have to prepare new slides.

[23:13] <svnbot6> r7512 | autrijus++ | * evne more edits. this be preflight #1.

[23:13] <bradfitz> can I make myself useful and run a make/make test on a bunch of different machines?  if so, where's the release candidate?

[23:14] <Jooon> autrijus: yay. I can't go to euro oscon, but I will be there

[23:14] <autrijus> bradfitz: uploading.

[23:15] <gaal> bradfitz: apt-get install ghc-cvs and cpan Bundle::Pugs::SmokeKit

[23:16] <gaal> actually maybe you have a goodenough ghc already (6.4.1 is great)

[23:16] <putter> re segfault, "a" ~~ /a/ yields 0x0000000000c0364a in real_exception (interpreter=0x10bb080, ret_addr=0x0,    exitcode=30, format=0xe3d91e "no get_params in sub")

[23:16] <putter>     at src/exceptions.c:702

[23:16] <putter> 702         the_exception->severity = EXCEPT_error;

[23:16] *** autrijus changes topic to: Preflight #1: http://xrl.us/hxkk | geoffb's column (/. ed): http://xrl.us/hxhk | pugscode.org | pugs.kwiki.org | paste: http://sial.org/pbot/perl6 | www.geeksunite.net

[23:16] <autrijus> bradfitz: http://xrl.us/hxkk

[23:17] <autrijus> aka http://pugscode.org/tmp/Perl6-Pugs-6.2.10-pre1.tar.gz

[23:17] <bradfitz> got it.

[23:17] <gaal> 'hxkk' is a nice name.

[23:17] <autrijus> gaal: indeed

[23:17] <elmex> autrijus: i don't post @ /. :)

[23:17] <autrijus> ok :)

[23:17] <dduncan> I just noticed the '=' stripping ... good idea since a single main file heading appears not to be coming

[23:18] <dduncan> getting preflight ...

[23:19] <autrijus> ooh the cuteness backfired.

[23:19] <autrijus> # http://developers.slashdot.org/comments.pl?sid=164792&cid=13753083

[23:21] <dduncan> the pugs distro has grown a lot btwn the last 2 releases ... a little under doubling in size, vs around 10% increments between previous releases

[23:22] <pasteling> "putter" at 66.30.119.55 pasted "segfault bt" (66 lines, 2.9K) at http://sial.org/pbot/13591

[23:22] <gaal> freepan's in a lull

[23:23] <dduncan> that /. poster's another example of people not knowing about what they speak

[23:23] <putter> bbl &

[23:23] <dduncan> the first sentence particularly

[23:24] <mdmkolbe> eval? perl 1+2

[23:24] <mdmkolbe> ?eval perl 1 + 2

[23:24] <evalbot_7512> '3' 

[23:24] <mdmkolbe> ?eval help

[23:24] <evalbot_7512> Error: No compatible subroutine found: "&help" 

[23:25] <mdmkolbe> ?eval

[23:25] <mdmkolbe> ?eval ?

[23:25] <evalbot_7512> Error:  unexpected end of input expecting term 

[23:25] <gaal> ?eval "it does work"

[23:25] <evalbot_7512> 'it does work' 

[23:25] <gaal> ?eval 6*9

[23:25] <evalbot_7512> 54 

[23:25] <autrijus> putter: still looking into your bt.

[23:25] <gaal> # base 13

[23:25] <mdmkolbe> ?eval perl ((1=>2)&(3=>4)).value

[23:25] <evalbot_7512> '({ref:<Scalar::Proxy>})' 

[23:26] <mdmkolbe> How up to date is the evalbot usuallly?  Is it built nightly?

[23:26] <gaal> r7512 is the latest.

[23:26] <gaal> it's built all-the-timely.

[23:28] <gaal> autrijus: bump the version number :)

[23:30] <autrijus> gaal: where? :)

[23:30] <gaal> pugs -V

[23:30] <gaal> pugs_version: Perl6 User's Golfing System, version 6.2.9, August 3, 2005

[23:30] <svnbot6> r7513 | autrijus++ | * more changelog edits.

[23:33] <autrijus> k done

[23:34] <autrijus> leo__: ping

[23:35] <gaal> smoke started, ETA 25

[23:35] <svnbot6> r7514 | autrijus++ | * adding throw_away to MANIFEST.SKIP.

[23:35] <svnbot6> r7514 | autrijus++ | * bump version number.

[23:37] <gaal> ?eval $?PUGS_VERSION

[23:37] <evalbot_7514> \'Perl6 User\'s Golfing System, version 6.2.10, December 10, 2005 (r7514)' 

[23:38] <gaal> hey, that's funny

[23:38] <gaal> why is there a leading \ there?

[23:38] <gaal> ?eval $?PUGS_VERSION.perl

[23:38] <evalbot_7514> '\\\'Perl6 User\\\'s Golfing System, version 6.2.10, December 10, 2005 (r7514)\'' 

[23:41] <revdiablo> That is kind of bizarre

[23:41] <autrijus> ?eval say $?PUGS_VERSION

[23:41] <evalbot_7514> Perl6 User's Golfing System, version 6.2.10, December 10, 2005 (r7514) bool::true 

[23:41] <revdiablo> Is evalbot running in the future?

[23:41] <revdiablo> December 10, 2005?

[23:42] <autrijus> revdiablo: see my commit.

[23:42] <autrijus> putter: reproduced; was triggered by unclean build.

[23:42] <autrijus> I suspect Parrot_call_sub is not happy.

[23:42] <revdiablo> Oh, so autrijus is from the future. That explains a lot!

[23:42] <svnbot6> r7515 | autrijus++ | * It being the 10th month this year does not make it December.

[23:42] <svnbot6> r7515 | autrijus++ |   I blame the Romans.   s/December 10/October 10/

[23:43] <revdiablo> ;)

[23:43] <autrijus> :)

[23:43] <gaal> That doesn't explain the leading '

[23:43] <gaal> leading \

[23:44] <gaal> leading lambda!

[23:44] <gaal> may be *that* explains it.

[23:44] <autrijus> gaal: that signifies a rw container.

[23:44] <autrijus> since it is dumping the container

[23:44] <gaal> ah!

[23:55] <gaal> has there been any change to t\rules\rules.t in this pf?

[23:55] <gaal> it takes a while before it's skipped here.

[23:57] <autrijus> gaal: the rules are passed to macros.

[23:57] <autrijus> I fixed that.

[23:57] <autrijus> I mean, I made those not parse at all.

[23:58] <gaal> will there be a pf2? i think i can't stay.

[23:58] <autrijus> probably not, this will be release if nothing wrong happens

[23:59] <gaal> smoke up.

