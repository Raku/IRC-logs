[00:00] <colomon> jnthn++

[00:01] <colomon> Though that's disappointing -- it really hamstrings the elegance of operator overloading in a lot of cases.

[00:03] *** jferrero joined
[00:06] *** kane_ left
[00:10] *** Khisanth joined
[00:10] *** Khisanth left
[00:11] *** Khisanth joined
[00:11] *** Khisanth left
[00:22] *** maja joined
[00:23] <__ash__> I found a kind of hack to get around not being able to explicitly call role methods directly from within a class, http://gist.github.com/164492 if anyone else has seen this issue. I know in the spec they have a different solution but it doesn't work right now 

[00:23] *** maja_ left
[00:27] *** zamolxes joined
[00:29] *** jhelwig left
[00:33] *** nacho__ left
[00:35] *** M_o_C left
[00:49] *** missingthepoint joined
[00:49] *** zamolxes left
[00:51] *** zamolxes joined
[01:03] *** Eevee joined
[01:08] *** braceta left
[01:16] <meppl> good night

[01:19] *** meppl left
[01:22] *** braceta joined
[01:33] <missingthepoint> good night meppl :)

[01:38] *** kst` joined
[01:43] *** Chillance_ joined
[01:47] *** Chillance_ left
[01:48] *** Chillance left
[01:51] <cognominal> What is the natural way to express in Perl  6 this XML BNF rule ?

[01:51] <cognominal> [17]   	PITarget	   ::=   	 Name - (('X' | 'x') ('M' | 'm') ('L' | 'l'))

[01:52] <cognominal> token pitarget { <Name> - :i xml }    # but what is the equivalent of -  to say match the left except if it matches the right

[01:53] *** kst left
[01:53] <cognominal> should I write a closure to reject if the name matches xml ?

[01:59] *** tann joined
[02:29] *** Whiteknight left
[02:37] *** braceta left
[03:14] *** eternaleye left
[03:17] *** eternaleye joined
[03:20] *** donaldh left
[03:20] *** donaldh joined
[03:22] *** PZt left
[03:22] *** jferrero left
[03:24] *** cotto left
[03:25] *** cotto joined
[03:26] *** cookys_ left
[03:26] *** Limbic_Region left
[03:34] <pmichaud> cognominal:    /   <!before :i xml> <name> /

[03:34] <pmichaud> or slightly clearer:

[03:35] <pmichaud> cognominal:    /   <!before :i 'xml'> <name> /

[03:35] <pmichaud> which means "match <name> but not 'xml'"

[03:35] <pmichaud> one can also do

[03:36] <pmichaud>     / [ 'xml' :: <!> || <name> ] /

[03:37] <pmichaud> when we have closures implemented, it can be

[03:37] <pmichaud>     /  <name> <!{ $<name> eq 'xml' }> /

[03:39] *** sri_kraih joined
[03:50] *** icwiener joined
[03:51] *** icwiener left
[03:52] *** sri_kraih_ left
[03:53] <eternaleye> rakudo: class Base { method foo { '::foo' } }; class T is Base { method foo { 'T::foo'; Base::foo(self:) } }; my T $a .= new; say $a.foo;

[03:53] <p6eval> rakudo 5667dc: OUTPUT«Statement not terminated properly at line 2, near "(self:) } "␤in Main (src/gen_setting.pm:3366)␤»

[03:58] <missingthepoint> Pm++ for a clear answer :)

[03:59] <pmichaud> ...or many of them :-)

[04:00] <missingthepoint> :)

[04:05] <missingthepoint> rakudo: say ('pmichaud++') xx 4 # :-)

[04:05] <p6eval> rakudo 5667dc: OUTPUT«pmichaud++pmichaud++pmichaud++pmichaud++␤»

[04:08] <missingthepoint> hopefully lambdabot will parse that ok... :)

[04:09] <missingthepoint> pmichaud: do you have any projects you could use help on?

[04:10] <pmichaud> undoubtedly I do, but my mind is a bit frazzled at the moment

[04:10] <missingthepoint> i should have some CSV-handling code for you today

[04:10] <pmichaud> oooh!  yes!

[04:10] <pmichaud> \o/

[04:10] <pmichaud> I'd like it to be able to parse docs/spectest-progress.csv :-)

[04:10] <missingthepoint> no

[04:11] <missingthepoint> i set my goal slightly higher...

[04:11] <missingthepoint> gimme a few hours

[04:11] <missingthepoint> :O)

[04:11] <pmichaud> no rush -- I'll likely be heading off to bed here soon.

[04:12] <missingthepoint> no problem, hopefully you'll enjoy it in the morning... (and i suspected that was your purpose for the CSV code)

[04:13] <missingthepoint> hopefully you get over the jet lag soon

[04:13] *** rfordinal joined
[04:14] <pmichaud> argggggh

[04:14] * missingthepoint hands pmichaud a warm beverage and some sleeping pills

[04:15] <missingthepoint> :)

[04:15] <pmichaud> I've just made a small change to rakudo to fix up immediate blocks

[04:15] <pmichaud> as far as I can tell, the change produces _exactly_ the same PIR output for a small test program

[04:15] <pmichaud> but one instance works, another fails.

[04:16] <missingthepoint> does the small test program adequately exercise the change?

[04:16] <pmichaud> yes

[04:17] <pmichaud> oh, hmm.

[04:17] <missingthepoint> hmm

[04:17] <pmichaud> I think I know where the change might be.

[04:17] <pmichaud> it's not in the PIR from my code -- it's in the generated setting code.

[04:17] <pmichaud> that would make sense.

[04:27] *** whoisthatgoksie left
[04:28] <missingthepoint> rakudo: sub foo(Array @bar) { say @bar.elems }; my @a = <quux florble blaarg>; foo(@a)

[04:29] <p6eval> rakudo 5667dc: OUTPUT«Parameter type check failed; expected Positional[Array], but got Array for @bar in call to foo␤in sub foo (/tmp/R1V0nOYrMe:2)␤called from Main (/tmp/R1V0nOYrMe:2)␤»

[04:30] *** nihiliad left
[04:32] *** rfordinal left
[04:44] <missingthepoint> rakudobug, or am i doing something silly?

[04:44] <pmichaud> Array @bar means "an array of arrays"

[04:44] <missingthepoint> or NIY?

[04:45] <missingthepoint> ah, something silly :))

[04:45] <pmichaud> you're sending it an array of strings.

[04:45] <pmichaud> it's not necessary to say "Array @foo" -- @foo is already known to be an array.

[04:45] <missingthepoint> thanks :)

[04:45] *** takadonet joined
[04:45] <takadonet> hey

[04:45] <takadonet> all

[04:46] <missingthepoint> i didn't think through the semantics of Array in combination with the sigil

[04:46] <missingthepoint> takadonet: go ahead...

[04:46] <takadonet> with what?

[04:47] <missingthepoint> ah, that was a greeting. hi ;)

[04:47] <missingthepoint> (thought you were about to announce something profound... :-)

[04:48] <takadonet> it was. Just hacking away creating a parser with a grammar

[04:50] *** frew joined
[05:09] *** bionoid left
[05:23] *** alester joined
[05:28] *** frew left
[05:28] *** PZt joined
[05:45] *** orafu left
[05:45] *** orafu joined
[06:02] *** __ash__ left
[06:02] *** wayland76 left
[06:07] *** takadonet left
[06:07] *** molaf joined
[06:09] *** zamolxes left
[06:20] *** alester left
[06:39] *** sparc joined
[06:43] *** Su-Shee joined
[06:43] <Su-Shee> good morning!

[07:12] *** azawawi joined
[07:12] <azawawi> std: "hi"

[07:12] <p6eval> std 27911: OUTPUT«ok 00:04 37m␤»

[07:20] *** donaldh left
[07:20] *** donaldh joined
[07:21] *** azawawi left
[07:24] *** abra joined
[07:35] *** mberends left
[07:38] *** whoisthatgoksie joined
[07:45] *** tann left
[08:01] *** rfordinal joined
[08:01] *** mikehh_ joined
[08:09] <payload> a strange error. it "forgets" a method? http://gist.github.com/164660

[08:18] *** mikehh left
[08:19] *** meppl joined
[08:24] *** mikehh_ is now known as mikehh

[09:22] *** masak joined
[09:22] <masak> morning, starfishes.

[09:28] <pugs_svn> r27912 | azawawi++ | [Cursor] TMP_PREFIX is now working again.

[09:30] <moritz_> good morning

[09:32] <masak> everything I touch turns into bugs... :P

[09:32] <masak> I'm like the software kind Midas.

[09:33] <masak> s/kind/king/

[09:34] <masak> I'd better start from the beginning: I wanted perl6eval to print "$d days left to April", and to calculate $d herself using Temporal.pm.

[09:34] <masak> only way I can do that, given the current implementation, is using .epoch on two dates and calculating the difference.

[09:35] <masak> fair enough, but .epoch is behaving very strangely. so I'm checking http://www.tondering.dk/claus/cal/calendar29.txt now to see whether the algorithm in Temporal.pm is correct.

[09:45] *** batlock666 joined
[09:49] <pugs_svn> r27913 | azawawi++ | [Cursor] TMP_PREFIX is not applicable in ->parsefile

[09:50] <masak> ok, here's what's bugging me:

[09:50] <masak> line 123 of src/setting/Temporal.pm

[09:51] <masak> both $jd and $.time.second are given a multiplicative factor of 1.

[09:51] <masak> that's a unit error, as far as I can see.

[09:51] *** batlock666 left
[09:53] <masak> (because $jd has a unit of days, and $.time.second has a unit of seconds)

[09:59] *** azawawi joined
[09:59] <azawawi> hi

[09:59] <masak> o/

[10:01] <moritz_> masak: if you want p6eval to print something upon each invocation, for speed reasons it should be in Perl 5

[10:01] <azawawi> masak: so what's new in the world of Perl 6?

[10:01] <masak> moritz_: oh, that's not my goal. :)

[10:01] *** kane_ joined
[10:01] <moritz_> big buzz is going on

[10:01] <masak> azawawi: there's PR abroad!

[10:01] <moritz_> http://use.perl.org/~pmichaud/journal/ read the last two entries

[10:03] <masak> phenny: tell mberends in src/setting/Temporal.pm, line 123-124, $jd and $.time.second have the same multiplicative factor, despite being of different units. this puzzles/concerns me -- what am I missing?

[10:03] <phenny> masak: I'll pass that on when mberends is around.

[10:04] <masak> moritz_: my goal was to make it part of my morning routine to calculate the days remaining till April, using perl6eval. I haven't used Temporal.pm much yet, so I thought it'd be a good way to exercise it.

[10:04] <masak> seems I was right.

[10:05] <pugs_svn> r27914 | azawawi++ | [S:H:P6] Added a MOVED_TO_PADRE sign...

[10:06] <pugs_svn> r27915 | azawawi++ | [S:H:P6] first batch of old code deletion

[10:06] <pugs_svn> r27916 | azawawi++ | [S:H:P6] Second batch of deletions...

[10:07] <pugs_svn> r27917 | azawawi++ | [S:H:P6] Converted sign to UNIX format

[10:10] <moritz_> masak: ok

[10:11] *** Front_slash joined
[10:31] *** fridim_ joined
[10:35] *** arthur-_ joined
[10:43] *** azawawi left
[10:47] *** kane_ left
[10:51] *** cookys joined
[10:56] *** M_o_C joined
[11:16] <masak> http://use.perl.org/~pmichaud/journal/39424 # pmichaud++ for ^100

[11:17] *** Front_slash left
[11:20] *** donaldh left
[11:21] *** donaldh joined
[11:26] *** finanalyst joined
[11:26] <finanalyst> pmichaud: ping hi

[11:27] <finanalyst> @seen pmichaud

[11:27] <lambdabot> pmichaud is in #perl6. I last heard pmichaud speak 6h 42m 10s ago.

[11:48] <colomon> masak: Yeah, that is a sweet, sweet blog post.  Wish I'd had it handy when chatting with a visitor to the channel yesterday...

[11:50] *** daemon joined
[11:50] <masak> I'm not sure anyone could have foreseen the positive reaction pmichaud's lightning talk had on the YAPC crowd. it was electrifying.

[11:51] <masak> I'm sure we'll have lots of "Perl 6.0.0 being released in April?" and "but you told me Perl 6 would be done in April!" in the coming months.

[11:51] <masak> it is inevitable.

[11:52] <masak> but seeing the audience's reaction at YAPC, I suddenly realized that what people have been waiting for is some kind of phase shift, no matter if it's 6.0.0 or not. people want to hear "we've gotten this far, come see how cool it is already".

[11:55] <masak> Rakudo is well worth that kind of attention today. if the #perl6 crowd manage to deliver on the ambitious roadmap that pmichaud has outlined until April -- and previous similar promises tell me that we will -- then Rakudo Star will be beyond awesome.

[12:00] *** whoisthatgoksie left
[12:03] <colomon> I certainly agree that Rakudo is worth attention today, and hope Rakudo Star will be beyond awesome, indeed.

[12:04] <colomon> I must admit, though, that I've had a rough week with my personal Rakudo usage.  I keep on bumping up against huge performance issues and NYIs.

[12:05] <masak> I'm not surprised.

[12:05] <colomon> It makes for a whiplash experience between "This is the coolest language ever!!!!" and "Except this key point isn't implemented yet," or "It's so incredibly slow it's useless!"

[12:05] <masak> Parrot does have huge performance issues.

[12:05] <masak> I'm not steeped enough in Parrot development to be able to say what would be needed to address them.

[12:06] <colomon> I'm about to e-mail pmichaud on that very subject.  :)

[12:06] <masak> as for the NYIs in Rakudo, is there an NYI you think is _not_ slated for April?

[12:06] <colomon> (Once I finish feeding my boy...)

[12:06] <masak> because my feeling is that many of the most bothersome ones will land before then.

[12:06] <colomon> No, I except they will be done then.  But it's frustrating now.

[12:07] <colomon> Don't get me wrong, I still have all the faith in the world in the development team.

[12:08] <masak> colomon: well, if you're not careful I'll start telling you about developing on top of Rakudo last summer. :P take a look at the spectests graph and see how it looked by June 2008.

[12:08] *** marshyon joined
[12:08] <masak> that was the Rakudo we built November on.

[12:08] <colomon> It's just that a week ago I thought it was very nearly ready for use, and this week has put the lie to that.

[12:08] <masak> colomon: understood.

[12:08] <masak> and the feedback is very welcome.

[12:09] <masak> also, I do see the danger in overpromising by saying "awesome! awesome!" and then people will try it and see a sluggish piece of NYI.

[12:09] <colomon> Yeah, that's a bit of what I'm worried about at the moment.

[12:10] <colomon> I started work on a vector class, just to see what I could do.

[12:10] <colomon> And it is soooooo beautiful for simply implementing the basic operations.

[12:10] <colomon> And I can overload dot and cross operators using the actual symbols -- huge win!

[12:11] <masak> aye.

[12:11] <colomon> But then it turns out I can't overload + and then normal Num::+ in the overloaded function.

[12:11] <masak> :/

[12:11] <colomon> known bug, it turns out.

[12:11] <masak> aye.

[12:12] <colomon> It's kind of like being a kid in the most awesome candy shop ever...

[12:12] <colomon> ...only to be told half the candies are poisonous.  :)

[12:12] <masak> :)

[12:14] <masak> well, we do keep a list of poisonous candy. and pmichaud++ and jnthn++ are regularly going over the list and removing the poison from the candy.

[12:14] <masak> even with the more peripheral people helping and fixing bugs, clearly the bottleneck is developer tuits.

[12:15] <masak> so if you want the process to go faster, consider joining. or paying someone to fix Rakudo bugs.

[12:15] <colomon> I've implemented vectors a number of times over the years, and the p6 version is the clear winner, hands down, in ease of implementation and expressiveness.  It's amazing how much the language rocks.

[12:15] <masak> nod.

[12:16] <masak> I also think it's very important to be clear about expectations.

[12:16] <colomon> joining or paying: like I say, I'm e-mail pmichaud.  won't say more than that yet.  :)

[12:17] <colomon> s/e-mail/e-mailing/

[12:17] <masak> the numbers bandied about for comparing Perl 5 against Rakudo in terms of speed are something like 500 to 700, I think.

[12:17] <colomon> I got 5000x in one of my scripts this week.

[12:17] <masak> oh, let's say 5000, then.

[12:18] <masak> I'll call this number the Rakudo Sluggishness Factor.

[12:18] <masak> I think an RSF of 3 would be theoretically possible. and very, very good.

[12:18] <masak> but even an RSF of 20 would be acceptable, at least in the early days.

[12:18] *** Whiteknight joined
[12:19] * moritz_ wants a negative RSF

[12:19] <Su-Shee> yeah, well obviously getting from a parrot to a camel goes by the way of a snake. ;)

[12:19] <Su-Shee> aeh. snail.

[12:19] <pugs_svn> r27918 | azawawi++ | [perl6] Removing obsolete smop_highlight.

[12:19] <masak> "famous Freudian slips" :)

[12:20] <Su-Shee> I do the same with peas and pears :)

[12:20] <colomon> masak: agreed, both with 3 and 20.

[12:21] <pugs_svn> r27919 | azawawi++ | [STD_syntax_highlight] Upgraded to jQuery 1.3.2

[12:23] <masak> phenny: tell mberends non-destructive beauty patch to Temporal.pm: http://gist.github.com/164752 -- I'd apply it myself, but suddenly felt a review wouldn't hurt.

[12:23] <phenny> masak: I'll pass that on when mberends is around.

[12:25] <pugs_svn> r27920 | azawawi++ | [STD_syntax_highlight] Deleted jquery 1.2.6

[12:30] <finanalyst> @seen Matt-W

[12:30] <lambdabot> Matt-W is in #perl6. I last heard Matt-W speak 1d 22h 54m 7s ago.

[12:33] <finanalyst> colomon: rather than + how about 'add'? At least for the time being

[12:35] *** Whiteknight left
[12:35] <colomon> finanalyst: actually, I just found different Unicode math symbols to use as a work around.

[12:35] <carlin> Silly question, how do I create a directory? - "Could not find non-existent sub mkdir"

[12:35] *** cyocum joined
[12:36] <colomon> run "mkdir xxxx" will do it, I believe.

[12:36] <finanalyst> colomon: much better idea

[12:36] <cyocum> hi I have perl 6 grammar question is there anyone about who might have a few minutes?

[12:36] <finanalyst> colomon: will use it on something I am doing!

[12:37] <carlin> colomon: I get "Could not find non-existent sub mkdir"

[12:37] <masak> cyocum: sure.

[12:37] *** Whiteknight joined
[12:37] <colomon> could you actually use "add" as the name of an infix operator?

[12:37] <cyocum> hi masak 

[12:37] <masak> colomon: you can.

[12:37] <colomon> carlin:  No, "run" is the p6 command.

[12:37] <masak> cyocum: oh hai

[12:38] <cyocum> masak: I am writing a very, very simple grammar to parse dice roles a la D&D but I cannot seem to find out what is in the match object that comes back from the parse

[12:38] <colomon> carlin: "run" is the rough equivalent of "system" in p5.

[12:39] <masak> cyocum: ok. `say $/.perl` is a good idea then.

[12:39] <cyocum> masak: ok..one sec

[12:39] <carlin> Ah, so there is no mkdir() method like in p5?

[12:39] <masak> carlin: not yet in Rakudo, anyway.

[12:40] <masak> carlin: both S29 and S32-IO mention a mkdir function.

[12:40] <cyocum> masak: huh...nothing coming out of that...I tried "$/.perl.say" and got "Method 'say' not found for invocant of class ''...is there a place where I can throw up the code?

[12:40] <pugs_svn> r27921 | azawawi++ | [spec_highlight] Copy JQuery to parent directory

[12:40] *** hexmode left
[12:41] <masak> cyocum: try `say $/.perl`

[12:41] <masak> cyocum: gist.github.com

[12:41] <cyocum> masak: cool..tried that and got "undef" so I am doing something stupid somewhere

[12:41] <carlin> masak: Oh I see, thanks

[12:42] <masak> cyocum: s/stupid/unusual/ :)

[12:43] <cyocum> masak: lol...ok I have put it up at http://gist.github.com/164758

[12:44] <masak> cyocum: my $match = DiceParser::TOP("2d6");

[12:44] <masak> this stands out as the unusual part to me.

[12:44] <cyocum> yep...I saw that in an RT IIRC

[12:45] <masak> try `DiceParser.parse('2d6')`

[12:45] <masak> or even `DiceParser.parse('2d6') or die "Could not match"`

[12:45] <cyocum> masak: cool...I tried that from the formal spec but couldn't seem to get it to work..I will give it another try

[12:46] <cyocum> masak: ok..I am farther now!

[12:46] <masak> rakudo: regex foo { foo }; say foo('foo').perl

[12:46] <p6eval> rakudo 5667dc: OUTPUT«Method 'perl' not found for invocant of class 'PGE;Match'␤»

[12:47] * masak submits rakudobug

[12:47] <cyocum> masak: thanks!

[12:47] <masak> np :)

[12:47] <cyocum> masak: follow on question...how to I get stuff out of the match object and do pesudo-useful things with it?

[12:48] <pugs_svn> r27922 | azawawi++ | [spec_highlight] make sure that the output html directory is there

[12:48] <masak> rakudo: grammar G { regex TOP { <foo> }; regex foo { foo } }; G.parse("foo"); say $/<foo>

[12:49] <p6eval> rakudo 5667dc: OUTPUT«foo␤»

[12:49] <masak> cyocum: like that.

[12:49] <cyocum> ah...I thought it worked like a hash

[12:49] <masak> rakudo: grammar G { regex TOP { <foo> }; regex foo { \d+ } }; G.parse('42'); say $/<foo> # probably easier to grok

[12:49] <p6eval> rakudo 5667dc: OUTPUT«42␤»

[12:50] <masak> cyocum: it works as a hash, but also as an array (for numbered captures)

[12:50] <cyocum> masak: ok

[12:50] <masak> I'm sure S05 can explain it better than I, if you're curious for details.

[12:50] <cyocum> masak: yeah...I got lost in all the detail :)

[12:51] <masak> that happens to all of us. :)

[12:51] <masak> you need to attack it repeatedly, and mix reading with experimenting.

[12:51] <cyocum> masak: like learning how to swim in a way...

[12:53] <masak> I don't know, I didn't read any literature in order to learn how to swim :P

[12:53] <cyocum> masak: lol

[12:53] <cyocum> masak: I think I found another bug

[12:53] <masak> \o/

[12:53] <cyocum> masak: well, I forgot the final ; in the line and it still worked

[12:53] <cyocum> I will show you

[12:54] <masak> if it's after a '}', then that's to be expected.

[12:54] <cyocum> no...take a look: http://gist.github.com/164758

[12:54] <masak> the line at the end?

[12:54] <cyocum> yeah

[12:54] <masak> that's OK. not a bug.

[12:54] <cyocum> OH

[12:55] <masak> thanks for playing, though. :)

[12:55] <cyocum> masak: that's...odd behavior

[12:55] <cyocum> masak: lol..thanks

[12:55] <masak> no, Perl 5 works the same.

[12:55] <cyocum> masak: oh...I never noticed that

[12:55] <masak> you can always skip semicolons if they're not used to delimit statements

[12:56] <cyocum> I knew you could do it in map { } @array like statements

[12:56] <cyocum> wait...drunken pm conversation coming back to me now...

[12:57] <cyocum> yeah...you can do that but I learn C/C++ before I learned perl so I tend not to do that

[12:57] <cyocum> *learned

[12:57] <masak> yes, the rules for semicolons are different in the C/C++ group.

[12:59] *** cyocum is now known as cyocum|afk

[13:01] *** cyocum|afk is now known as cyocum

[13:04] *** Chillance joined
[13:04] <cyocum> ok new question

[13:04] *** nErVe joined
[13:04] <cyocum> this might seem rather silly

[13:05] * masak listens

[13:05] <cyocum> but what's the difference between regex, rule, and token in a grammar?

[13:05] <masak> that's a good question, not a silly one.

[13:05] <cyocum> ah

[13:05] <cyocum> :)

[13:05] <masak> I asked it about 10 times before the answer stuck.

[13:05] <masak> basically, when in doubt, use regex.

[13:06] <cyocum> ok

[13:06] <masak> then there are two pieces of behaviour that you can add, something like good defaults.

[13:06] <masak> the first one is what 'token' does, called ratchet behaviour.

[13:07] <masak> http://en.wikipedia.org/wiki/Ratchet_(device)

[13:07] <masak> a ratchet prevents things from going packwards.

[13:07] <masak> s/packwards/backwards/

[13:07] <cyocum> ok...like commit in P::RD?

[13:07] <masak> very possibly.

[13:07] <cyocum> ok

[13:08] <masak> I don't know about that feature, but I find it likely.

[13:08] <cyocum> btw: I am translating a P::RD grammar into P6

[13:08] <masak> cool.

[13:08] <masak> the second default... you know that whitespace is insignificant in Perl 6 regexes, yes?

[13:08] <cyocum> yes

[13:08] <cyocum> like /x

[13:08] <masak> aye.

[13:09] <masak> now, 'rule' takes the 'token' behaviour, and also adds a special kind of whitespace significance.

[13:09] <cyocum> OH

[13:09] <masak> put simply, if you put in whitespace in the rule, whitespace will be allowed there in the match.

[13:10] <masak> or, as with the case with whitespace between two identifiers, it will be required.

[13:10] <cyocum> right...that's why things where getting weird

[13:10] *** jan_ left
[13:10] <masak> and it all works under the hood.

[13:10] <cyocum> ok

[13:10] *** carlin left
[13:13] <cyocum> masak: one further question as this seems to be coming along nicely now...is there some LWP like thing in p6 that I can use?  I know something about Web.pm but I am not sure if that is what I am looking for...

[13:13] *** KyleHa joined
[13:14] *** nErVe left
[13:14] <KyleHa> Good morning #perl6

[13:14] <masak> KyleHa: oh hai

[13:14] <masak> cyocum: so you want to pull down pages from the web, is that correct?

[13:14] <moritz_> cyocum: I think cosimo wrote something LWP::Simple-like

[13:15] <moritz_> http://github.com/cosimo/perl6-lwp-simple/tree

[13:15] <cyocum> masak: well, like that..I want to get content from a URL..HTML is just a side benefit

[13:15] <masak> cyocum: what moritz_ said.

[13:15] <cyocum> @moritz_: Thanks!

[13:15] <lambdabot> Unknown command, try @list

[13:16] <masak> also, I'd say it's not central to Web.pm, but might end up there depending on future decisions.

[13:16] <cyocum> moritz_: thanks!

[13:16] <cyocum> masak: cool

[13:16] <masak> for now, you're on your own for solutions -- but, that said, I'd personally be very interested in what you come up with. so, I believe, will many people here on #perl6.

[13:17] <cyocum> hehe...well, now is the time to write apps for p6 and I had a diceparser/roller lying around so I thought it would be easy enough

[13:17] <moritz_> aye, we are always eager to hear about working Perl 6 code ;-)

[13:17] <cyocum> hehe

[13:19] <masak> cyocum: here's some code to illustrate what I just said about rule:

[13:19] <masak> rakudo: rule foobar { foo bar }; rule foobang { foo \! }; for "foobar", "foo bar", "foo!", "foo !" Z &foobar xx 2, &foobang xx 2 -> $s, &r { say ?($s ~~ &r) }

[13:19] <p6eval> rakudo 5667dc: OUTPUT«0␤1␤1␤1␤»

[13:19] <masak> in short, whitespace is optional when possible, and required when necessary.

[13:19] <cyocum> *nods*

[13:19] <cyocum> *copies code for further study*

[13:22] <moritz_> wow, 459 tickets in the perl6 RT queue

[13:23] <masak> sorry. :/

[13:23] <moritz_> masak: not all your fault ;-)

[13:24] <masak> no, and I'm thankful for that.

[13:24] <masak> people: submit bugs, so it won't all be my fault! :P

[13:24] <cyocum> masak: lol...well, I did try to help :P

[13:25] <masak> cyocum: don't know if you noticed, but you helped drag up a bug. so, thanks for that.

[13:25] <cyocum> masak: np

[13:26] <moritz_> rakudo: my @a = 1..10; say @a.split(2).perl

[13:26] <p6eval> rakudo 5667dc: OUTPUT«["1 ", " 3 4 5 6 7 8 9 10"]␤»

[13:27] <moritz_> rakudo: my @a = 1..10; say @a.split(2).perl; say @a.perl

[13:27] <p6eval> rakudo 5667dc: OUTPUT«["1 ", " 3 4 5 6 7 8 9 10"]␤[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]␤»

[13:27] <missingthepoint> night all :)

[13:27] *** missingthepoint left
[13:27] <moritz_> now I understand why there's a patch to "fix splice" in the queue

[13:29] <moritz_> and we have don't run any splice tests.

[13:37] <KyleHa> If I confirm that the patch fixes the splice tests, should I apply it?

[13:37] <moritz_> I'm already on it

[13:37] <payload> rakudo: my @evens = ($_ * 2 unless $_ % 2 for 0..100); say @evens

[13:38] <p6eval> rakudo 5667dc:  ( no output )

[13:38] <payload> :(

[13:40] <cyocum> rakudo: my @evens = (grep {$_ % 2} for 1..100); say @evens;

[13:40] <p6eval> rakudo 5667dc:  ( no output )

[13:40] <masak> p6eval seems to be having a bad hair day.

[13:40] <cyocum> and I seem to have a bad code day :P

[13:40] <moritz_> it fixes the tests, but not bug I found

[13:41] <KyleHa> rakudo: my @e = grep { $_ % 2 } 1 .. 100; say @e;

[13:41] <p6eval> rakudo 5667dc: OUTPUT«Statement not terminated properly at line 2, near "1 .. 100; "␤in Main (src/gen_setting.pm:3366)␤»

[13:41] <moritz_> comma after }

[13:41] <moritz_> perl5ism--

[13:42] <cyocum> rakudo: my @e = grep { $_ % 2 }, 1..100; say @e;

[13:42] <p6eval> rakudo 5667dc: OUTPUT«13579111315171921232527293133353739414345474951535557596163656769717375777981838587899193959799␤»

[13:42] <moritz_> rakudo: my @e = grep { $_ !% 2 }, 1..100; say @e;

[13:42] <p6eval> rakudo 5667dc: OUTPUT«Statement not terminated properly at line 2, near "!% 2 }, 1."␤in Main (src/gen_setting.pm:3366)␤»

[13:42] <moritz_> !% seems to be NYI

[13:42] <cyocum> what does !% do?

[13:43] <moritz_> negated divisibilty test

[13:43] <cyocum> ok..that's what I thought

[13:44] <KyleHa> But % isn't just a divisibility test.  Is there also !/ and !+, etc?

[13:44] <moritz_> no

[13:45] <M_o_C> KyleHa: You sure? Maybe they replaced modulo % with an infix mod?

[13:46] *** jferrero joined
[13:47] <KyleHa> rakudo: say 17 % 5;

[13:47] <p6eval> rakudo 5667dc: OUTPUT«2␤»

[13:47] <M_o_C> ok...

[13:50] <moritz_> or formulated better, !% *is* the divisbility test, not the negated test

[13:50] <moritz_> % in boolean context is the negated test

[13:52] <masak> KyleHa: % differs from + and / in that it's often used in a boolean context. therefore, it has been made 'iffy' as a special case. see line 3645 of STD.pm for the special case.

[13:52] <cyocum> I think I found another bug...maybe

[13:53] <masak> :)

[13:53] <cyocum> my @e = grep { $_ % 2 }, 1..100; say @e.join(',');

[13:53] <cyocum> rakudo: my @e = grep { $_ % 2 }, 1..100; say @e.join(',');

[13:53] <p6eval> rakudo 5667dc: OUTPUT«1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99␤»

[13:53] <cyocum> ok..maybe not but I tried this on my command line

[13:53] <masak> looks good to me.

[13:53] <masak> cyocum: then you probably ran into problems due to ','

[13:53] <cyocum> ./perl6 -e 'my @e = grep { $_ % 2 }, 1..100; say @e.join(',');' and it didn't work

[13:53] <cyocum> yeah

[13:54] <masak> you can't both have ',' and surround the program with '...'

[13:54] <masak> common pitfall, but certainly not Rakudo's fault. :)

[13:54] <cyocum> ok

[13:54] <masak> that can happen with perl5 too.

[13:54] <cyocum> I have another grammar question as well

[13:54] <masak> shoot.

[13:55] * moritz_ drops dead

[13:55] <cyocum> ok..I have a regex "rule" that has two subrules like so: regex modifier { <plusminus> <digit>+ }

[13:55] <cyocum> it seems that I cannot get the '+' or '-' seperately from the <digit>+

[13:55] <masak> moritz_: you're way too sensitive! no-one did any actual shooting! :)

[13:55] <cyocum> it seems to be all or nothing

[13:55] <cyocum> lol

[13:56] <masak> cyocum: note that you are using 'regex'.

[13:56] <cyocum> true I tired token and rule

[13:56] <cyocum> *tried

[13:56] <masak> cyocum: now, which of 'regex', 'token', 'rule' has the whitespace behaviour we talked about?

[13:56] <cyocum> rule

[13:56] <masak> correct.

[13:57] <masak> let's both try to write a grammar that makes it work with 'rule'.

[13:57] <cyocum> ok

[13:59] <masak> rakudo: grammar G { regex TOP { ^ <modifier> $ }; rule modifier { <plusminus> <digit>+ }; token plusminus { \+ | \- } }; say ?(G.parse("+42")); say ?(G.parse("+ 42"))

[13:59] <p6eval> rakudo 5667dc: OUTPUT«1␤1␤»

[13:59] <masak> there you go.

[14:00] <cyocum> ok...the only things different than mine is the ^ and $ and the \+ \-

[14:00] <masak> the ^ and $ are not strictly necessary, but perhaps just good style.

[14:00] <cyocum> *nods*

[14:01] <masak> I used \+ and \- instead of '+' and '-' to avoid the apostrophe problem on the command line.

[14:01] <masak> (I usually test things on the command line before submitting them to perl6eval)

[14:02] <cyocum> ok..but how do you access the <plusminus> seperately from the <digit>+?  If I do "say $match<modifier><plusminus>" I just get the wholematch

[14:02] <cyocum> *whole match

[14:03] <masak> rakudo: grammar G { regex TOP { ^ <modifier> $ }; rule modifier { <plusminus> <digit>+ }; token plusminus { \+ | \- } }; G.parse("+42") or die; say ~$<modifier><plusminus>

[14:03] <p6eval> rakudo 5667dc: OUTPUT«+␤»

[14:04] <cyocum> huh

[14:04] <masak> worksforme.

[14:04] <cyocum> this is what it looks like now: http://gist.github.com/164758

[14:06] <masak> cyocum: ok, now you've discovered a bug. :)

[14:06] <cyocum> LOL

[14:06] <cyocum> \o/

[14:06] <masak> don't know it it's a new one, but it's definitely a bug.

[14:06] <masak> investigating...

[14:08] *** cyocum is now known as cyocum|afk

[14:09] *** cyocum|afk is now known as cyocum

[14:13] <masak> here's a boiled-down version:

[14:13] <masak> rakudo: grammar G { regex TOP { ^ <foo>? $ }; rule foo { <bar> <digit>+ }; regex bar { \+ | \- } }; G.parse("+2"); say $<foo><bar>; say $/.perl; say $<foo><bar>

[14:13] <p6eval> rakudo 5667dc: OUTPUT«+2␤Match.new(␤ # WARNING: this is not working perl code␤ # and for debugging purposes only␤ ast  => "+2",␤ Str => "+2",␤ from => 0,␤ to   => 2,␤ named => {␤  'foo' => [␤    Match.new(␤      ast  => "+2",␤      Str => "+2",␤      from => 0,␤      to   => 2,␤      named => {␤   

[14:13] <p6eval> ..   '…

[14:13] <masak> aww, it doesn't show the error at the end.

[14:14] <masak> rakudo: grammar G { regex TOP { ^ <foo>? $ }; rule foo { <bar> <digit>+ }; regex bar { \+ | \- } }; G.parse("+2"); say $<foo><bar>; $/.perl; say $<foo><bar>

[14:14] <p6eval> rakudo 5667dc: OUTPUT«+2␤Method 'postcircumfix:{ }' not found for invocant of class 'List'␤»

[14:14] <masak> ergo, .perl is intrusive in some way.

[14:14] <cyocum> huh

[14:14] <cyocum> interesting

[14:14] <masak> cyocum: ah!

[14:15] <masak> rakudo: grammar G { regex TOP { ^ <foo>? $ }; rule foo { <bar> <digit>+ }; regex bar { \+ | \- } }; G.parse("+2"); say $<foo>[0]<bar>; $/.perl; say $<foo>[0]<bar>

[14:15] <p6eval> rakudo 5667dc: OUTPUT«+␤+␤»

[14:15] <masak> cyocum: that's what you should do in your program as well.

[14:15] <cyocum> right

[14:15] <masak> because of the '?'.

[14:15] <cyocum> yes...I see that now

[14:15] <masak> I'm not so sure this is a bug anymore.

[14:15] <cyocum> probably not

[14:16] <masak> it's more like the usual foreign-objects-from-PGE problem.

[14:16] *** marshyon left
[14:17] <cyocum> ok..thanks for the help!

[14:17] * masak bows

[14:17] *** PhatEddy joined
[14:20] <PhatEddy> Array autovivification looks much stronger than before and I am hoping to resolve RT #62948 after adding some tests from it.

[14:21] <PhatEddy>  Anyone interested in looking at the three proposed tests?  Or at least basic versions of them?

[14:21] <KyleHa> Sure!

[14:21] <mikehh> rakudo (5c4b1b8) builds on parrot r40463 make test/make spectest (up to 27922) PASS - Ubuntu 9.04 amd64

[14:21] <masak> mikehh++

[14:21] <PhatEddy> rakudo: my @a; @a[1] = "b"; my $x = + @a.grep({ $_ eq "b"}); say $x

[14:21] <p6eval> rakudo 5667dc: OUTPUT«Use of uninitialized value␤1␤»

[14:22] <PhatEddy> rakudo: my @a; @a[1] = "b"; my @b = ("c", @a); say "@b"

[14:22] <p6eval> rakudo 5667dc: OUTPUT«@b␤»

[14:22] <PhatEddy> rakudo: my @a; @a[1] = "b"; my @b = ("c", @a); say @b

[14:22] <p6eval> rakudo 5667dc: OUTPUT«cUse of uninitialized value␤b␤»

[14:23] <PhatEddy> I think now the two (the first and last) would be enough ...

[14:24] <KyleHa> I think I should look at the ticket.  8-)

[14:24] <PhatEddy> ok - hanging about ...

[14:26] *** cyocum left
[14:26] *** hal9001 joined
[14:26] <KyleHa> The patch actually includes tests.

[14:29] <KyleHa> That makes me wonder why it hasn't been applied...

[14:30] <KyleHa> PhatEddy: Your tests show that the problem is gone, but they're not written as tests the way the rest of the test suite is.

[14:30] *** finanalyst left
[14:31] <PhatEddy> KyleHa - how about the tests in the patch - are they better ?

[14:31] <pmichaud> good morning #perl6

[14:32] <PhatEddy> I  realize the examples I just gave to 'rakudo:' are not ok for test suite ...

[14:32] <masak> morn', pm.

[14:32] <KyleHa> Yes, the tests in the patch look OK.

[14:34] <PhatEddy> btw the last test in the patch (invliving min) may not quite work because of RT #61836 and I wouldn't plan to add that one (at least for array_extending)

[14:35] *** jan_ joined
[14:36] <PhatEddy> rakudo:: my @a; @a[2] = 'b'; my $m = @a.min();

[14:36] <PhatEddy> rakudo: my @a; @a[2] = 'b'; my $m = @a.min();

[14:36] <p6eval> rakudo 5667dc: OUTPUT«Multiple Dispatch: No suitable candidate found for 'cmp', with signature 'PP->I'␤in sub Any::_block648 (src/gen_setting.pm:208)␤called from method Any::min (src/gen_setting.pm:217)␤called from Main (/tmp/aggFEFxfCi:2)␤»

[14:37] <KyleHa> You could add it and fudge it.

[14:39] *** edpratomo joined
[14:41] <PhatEddy> There are already tests for 61836 in S03-operators/misc.t but if you still want it I would add it ...

[14:50] <masak> is there any way I can combine qx with variable interpolation in Rakudo?

[14:51] *** Psyche^ joined
[14:52] * masak finds qqx

[14:52] <masak> never mind. :)

[14:55] *** Front_slash joined
[14:58] *** PhatEddy left
[14:59] <masak> does .=subst return an rvalue? that is, can I chain them?

[15:02] *** Patterner left
[15:02] *** Psyche^ is now known as Patterner

[15:06] *** payload left
[15:10] *** KyleHa left
[15:13] <pmichaud> .=subst _should_ return the object that was modified

[15:14] <masak> hm, given and .=subst interact badly. :/

[15:14] <masak> rakudo: my $s = 'the lazy dog jumped over the foxy star'; given $s { .=subst(/(<[aeiou]>)/, {uc $0}, :g) }; say $s

[15:14] <p6eval> rakudo 5c4b1b: OUTPUT«Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤Use of uninitialized value␤th lzy

[15:14] <p6eval> ..dg jm…

[15:14] <pmichaud> there seems to be something wrong with $/ in given

[15:14] <masak> ah, so that's a known one. I suspected that.

[15:14] *** __ash__ joined
[15:15] *** arnsholt left
[15:16] *** sbp is now known as the

[15:16] *** JimmyZ joined
[15:16] *** the is now known as sbp

[15:18] *** KyleHa joined
[15:20] *** donaldh left
[15:20] *** donaldh joined
[15:24] *** dalek joined
[15:27] <moritz_> hm. Rakudo does not seem "lite" or "light" to me

[15:27] <masak> agreed.

[15:28] <pmichaud> Relative to "Perl 6" it is.  :-)

[15:28] <moritz_> still it's a term that will lead to disappointment

[15:28] <pmichaud> The disappointment is likely to exist no matter what we do.

[15:28] <moritz_> unless somebody makes it *very* fast until April

[15:29] <moritz_> but we can influence the kind of disappointment people will experience ;-)

[15:29] <pmichaud> I'm not sure that we can do or say anything that makes it absolutely clear to everyone that the April release isn't Perl 6.0.0 -- some people are going to be disappointed.

[15:30] <sbp> just call it Perl 6 2.0 Beta

[15:30] <sbp> then people will understand

[15:30] <moritz_> not.

[15:30] <moritz_> 2.0 sounds very mature

[15:30] <pmichaud> yes, we can influence the disappointement people experience -- in some ways "Rakudo light" conveys "not completely there".

[15:30] <pmichaud> or even "not all there, but still useful"

[15:30] <moritz_> anyway, it's a term I could live with

[15:30] <sbp> how about Microperl?

[15:31] <moritz_> rakudo is more than micro ;-)

[15:31] <pmichaud> unfortunately "Rakudo light" also sounds like a weak beer, so ...

[15:31] <moritz_> it's just not "macro" yet ;-)

[15:31] <sbp> 6.0% alcohol by volume?

[15:31] <sbp> doesn't sound weak to me

[15:31] <moritz_> so something inbetween - "Rakudo meso" 

[15:31] * moritz_ chuckles

[15:32] <sbp> Queen Perl Approximately

[15:32] <masak> to me, 'Rakudo Light/Lite' sounds liek one of those dreadful low-fat products that play on people's misconseptions about food.

[15:32] <moritz_> anyway, it'll be better discuss this when we know what the product looks like

[15:32] <Su-Shee> I think one can convey the message of rakudo's level of perl 6 support best with real-world usable code examples featuring what rakudo has to offer.

[15:32] <sbp> I think it's an awesome idea, anyway

[15:32] <sbp> it got a lot of publicity. I heard about it elsewhere before in here!

[15:33] <Su-Shee> optimally within typical usage scenarios like "here, this is for admis, here this for web developers, here this for computer linguists, here something for security people.."

[15:33] <cosimo> rakudo genesis

[15:34] <sbp> I suspect the people who will be disappointed are those who are more likely not to have looked too closely at it anyway. the people who won't feel disappointed are those more likely to be actually using it, perhaps?

[15:34] <cosimo> i like it :)

[15:34] <pmichaud> My wife liked "Rakudo Genesis" also

[15:34] <Su-Shee> which I btw find very difficult to think about wihout ending up in coding xx basic modules.

[15:34] <masak> cosimo: me too. :) maybe for the next phase or so.

[15:34] <sbp> hmm. could name all the releases after books of the Bible

[15:34] <Su-Shee> I like rakudo star because I can pun with rakudo starlet. ;)

[15:35] <pmichaud> "Rakudo Star" does have a nice set of puns and interpretations that can go with it

[15:35] <pmichaud> and that's -Ofun

[15:36] <pmichaud> (books of the bible)  I'm not sure I'd want to promote "Rakudo Exodus"

[15:36] <pmichaud> "Rakudo Psalms" would be interesting, though :-)

[15:36] <sbp> Rakudo Habakkuk might be a mouthful too

[15:37] <sbp> Rakudo Lamentations may be too depressing

[15:37] <Su-Shee> sbp: but pretty funny :)

[15:37] <KyleHa> How 'bout "Rakudo Release"

[15:37] <sbp> KyleHa: too sexual

[15:37] <moritz_> let's just make a Genesis.pm perl mongers group, and have it support Rakudo in some way ;-)

[15:37] <KyleHa> Perl 6 is a sexy language.

[15:38] <sbp> good slogan though

[15:38] <sbp> "Let it all out: with Rakudo Release."

[15:38] <Su-Shee> sounds like Rakudo Relaxed Release. ;)

[15:38] <sbp> "it" ostensibly referring to one's programmatical creativity

[15:38] * moritz_ condemns everybody who argues about the name to write a Perl 6 patch today

[15:39] <Su-Shee> *hihi*

[15:39] <moritz_> does !op has the same precedence as op itself?

[15:39] * masak thinks so

[15:39] <sbp> I would do if I wouldn't be likely to make the software worse... :-)

[15:39] *** JimmyZ left
[15:39] <masak> sbp: writing a patch by itself cannot harm the software.

[15:40] <moritz_> sbp: that's why look at patches before we appy them. So that's not a valid excuse

[15:40] <sbp> hmm, this is a good point

[15:40] <sbp> got suggestions for something easy to do?

[15:40] <sbp> I'm about to go offline too, so make it offline haxable

[15:40] <moritz_> sbp: git is very good for that ;-)

[15:41] <sbp> yeah, I mean, don't suggest anything that needs me to wade through gobs of manuals

[15:42] <KyleHa> Gobs of manuals work well offline also.

[15:42] <sbp> as long as I can get 'em now, sure

[15:42] <sbp> so, any suggestions?

[15:43] <KyleHa> Pick a failing test and make it pass.

[15:43] <sbp> I tried to fix the pi() thing

[15:43] <sbp> but just got very confused

[15:44] <masak> rakudo: for 1,2,3,4,5 -> $a, $? { say $a }

[15:44] <p6eval> rakudo 5c4b1b: OUTPUT«Invalid twigil used in signature parameter. at line 2, near " { say $a "␤in Main (src/gen_setting.pm:1248)␤»

[15:44] <masak> std: for 1,2,3,4,5 -> $a, $? { say $a }

[15:44] <p6eval> std 27922: OUTPUT«ok 00:03 41m␤»

[15:44] * masak submits rakudobug

[15:45] <masak> rakudo: sub foo($a, $?) { say $a }; foo("OH HAI")

[15:45] <masak> std: sub foo($a, $?) { say $a }; foo("OH HAI")

[15:45] <p6eval> rakudo 5c4b1b: OUTPUT«Invalid twigil used in signature parameter. at line 2, near ") { say $a"␤in Main (src/gen_setting.pm:1248)␤»

[15:45] <p6eval> std 27922: OUTPUT«ok 00:04 39m␤»

[15:47] *** nihiliad joined
[16:08] *** sri_kraih left
[16:08] *** bionoid joined
[16:09] *** mberends joined
[16:10] <mberends> ahoy, Destroyer

[16:10] <phenny> mberends: 10:03Z <masak> tell mberends in src/setting/Temporal.pm, line 123-124, $jd and $.time.second have the same multiplicative factor, despite being of different units. this puzzles/concerns me -- what am I missing?

[16:10] <phenny> mberends: 12:23Z <masak> tell mberends non-destructive beauty patch to Temporal.pm: http://gist.github.com/164752 -- I'd apply it myself, but suddenly felt a review wouldn't hurt.

[16:10] <masak> mberends: oh hai. left some messages for you. :)

[16:10] <mberends> masak: you're missing valid code from me ;)

[16:11] <mberends> all epoch values should be seconds, including fractional part, and .epoch returns days :/

[16:11] <masak> that explanation just made me more confused. :/

[16:12] <masak> couldn't you just fix it and say "it should be like this"? :P

[16:12] <moritz_> "it's wrong" is the version, no?

[16:12] <mberends> like moritz_ said

[16:13] <mberends> I'll fix it during commute this evening :)

[16:13] <masak> thank you.

[16:14] <masak> I'll add, in the atmosphere of general grumpiness, that I don't like the fact that S32-Temporal contains a lot of implementation code.

[16:14] <masak> there should be better ways of specifying it that don't tie implementations down to particular lines of code.

[16:14] <mberends> *nod

[16:15] <masak> if I find the tuits, I might beat S32-Temporal into the shape I'd prefer.

[16:15] <masak> also, did p6l ever discuss a Temporal::Interval?

[16:15] <pmichaud> masak++ wields his +4 Sledgehammer of Software Reshaping again...

[16:16] <mberends> of course that would be very nice. and Interval would be a cool addition

[16:16] <moritz_> ENOTENOUGHBIKESHEDDING?

[16:16] <masak> I agree that we all agree too much.

[16:16] <moritz_> can't argue about that ;)

[16:17] <pugs_svn> r27923 | kyle++ | [t/spec] apply patch from (Ronald Schmidt)++ for RT #62948

[16:17] <masak> with Interval in the mix, one could define C<Time - Time>, C<Time + Interval> and C<Time - Interval>.

[16:18] <mberends> could that do multi dispatch on just the return type, eg seconds, days, ...

[16:18] <__ash__> is there a specific syntax for calling a role's method indirectly? i know with a class there is a whole bunch of ways of doing it (in S12-methods/indirect.t) and those seem fine, but they don't work with a role

[16:19] <moritz_> __ash__: after composition, a method from a role and from a class should be indistinguishable

[16:19] <moritz_> rakudo: role B { method foo { say "YaY" } }; class A does B { }; A.new."foo"

[16:20] <p6eval> rakudo 5c4b1b:  ( no output )

[16:20] <moritz_> it works locally here

[16:20] <moritz_> I wonder what's wrong with p6eval 

[16:21] <masak> mberends: not sure I understood that.

[16:21] <__ash__> mortiz_: but if you say override a method from the role you loose the ability to call it (see http://gist.github.com/164492 ), thats the reason i want to call it explicitly, it works with classes but not with roles

[16:21] <masak> mberends: ok, so what about the patch? :)

[16:22] <moritz_> __ash__: uhm, Logger2::log self, $msg; is a sub call, not a method call

[16:22] <__ash__> lines 20-23 of that gist were the only way I could come up with calling a roles method explicitly

[16:22] <moritz_> rakudo: role B { method foo { say "YaY" } }; class A does B { method foo { say "Oh NOEZ" } }; A.new.B::foo()

[16:22] <p6eval> rakudo 5c4b1b: OUTPUT«Method 'B::foo' not found for invocant of class 'A'␤»

[16:23] <__ash__> mortiz_: in the spec your suppose to do (within  a method) self.RoleName::methodname but its not working in rakudo, according the test spec, thats why i was kinda looking for a work around for now

[16:24] <mberends> masak: gist lines 20-23 looks as if you're only adding a few spaces

[16:24] <moritz_> rakudo: role B { method foo { say "YaY" } }; class A does B { method foo { say "Oh NOEZ" } }; say A.WALK(:name<foo>).join(', ')

[16:24] <p6eval> rakudo 5c4b1b: OUTPUT«foo␤»

[16:24] <moritz_> __ash__: s/mortiz/moritz/ ;-)

[16:25] <masak> mberends: yes, it's not an important change. I just made the <=> operators line up.

[16:25] <masak> same with 32-33.

[16:25] <moritz_> __ash__: maybe there's some way to do it with WALK - I'm not sure though

[16:26] <__ash__> moritz_: one work around I did before was call .^methods then look for the one I wanted in the list

[16:26] <mberends> masak: gist line 43 adds the seconds-within-day to the day, I don't remember the spec for that but the code makes sense (is there a fractional second part included?)

[16:27] <__ash__> maybe i'll wait for someone to implement self.Role::meth :P 

[16:27] <moritz_> __ash__: or do it yourself ;-)

[16:27] <moritz_> impatience++

[16:28] <masak> mberends: let me try and see if I understood you by repeating back what you just said.

[16:28] <__ash__> moritz_: lol, well considering i started playing with parrot like a week ago, sure thing, but i probably won't see anything productive for like a month while i figure some of this stuff out

[16:28] <mberends> nononono

[16:28] <moritz_> __ash__: having a concrete goal in mind often helps, IMHO

[16:28] <masak> mberends: the .epoch method on Temporal::Time should return an integral number in the unit of days.

[16:29] <mberends> nono

[16:29] <masak> :)

[16:29] <KyleHa> I seem to have b0rked my 'git-svn' working directory.

[16:29] <moritz_> KyleHa: git checkout .; git reset --hard HEAD # gets rid of all local changes

[16:29] <masak> mberends: it was so much easier to talk to you face-to-face. :P

[16:29] <moritz_> warning: possiblity of data loss :)

[16:29] <mberends> .epoch should return in the unit of seconds

[16:30] <masak> ok. good.

[16:30] <masak> I'll continue:

[16:30] <masak> $jd is in the unit of days.

[16:30] <__ash__> moritz_: is there a way for a method to say what its bound too?

[16:31] <__ash__> if anything

[16:31] <masak> therefore, there is a conversion factor between $jd and what .epoch should return, of 86400.

[16:31] <mberends> therefore it also needs ($jd -2440588) * 24 * 3600, and then your patch

[16:31] <moritz_> __ash__: not sure... maybe you can get the invocant type by introspecting the signature

[16:31] <masak> mberends: I can apply both, right away.

[16:31] <mberends> yesyes

[16:32] <masak> so multiply by 24*60*60, and then subtract the magical number, yes?

[16:32] <mberends> ok

[16:32] <__ash__> rakudo: class A { method foo { ... }}; say &A::foo.signature;

[16:32] <mberends> no

[16:32] <p6eval> rakudo 5c4b1b: OUTPUT«Signature()<0xb66bc0d8>␤»

[16:32] <masak> no?

[16:32] <mberends> masak: parens first

[16:32] <masak> mberends: ($jd - 2440588) * 24 * 60 * 60

[16:33] <mberends> ok

[16:33] * masak patches

[16:33] <mberends> what does that say about the spectests? :P

[16:36] *** beggars joined
[16:36] <masak> same as always, I'd guess: that despite fantastic efforts from many people, we have too few of them.

[16:37] <mberends> 100%

[16:37] <moritz_> and in this case we had only tests from the implementor

[16:37] <moritz_> which is better than no tests, but still suboptimal

[16:37] <mberends> that's always a bad idea

[16:38] <masak> "the implementation conforms to my biased view of it" :)

[16:38] <mberends> :)

[16:38] <mberends> so, I can write some more tests then?

[16:39] <dalek> rakudo: 212b145 | masak++ | src/setting/Temporal.pm:

[16:39] <dalek> rakudo: [Temporal.pm] fixed formula in epoch

[16:39] <dalek> rakudo: Also, made a few whitespace changes (to align operators, mostly), and

[16:39] <dalek> rakudo: changed the names of a few local variables to make parameter passing

[16:39] <dalek> rakudo: prettier.

[16:39] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/212b145577735b133a43b34fff706faa27435c5b

[16:39] <__ash__> moritz_: maybe an easier place for me to start is adding 'is Class;' to the inside of a class definition... I noticed that doesn't work, 'does Role;' works however maybe that will help me understand how parrot's working better

[16:39] <moritz_> sadly sometimes I don't understand the specs until somebody implements them

[16:39] <masak> mberends: you have my official permission.

[16:40] <moritz_> dalek: welcome back

[16:40] <mberends> keep the supply of forgiveness handy ;)

[16:40] <pugs_svn> r27924 | moritz++ | [t/spec] unfuduge infix:<!%> tests for rakudo

[16:40] <pugs_svn> r27925 | moritz++ | [t/spec] tests for RT #67976

[16:40] *** xomas_ joined
[16:43] <KyleHa> moritz++ # sharing the git-fu

[16:44] <masak> rakudo: ((Temporal::DateTime.new(date => Temporal::Date.new(:year(2010), :month(4)), time => Temporal::Time.new()).epoch - Time.gmtime.epoch) / 86400).ceiling.fmt("%d days left until April!").say

[16:44] <p6eval> rakudo 5c4b1b: OUTPUT«0 days left until April!␤»

[16:44] <masak> ok, my patch hasn't gone in yet.

[16:44] <masak> it's really 235 days.

[16:44] <dalek> rakudo: 5517d80 | moritz++ | src/ (2 files):

[16:44] <dalek> rakudo: implement infix:<!%>

[16:44] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/5517d80af7f4b5eabae9cbcd90615f68cd2da09e

[16:44] <dalek> rakudo: 75d2b7d | moritz++ | src/setting/Any-list.pm:

[16:44] <dalek> rakudo: simplify List.kv

[16:44] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/75d2b7d2d6e4208bd652d047c23ff826e8bc51b4

[16:44] <dalek> rakudo: 7d06fad | dakkar++ | src/ (2 files):

[16:44] <dalek> rakudo: moved kv to setting

[16:44] <dalek> rakudo: Signed-off-by: Moritz Lenz [email@hidden.address]
[16:45] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/7d06fad1bb6ed24f3f6cb4ed459daacddd6cfb61

[16:45] <pmichaud> moritz++  # applying dakkar++'s patches

[16:49] *** pmurias_ joined
[16:50] <pmurias_> how large is the git-svn clone of the entrie pugs history?

[16:50] <moritz_> for just the 't/' sub dir the corresponding .git dir is 15M

[16:51] <moritz_> never tried the whole thing

[16:51] <moritz_> maybe KyleHa++ can share his, he has a clone, I just don't know if it contains the full history

[16:52] <KyleHa> Mine's 203M.

[16:52] <moritz_> KyleHa: could you delte the *.rakudo files, tar it and upload it somewhere?

[16:53] <moritz_> *delete*

[16:54] <KyleHa> Okeydoke.

[16:54] <moritz_> (the problem with git-push'ing is that it doesn't preserve the svn meta data, thus making it harder to svn-dcommit)

[16:55] <KyleHa> I don't know how git-svn does authentication.  If someone does a dcommit from this, I wonder if it would commit as me.

[16:55] <moritz_> KyleHa: the crecendials should be stored in .subversion/auth, not in the .git/*

[16:56] <KyleHa> Oh good.

[16:57] *** fridim_ left
[16:58] <KyleHa> Hmm.  Where can I drop 91M?

[16:59] <pmurias_> moritz_: so what is the prefered way of getting the pugs repo into git-svn?

[16:59] <moritz_> do you have an account on feather?

[17:00] <pmurias_> yes

[17:00] <moritz_> pmurias_: obtaining a copy from KyleHa++ ;-)

[17:00] <moritz_> that question was meant for KyleHa ;)

[17:00] <KyleHa> Here ya go:  http://71.194.15.106/pugs.tar.bz2

[17:00] * moritz_ downloads

[17:01] <masak> seems at one time we had a Temporal::Duration, but it was removed on Feb 19 by autarch.

[17:02] <pmichaud> I haven't had this much fun writing blog posts and articles in years.  :-)

[17:02] <masak> pmichaud++

[17:03] <moritz_> and I had much fun reading them

[17:03] <moritz_> KyleHa: is that your home computer? if yes I wish I had as much upstream bandwidth as you have ;-)

[17:03] <KyleHa> Yes, it's my home computer.

[17:03] <moritz_> wow

[17:04] <pmichaud> latest muse:  http://use.perl.org/comments.pl?sid=43556&cid=69932

[17:04] <pmichaud> (and I'm generally rejecting "Rakudo Light" for now, fwiw)

[17:05] <KyleHa> I'm too lazy to figure out how to get it up on the corp computers with a real connection.

[17:05] <moritz_> I'm putting a copy up on feather now

[17:06] <KyleHa> I've seen that name floating around.  What is feather?

[17:06] <pmichaud> KyleHa: feather.perl6.nl is a server for general Perl 6 development

[17:06] <pmurias_> run by Juerd++

[17:07] <pmurias_> with accounts avalible for all interested in perl 6 development

[17:07] <KyleHa> What do folks do with it (more specifically than "general Perl 6 development")?

[17:07] <pmichaud> KyleHa: it hosts the pugs subversion repository, and perl6-projects.org

[17:07] <moritz_> KyleHa: perl6-projects.org and pugscode.org are hosted on it...

[17:07] <pmichaud> many of us use it as our permanent irc presence

[17:08] <moritz_> also the bot 'dalek' runs on it, people have there screen+irssi sessions running on it

[17:09] <KyleHa> That explains it; thanks all.  8-)

[17:09] <cognominal> thx, pmichaud, for the <! before ...> answer

[17:09] <pmichaud> cognominal: you're welcome.

[17:10] <masak> food &

[17:10] *** abra left
[17:11] *** masak left
[17:12] <pugs_svn> r27926 | azawawi++ | [spec_highlight] Copy resources as needed

[17:13] *** Khisanth joined
[17:14] <__ash__> moritz_: if i make any progress on explicitly calling a function like self.Class.method is anyone else working on that right now? 

[17:15] <moritz_> __ash__: no idea

[17:15] <pugs_svn> r27927 | azawawi++ | [perl6] preparing to move std highlighter stuff into a sub directory

[17:15] <__ash__> eh, well if i get anything useful out of it i'll let you know, anyway, i gotta run, cya

[17:16] <moritz_> ciao

[17:16] *** __ash__ left
[17:18] <pugs_svn> r27928 | azawawi++ | [std_hilite] moved all STD highlighter stuff under src/perl6/std_hilite

[17:21] *** frew joined
[17:22] *** zamolxes joined
[17:22] <pugs_svn> r27929 | azawawi++ | [std_hilite] fixed relative path after move

[17:23] *** mikehh_ joined
[17:28] <pmurias_> Whiteknight: what was the problem with using boehm with parrot?

[17:29] *** Su-Shee_ joined
[17:31] *** Su-Shee left
[17:32] *** KyleHa left
[17:33] *** Su-Shee_ is now known as Su-Shee

[17:37] <pugs_svn> r27930 | azawawi++ | [std_hilite] made it work

[17:38] <moritz_> the git-svn copy of pugs can now be found at http://pugscode.org/files/pugs.tar.bz2

[17:38] <pugs_svn> r27931 | azawawi++ | [std_hilite] ignore temporary stuff

[17:39] *** mikehh left
[17:41] <pmurias_> moritz_: wouldn't it be smaller if it only contained to .git?

[17:43] <moritz_> pmurias_: it would

[17:45] <Whiteknight> pmurias_: no particular problem that I was aware of. Some issues needed to be resolved involving PMC destructors and ensuring that they are called correctly

[17:45] <Whiteknight> but not insurmountable

[17:47] <pmurias_> Whiteknight: destructors in a cycle seem problematic judging from the bohem docs

[17:47] <pmurias_> Whiteknight: i'm thinking of using a gc for smop and i think using a premade things would be better then writing a half-baked implementation myself

[17:48] <Whiteknight> ok

[17:48] <Whiteknight> I haven't had the time to really dig into Boehm yet

[17:48] <Whiteknight> so I don't know all the details

[17:48] *** netsquire joined
[17:48] <pmurias_> any alternatives you know of?

[17:49] <Whiteknight> none that should be so transparently pluggable, no

[17:49] <Whiteknight> I could look around for you

[17:49] *** kane_ joined
[17:49] <Whiteknight> anyway I have to sign off, I'll talk to you ltaer

[17:49] <Whiteknight> later*

[17:50] <pugs_svn> r27932 | azawawi++ | [std_hilite] fixed destination path

[17:50] *** Whiteknight left
[17:55] *** tomaw_ is now known as tomaw-

[17:58] *** frew left
[18:03] *** tann joined
[18:24] *** itz_ left
[18:27] <colomon> I just built Chicago on my 64-bit Linux machine.  t/spec/S03-operators/autoincrement-range.rakudo failed in the spec tests.  Is this expected?

[18:28] <colomon> "Bad plan.  You planned 96 tests but ran 33."

[18:30] *** netsquire left
[18:31] *** daemon left
[18:32] *** mberends left
[18:40] <moritz_> colomon: I don't think so, but I recommend updating to the latest developer version ;-)

[18:46] *** __ash__ joined
[18:48] <pugs_svn> r27933 | azawawi++ | [std_hilite] cleanup lex

[18:56] *** KyleHa joined
[19:00] *** payload joined
[19:00] <colomon> moritz_: I already did!  Just realized I did a git clone of today's repo instead of grabbing the Chicago version.

[19:01] <colomon> I'm off to the movies now... 

[19:06] *** arnsholt joined
[19:08] *** Front_slash left
[19:15] *** thei0s joined
[19:15] *** thei0s left
[19:18] *** Whiteknight joined
[19:20] *** donaldh left
[19:20] *** donaldh joined
[19:32] <pugs_svn> r27934 | azawawi++ | [std_hilite] try to make it work for now

[19:34] <moritz_> somebody on #perlde pointed out that there was no license information on rakudo.org

[19:34] <moritz_> any idea to which section I should add it?

[19:41] <pmichaud> Documentation would be my guess for now.

[19:41] <pmichaud> std:  :foo\ ("bar")

[19:41] <p6eval> std 27934: OUTPUT«ok 00:04 37m␤»

[19:51] <moritz_> rakudo: say 'foo' ~ /<+[a..z]-[f]>+/

[19:51] <p6eval> rakudo 5517d8: OUTPUT«foo_block51␤»

[19:51] <moritz_> rakudo: say 'foo' ~~ /<+[a..z]-[f]>+/

[19:51] <p6eval> rakudo 5517d8: OUTPUT«oo␤»

[19:53] *** iblechbot joined
[19:56] <moritz_> rakudo: say 'foo' ~~ /<+alpha-[f]>+/

[19:56] <p6eval> rakudo 5517d8: OUTPUT«oo␤»

[19:57] *** lionWrk joined
[20:07] *** LionMadeOfLions left
[20:08] *** rfordinal left
[20:09] *** rfordinal joined
[20:11] *** damyan^ joined
[20:11] *** damyan left
[20:12] *** pmurias_ left
[20:13] *** xomas_ left
[20:14] *** xomas_ joined
[20:16] *** iblechbot left
[20:17] *** KyleHa left
[20:20] *** rfordinal3643 joined
[20:20] *** rfordinal left
[20:34] <dalek> rakudo: 61f269d | pmichaud++ | docs/ROADMAP:

[20:34] <dalek> rakudo: First ROADMAP update for Rakudo Star.

[20:34] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/61f269d93bf8f3f7c65954c9fc1c6caf15905f19

[20:45] *** smash joined
[20:52] *** nErVe joined
[20:56] *** Whiteknight left
[20:58] *** edpratomo left
[20:59] *** masak joined
[20:59] <masak> evening, perl6ers.

[20:59] <moritz_> oh hai

[21:00] <masak> rakudo: my $x = bar => [ baz => 42, sloth => 43 ]; my $y = :bar[ baz => 42, sloth => 43 ]; say .kv.perl for $x, $y

[21:00] <p6eval> rakudo 61f269: OUTPUT«["bar", ["baz" => 42, "sloth" => 43]]␤["bar", "baz" => 42, "sloth" => 43]␤»

[21:00] <masak> is this a bug? if so, is it new?

[21:04] <moritz_> .kv changed recently

[21:04] <moritz_> today, that is

[21:04] *** hal9001 left
[21:04] <masak> it got ported into the setting, no?

[21:04] <moritz_> yes

[21:05] <moritz_> so it seems to pick up the one from Any-list.pm

[21:05] <moritz_> and not the one from Pair

[21:05] <masak> but surely the spectests would've caught this...

[21:06] <moritz_> t/spec/S32-array/kv.t still passes.

[21:07] <masak> then it has too few tests.

[21:07] *** nErVe left
[21:07] <moritz_> rakudo: my $p = foo => 'bar'; say $p.keys

[21:07] <p6eval> rakudo 61f269: OUTPUT«0␤»

[21:07] <masak> o_O

[21:07] <moritz_> rakudo: my $p = foo => 'bar'; say $p.key

[21:07] <p6eval> rakudo 61f269: OUTPUT«foo␤»

[21:07] <moritz_> uhm.

[21:08] <moritz_> masak: do you agree that Pair.keys should return the same as Pair.key?

[21:08] <masak> yes, but possibly in a List.

[21:08] <moritz_> rakudo: my $x = bar => [ baz => 42, sloth => 43 ]; my $y = :bar[ baz => 42, sloth => 43 ]; say .kv.elems for $x, $y

[21:08] <p6eval> rakudo 61f269: OUTPUT«2␤3␤»

[21:09] <moritz_> rakudo: my $x = bar => [ baz => 42, sloth => 43 ]; my $y = :bar[ baz => 42, sloth => 43 ]; say .perl for $x, $y

[21:09] <p6eval> rakudo 61f269: OUTPUT«"bar" => ["baz" => 42, "sloth" => 43]␤"bar" => ["baz" => 42, "sloth" => 43]␤»

[21:09] <moritz_> so they are different under the hood, but return the same .perl output?

[21:09] <moritz_> rakudo: my $x = bar => [ baz => 42, sloth => 43 ]; my $y = :bar[ baz => 42, sloth => 43 ]; say $x eqv $y

[21:09] <p6eval> rakudo 61f269: OUTPUT«1␤»

[21:11] <moritz_> rakudo: my $x = bar => [ baz => 42, sloth => 43 ]; my $y = :bar[ baz => 42, sloth => 43 ]; .WHAT.say for $x, $y

[21:11] <p6eval> rakudo 61f269: OUTPUT«Pair()␤Pair()␤»

[21:12] <moritz_> rakudo: my $x = bar => [ baz => 42, sloth => 43 ]; my $y = :bar[ baz => 42, sloth => 43 ]; say kv($_).perl for $x, $y

[21:12] <p6eval> rakudo 61f269: OUTPUT«[0, "bar" => ["baz" => 42, "sloth" => 43]]␤[0, "bar" => ["baz" => 42, "sloth" => 43]]␤»

[21:12] <moritz_> rakudo: my $x = bar => [ baz => 42, sloth => 43 ]; my $y = :bar[ baz => 42, sloth => 43 ]; .PARROT.say for $x, $y

[21:12] <p6eval> rakudo 61f269: OUTPUT«Perl6Pair␤Perl6Pair␤»

[21:13] *** Su-Shee left
[21:22] <moritz_> hm, calling @.values seemed to be not my brightest idea

[21:24] <masak> moritz_: I'll submit the bug if you add the test. :)

[21:24] <moritz_> masak: ok; I've turned it into 8 tests already

[21:24] <masak> :)

[21:25] <moritz_> but I try to get more of them passing before submitting them

[21:25] <masak> hm, isn't the idea that they should fail?

[21:25] *** molaf left
[21:25] <moritz_> no; the idea is to fix rakudo so that they pass ;-)

[21:26] <moritz_> masak: have you got a bug number for me already?

[21:26] <masak> soon.

[21:26] *** mike joined
[21:26] *** mike is now known as Guest52299

[21:26] <Guest52299> perl6: say 4;

[21:26] <p6eval> elf 27934, pugs, rakudo 61f269: OUTPUT«4␤»

[21:27] <moritz_> masak: somehow I suspect it's a dispatching bugs wrt colon pairs

[21:27] <Guest52299> perl6: say "test"

[21:27] <p6eval> elf 27934, pugs, rakudo 61f269: OUTPUT«test␤»

[21:28] <moritz_> rakudo: multi a(*@b) { 'slurpy' }; multi a(Pair $x) { 'Pair' }; my $x = :a; my $y = a => True; say a($x); say a($y)

[21:28] <p6eval> rakudo 61f269: OUTPUT«Pair␤Pair␤»

[21:28] <moritz_> not that easy, it seems :/

[21:30] <Guest52299> perl6: my $c = { state $n; return ++$n; }; say $c(); say $c();

[21:30] <p6eval> elf 27934: OUTPUT«Unknown rule: scope_declarator:state␤It needs to be added to ast_handlers.␤ at ./elf_h line 2850␤»

[21:30] <p6eval> ..pugs:  ( no output )

[21:30] <p6eval> ..rakudo 61f269: OUTPUT«Can't return outside a routine␤in Main (/tmp/ZiThTezyPq:2)␤»

[21:30] <moritz_> Guest52299: try it without the 'return', simply ++$n;

[21:31] <Guest52299> thanks.

[21:31] <Guest52299> perl6: my $c = { state $n; ++$n; }; say $c(); say $c();

[21:31] <p6eval> pugs, rakudo 61f269: OUTPUT«1␤2␤»

[21:31] <p6eval> ..elf 27934: OUTPUT«Unknown rule: scope_declarator:state␤It needs to be added to ast_handlers.␤ at ./elf_h line 2850␤»

[21:31] <Guest52299> It seems that state is yet to be implemented.

[21:31] <moritz_> why?

[21:31] <masak> http://rt.perl.org/rt3/Ticket/Display.html?id=68356

[21:31] <moritz_> pugs and rakudo both give the same, correct result

[21:32] <masak> Guest52299: jnthn implemented state several months ago.

[21:32] <masak> jnthn++, I mean. :)

[21:32] <pugs_svn> r27935 | moritz++ | [t/spec] tests for .kv on Pair objects, RT #68356

[21:32] <Guest52299> :-)

[21:32] <moritz_> just elf is lagging behind

[21:32] <Guest52299> I'll install perl6 locally and stop spamming perl6: here.

[21:33] <moritz_> Guest52299: http://rakudo.org/how-to-get-rakudo

[21:33] <pugs_svn> r27936 | mberends++ | add a more robust test for DateTime.epoch(), using the current date/time

[21:34] *** mberends joined
[21:36] <Guest52299> Thanks, mortitz.

[21:36] <Guest52299> s/rt/r/

[21:39] <masak> mberends++ # new test looks good

[21:39] <mberends> :) thanks for showing the need :)

[21:40] <moritz_> masak: are you "blocking" on the .kv bug?

[21:40] <masak> moritz_: sorta.

[21:40] <masak> new finds: S02 still refers to C<Instant> and C<Duration>, even though the former was renamed C<DateTime> and the latter removed.

[21:42] <moritz_> masak: I can't find any easy solution for now. I'm thinking about reverting the kv move

[21:42] <moritz_> at least for now

[21:42] <masak> moritz_: are you sure that's what caused it?

[21:43] <moritz_> masak: I'll try it with reversal, and if it fixes it, I'll push

[21:43] <masak> moritz_: sounds good.

[21:45] * moritz_ wants ins2 merged

[21:45] * moritz_ wants it rather badly

[21:45] <moritz_> recompiling the setting takes too long

[21:45] <moritz_> when ins2 is landed, I can try to compile the .pm files separately

[21:46] <moritz_> so that it can be parallelized

[21:47] <moritz_> masak: reverting the moving doesn't change anything about those failing tests

[21:48] <cognominal> I have posted from google group to p6l but it did not made thru the moderators : The specs both have a role Cat and a mammal Cat, My understanding is that anc class live in the same namespace so that would be a problem

[21:48] <masak> moritz_: ok. no worries.

[21:48] <moritz_> masak: do you know a last "good" revision so that I might start a bisect?

[21:49] <masak> moritz_: as far as I know, it's never been right.

[21:49] <masak> s/it's/it might/

[21:49] <moritz_> masak: then it might be a bug with :foo[...] syntax

[21:50] <moritz_> rakudo: for :foo[3, 4].<foo> { .say } 

[21:50] <p6eval> rakudo 61f269: OUTPUT«Method 'postcircumfix:{ }' not found for invocant of class 'Perl6Pair'␤»

[21:50] <masak> aye.

[21:50] <moritz_> rakudo: for %(:foo[3, 4]).<foo> { .say } 

[21:50] <p6eval> rakudo 61f269: OUTPUT«34␤»

[21:50] <moritz_> rakudo: for %(foo => [3, 4]).<foo> { .say } 

[21:50] <p6eval> rakudo 61f269: OUTPUT«34␤»

[21:52] <moritz_> rakudo: for :foo[3, 4].value { .say } 

[21:52] <p6eval> rakudo 61f269: OUTPUT«3␤4␤»

[21:52] <moritz_> rakudo: for (foo => [3, 4]).value { .say } 

[21:52] <masak> rakudo: my($a) = 5; say 'alive'

[21:52] <p6eval> rakudo 61f269: OUTPUT«34␤»

[21:52] <p6eval> rakudo 61f269: OUTPUT«alive␤»

[21:52] * masak submits rakudobug

[21:54] <masak> std: my($a) = 5; say 'alive'

[21:54] <p6eval> std 27936: OUTPUT«Potential difficulties:␤  Variable $a is not predeclared at /tmp/Z0pfKPhMkf line 1:␤------> [32mmy($a[33m⏏[31m) = 5; say 'alive'[0m␤Undeclared routine:␤   my used at 1 ␤ok 00:02 38m␤»

[21:55] <moritz_> rakudo: say :foo[3, 4].value.PARROT

[21:55] <p6eval> rakudo 61f269: OUTPUT«Perl6Array␤»

[21:55] <moritz_> rakudo: say (foo => [3, 4]).value.PARROT

[21:56] <p6eval> rakudo 61f269: OUTPUT«Perl6Array␤»

[22:05] <masak> g'night, folks.

[22:05] *** masak left
[22:12] <dalek> rakudo: 7dd4463 | pmichaud++ | src/parser/ (2 files):

[22:12] <dalek> rakudo: (STD tracking) <...>  and <<...>> are now circumfix: instead of quote:

[22:12] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/7dd4463f4c48da9befe3d5ddc2c8e9c5e1a6ba71

[22:13] <pmichaud> the problem with :foo[3,4] is a bug in parsing colonpairs

[22:13] <pmichaud> I worked on it over the weekend (on the plane) but it's sufficiently tricky that I've been stuck on it most oft he day

[22:14] <moritz_> good to know

[22:15] <moritz_> pmichaud: what does 'mob' stand for? (in the PGE source code)

[22:15] <pmichaud> "match object"

[22:16] <moritz_> ah, so easy... ;-)

[22:16] <frettled> heh :)

[22:17] *** whoisthatgoksie joined
[22:17] * moritz_ just found the dbdi-dev maling list

[22:17] <frettled> I've forgot something again: multi-line comments, what was the conclusion (if there was one) to that?

[22:17] *** __ash__ left
[22:17] <pmichaud> frettled: you mean   #( ... ) ?

[22:17] <pmichaud> frettled: or do you mean   =begin ... =end ?

[22:18] <frettled> pmichaud: yes

[22:18] *** __ash__ joined
[22:18] <pmichaud> there was discussion in lisbon that we might get rid of the curly  brace form, though , so that #{ ...     would be a line comment

[22:19] *** __ash__ left
[22:20] *** __ash__ joined
[22:20] *** __ash__ left
[22:20] *** __ash__ joined
[22:21] <frettled> pmichaud: ah, yes, on the form:   foocode bleh blurgh #{ oh, the humanity } barcode fnord?

[22:24] *** __ash__ left
[22:24] <whoisthatgoksie> '   '

[22:25] <mberends> frettled: #{ will work just like # if it is the first text on the line

[22:25] <frettled> mberends: Aha.  I remember that we had a semi-lively discussion regarding this during the NPW Hackathon.

[22:25] <pmichaud> Correct.

[22:26] <frettled> But I'd completely forgotten the conclusion, if there was one.

[22:26] <pmichaud> It continued into Lisbon :-)

[22:26] <frettled> :)

[22:26] <pmichaud> the conclusion at NPW was not to change anything (yet)

[22:26] <pmichaud> at Lisbon the conclusion was "maybe change something"

[22:26] <frettled> mm.

[22:26] <pmichaud> we were also discussing the merits of a #=  form of comment

[22:26] <frettled> I don't recall which POV I advocated at NPW.

[22:27] <frettled> ISTR that it may have been something about not using a syntax that would accidentally change a uncommented piece of code block into a run-away multi-line comment.

[22:28] <frettled> That #{ works just like # if it's the first text on the line would work nicely in that regard, although it breaks the semantics of the idea that it should close on the first }.  It's a tough one to crack.

[22:28] <pmichaud> that's why we're thinking of disallowing  #{...} altogether

[22:28] <pmichaud> i.e.,  #{...} would never be a comment.

[22:28] <frettled> yep.

[22:28] <pmichaud> well, it'd be a line comment -- it would never be an embedded comment

[22:29] <frettled> . o O ( A loop() comment? What would that look like? )

[22:35] *** __ash__ joined
[22:36] <dalek> rakudo: f489207 | pmichaud++ | build/gen_whatever_pir.pl:

[22:36] <dalek> rakudo: Add Whatever forms of some prefix operators.

[22:36] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/f489207e820302a7125667c59f77805a2d957f60

[22:38] *** nacho_ joined
[22:41] <moritz_> pmichaud++

[22:41] <moritz_> now say ~<40 5 7 10>.sort: +* works

[22:41] *** payload left
[22:41] <dalek> rakudo: bf5ed94 | (Martin Berends)++ | src/builtins/eval.pir:

[22:41] <dalek> rakudo: Also pass the 'ver' pmc as a named parameter to sub 'require', for

[22:41] <dalek> rakudo: future implementation of S11 Versioning. When this patch was applied

[22:41] <dalek> rakudo: on Rakudo builds prior to the Lisbon Walkathon, it triggered a GC

[22:41] <dalek> rakudo: bug during t/01-sanity/07-isa.t but it does not do that now.

[22:41] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/bf5ed94e0027ab8f766899307fa4d95807da770e

[22:41] <dalek> rakudo: e690c9f | (Martin Berends)++ | :

[22:41] <dalek> rakudo: Merge branch 'master' of [email@hidden.address]
[22:42] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/e690c9f06b4f75c1557146ea01fabc47e512df98

[22:42] <pmichaud> Yes.  That fix has been in my local commit since Friday, but I couldn't push the lot because I was blocking on the :pair[1,2,3] stuff

[22:42] <pmichaud> I finally cherry-picked the patches out because I don't have a quick fix for the pair stuff

[22:42] *** payload joined
[22:45] * moritz_ sent two simple patches to dbdi folks and now goes to bed

[22:46] <frettled> pmichaud: what's :pair[1,2,3] supposed to do?

[22:46] <pmichaud> frettled: same as  :pair([1,2,3])

[22:46] <pmichaud> originally it was parsed using   postcircumfix:<[ ]>  though, which is what Rakudo did.  But we've since decided that it's really more like the circumfix:<[ ]> form instead

[22:47] <pmichaud> switching Rakudo to use the circumfix:<[ ]> form involves a number of tricky little internal changes.  Also STD.pm has changed in a number of other significant ways over the past few months, so we'd need to catch up with some of those as well

[22:49] <frettled> (ouch, I forgot that Firefox tends to go bananas when I look at the synopses)

[22:50] *** monsterfi joined
[22:50] *** monsterfi left
[22:56] *** FCO joined
[23:00] *** whoisthatgoksie left
[23:09] *** M_o_C left
[23:09] *** moren joined
[23:13] *** beggars left
[23:15] *** SmokeMachine left
[23:20] *** donaldh left
[23:20] *** donaldh joined
[23:21] *** moren left
[23:26] <pugs_svn> r27937 | pmichaud++ | [t/spec]:  Unfudge some whatever.t tests (RT #68004)

[23:28] <dalek> rakudo: 4786eb8 | pmichaud++ | src/ (2 files):

[23:28] <dalek> rakudo: Move .end() from builtins (PIR) into setting (P6).

[23:28] <dalek> rakudo: Demonstrated at YAPC::EU 2009 presentation.

[23:28] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/4786eb8a48d17e670db6969f090bee0d1649bb3a

[23:28] <dalek> rakudo: 39cc848 | pmichaud++ | :

[23:28] <dalek> rakudo: Merge branch 'master' of [email@hidden.address]
[23:28] <dalek> rakudo: review: http://github.com/rakudo/rakudo/commit/39cc848007fbec97d264f17a8e0eafd3d317bbf6

[23:40] *** Psyche^ joined
[23:53] <__ash__> can you use … iinstead of ...?  (unicode version of ...) 

[23:53] <pmichaud> it's not defined that way, no.

[23:56] *** Patterner left
[23:56] *** Psyche^ is now known as Patterner

