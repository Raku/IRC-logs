[00:03] <SmokeMachine> :(

[00:03] <timotimo> parsed macros in the future, though

[00:05] <SmokeMachine> Red can translate something like `M.^all.map: { .a ~ (" => " ~ .b if .b)}` to SQL, but can't translate `M.^all.map: { ".a{("  => { .b }" if .b }" }`

[00:06] <SmokeMachine> timotimo: ^^

[00:07] <SmokeMachine> M.^all.map: { ".a{ "  => { .b }" if .b }" }

[00:07] <TreyHarris> Hang on, the more recent of the two commits I did (adding myself to CREDITS) passed tests. Is that because somebody fixed the issue behind the scenes, or because CREDITS doesn't affect the build and tests only check what's changed, or something else?

[00:08] <timotimo> passed tests up on travis, TreyHarris?

[00:09] <timotimo> (Trey Harris, or short: Travis)

[00:09] <SmokeMachine> timotimo: That is translated to: https://www.irccloud.com/pastebin/UKDToyAZ/

[00:09] <AlexDaniel> TreyHarris: I think some tests are flapping (passing usually but sometimes failing), so it's all pure luck

[00:09] <timotimo> SmokeMachine: i'm not sure why it can't do that

[00:09] <TreyHarris> My change in the prior chat is live at https://docs.perl6.org/type/Junction#infix_~ now

[00:09] <timotimo> SmokeMachine: because "foo { bar } baz" compiles to the same thing as "foo " ~ bar ~ " baz" iirc

[00:09] <TreyHarris> s/chat/committ/

[00:09] <timotimo> ah, docs commits

[00:10] <TreyHarris> commit even. :-)

[00:10] <SmokeMachine> timotimo: that do the same thing... but not in the same way (that would be awesome if it did...)

[00:10] <TreyHarris> where can I see what Perl 6 modules have been changed today? There's a feed, isn't there?

[00:11] <timotimo> i'm not aware of one, but maybe the perl6-all-modules repo is kept up to date regularly?

[00:12] *** reach_satori left
[00:12] *** reach_satori joined
[00:13] <timotimo> SmokeMachine: my headachy brain doesn't seem to understand what the difference is between the two, except that the latter doesn't use .a

[00:13] *** p6bannerbot sets mode: +v reach_satori

[00:14] <TreyHarris> I wondered, since it appeared to be an issue with a module I upgraded (because my commit passed, but failed in shippable, then I upgraded my modules and my commits failed, as did ones earlier than mine that had passed), if one of the modules has been upgraded in the past couple hours

[00:14] <timotimo> ah, interesting

[00:14] <timotimo> the modules that are used to actually generate docs.perl6.org aren't updated often

[00:14] <timotimo> which just recently caused a bit of work, or maybe a headache

[00:17] <SmokeMachine> timotimo:  https://www.irccloud.com/pastebin/uJ3iB2XB/

[00:20] <timotimo> oooh

[00:20] <timotimo> it's because it compiles to "foo " ~ bar.Str ~ " baz"

[00:20] <timotimo> that's what

[00:20] *** ufobat___ left
[00:21] <SmokeMachine> hum! let me override Str!

[00:21] <timotimo> yeah

[00:22] <timotimo> the current .Str isn't useful anyway :)

[00:22] <timotimo> you can make it return a string representation of the column but also mix in a method that Red itself would use to keep constructing the AST

[00:23] *** pecastro left
[00:24] <SmokeMachine> timotio: that worked!!! \o. https://www.irccloud.com/pastebin/JnCBBAWs/

[00:24] <SmokeMachine> \o/

[00:24] <SmokeMachine> timotimo: thanks!

[00:24] <timotimo> :+1:

[00:27] <timotimo> one day someone will build a perl6 deparser

[00:31] <SmokeMachine> like -MO=Deparser?! would be great!

[00:34] *** tobs` left
[00:35] <timotimo> everything's already in place to make it :P

[00:35] <timotimo> just eval with a :target of ast or optimize

[00:35] <timotimo> though post-optimize is perhaps a bit more difficult to deparse, since we play it just a little fast & loose sometimes

[00:36] *** tobs` joined
[00:37] *** p6bannerbot sets mode: +v tobs`

[01:00] *** lizmat joined
[01:00] *** p6bannerbot sets mode: +v lizmat

[01:04] *** lizmat left
[01:17] *** zacts joined
[01:17] *** p6bannerbot sets mode: +v zacts

[01:25] *** dalek left
[02:04] *** reach_satori left
[02:07] *** reach_satori joined
[02:08] *** p6bannerbot sets mode: +v reach_satori

[02:16] *** reach_satori_ joined
[02:17] *** reach_satori left
[02:17] *** p6bannerbot sets mode: +v reach_satori_

[02:19] *** molaf left
[02:19] <AlexDaniel> can somebody build and `make test` rakudo on ARM? Trying to confirm R#2513

[02:23] *** synopsebot left
[02:23] <AlexDaniel> .tell Kaiepi so what's the situation with R#2520 ? Was it ok before and now it's broken? If so, can you bisect it maybe?

[02:23] <yoleaux> AlexDaniel: I'll pass your message to Kaiepi.

[02:32] *** molaf joined
[02:32] *** p6bannerbot sets mode: +v molaf

[03:20] *** zacts left
[03:49] *** leont left
[04:11] *** Cabanoss- joined
[04:12] *** Cabanossi left
[04:12] *** p6bannerbot sets mode: +v Cabanoss-

[04:42] *** BertolucciTalks joined
[04:42] *** p6bannerbot sets mode: +v BertolucciTalks

[04:47] *** tobs` left
[05:17] *** rindolf joined
[05:18] *** p6bannerbot sets mode: +v rindolf

[05:26] *** no-n is now known as u-ou

[05:38] *** u-ou is now known as no-n

[05:46] *** kurahaupo left
[05:47] *** kurahaupo joined
[05:47] *** p6bannerbot sets mode: +v kurahaupo

[06:02] *** liamr_ joined
[06:02] *** p6bannerbot sets mode: +v liamr_

[06:09] *** kurahaupo left
[06:09] *** kurahaupo joined
[06:10] *** p6bannerbot sets mode: +v kurahaupo

[06:11] *** graphene left
[06:13] *** liamr_ left
[06:13] *** graphene joined
[06:13] *** p6bannerbot sets mode: +v graphene

[06:19] *** graphene left
[06:21] *** graphene joined
[06:21] *** graphene left
[06:23] *** graphene joined
[06:24] *** p6bannerbot sets mode: +v graphene

[06:24] *** graphene left
[06:25] *** ryn1x joined
[06:25] *** p6bannerbot sets mode: +v ryn1x

[06:26] *** graphene joined
[06:26] *** graphene left
[06:27] *** graphene joined
[06:28] *** p6bannerbot sets mode: +v graphene

[06:31] <ryn1x> AlexDaniel: I can run make test on my raspberry pi for rakudo HEAD. I'll post the results to R#2513 when it is done. It is realllly slow.

[06:35] <AlexDaniel> ryn1x: thanks!

[06:41] <rindolf> ryn1x: thanks

[06:52] *** BertolucciTalks left
[07:30] *** ufobat___ joined
[07:30] *** p6bannerbot sets mode: +v ufobat___

[07:37] *** ChoHag left
[07:37] *** ChoHag joined
[07:38] <ryn1x> AlexDaniel, rindolf: tests all finished, results posted: https://github.com/rakudo/rakudo/issues/2513

[07:38] *** p6bannerbot sets mode: +v ChoHag

[07:38] *** mowcat left
[07:39] *** mowcat joined
[07:39] <rindolf> ryn1x: thanks

[07:39] <ryn1x> np

[07:40] <AlexDaniel> ryn1x: thanks

[07:40] *** p6bannerbot sets mode: +v mowcat

[07:43] *** Geth left
[07:46] *** mowcat left
[07:47] *** hankache joined
[07:48] *** p6bannerbot sets mode: +v hankache

[07:48] <hankache> hello #perl6

[07:51] *** jmerelo joined
[07:52] *** mowcat joined
[07:53] *** p6bannerbot sets mode: +v mowcat

[07:54] <rindolf> hankache: hi

[07:57] *** jmerelo left
[07:57] *** jmerelo joined
[07:58] *** p6bannerbot sets mode: +v jmerelo

[07:58] <jmerelo> .tell masak well?

[07:58] <yoleaux> jmerelo: I'll pass your message to masak.

[08:01] <AlexDaniel> hmm https://colabti.org/irclogger/irclogger_log/perl6-dev?date=2018-12-13#l243

[08:01] <AlexDaniel> :)

[08:02] <jmerelo> AlexDaniel: yep, I read that. But the article is not there, or the draft.

[08:02] <jmerelo> So

[08:03] <jmerelo> releasable6: status

[08:03] <releasable6> jmerelo, Next release will happen when it's ready. 1 blocker. 60 out of 74 commits logged

[08:03] <releasable6> jmerelo, Details: https://gist.github.com/9708f28a9b8d2df2b927c0d6fedc6923

[08:03] <jmerelo> Great

[08:03] <jmerelo> Anyway

[08:04] <hankache> I have a module that compiles a shared library (.so) and puts it in blib/lib. How can I reference that shared lib when using is native()?

[08:04] <jmerelo> .tell masak there needs to be an article ready every day. Tomorrow's article is ready, so I'll put that one today and leave yours for tomorrow. Is that OK?

[08:04] <yoleaux> jmerelo: I'll pass your message to masak.

[08:04] <hankache> what should I pass to is native()?

[08:06] <hankache> in other words how do I get the full path to whatever is in blib/lib?

[08:06] <jmerelo> So finally we have this Advent article today https://perl6advent.wordpress.com/2018/12/16/day-17-checking-your-list-twice/

[08:06] <jmerelo> .tell masak so please have it ready tonight or tell us if you if you are not going to be able.

[08:06] <yoleaux> jmerelo: I'll pass your message to masak.

[08:07] <jmerelo> hankache: can't you directly pass the path?

[08:08] <jmerelo> hankache: https://docs.perl6.org/language/nativecall#Library_paths_and_names

[08:09] <hankache> I do not know what the full path is. When this module gets installed how would I know the full path?

[08:09] <jmerelo> hankache: there's an example there that uses pkg-config to take care of that.

[08:15] <hankache> jmerelo but the shared lib was compiled by LibraryMake so it isn't found in pkg-config

[08:17] <jmerelo> hankache: that's a problem. Can't you use the OS's find or something like that? I mean, the problem is finding the path to the library or including it?

[08:18] <hankache> if I find the path to the library then the problem is solved

[08:18] <hankache> how can I when doing zef install X know where X/blib/lib is located?

[08:19] <jmerelo> hankache: I think there's a zef location or suchlike.

[08:19] <jmerelo> Let me check

[08:19] <hankache> is there some sort of compile time variable or something?

[08:19] <jmerelo> hankache: rightly so.

[08:20] <jmerelo> hankache: right, zef locate

[08:21] <jmerelo> hankache: https://github.com/ugexe/zef#locate-identity-name-path-sha1-id

[08:21] <hankache> jmerelo thanks

[08:22] <jmerelo> hankache: my pleasure :-) (now, if you also ask the question in StackOverflow, I'd be immensely happy)

[08:24] <hankache> I can't cd into it

[08:28] <jmerelo> hankache: because it does not exist? Or permissions problems?

[08:29] <hankache> jmerelo I think I need to use %?RESOURCES. Let me try and will tell you if it works

[08:29] <hankache> be right back

[08:30] <jmerelo> hankache: OK. Good luck!

[08:32] *** \x01VERSION\x01 is now known as grumble

[08:47] *** kensanata joined
[08:47] *** p6bannerbot sets mode: +v kensanata

[08:54] *** daotoad joined
[08:55] *** p6bannerbot sets mode: +v daotoad

[09:07] *** graphene left
[09:09] *** graphene joined
[09:09] *** p6bannerbot sets mode: +v graphene

[09:20] *** atweiden-air joined
[09:21] *** p6bannerbot sets mode: +v atweiden-air

[09:23] *** domidumont joined
[09:23] *** p6bannerbot sets mode: +v domidumont

[09:24] *** reach_satori_ left
[09:32] <jmerelo> New (and hairy) PrecompStore question in StackOverflow (https://stackoverflow.com/questions/53800960/cant-precompile-when-using-some-external-module)

[09:42] *** atweiden-air left
[10:01] <ufobat___> m: run <echo hi>, :cwd("does-not-exist")

[10:01] <camelia> rakudo-moar 41d2da095: OUTPUT: «The spawned command 'echo' exited unsuccessfully (exit code: 1)␤  in block <unit> at <tmp> line 1␤␤»

[10:02] <ufobat___> is this the expected behaviour? becacuse if :$cwd does not exist it is kinda "hard" to troubleshoot

[10:03] *** hankache_ joined
[10:04] *** p6bannerbot sets mode: +v hankache_

[10:05] *** reach_satori joined
[10:06] *** hankache left
[10:06] *** p6bannerbot sets mode: +v reach_satori

[10:07] <ufobat___> what about something like $!exit-promise.break() unless $cwd.e --> https://github.com/rakudo/rakudo/blob/master/src/core/Proc/Async.pm6#L291-L294

[10:25] *** reach_satori left
[10:25] *** reach_satori joined
[10:26] *** p6bannerbot sets mode: +v reach_satori

[10:27] *** lucasb joined
[10:27] *** p6bannerbot sets mode: +v lucasb

[10:34] <jmerelo> ufobat___: I don't know enough to help you with that, but I'm mildly worried by the amount of unaddressed issues in Rakudo... 

[10:35] <jmerelo> ufobat___: and unaddressed PRs, too...

[10:35] <ufobat___> r we too few? :(

[10:35] <ufobat___> we == sufficient skilled core devs?

[10:35] <jmerelo> ufobat___: the answer to that is definitely yes, I guess. I'm not qualified (or have the commit bit in that repo, which is probably a wise decision)

[10:36] <daotoad> jmerelo: I am looking at the advent article in wordpress right now.  Wordpress is of the opinion that you are currently editing it.

[10:37] <daotoad> Should I just go ahead and repost or did you get things fixed?

[10:37] <jmerelo> The thing is, PRs is one of the ways to attract new developers. If you see your PR grow stale and eventually conflict, that's not good

[10:37] <jmerelo> daotoad: Just closed the window. Forgot about that, sorry. No, I couldn't get the things fixed.

[10:37] <ufobat___> jmerelo, there should be perl6 core dev teaching lessons at the perl conferences

[10:39] <jmerelo> ufobat___: that would help. But doing something about this 2013!!! PR would too. Luckily, timo is an all around great guy, but some others might not be of that opinion... https://github.com/rakudo/rakudo/pull/184

[10:39] *** reach_satori left
[10:39] <lucasb> there's text in the middle of a code snippet... "## Elf-type mismatch - Cobbling up improved error handling"

[10:40] <lucasb> maybe the author indented to split that part and become a heading

[10:41] *** reach_satori joined
[10:41] <daotoad> That should be a heading.

[10:42] *** p6bannerbot sets mode: +v reach_satori

[10:42] <daotoad> I'm about to repost from the converted html.

[10:43] <jmerelo> daotoad++

[10:43] <daotoad> Actually, the converter didn't get that bit right.  Editing the generated HTML first.

[10:46] *** sena_kun joined
[10:46] *** p6bannerbot sets mode: +v sena_kun

[10:46] *** yqt joined
[10:47] <daotoad> Hrm.  Lovely.  The gist has the problem too.  The Markdown syntax looks right.

[10:47] *** p6bannerbot sets mode: +v yqt

[10:47] <daotoad> https://gist.github.com/daotoad/47bcbc6f1dc066fff982a72481c6bcd2

[10:48] <daotoad> Look at line 112 of perl6-cli-advent.md

[10:48] <daotoad> Anyone have any ideas?

[10:48] <jmerelo> daotoad: forking

[10:49] <jmerelo> daotoad: the problem is further up

[10:50] <daotoad> When I view the same markdown in dillinger, it looks ok.

[10:50] <jmerelo> daotoad: https://gist.github.com/JJ/5990cc6a5e1407c6ecef9f68ca71325d

[10:50] <jmerelo> daotoad: got to close the code snippet in line 100

[10:51] <jmerelo> daotoad: BTW, kudos on linking all relevant parts of the documentation :-) That really helps.

[10:51] <daotoad> It was easier than recapitulating the docs.  

[10:52] <jmerelo> daotoad: laziness, hubris and impatience are the best 3 qualities in a Perl programmer :-)

[10:53] <daotoad> That fixed it.

[10:53] <daotoad> I am going to reconvert and reupload.

[10:53] <jmerelo> daotoad++

[10:59] <daotoad> It is done.

[10:59] <jmerelo> daotoad: great!

[11:00] <daotoad> The whole process was made more miserable by the GUI version of Vim not wanting to run on my mac.  I had to fire up XCode to get the raw html content to copy and paste.  Every other stupid editor I have wanted to show me rich text.  :P

[11:00] <jmerelo> daotoad: I always use emacs, and never a mac :-)

[11:01] <jmerelo> daotoad: Can you please add a split somewhere sensible?

[11:01] *** reach_satori left
[11:01] <jmerelo> daotoad: WP inserts the "Continue reading" in its place. 

[11:02] <daotoad> What's the split syntax or is that a wordpress thing?

[11:03] <jmerelo> daotoad: if you use the visual editor, it's a dashed line.

[11:05] *** kurahaupo left
[11:07] <daotoad> I see three spots that might make sense to put it.  1.  Right before the second heading "Like pulling teeth?" (disadvantage - no perl6 content yet)  2. Right before the next heading "A strong silent type" (disadvantage: maybe too long).  3. After the first Usage message, in between 1 and 2.

[11:07] <jmerelo> daotoad: 1. looks good to me.

[11:08] *** loops left
[11:08] <jmerelo> daotoad: but the others make sense too. Your call :-) 

[11:08] <daotoad> Done.  I went with 1.

[11:09] <jmerelo> daotoad: thanks!

[11:09] <daotoad> Brevity is the soul of wit.

[11:09] <daotoad> I think Oscar Wilde said that.

[11:09] <jmerelo> daotoad: so true.

[11:09] <jmerelo> daotoad: It's a nice cliffhanger, too. What will happen to Sniffles next?

[11:09] <jmerelo> ... We'll know right after the break :-)

[11:10] <daotoad> True.

[11:10] <daotoad> I wonder how much of the various jokes I put in there make sense to non-US readers.  Do you guys get Rudolph the Red Nosed Reindeer on TV in Spain?

[11:10] *** kurahaupo joined
[11:11] <jmerelo> daotoad: we get Santa's little helper in the Simpsons, which sometimes has a red nose and a bad translation.

[11:11] *** p6bannerbot sets mode: +v kurahaupo

[11:12] *** loops joined
[11:12] <jmerelo> daotoad: but I was just looking at stats on the site (you've got 48 visits, just in case you need to know), and most visitors come from the US. Germany goes second today, Spain does not even show up.

[11:12] <jmerelo> daotoad: so don't worry. 

[11:12] <daotoad> Here Rudolph is a bonafide tradition.  https://en.wikipedia.org/wiki/Rudolph_the_Red-Nosed_Reindeer_(TV_special)

[11:13] *** p6bannerbot sets mode: +v loops

[11:14] <jmerelo> daotoad: I haven't seen that one, actually. I don't think it airs on TV here. Santa tradition is relatively modern here. Spanish tradition is more with the "Three wise men from orient"

[11:14] <daotoad> Hermey (spelling was changed to avoid the litigious bastards who own the rights, I worked on a project that got legal threats from them once) is an elf who wants to be a dentist.  He and Rudolph are cast out of Santa's workshop for being freaks.

[11:14] <jmerelo> And we have our own little movies here, like "Se armó el Belén" (another tradition)

[11:15] <jmerelo> daotoad: very unlikely that it's ever translated into any other language: https://es.wikipedia.org/wiki/%C2%A1Se_arm%C3%B3_el_bel%C3%A9n!

[11:16] <daotoad> XMas varies a lot.  In Mexico they have Las Posadas where people dressed up as Mary and Joseph lead a procession through town looking for a place to stay.

[11:17] <jmerelo> daotoad: Hadn't heard about that. Looks like a nice tradition...

[11:18] <jmerelo> we're just setting up the Christmas tree today :-)

[11:18] <daotoad> We put ours up last weekend.  It's on a table so the dog won't pee on it.

[11:18] <jmerelo> daotoad: lol

[11:25] <daotoad> Interesting, so Google Translate thinks Se armó el Belén means "The Bethlehem was armed".  Looking at the sense of *armar*, I bet it's more like "Gathered in Bethlehem".

[11:26] <jmerelo> I don't know if "Belén" has a good translation. "Crêche" maybe?

[11:26] <jmerelo> Let me see...

[11:26] <jmerelo> Ah, no. Nativity scene. 

[11:26] <daotoad> It seems to mean both nativity sceene or creche  and Bethlehem

[11:27] <daotoad> We use both terms here.  Mostly nativity scene.

[11:27] <jmerelo> Ah, right... The name comes from that city, actually, spelled in the same way in Spanish. I do have a small creche that was actualy made in Bethlehem and gifted to me from a friend who lives there.

[11:27] <daotoad> That's really cool.

[11:28] <jmerelo> "Se armó el belén" means also "It's a mess". But it literally means "The creche was set up"

[11:29] <daotoad> Okay, I went with a much further in the past interpretation.

[11:29] <jmerelo> Anyway, it features a very famous Spanish actor (from that era), it also reflects the zeitgeist of the last years of the dictatorship, and it's all around nice as a good Xmastime story. I've seen it like a thousand times.

[11:30] <jmerelo> However, we're adopting all kind of other traditions now. We even have advent calendars in supermarkets...

[11:32] <daotoad> Se armo el belen makes me think of "It's a wonderful life"  

[11:32] <daotoad> Just reading the IMDB summary.

[11:33] <jmerelo> daotoad: yep, we get that one too. Not so often now, but I'm sure it's played in one or several channels every Christmas.

[11:33] <daotoad> MOre in terms of capturing the national zeitgeist at a critical time in history

[11:33] <daotoad> But also as a portrait of family life.

[11:34] <jmerelo> They never play Scrooged, however. That's too bad. 

[11:34] <daotoad> Diehard?

[11:34] <jmerelo> daotoad: that's a good one. I actually went to the movie theater when it was released :-)

[11:37] <jmerelo> OK, back to work now. It's never Sunday in academia. Not really AFK, but doing other stuff. Was nice to talk to you :-)

[11:37] <daotoad> You too!

[11:52] *** hankache_ left
[12:25] *** daotoad left
[13:25] *** quotable6 left
[13:25] *** bloatable6 left
[13:25] *** bisectable6 left
[13:25] *** squashable6 left
[13:25] *** undersightable6 left
[13:25] *** benchable6 left
[13:25] *** coverable6 left
[13:25] *** reportable6 left
[13:25] *** releasable6 left
[13:25] *** greppable6 left
[13:25] *** statisfiable6 left
[13:25] *** evalable6 left
[13:25] *** unicodable6 left
[13:25] *** notable6 left
[13:25] *** shareable6 left
[13:25] *** nativecallable6 left
[13:25] *** committable6 left
[13:25] *** bisectable6 joined
[13:25] *** ChanServ sets mode: +v bisectable6

[13:25] *** evalable6 joined
[13:25] *** ChanServ sets mode: +v evalable6

[13:25] *** notable6 joined
[13:26] *** p6bannerbot sets mode: +v bisectable6

[13:26] *** p6bannerbot sets mode: +v evalable6

[13:26] *** p6bannerbot sets mode: +v notable6

[13:26] *** bloatable6 joined
[13:26] *** ChanServ sets mode: +v bloatable6

[13:27] *** greppable6 joined
[13:27] *** p6bannerbot sets mode: +v bloatable6

[13:27] *** p6bannerbot sets mode: +v greppable6

[13:27] *** undersightable6 joined
[13:27] *** ChanServ sets mode: +v undersightable6

[13:28] *** reportable6 joined
[13:28] *** quotable6 joined
[13:28] *** p6bannerbot sets mode: +v undersightable6

[13:28] *** benchable6 joined
[13:28] *** squashable6 joined
[13:28] *** ChanServ sets mode: +v squashable6

[13:28] *** releasable6 joined
[13:28] *** ChanServ sets mode: +v releasable6

[13:29] *** p6bannerbot sets mode: +v reportable6

[13:29] *** p6bannerbot sets mode: +v quotable6

[13:29] *** p6bannerbot sets mode: +v benchable6

[13:29] *** p6bannerbot sets mode: +v squashable6

[13:29] *** p6bannerbot sets mode: +v releasable6

[13:29] *** coverable6 joined
[13:29] *** nativecallable6 joined
[13:29] *** graphene left
[13:30] *** shareable6 joined
[13:30] *** ChanServ sets mode: +v shareable6

[13:30] *** p6bannerbot sets mode: +v coverable6

[13:30] *** p6bannerbot sets mode: +v nativecallable6

[13:30] *** statisfiable6 joined
[13:30] *** unicodable6 joined
[13:30] *** committable6 joined
[13:31] *** p6bannerbot sets mode: +v shareable6

[13:31] *** p6bannerbot sets mode: +v statisfiable6

[13:31] *** p6bannerbot sets mode: +v unicodable6

[13:31] *** p6bannerbot sets mode: +v committable6

[13:31] *** graphene joined
[13:32] *** p6bannerbot sets mode: +v graphene

[13:40] *** kurahaupo left
[13:56] *** lizmat joined
[13:56] *** p6bannerbot sets mode: +v lizmat

[13:56] *** jmerelo left
[14:00] *** reach_satori joined
[14:01] *** p6bannerbot sets mode: +v reach_satori

[14:12] *** [Sno] left
[14:33] *** kurahaupo joined
[14:34] *** p6bannerbot sets mode: +v kurahaupo

[14:36] *** ChoHag left
[14:49] *** ChoHag joined
[14:50] *** p6bannerbot sets mode: +v ChoHag

[14:51] *** thundergnat joined
[14:52] *** p6bannerbot sets mode: +v thundergnat

[14:57] *** leont joined
[14:58] *** p6bannerbot sets mode: +v leont

[14:59] *** zacts joined
[14:59] *** p6bannerbot sets mode: +v zacts

[14:59] *** molaf left
[15:04] *** reach_satori left
[15:09] *** duffolonious11 joined
[15:09] *** duffolonious11 left
[15:10] <masak> .

[15:10] <yoleaux> 14 Dec 2018 19:40Z <jmerelo> masak: you ready to schedule your next advent calendar article during tomorrow, right? The 16th is yours!

[15:10] <yoleaux> 15 Dec 2018 19:24Z <jmerelo> masak: we just panic a bit if we don't see the article scheduled the previous day...

[15:10] <yoleaux> 07:58Z <jmerelo> masak: well?

[15:10] <yoleaux> 08:04Z <jmerelo> masak: there needs to be an article ready every day. Tomorrow's article is ready, so I'll put that one today and leave yours for tomorrow. Is that OK?

[15:10] <yoleaux> 08:06Z <jmerelo> masak: so please have it ready tonight or tell us if you if you are not going to be able.

[15:10] <masak> :/

[15:10] <masak> sorry about that. I had convinced myself my article was due tomorrow.

[15:11] <masak> .tell jmerelo I can have an article ready to go for tomorrow. sometime later tonight.

[15:11] <yoleaux> masak: I'll pass your message to jmerelo.

[15:17] *** graphene left
[15:18] *** nadim joined
[15:18] *** graphene joined
[15:18] *** p6bannerbot sets mode: +v nadim

[15:19] *** p6bannerbot sets mode: +v graphene

[15:28] *** graphene left
[15:29] *** graphene joined
[15:30] *** p6bannerbot sets mode: +v graphene

[15:38] *** reach_satori joined
[15:39] *** p6bannerbot sets mode: +v reach_satori

[15:59] *** zakharyas joined
[16:00] *** p6bannerbot sets mode: +v zakharyas

[16:10] *** molaf joined
[16:11] *** p6bannerbot sets mode: +v molaf

[16:11] <AlexDaniel> Anybody using OpenBSD?

[16:12] *** jmerelo joined
[16:13] *** p6bannerbot sets mode: +v jmerelo

[16:18] *** ryn1x left
[16:18] *** ryn1x joined
[16:18] <jmerelo> releasable6: status

[16:18] <yoleaux> 15:11Z <masak> jmerelo: I can have an article ready to go for tomorrow. sometime later tonight.

[16:18] <releasable6> jmerelo, Next release will happen when it's ready. 1 blocker. 60 out of 74 commits logged

[16:18] <releasable6> jmerelo, Details: https://gist.github.com/1c8571eb9bbb98d2052fd1a904205d3a

[16:19] <jmerelo> .tell masak. Great :-)

[16:19] <yoleaux> jmerelo: What kind of a name is "masak."?!

[16:19] *** p6bannerbot sets mode: +v ryn1x

[16:19] <El_Che> AlexDaniel: I am rather busy, but if you need me, ping me

[16:19] <jmerelo> .tell masak  Great :-)

[16:19] <yoleaux> jmerelo: I'll pass your message to masak.

[16:21] *** reach_satori left
[16:40] <AlexDaniel> El_Che: I'm trying to make sense of R#2520

[16:41] <AlexDaniel> also there was a merged PR and I can't understand if it resolved the issue completely or what

[16:41] <AlexDaniel> that's the last blocker

[16:42] <El_Che> ah, the openbsd one

[16:42] <El_Che> related to the openbsd decision to disable hyperthreading?

[16:44] *** reach_satori joined
[16:45] *** p6bannerbot sets mode: +v reach_satori

[16:49] *** kurahaupo left
[16:49] *** kurahaupo joined
[16:50] *** p6bannerbot sets mode: +v kurahaupo

[16:50] *** kurahaupo left
[16:50] *** kurahaupo joined
[16:51] *** p6bannerbot sets mode: +v kurahaupo

[16:51] *** ryn1x left
[16:53] <El_Che> I took some time off from work to work on my thesis, but I took my laptops home. I have now Linux, Windows and MacOS laptops at my desk at home. Not good :)

[16:57] <jmerelo> El_Che: there are some perl doc issues that require Windows...

[16:57] <jmerelo> And good luck with your thesis.

[16:57] <jmerelo> Also, this is open: http://blogs.perl.org/users/brian_d_foy/2018/12/nominate-perl-heroes-for-the-2017-white-camel-awards-1.html

[16:57] *** graphene left
[16:59] *** graphene joined
[17:00] *** p6bannerbot sets mode: +v graphene

[17:10] <El_Che> jmerelo: ok, you have bugged me enough with your doc issues, so in turn I just nominated you. That will teach you! (next to zoffix and AlexDaniel)

[17:10] * El_Che off cooking diner for the family

[17:11] <AlexDaniel> argh! Wanted to edit my comment a bit but there's no way to edit, so I left another one… only to realize that someone already wrote another comment before me

[17:13] <AlexDaniel> El_Che: I think both of us are missing the point a bit

[17:13] *** zacts left
[17:15] <AlexDaniel> El_Che: they seem to have 3 specific categories

[17:15] <AlexDaniel> El_Che: user groups, advocacy, community

[17:17] *** vrurg left
[17:18] <AlexDaniel> El_Che: so for example nominating jmerelo for organizing real life hackathons and helping with squashathons makes sense, but helping with the documentation doesn't

[17:19] <AlexDaniel> or at least that's my understanding

[17:19] <jmerelo> AlexDaniel: no it does not.

[17:20] <AlexDaniel> jmerelo: ok, what am I missing?

[17:20] <jmerelo> AlexDaniel: BrianDFoy just emailed me back telling me that these were _camel_ awards, not Camelia awards. That leaves any Perl 6 person in the cold.

[17:20] *** vrurg joined
[17:20] <jmerelo> Sorry, brian d foy. 

[17:21] *** p6bannerbot sets mode: +v vrurg

[17:21] <jmerelo> El_Che: Well, you have been organizing the Perl Devroom for a number of years, so _you_ are eligible... 

[17:23] * jmerelo wonders why there's now that distinction between Perl 5 and Perl 6. But their prize, their rules, I guess...

[17:24] * AlexDaniel feels like leaving a smirk comment

[17:24] * jmerelo thinks we should start the Rainbow Camelia awards, just for kicks. But let's wait until the Advent Calendar is over...

[17:25] <AlexDaniel> no I think we should go ahead with Raku

[17:25] <jmerelo> Rainbow Raku awards?

[17:27] <jmerelo> AlexDaniel: with respect to categories, I don't think there's such a clear distinction between them... And this is just a nomination, so I guess whoever is tallying those things will eventually slot them into the right category

[17:28] <jmerelo> brian d foy has answered now that we should arrange our own prizes: http://blogs.perl.org/users/brian_d_foy/2018/12/nominate-perl-heroes-for-the-2017-white-camel-awards-1.html#comment-1805240

[17:28] <AlexDaniel> “The White Camel Awards recognize the many significant contributions made by the unsung heros of the Perl community. The efforts of these volunteers collectively make the Perl language and the Perl community better for all of us.”

[17:29] <AlexDaniel> so apparently Perl 6 is not Perl?

[17:29] <jmerelo> AlexDaniel: yeah, right. I don't know about starting another turf war. I'd rather talk to the TPF guys and start our own awards. Should I email Mr. Nozaki? Ovid? 

[17:30] <jmerelo> Let's say both.

[17:31] <AlexDaniel> 🤷

[17:35] <jmerelo> OK, emails fired.

[17:36] * jmerelo feels a storm is brewing...

[17:44] *** bspar joined
[17:45] *** p6bannerbot sets mode: +v bspar

[17:47] *** zakharyas left
[17:48] *** bolangi left
[17:49] *** bspar left
[17:49] *** bolangi joined
[17:50] *** p6bannerbot sets mode: +v bolangi

[17:51] *** dalek joined
[17:51] *** ChanServ sets mode: +v dalek

[17:51] *** sergot left
[17:51] *** SourceBaby left
[17:51] *** p6lert_ left
[17:51] *** synopsebot joined
[17:51] *** ChanServ sets mode: +v synopsebot

[17:51] *** p6lert joined
[17:51] *** Geth joined
[17:51] *** ChanServ sets mode: +v Geth

[17:52] *** p6bannerbot sets mode: +v dalek

[17:52] *** p6bannerbot sets mode: +v synopsebot

[17:52] *** p6bannerbot sets mode: +v p6lert

[17:52] *** p6bannerbot sets mode: +v Geth

[17:53] *** kurahaupo left
[17:53] *** kurahaupo joined
[17:54] *** p6bannerbot sets mode: +v kurahaupo

[17:56] *** lucasb left
[18:02] *** bolangi left
[18:03] *** graphene left
[18:04] *** bolangi joined
[18:05] *** graphene joined
[18:05] *** mattp_ left
[18:05] *** p6bannerbot sets mode: +v bolangi

[18:06] *** p6bannerbot sets mode: +v graphene

[18:12] *** jmerelo left
[18:13] <El_Che> oh, we do have different awards now? 

[18:23] *** kurahaupo left
[18:23] *** kurahaupo_ joined
[18:24] <masak> yoleaux: Great?

[18:24] <yoleaux> 16:19Z <jmerelo> masak: Great :-)

[18:24] <masak> great.

[18:24] *** p6bannerbot sets mode: +v kurahaupo_

[18:24] * masak writes

[18:25] *** kurahaupo_ left
[18:25] <moritz> \o

[18:25] <timotimo> advent writing?

[18:25] *** kurahaupo joined
[18:25] <timotimo> i thought you already had your article out

[18:25] <timotimo> i even seem to recall having read it!

[18:26] <masak> you must be thinking of... *puts on sunglasses*

[18:26] <masak> MY FIRST ONE

[18:26] *** p6bannerbot sets mode: +v kurahaupo

[18:27] <timotimo> YYYEEEEEEEEEEEEEEEEEEAAAAAAAAAAHhhhhhhhhhhhhhhhhhh

[18:29] *** graphene left
[18:29] * masak rocks out to inaudible music

[18:30] <El_Che> masak: like when you rock on at work with your noise cancelling head phones :)

[18:30] *** graphene joined
[18:31] *** p6bannerbot sets mode: +v graphene

[18:32] <masak> right. except without the headphones :)

[18:47] <masak> anecdata: Version B in http://strangelyconsistent.org/blog/send-more-money-in-perl6 took 22 seconds back in 2015. today on my laptop, it takes 8.1 seconds.

[18:47] <masak> now, I *do* have a new laptop, but due to Moore's Law shortage, it's not *that* much faster. and I'm not using more cores.

[18:47] <masak> m: say 22 / 8.1

[18:47] <camelia> rakudo-moar 41d2da095: OUTPUT: «2.716049␤»

[18:58] <moritz> m: say e

[18:58] <camelia> rakudo-moar 41d2da095: OUTPUT: «2.718281828459045␤»

[18:58] <moritz> m: say (2.716049 - e) / e

[18:58] <camelia> rakudo-moar 41d2da095: OUTPUT: «-0.0008214116857452245␤»

[19:00] <moritz> that is remarkably close

[19:01] <tobs> heh, I expect great things from the next three years

[19:02] *** kurahaupo left
[19:02] *** kurahaupo joined
[19:03] *** p6bannerbot sets mode: +v kurahaupo

[19:04] <masak> surely you mean, the next 2.7182 years

[19:04] <masak> good news! I managed to re-write my 2015 brute-force solution into *another* brute-force solution, more appropriate for 2018's needs and perspectives

[19:04] <masak> it runs in 1.266 s

[19:06] <masak> (and it's slightly shorter)

[19:07] <masak> strike that. it runs in abour 1.1 s. I had forgotten to put in some `int`s

[19:09] <masak> here's the faster version: https://gist.github.com/masak/3c8e12730c727b3fba37311ab021ea18

[19:11] *** ryn1x joined
[19:12] *** p6bannerbot sets mode: +v ryn1x

[19:20] *** zakharyas joined
[19:21] *** p6bannerbot sets mode: +v zakharyas

[19:23] *** pecastro joined
[19:23] *** p6bannerbot sets mode: +v pecastro

[19:27] *** kurahaupo left
[19:27] *** kurahaupo joined
[19:28] *** p6bannerbot sets mode: +v kurahaupo

[19:29] <lizmat> masak: you can for quite easily now: https://gist.github.com/lizmat/87ac6d356b4a4677e40d75815b8bd8e1

[19:32] *** molaf left
[19:40] *** sno joined
[19:41] *** p6bannerbot sets mode: +v sno

[19:47] *** |oLa| joined
[19:48] *** p6bannerbot sets mode: +v |oLa|

[20:00] <[Coke]> m: sink infix:<+> infix:<*> infix:«<=»

[20:00] <camelia> rakudo-moar 41d2da095: OUTPUT: «WARNINGS for <tmp>:␤Useless use of "infix:<+> infix:<*> infix:«<=»" in expression "infix:<+> infix:<*> infix:«<=»" in sink context (line 1)␤»

[20:00] <[Coke]> sink warning aside, why is that valid?

[20:01] <[Coke]> oh. because there's 3 of them, and the outer are terms?

[20:01] <[Coke]> m: sink infix:<+> infix:<*> 

[20:01] <camelia> rakudo-moar 41d2da095: OUTPUT: «WARNINGS for <tmp>:␤Useless use of "infix:<+> infix:<*>" in expression "infix:<+> infix:<*>" in sink context (line 1)␤»

[20:01] <[Coke]> nope.

[20:09] *** domidumont left
[20:12] *** dct joined
[20:12] *** p6bannerbot sets mode: +v dct

[20:14] <Geth> ¦ doc: abb6bb6082 | Coke++ | 38 files

[20:14] <Geth> ¦ doc: Don't skip if not needed.

[20:14] <Geth> ¦ doc: 

[20:14] <Geth> ¦ doc: Drop back to :solo testing when needed, remove the skip

[20:14] <Geth> ¦ doc: entirely when possible.

[20:14] <Geth> ¦ doc: We're not executing any of this code, only compiling it.

[20:14] <Geth> ¦ doc: review: https://github.com/perl6/doc/commit/abb6bb6082

[20:17] *** molaf joined
[20:18] *** p6bannerbot sets mode: +v molaf

[20:20] *** khisanth__ left
[20:20] <timotimo> [Coke]: it's sub calls

[20:20] <timotimo> just like

[20:20] <timotimo> m: say sin cos 5

[20:20] <camelia> rakudo-moar 41d2da095: OUTPUT: «0.2798733507685274␤»

[20:20] <timotimo> m: say sin cos

[20:20] <camelia> rakudo-moar 41d2da095: OUTPUT: «5===SORRY!5===␤Argument to "cos" seems to be malformed␤at <tmp>:1␤------> 3say sin cos7⏏5<EOL>␤Other potential difficulties:␤    Unsupported use of bare "cos"; in Perl 6 please use .cos if you meant to call it as a method on $_, or…»

[20:20] <timotimo> ^- syntactically correct, except for ... you know, that.

[20:23] *** lizmat left
[20:24] *** graphene left
[20:25] <masak> lizmat: wow. that version is even faster o.O

[20:25] *** graphene joined
[20:25] <masak> readability, performance. pick two :P

[20:25] *** jmaslak joined
[20:26] *** p6bannerbot sets mode: +v graphene

[20:26] <masak> this is exactly the reason I shared my gist in the first place. lizmat++

[20:26] <timotimo> :+1: :)

[20:26] <timotimo> how much faster?

[20:26] *** p6bannerbot sets mode: +v jmaslak

[20:27] <masak> ~0.5 seconds

[20:28] *** mowcat left
[20:29] *** mowcat joined
[20:30] *** p6bannerbot sets mode: +v mowcat

[20:30] *** lizmat joined
[20:30] *** p6bannerbot sets mode: +v lizmat

[20:32] <timotimo> i wonder if i see something interesting in the spesh log :)

[20:33] *** khisanth__ joined
[20:33] *** p6bannerbot sets mode: +v khisanth__

[20:38] <El_Che> masak: I pick cheap :)

[20:43] <masak> ..."that's us", as TimToady said once

[20:43] <El_Che> hehe

[20:46] <timotimo> thank you for picking me! i will not disappoint you out of malice!

[20:46] <lizmat> wonder why we haven't got a .fmt on Blob ?

[20:47] <timotimo> not entirely sure

[20:47] <lizmat> since we have one on List

[20:49] <timotimo> i've gotta go afk for just a moment, but can you try what happens when you have just one "next if" and a bunch of || statements instead of many "next if" in a row?

[20:54] <lizmat> seems to make a little difference: from .323 to .311 for me

[21:04] <timotimo> mhm

[21:04] <timotimo> every one of those ifs comes with a sink

[21:04] <timotimo> well, maybe not every one

[21:05] <TreyHarris> Was looking at an issue about a link in Mu.pod6 linking to index-entry-%25%24%25%2AOUT -- it appears that in most (can't say with certainty yet "all"--it certainly seems to be all ...index-entry links) in pod6 files where relative links have been url-encoded, the generated HTML is re-encoding. If the solution is "don't urlencode links", that's fantastic, I'm almost ready with a patch for that because I was

[21:05] <TreyHarris> playing with it here locally. But don't want to make a big global search-and-replace change like that without checking first. I mean, "L<$*OUT>" instead of "L<%24%2AOUT>" is great for readability if it works now, but I don't know if it's INTENDED to work now or if that itself is a bug.

[21:11] <TreyHarris> It looks like that search-and-replace would close at least four open issues on perl6/doc GitHub

[21:12] <lizmat> timotimo: a --profile gives 13% to List.sink in the version with all the next's

[21:12] <TreyHarris> But htmlify is a bit of a beast and I can read it well enough to see it is doing some special handling of urlencoding and of "index-entry" links, but I don't totally understand what it's doing

[21:13] <lizmat> in the version with the || this has dropped to 383 procent

[21:13] <lizmat> so it looks like each next is causing a call to List.sink ??

[21:18] <TreyHarris> Somebody ping my name if they have something to suggest; in the meantime I'll package it as a pull request rather than patching directly. That'll take me awhile, I'm sure, since I need to figure out if string replacement is sufficient or if I need to actually parse POD to get this tractable--looks like '%25' (urlencoded '%') appears >300 times in the HTML when it should only actually appear a couple dozen

[21:18] <TreyHarris> times at most, so I'll need a few edit-build cycles to get this done.

[21:24] *** graphene left
[21:26] *** graphene joined
[21:27] *** p6bannerbot sets mode: +v graphene

[21:29] *** kurahaupo left
[21:29] *** kurahaupo joined
[21:30] *** p6bannerbot sets mode: +v kurahaupo

[21:31] *** rindolf left
[21:34] <TreyHarris> 7. I believe '%25' should actually appear in the final HTML exactly 7 times. Err... 7, plus or minus one, anyway.

[21:36] <timotimo> lizmat: yeah, that's what it looked like from the spesh log; though be aware that List.sink is extremely small and oftentimes gets inlined, so the time measured there is probably 95% measuring overhead

[21:38] <lizmat> timotimo: yeah

[21:39] *** vike left
[21:47] *** dct left
[21:48] *** pecastro left
[21:52] *** kensanata left
[21:56] *** random_yanek left
[21:57] *** vike joined
[21:58] *** random_yanek joined
[21:58] *** random_yanek left
[21:58] *** p6bannerbot sets mode: +v vike

[22:00] *** random_yanek joined
[22:01] <TreyHarris> Ugh, the doc tests _are_ quite flappy. I need to revert back to master of a few days ago and just be sure I'm not regressing.

[22:01] *** p6bannerbot sets mode: +v random_yanek

[22:08] *** Kaypie is now known as Kaiepi

[22:09] <Kaiepi> my grant proposal is now in review! http://news.perlfoundation.org/2018/12/grant-proposal-improve-perl-6-.html

[22:09] <yoleaux> 02:23Z <AlexDaniel> Kaiepi: so what's the situation with R#2520 ? Was it ok before and now it's broken? If so, can you bisect it maybe?

[22:09] <synopsebot> R#2520 [open]: https://github.com/rakudo/rakudo/issues/2520 [⚠ blocker ⚠] Trace traps and double frees when building Rakudo

[22:11] *** zakharyas left
[22:11] <Geth> ¦ doc: 3b53e060fc | (Trey Harris)++ | doc/Type/Mu.pod6

[22:11] <Geth> ¦ doc: Fix link to $*OUT in Mu

[22:11] <Geth> ¦ doc: 

[22:11] <Geth> ¦ doc: Fixes #2511.

[22:11] <Geth> ¦ doc: review: https://github.com/perl6/doc/commit/3b53e060fc

[22:11] <synopsebot> Link: https://doc.perl6.org/type/Mu

[22:12] *** yqt left
[22:16] <AlexDaniel> Kaiepi: I want this: https://github.com/MoarVM/MoarVM/pull/659 :)

[22:17] <Kaiepi> if skarsnik won't then i will ;)

[22:17] <AlexDaniel> please

[22:17] <AlexDaniel> :)

[22:17] <AlexDaniel> this was open for like more than a year

[22:18] <AlexDaniel> I guess I was supposed to review and merge, but then it slipped through the cracks…

[22:20] <AlexDaniel> Kaiepi: I left a comment, I hope it is approved

[22:21] <Kaiepi> thanks :)

[22:21] <jmaslak> I also left comment, it's definitely important work.

[22:21] <AlexDaniel> Kaiepi: here's some feedback though

[22:21] <AlexDaniel> Kaiepi: I don't know how revolutionary your changes will be, but I'm pretty sure that v6.d code must keep working no matter what you do…

[22:21] <AlexDaniel> Kaiepi: I know that it doesn't sound like your life will be easy, but…

[22:22] <AlexDaniel> rakudo with 6.d is going to end up in debian stable, I think… and being able to install perl6 from the distro repos is extremely important I think

[22:23] <AlexDaniel> soooo yeah, we should be even more careful, although we already are

[22:23] *** lucasb joined
[22:23] *** p6bannerbot sets mode: +v lucasb

[22:24] <AlexDaniel> Kaiepi: so when you say “Some of these features are breaking changes and will need to wait until 6.e.” what do you mean exactly?

[22:25] <AlexDaniel> also, what's the point of having IO::Socket::INET ? Does it provide something that IO::Socket::Async doesn't?

[22:26] <Kaiepi> at the moment, creating raw sockets

[22:26] <Kaiepi> but they can't be used without messing with nativecall

[22:26] <AlexDaniel> soooo maybe we should consider deprecating IO::Socket::INET altogether in 6.e?

[22:27] *** go|dfish left
[22:27] <Kaiepi> if it's possible to make raw sockets asynchronously, maybe

[22:32] <AlexDaniel> samcv: have you seen R#2268 ? Seems like “your” ticket :)

[22:32] <synopsebot> R#2268 [open]: https://github.com/rakudo/rakudo/issues/2268 [CONSENSUS] Optimization idea: `:i` adverb for `.contains`. Only `fc` chars per boyer-moore

[22:32] *** go|dfish joined
[22:32] *** p6bannerbot sets mode: +v go|dfish

[22:33] <lizmat> AlexDaniel: the nqp ops for that are already available, no?   so it's really a design question ?

[22:36] <AlexDaniel> lizmat: sorta, the point Zoffix makes is that if we optimize /:i foo/ enough then we wouldn't need to add :i adverb everywhere

[22:36] <AlexDaniel> and other simple anchored regexes

[22:36] <lizmat> true

[22:37] <lizmat> every time I looked at optimizing stuff in there, I got stumped by the need to create Match objects

[22:37] <lizmat> perhaps I should look at that more in detail...  :-)

[22:38] <AlexDaniel> what if instead we add an adverb to not create a Match object…

[22:38] <AlexDaniel> like inside the regex maybe?

[22:39] <masak> advent post scheduled

[22:39] <masak> good night, #perl6

[22:39] <lizmat> night masak 

[22:40] <AlexDaniel> like r:match-only/ foo /

[22:40] <AlexDaniel> or r:no-match-object/ foo /, whatever

[22:41] <AlexDaniel> there were many times when I wanted to match a regex but not reset $/

[23:00] <ryn1x> I just found a simplified library of libtiff called TinyTiff and am trying to write bindings for it with NativeCall. I have no experience with this and suck at c... can anyone help me get started? I have some basic structure laid out already and am just trying to call the first c function: https://github.com/ryn1x/Graphics-TinyTIFF

[23:01] <ryn1x> I think my first issue is that I don't know how to write a cmake file to properly install the library. I made this from an example: https://github.com/ryn1x/TinyTIFF/blob/47f8a5fdecba794fe01885c35e93961116d3d122/CMakeLists.txt

[23:02] <ryn1x> and it does install a file called libtinytiff.so in my /usr/lib, but I don't think it is right because when I run my test from perl I get: "Cannot locate native library 'libtinytiff.so': libtinytiff.so: cannot open shared object file: No such file or directory"

[23:03] *** daotoad joined
[23:03] *** p6bannerbot sets mode: +v daotoad

[23:04] <El_Che> ryn1x: try native("tinytiff")

[23:05] <El_Che> (in the case you're hardcoding the lib prefix and the .so suffix

[23:05] <El_Che> )

[23:08] <ryn1x> oops.. I didn't have LD_LIBRARY_PATH set. I now get: Cannot locate symbol 'TinyTIFFReader_open' in native library 'libtinytiff.so'

[23:08] *** mowcat left
[23:08] <ryn1x> so it sees the shared library I made now, but I am very skeptical that I made it right... I have no idea what I am doing with cmake...

[23:09] *** mowcat joined
[23:10] *** p6bannerbot sets mode: +v mowcat

[23:13] *** dct joined
[23:13] *** p6bannerbot sets mode: +v dct

[23:15] *** cpup left
[23:15] *** cpup joined
[23:16] *** p6bannerbot sets mode: +v cpup

[23:23] *** sena_kun left
[23:31] *** go|dfish left
[23:33] <timotimo> you can inspect the library with commands like "nm"

[23:34] *** go|dfish joined
[23:34] *** p6bannerbot sets mode: +v go|dfish

[23:37] <ryn1x> timotimo: thanks! I can see there is a "0000000000002d10 T _Z19TinyTIFFReader_openPKc" in there... looks like the function I want... maybe I'll compare that to what it looks like if I make the .so with gcc manually and not cmake..

[23:41] <timotimo> hum. is it C or is it C++?

[23:41] <ryn1x> c++

[23:41] <timotimo> in that case, you'll probably need to match the name mangling

[23:42] <timotimo> i know not why/how non-methods are name-mangled in cpp

[23:45] <ryn1x> timotimo: oh wow... I used  is symbol("_Z19TinyTIFFReader_openPKc") and it worked!

[23:45] <ryn1x> can I rely on that mangled name being the same on somone else's system though?

[23:46] *** sno left
[23:48] <timotimo> no

[23:49] <timotimo> it's different per compiler afaik

[23:49] <timotimo> NativeCall can do it for methods reliably by guessing which of the known formats it could be

[23:49] <timotimo> but i don't know quite how to tell it to do that without a class involved

[23:50] <jmaslak> https://isocpp.org/wiki/faq/mixing-c-and-cpp#call-cpp

[23:50] <ryn1x> c++ class or perl6 class?

[23:52] <jmaslak> The extern "C" in that FAQ entry shows how you can define something in C++ that will follow C calling/naming conventions in the library.  I'm sure there are all sorts of limitations with it, but for a straight function call it may be sufficient.

[23:53] <ryn1x> jmaslak: Thanks! I will look over that.

[23:56] *** liamr4c joined
[23:57] *** p6bannerbot sets mode: +v liamr4c

[23:59] *** w_richard_w joined
