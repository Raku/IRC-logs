[00:03] *** kurahaupo_ joined
[00:05] *** kurahaupo left
[00:05] *** kurahaupo_ is now known as kurahaupo

[00:06] *** kurahaupo left
[00:12] *** Psyche^ joined
[00:14] <lue> .ask jnthn is there a technical reason the NQP Configure[VM].pl files aren't folded into one Configure.pl file, or is just a case of priorities?

[00:14] <yoleaux> lue: I'll pass your message to jnthn.

[00:16] *** Psyche^_ left
[00:26] *** fuad left
[00:28] *** xinming left
[00:29] *** xinming joined
[00:35] *** SmokeMachine left
[00:37] *** ivanshmakov left
[00:56] *** rpr223 joined
[01:04] *** ivanshmakov joined
[01:05] <diakopter> lue: Yes we would like to merge them.. 

[01:06] *** benabik left
[01:22] *** benabik joined
[01:25] *** FROGGS_ joined
[01:28] *** FROGGS left
[01:31] *** BenGoldberg joined
[01:45] *** colomon left
[01:45] *** SmokeMachine joined
[01:46] *** ivanshmakov left
[01:47] *** ivanshmakov joined
[01:48] *** xenoterracide__ left
[01:59] *** ivanshmakov left
[02:00] *** retupmoca joined
[02:00] *** ivanshmakov joined
[02:03] *** btyler joined
[02:06] *** colomon joined
[02:14] *** ivanshmakov left
[02:18] *** ivanshmakov joined
[02:33] *** ivanshmakov left
[02:35] *** ivanshmakov joined
[02:42] *** retupmoca left
[02:42] *** sizz_ joined
[02:42] *** sizz left
[02:51] *** ivanshmakov left
[02:53] *** retupmoca joined
[02:54] *** xenoterracide__ joined
[02:56] *** ivanshmakov joined
[02:59] *** cognominal left
[03:11] *** colomon left
[03:14] *** ivanshmakov left
[03:16] *** colomon joined
[03:22] *** ivanshmakov joined
[03:24] *** zakharyas joined
[03:49] *** preflex_ joined
[03:49] *** ChanServ sets mode: +v preflex_

[03:50] *** preflex left
[03:50] *** preflex_ is now known as preflex

[03:52] <retupmoca> I can't get panda to bootstrap with rakudo 2013.09: https://gist.github.com/retupmoca/6957964

[03:52] <retupmoca> I'm just running ./bootstrap.pl - should I be doing something different?

[03:56] <dalek> perl6-roast-data: 711a2a8 | coke++ | / (2 files):

[03:56] <dalek> perl6-roast-data: today (automated commit)

[03:56] <dalek> perl6-roast-data: review: https://github.com/coke/perl6-roast-data/commit/711a2a875f

[04:08] *** ivanshmakov left
[04:14] *** ivanshmakov joined
[04:16] <[Coke]> nqp: say(nqp::index("this", "h+", 1));

[04:16] <camelia> nqp: OUTPUT«-1␤»

[04:17] <[Coke]> nqp: say(nqp::index("this", "h", 1));

[04:17] <camelia> nqp: OUTPUT«1␤»

[04:17] <[Coke]> nqp: say(nqp::index("this", "h", 1,2,3,4,5,6));

[04:17] <camelia> nqp: OUTPUT«Error while compiling block : Error while compiling op call (source text: "nqp::index(\"this\", \"h\", 1,2,3,4,5,6)"): Error while compiling op index (source text: "nqp::index(\"this\", \"h\", 1,2,3,4,5,6)"): Error while compiling op indexfrom: Operation 'indexfrom' requ…»

[04:17] <[Coke]> nqp-jvm: say(nqp::index("this", "h", 1,2,3,4,5,6));

[04:17] <camelia> nqp-jvm: OUTPUT«Operation 'indexfrom' requires 3 operands␤  in  (src/stage2/gen/QAST.nqp:319)␤  in  (src/stage2/gen/QAST.nqp:227)␤  in compile_op (src/stage2/gen/QAST.nqp:227)␤  in as_jast (src/stage2/gen/QAST.nqp:3683)␤  in as_jast (src/stage2/gen/QAST.nqp:2958)␤  in  (…»

[04:19] <BenGoldberg> nqp-jvm: say(nqp::index("this", "h", (1,2,3,4,5,6)));

[04:19] <camelia> nqp-jvm: OUTPUT«-1␤»

[04:19] <BenGoldberg> Parens help :)

[04:20] <BenGoldberg> nqp-m: say(nqp::index("this", "h", 1,2,3,4,5,6));

[04:20] <camelia> nqp-moarvm: OUTPUT«Bytecode validation error at offset 22, instruction 4:␤register operand index 50 out of range 0..9␤»

[04:20] <BenGoldberg> :(

[04:22] <[Coke]> that seems LTA, but I think in previous cases, the answer has been "don't do that, then."

[04:23] * [Coke] wonders why the asymmetry between index and rindex opcodes in nqp.

[04:29] *** ivanshmakov left
[04:30] *** ivanshmakov joined
[04:41] <dalek> nqp: 50407c1 | coke++ | docs/ops.markdown:

[04:41] <dalek> nqp: document more opcodes.

[04:41] <dalek> nqp: review: https://github.com/perl6/nqp/commit/50407c10d9

[04:43] <[Coke]> updated https://gist.github.com/coke/6799633

[04:48] *** ivanshmakov left
[04:49] *** ivanshmakov joined
[04:52] * [Coke] asks folks to pick an op from that gist and write up a sentence on what it does so I can throw that into the docs. Danke.

[05:08] *** ivanshmakov left
[05:10] *** ivanshmakov joined
[05:31] *** ivanshmakov left
[05:33] *** ivanshmakov joined
[05:41] *** varna joined
[05:47] <dalek> nqp: 67d8988 | moritz++ | docs/ops.markdown:

[05:47] <dalek> nqp: [opcode docs] harmonize header levels

[05:47] <dalek> nqp: review: https://github.com/perl6/nqp/commit/67d8988626

[05:47] <dalek> nqp: 68d0dbd | moritz++ | docs/ops.markdown:

[05:47] <dalek> nqp: [doc] document nqp::getattr

[05:47] <dalek> nqp: review: https://github.com/perl6/nqp/commit/68d0dbda57

[05:47] *** darutoko joined
[05:53] <dalek> nqp: a6a00f1 | moritz++ | docs/ops.markdown:

[05:53] <dalek> nqp: [docs] document nqp::bindattr

[05:53] <dalek> nqp: review: https://github.com/perl6/nqp/commit/a6a00f15d1

[05:54] *** ivanshmakov left
[05:55] *** ivanshmakov joined
[05:55] <moritz> nqp: nqp::call(say, 42, 'foo')

[05:55] <camelia> nqp: OUTPUT«invoke() not implemented in class 'NQPMu'␤current instr.: '' pc 99 ((file unknown):41511373) (/tmp/YRFI0So5pv:1)␤»

[05:55] <moritz> nqp: nqp::call(&say, 42, 'foo')

[05:55] <camelia> nqp: OUTPUT«42foo␤»

[05:57] <moritz> nqp: say(nqp::can(42, 'foo'))

[05:57] <camelia> nqp: OUTPUT«0␤»

[05:58] <moritz> nqp: say(nqp::can(NQPMu, 'bless'))

[05:58] <camelia> nqp: OUTPUT«1␤»

[05:59] <dalek> nqp: a7d7169 | moritz++ | docs/ops.markdown:

[05:59] <dalek> nqp: [docs] document nqp::create, correct nqp::can docs

[05:59] <dalek> nqp: review: https://github.com/perl6/nqp/commit/a7d7169f6d

[06:02] <moritz> nqp: my $x; nqp::bind($x, '42'); say $x

[06:02] <camelia> nqp: OUTPUT«Confused at line 2, near "say $x"␤current instr.: 'panic' pc 14748 (src/stage2/gen/NQPHLL.pir:5229) (src/stage2/gen/NQPHLL.nqp:279)␤»

[06:02] <moritz> nqp: my $x; nqp::bind($x, '42'); say($x)

[06:02] <camelia> nqp: OUTPUT«42␤»

[06:02] <moritz> nqp: nqp::bind(42, 23)

[06:02] <camelia> nqp: OUTPUT«Error while compiling block : Error while compiling op bind (source text: "nqp::bind(42, 23)"): First child of a 'bind' op must be a QAST::Var␤current instr.: '' pc 55082 (src/stage2/QAST.pir:20123) (src/stage2/QAST.nqp:3316)␤»

[06:10] *** varna left
[06:11] <dalek> nqp: 0cde6db | moritz++ | docs/ops.markdown:

[06:11] <dalek> nqp: [docs] bind, callmethod

[06:11] <dalek> nqp: review: https://github.com/perl6/nqp/commit/0cde6dbf05

[06:14] *** ivanshmakov left
[06:14] *** kaare_ joined
[06:15] *** ivanshmakov joined
[06:18] *** dwarring joined
[06:35] *** btyler left
[06:35] <moritz> oh my. Now I was about to write a small script which turns the ops.markdown into HTML, adds some meta info (version, where the file comes from) and run it periodically

[06:36] <moritz> and then I realized that github does that all for us already, and linking to https://github.com/perl6/nqp/blob/master/docs/ops.markdown is all it takes :-)

[06:38] <[Coke]> moritz++: I've been documenting return value/exceptions based on java. If parrot is different, please mark the opcode as working differently across vms. (in which case we need to fix it.)

[06:38] <[Coke]> moritz++ for documenting things. Thanks!

[06:39] <[Coke]> would create be better written as create(Type $type) ?

[06:39] <[Coke]> (if it's not a type it throws an exception, I'm assuming.

[06:39] <[Coke]> ... and bed. moritz++ again.

[06:40] <japhb__> g'night, [Coke] 

[06:41] *** FROGGS[mobile] left
[07:08] *** BenGoldberg left
[07:09] *** aindilis left
[07:09] *** BenGoldberg joined
[07:11] <woolfy> oO(over 30 minutes of quiet)

[07:14] *** ssutch left
[07:16] <moritz> [Coke]: there is no type named Type

[07:17] <moritz> nqp-jvm: say(nqp::can(NQPMu, 'bless'))

[07:17] <camelia> nqp-jvm: OUTPUT«1␤»

[07:17] <moritz> nqp-jvm: say(nqp::can(NQPMu, 'blerg'))

[07:17] <camelia> nqp-jvm: OUTPUT«0␤»

[07:23] <moritz> nqp: say(nqp::sha1('foo'))

[07:23] <camelia> nqp: OUTPUT«0BEEC7B5EA3F0FDBC95D0DD47F3C5BC275DA8A33␤»

[07:44] *** xenoterracide__ left
[07:53] *** aindilis joined
[07:56] *** Ben_Goldberg joined
[07:57] *** BenGoldberg left
[07:59] *** itz joined
[08:09] *** kurahaupo joined
[08:09] *** kurahaupo left
[08:10] <masak> aloha on this fine Sunday, com-p6ers.

[08:12] *** FROGGS_ is now known as FROGGS

[08:13] <FROGGS> morning

[08:16] *** Rotwang joined
[08:20] *** dansamo joined
[08:32] *** aindilis left
[08:36] *** aindilis joined
[08:38] *** spider-mario joined
[08:39] *** kurahaupo joined
[08:44] *** kurahaupo left
[08:56] *** xenoterracide__ joined
[09:02] *** spider-mario_ joined
[09:02] *** spider-mario_ left
[09:02] *** spider-mario_ joined
[09:02] *** spider-mario left
[09:03] *** spider-mario_ is now known as spider-mario

[09:09] *** berekuk left
[09:09] *** dmol1 left
[09:10] *** berekuk joined
[09:16] *** dmol joined
[09:28] *** wsri joined
[09:29] *** SamuraiJack_ joined
[09:29] *** SamuraiJack_ left
[09:33] *** grondilu joined
[09:36] <dalek> panda: ae8936b | moritz++ | lib/Panda/Common.pm:

[09:36] <dalek> panda: remove deprecated * from bless

[09:36] <dalek> panda: review: https://github.com/tadzik/panda/commit/ae8936bcc4

[09:41] <moritz> tadzik: seems like panda bootstrap is broken :( "build stage failed for Shell::Command: Failed building lib/Shell/Command.pm" without any visible error message before

[09:45] <arnsholt> jnthn: No objections to merging nativecall-jvm into master on my part

[09:54] <dalek> nqp: 72427c7 | (Tobias Leich)++ | / (11 files):

[09:54] <dalek> nqp: update stage0, map bool_I and isbig_I, add bool_I's tests

[09:54] <dalek> nqp: 

[09:54] <dalek> nqp: moritz++

[09:54] <dalek> nqp: review: https://github.com/perl6/nqp/commit/72427c7f1f

[09:58] *** xenoterracide__ left
[10:02] <dalek> nqp: d3790e8 | moritz++ | t/nqp/60-bigint.t:

[10:02] <dalek> nqp: import bigint bool_I tests from moarvm/nqp-cc

[10:02] <dalek> nqp: review: https://github.com/perl6/nqp/commit/d3790e8608

[10:02] <dalek> nqp: fad34d4 | moritz++ | src/vm/moar/ (10 files):

[10:02] <dalek> nqp: Merge branch 'master' of git://github.com/perl6/nqp

[10:02] <dalek> nqp: review: https://github.com/perl6/nqp/commit/fad34d4f91

[10:20] *** Ben_Goldberg left
[10:27] *** Rotwang left
[10:30] *** woolfy left
[10:31] *** woolfy joined
[10:32] *** cognominal joined
[10:35] <diakopter> why can I never find the man-or-boy test written in nqp

[10:36] *** denis_boyun joined
[10:36] <moritz> because whoever wrote it didn't check it into nqp as a test, and put a 'This is the famous man-or-boy test' comment in front of it

[10:36] <moritz> then a simple 'git grep boy' would find it withing 2s

[10:39] <diakopter> so.. where is it

[10:39] <nwc10> um, I used google and the top hitis https://github.com/japhb/perl6-bench/blob/master/nqp/rc-man-or-boy-test

[10:40] <diakopter> sure enough :)

[10:41] <diakopter> except that's the slow one that creates $B needlessly most of the time

[10:41] <diakopter> oh I remember where I put it

[10:41] <diakopter> in the irclog

[10:44] <diakopter> nqp-m: sub A($k, $x1, $x2, $x3, $x4, $x5) { return $x4() + $x5() if $k <= 0; my $B := sub () { $k := $k - 1; return A($k, $B, $x1, $x2, $x3, $x4) }; return $B() }; sub K($n) { sub () { $n } }; my $s := nqp::time_n; say(A(18, K(1), K(-1), K(-1), K(1), K(0) )); say(nqp::time_n - $s);

[10:44] <camelia> nqp-moarvm: OUTPUT«Bytecode validation error at offset 22, instruction 4:␤register operand index 50 out of range 0..9␤»

[10:44] <diakopter> nqp-m: say(1)

[10:44] <camelia> nqp-moarvm: OUTPUT«Bytecode validation error at offset 22, instruction 4:␤register operand index 50 out of range 0..9␤»

[10:44] <diakopter> goo

[10:44] <diakopter> boo

[10:45] <FROGGS> I guess it doesn't know that it needs to rebuild nqp

[10:45] <diakopter> ops

[10:45] <diakopter> oops

[10:46] * diakopter hopes "someone else" fixes it before I get back from breakfast

[10:49] <diakopter> nqp: sub A($k, $x1, $x2, $x3, $x4, $x5) { return $x4() + $x5() if $k <= 0; my $B := sub () { $k := $k - 1; return A($k, $B, $x1, $x2, $x3, $x4) }; return $B() }; sub K($n) { sub () { $n } }; my $s := nqp::time_n; say(A(18, K(1), K(-1), K(-1), K(1), K(0) )); say(nqp::time_n - $s);

[10:49] <camelia> nqp: OUTPUT«maximum recursion depth exceeded␤current instr.: '' pc 296 ((file unknown):74239404) (/tmp/aJmEIZJ8f7:1)␤»

[10:50] <diakopter> nqp: sub A($k, $x1, $x2, $x3, $x4, $x5) { return $x4() + $x5() if $k <= 0; my $B := sub () { $k := $k - 1; return A($k, $B, $x1, $x2, $x3, $x4) }; return $B() }; sub K($n) { sub () { $n } }; my $s := nqp::time_n; say(A(15, K(1), K(-1), K(-1), K(1), K(0) )); say(nqp::time_n - $s);

[10:50] <camelia> nqp: OUTPUT«maximum recursion depth exceeded␤current instr.: '' pc 296 ((file unknown):52624812) (/tmp/BLAU0XeTal:1)␤»

[10:51] *** pecastro joined
[10:59] *** pecastro left
[11:03] *** SamuraiJack_ joined
[11:06] *** pecastro joined
[11:06] *** denis_boyun left
[11:08] <diakopter> WOW man-or-boy spends >51% of its time in the GC at input 18

[11:08] <diakopter> *awesome* GC optimization opportunity

[11:21] <masak> sounds like.

[11:21] <masak> who knew man-or-boy would be useful in so many ways? :)

[11:31] <masak> the "Heisenberg's uncertainty joke" needs its own joke category: https://twitter.com/patrickdijusto/status/388313018175483905

[11:33] <jnthn> afternoon, #perl6

[11:33] <yoleaux> 00:14Z <lue> jnthn: is there a technical reason the NQP Configure[VM].pl files aren't folded into one Configure.pl file, or is just a case of priorities?

[11:33] <yoleaux> 02:23Z <JimmyZ> jnthn: I got another backstrace: https://gist.github.com/zhuomingliang/6957379

[11:34] <jnthn> Sadly, those backtraces are largely useless for finding the actual problem...

[11:34] <diakopter> erm

[11:34] <jnthn> (Since it tends to have gone wrong a while back)

[11:35] <diakopter> why does one view show 51% in the gc

[11:35] <diakopter> but another view shows only 8%

[11:37] <jnthn> diakopter: lies, dammed lies, statistics? :)

[11:39] <dalek> nqp: 6aba3c2 | (Tobias Leich)++ | src/vm/moar/QAST/QASTRegexCompilerMAST.nqp:

[11:39] <dalek> nqp: remove useless condition, BenGoldberg++

[11:39] <dalek> nqp: review: https://github.com/perl6/nqp/commit/6aba3c2263

[11:41] <jnthn> arnsholt: merging

[11:43] <jnthn> BenGoldberg++ # nice catch

[11:44] *** rafl joined
[11:44] *** xinming left
[11:44] <dalek> Heuristic branch merge: pushed 23 commits to nqp by jnthn

[11:45] *** xinming joined
[11:47] <jnthn> Gee, we've been keeping busy. 218 commits to the NQP repo sice the last monthly release...

[11:52] <dalek> rakudo/nom: e22ac2a | jnthn++ | tools/build/NQP_REVISION:

[11:52] <dalek> rakudo/nom: Get an NQP with basic NativeCall support for JVM.

[11:52] <dalek> rakudo/nom: 

[11:52] <dalek> rakudo/nom: Also has a fix that lets us write NativeCall's array stuff in a way

[11:52] <dalek> rakudo/nom: that is more portable between backends.

[11:52] <dalek> rakudo/nom: review: https://github.com/rakudo/rakudo/commit/e22ac2aa6d

[11:53] <dalek> zavolaj: eeee9aa | jnthn++ | lib/NativeCall.pm6:

[11:53] <dalek> zavolaj: Use standard nqp::atpos ops.

[11:53] <dalek> zavolaj: 

[11:53] <dalek> zavolaj: These are now supported properly on 6model array REPR things on Parrot

[11:53] <dalek> zavolaj: also.

[11:53] <dalek> zavolaj: review: https://github.com/jnthn/zavolaj/commit/eeee9aa1e7

[11:53] <jnthn> eeee!

[11:54] <jnthn> arnsholt: OK, all done. Happy hacking ;-)

[11:56] *** xinming left
[11:56] *** kaare_ left
[12:01] *** xinming joined
[12:15] *** FOAD left
[12:16] *** FOAD joined
[12:17] *** woosley1 joined
[12:17] *** woosley1 left
[12:44] <GlitchMr> rn: my Int $int = 7; if 0 { $int.Qet }

[12:44] <camelia> rakudo e22ac2, niecza v24-98-g473bd20: ( no output )

[12:44] <GlitchMr> It would be nice if error reporting would exist here.

[12:48] <jnthn> GlitchMr: that's hard to do in general

[12:48] <jnthn> GlitchMr: Because what if you did an augment elsewhere, etc.

[12:48] <GlitchMr> hm, right

[12:54] *** colomon left
[12:55] *** SamuraiJack_ left
[12:57] *** colomon joined
[13:01] *** pernatiy left
[13:02] <tadzik> moritz: hmm, I'll take a look at it

[13:02] <tadzik> (hello #perl6)

[13:04] <jnthn> o/ tadzik 

[13:05] <hoelzro> ahoy tadzik 

[13:05] <masak> GlitchMr: methods are late-bound. very different from subs.

[13:06] *** Rotwang joined
[13:10] <masak> "Any sufficiently analyzed magic is indistinguishable from SCIENCE!" http://www.girlgeniusonline.com/comic.php?date=20081205

[13:12] <Rotwang> I like all the characters have oversized breasts

[13:14] *** pernatiy joined
[13:14] <masak> didn't even think of that.

[13:15] *** colomon left
[13:22] *** colomon joined
[13:26] <dalek> nqp: fb2dbb0 | jnthn++ | src/vm/moar/QAST/QASTOperationsMAST.nqp:

[13:26] <dalek> nqp: Map hllize/hllizefor on MoarVM.

[13:26] <dalek> nqp: review: https://github.com/perl6/nqp/commit/fb2dbb0b57

[13:31] *** spider-mario left
[13:35] *** spider-mario joined
[13:39] <dalek> rakudo/moar-support: cc02954 | jnthn++ | .gitignore:

[13:39] <dalek> rakudo/moar-support: Add .moarvm to .gitignore.

[13:39] <dalek> rakudo/moar-support: review: https://github.com/rakudo/rakudo/commit/cc0295428f

[13:39] <dalek> rakudo/moar-support: 2461a84 | jnthn++ | src/vm/moar/Perl6/Ops.nqp:

[13:39] <dalek> rakudo/moar-support: Stub a Perl6::Ops.

[13:39] <dalek> rakudo/moar-support: 

[13:39] <dalek> rakudo/moar-support: It's mostly a commented out version of the JVM one. Need to get the

[13:39] <dalek> rakudo/moar-support: extops infrastructure in place to start filling this out.

[13:39] <dalek> rakudo/moar-support: review: https://github.com/rakudo/rakudo/commit/2461a84a27

[13:42] *** iSlug joined
[13:44] *** iSlug left
[13:48] *** aindilis left
[13:51] *** kaare_ joined
[13:54] *** denis_boyun joined
[14:14] *** PacoAir joined
[14:20] <arnsholt> jnthn: Cheerio!

[14:21] *** dmol left
[14:22] *** zakharyas left
[14:26] <jnthn> :)

[14:27] <arnsholt> jnthn: I get 8 failed tests in file-ops.t and one in jvm/02-pipes.t, that expected?

[14:29] *** ajr joined
[14:29] *** ajr is now known as Guest64741

[14:29] <jnthn> arnsholt: Think I've seen those too

[14:30] <jnthn> I'd thought they were Windows-specific though...

[14:32] <arnsholt> And it looks like make install on JVM doesn't work properly here

[14:32] <arnsholt> Can't run NQP from outside my nqp directory

[14:34] <arnsholt> Oh, right. I have to run nqp/install/bin/nqp, not nqp/nqp

[14:35] *** skids left
[14:37] <hoelzro> jnthn: do you have a TODO list for Mokudo?

[14:37] <timotimo> roarkudo

[14:38] <hoelzro> hmm

[14:38] <hoelzro> that's tough.

[14:38] <arnsholt> I guess Mokudo should be the name during Movember, and Roarkudo the rest of the year =)

[14:39] <jnthn> hoelzro: Get the compiler to build, get extops in place, get the MOP to build, get the bootstrap to build... :)

[14:39] <jnthn> hoelzro: Though at the moment Actions seems to get miscompiled

[14:40] <timotimo> i still have no clue why i can't build nqp on moar; there's some misparse going on

[14:41] <jnthn> timotimo: Yeah, that's osme kind of memory corruption bug

[14:41] <timotimo> most probably

[14:42] <timotimo> oh, hold on

[14:42] <timotimo> something changed

[14:43] <timotimo> false alarm, i'm still suffering from the bug

[14:43] <[Coke]> moritz: I know there is no type named type. Please read the top of the docs file. if you want to rework everything to use real perl6 types and signatures, that's fine.

[14:44] <arnsholt> jnthn: Did you try to run the Zavolaj test suite using Rakudo/JVM?

[14:44] <jnthn> arnsholt: No, I just ran the win32 API call example

[14:44] <arnsholt> 'k

[14:44] <jnthn> arnsholt: Trouble with the test suite is that it needs a C compiler, iirc

[14:45] <arnsholt> Yep

[14:45] <jnthn> timotimo: Compiler? GCC?

[14:45] <arnsholt> I just realized =)

[14:45] <timotimo> yes, gcc

[14:45] <timotimo> gcc (Ubuntu/Linaro 4.7.3-1ubuntu1) 4.7.3

[14:46] <arnsholt> Previously we've been able to get cc and friends from $*VM<config>, but that's not set on JVM, of course >.<

[14:47] <jnthn> timotimo: How good are you with gdb?

[14:47] <timotimo> i can sort of kind of handle it

[14:47] <timotimo> i don't have much experience, but i kind of know what commands exist

[14:48] <jnthn> Do you know how to set breakpoints?

[14:48] <timotimo> yes

[14:48] <timotimo> i just need to know where ;)

[14:48] <diakopter> timotimo: have you tried completely separate/fresh clones?

[14:49] <timotimo> i can try that, sure

[14:49] <jnthn> OK, the way I'm looking into these is putting a breakpoint on the first statement in orchestrate.c:run_gc

[14:49] <jnthn> line 262 or so

[14:49] <diakopter> "these"?

[14:49] <jnthn> This will break every time we are doing a GC run

[14:49] <jnthn> diakopter: missing MVMROOT 

[14:50] <diakopter> Rotwang: welcome to comics?

[14:50] <diakopter> Rotwang: erm, art in general?

[14:50] <JimmyZ>  timotimo: I got the same errot

[14:50] <JimmyZ> *error

[14:50] <jnthn> timotimo: If when it stops there you bt, you'll see where we are at that point in time

[14:50] <colomon> diakopter, Rotwang: certainly Phil Foglio comics, at any rate...

[14:50] <hoelzro> hmm

[14:51] <hoelzro> Moar NQP takes 2GB to build?

[14:51] <diakopter> until yesterday

[14:51] <jnthn> hoelzro: Only if you haven't updated your Moar recently :)

[14:51] <jnthn> hoelzro: If you have it will max out at 160MB or so :)

[14:51] <jnthn> We fixed a, uh, leak. :)

[14:51] <hoelzro> I just updated Moar =/

[14:51] <colomon> \o/

[14:51] <hoelzro> hmm

[14:51] <hoelzro> nvm

[14:51] <jnthn> Did you make install it to the place your NQP is looking?

[14:51] <hoelzro> moar commits!

[14:52] <timotimo> on host07 i can't build the nqp either, but i can debug that later

[14:53] <diakopter> timotimo: what are your exact configure lines

[14:54] <timotimo> perl Configure.pl for moar and perl ConfigureMoar.pl --prefix=../ for nqp

[14:54] <timotimo> actually --prefix=. for moar and ../ for nqp

[14:55] <diakopter> but..

[14:55] <diakopter> you have nqp checked out under moar?

[14:55] <timotimo> yes

[14:55] <diakopter> under "nqp"?

[14:56] <diakopter> oh

[14:56] <timotimo> yes

[14:56] <diakopter> your problem is you need to install somewhere other than the root of moar

[14:56] <timotimo> jnthn: i've set up the break point, but i'm not sure what i should be looking for

[14:56] <timotimo> i ... do?

[14:57] <hoelzro> hmm

[14:57] <diakopter> yes, try ../install for moar and ../../install for nqp

[14:57] <jnthn> diakopter: I'm not sure that's a huge problem, fwiw

[14:57] <jnthn> diakopter: At lesat, I can't think waht it breaks...

[14:57] <diakopter> it's overwriting under lib/ I think

[14:57] <jnthn> oh...

[14:57] <jnthn> yeah, point

[14:57] <timotimo> trying with a separate prefix now

[14:57] <timotimo> i still get that error

[14:58] <diakopter> what error, with what command

[14:58] <timotimo> Starting program: /home/timo/build/MoarVM/nqp/install/bin/moar --libpath=src/vm/moar/stage0 src/vm/moar/stage0/nqp.moarvm --bootstrap --module-path=src/stage1 --setting-path=src/stage1 --setting=NQPCORE --no-regex-lib --target=mbc --output=src/stage1/QAST.moarvm src/stage1/gen/QAST.nqp

[14:58] <hoelzro> yay!

[14:58] <diakopter> paste the configure and make lines

[14:58] <timotimo> Routine declaration requires a signature at line 4107, near "(MAST::Nod"

[14:58] <hoelzro> memory usage is better =)

[14:58] *** skids joined
[14:59] <timotimo> moar: perl Configure.pl --prefix=nqp/install && make all install

[14:59] <timotimo> nqp: perl ConfigureMoar.pl --prefix=install && make all

[14:59] <camelia> nqp: OUTPUT«Confused at line 2, near "perl Confi"␤current instr.: 'panic' pc 14748 (src/stage2/gen/NQPHLL.pir:5229) (src/stage2/gen/NQPHLL.nqp:279)␤»

[14:59] <timotimo> hehe

[14:59] <diakopter> what OS is this?

[14:59] <diakopter> and what compiler?

[15:00] *** LlamaRider joined
[15:00] <timotimo> this is linux mint based on ubuntu, the compiler is a gcc (Ubuntu/Linaro 4.7.3-1ubuntu1) 4.7.3

[15:01] <diakopter> 32-bi or 64-bit

[15:01] <diakopter> can you try fresh checkouts that aren't under each other and aren't installing to each other's directories?

[15:01] *** cognominal left
[15:02] <timotimo> 64bit

[15:02] <[Coke]> moritz++ # docbugfixing

[15:03] <timotimo> the checkouts were fresh. i'll make new ones completely separately

[15:05] <diakopter> also, is there an nqp in your path?

[15:05] <diakopter> (shouldn't be)

[15:05] <timotimo> there is a parrot nqp in my path

[15:06] <timotimo> making the prefix completely separate seems to have helped

[15:08] <timotimo> i get a working nqp from that

[15:08] <diakopter> yay

[15:08] <timotimo> that's an annoying way to break :(

[15:08] <hoelzro> anyone have a ConfigureMoar.pl for Rakudo?

[15:09] <diakopter> jnthn has a moar-support branch

[15:10] <hoelzro> ah, I should've thought to look at branches, thanks!

[15:13] <hoelzro> is building Rakudo with Moar supposed to segfault?

[15:13] <hoelzro> I mean, is that common?

[15:14] <jnthn> hoelzro: We've only had a ConfigureMoar for like, 48 hours, and it's only got further than the 2nd file for me in the last 3 hours :)

[15:14] <jnthn> hoelzro: So we've no idea what's common yet.

[15:14] <hoelzro> ok, just checking

[15:14] <jnthn> You're probably the second person after me to try this...

[15:14] <jnthn> Where does it segv?

[15:14] <hoelzro> /home/rob/.mokudo/bin/nqp --target=mbc --output=blib/Perl6/Actions.moarvm --encoding=utf8 \ src/Perl6/Actions.nqp

[15:14] <jnthn> I don't get a segfault, but I do get bad output.

[15:14] <jnthn> Ah, that file mis-compiles for me (resulting bytecode is wrong)

[15:15] <hoelzro> I'm trying to see if I can figure out what needs to be done

[15:15] <jnthn> Can you get a backtrace?

[15:15] <hoelzro> lemme try

[15:15] <jnthn> thanks

[15:18] <hoelzro> https://gist.github.com/hoelzro/6963437

[15:19] <jnthn> wow, that's a new one...

[15:19] <moritz> (for anybody who likes table tennis: http://www.laola1.tv/de-de/live/ws-final-li-swe-shan-ger/138654.html live stream of European finals)

[15:20] <moritz> Sweden vs. Germany

[15:23] <[Coke]> is Mu:U sufficient to say "object represents a type" ? is "Mu:T" better, or does literally mean Mu's Type?

[15:24] <moritz> :T is actually better

[15:24] <moritz>     Int:U       Allow only undefined (abstract or failure) Int values

[15:24] <moritz>     Int:T       Allow Int only as a type object

[15:24] <moritz> is what S12 says

[15:24] <moritz> so, I was wrong.

[15:28] <[Coke]> Ok. so I'll push an update to the doc file that replaces Any with Mu, and replaces Type with Mu:T

[15:29] <tadzik> I'm amused how she can throw a ball so high, and yet perfectly upwards

[15:30] * masak loves the fact that the hanzi for "ping pong" are 乒乓

[15:30] <tadzik> :

[15:30] <tadzik> :D

[15:31] <arnsholt> =D

[15:31] <arnsholt> What's the reading of those characters?

[15:31] <masak> apparently, Chinese borrowed the term from English, not the other way around.

[15:31] <masak> arnsholt: I'm on it.

[15:32] <masak> they must be relatively new, at least in this meaning.

[15:32] <masak> arnsholt: or, you mean the pronunciation? it's PING1 PANG1.

[15:33] <masak> I'm getting nothing useful about either the character etymology or the constituent parts.

[15:34] <masak> which increases the prior that they're constructed completely custom for the sport.

[15:35] <arnsholt> Indeed

[15:35] <arnsholt> Neat that they made up characters to mirror the sound!

[15:36] <masak> yeah, that's what fascinates me about them. to me, those characters really *look* like "ping pang" :)

[15:37] *** rindolf joined
[15:47] *** Rotwang left
[15:52] <JimmyZ> That's onomatopoeia in chinese

[15:54] <JimmyZ> It's most about hieroglyphic or onomatopoeia

[15:58] <masak> if by "it" you mean hanzi, allow me to respectfully disagree. most hanzi are radical+sound pairs.

[16:01] *** hummeleB1 joined
[16:03] *** Rotwang joined
[16:04] <dalek> nqp: 391db37 | coke++ | t/docs/opcodes.t:

[16:04] <dalek> nqp: Refactor.

[16:04] <dalek> nqp: 

[16:04] <dalek> nqp: Pull code into subs, use keys instead of top level vars.

[16:04] <dalek> nqp: Improve error reporting so that undocumented opcodes appear only

[16:04] <dalek> nqp: once as errors no matter how many vms they are undocumented for.

[16:04] <dalek> nqp: review: https://github.com/perl6/nqp/commit/391db37bdd

[16:08] <[Coke]> https://gist.github.com/coke/6799633 is updated - now more accurately reporting 217 failures in opcode docs. (each opcode can only be undoc'd once, no matter how many vms you implement it on)

[16:09] <[Coke]> it also gives a much better view of which opcodes are currently vm specific.

[16:10] <[Coke]> moritz: do you agree that Mu is a better option for "any type" in the opcode docs than Any?

[16:11] <masak> [Coke]: depends if you're a local variable or a parameter, I think.

[16:11] *** iSlug joined
[16:12] <masak> r: my $x; say $x.^name

[16:12] <camelia> rakudo e22ac2: OUTPUT«Any␤»

[16:13] <masak> r: sub foo($x?) { say $x.^name }; foo

[16:13] <camelia> rakudo e22ac2: OUTPUT«Any␤»

[16:13] <masak> hm, guess not.

[16:13] <masak> r: class A { has $.x }; say A.x.^name

[16:13] <camelia> rakudo e22ac2: OUTPUT«Cannot look up attributes in a type object␤  in method x at src/gen/CORE.setting:2657␤  in block  at /tmp/LFFbD5kPAd:1␤␤»

[16:13] <masak> r: class A { has $.x }; say A.new.x.^name

[16:13] <camelia> rakudo e22ac2: OUTPUT«Any␤»

[16:14] <masak> r: my %h; say %h<x>.^name

[16:14] <camelia> rakudo e22ac2: OUTPUT«Any␤»

[16:15] *** daniel-s left
[16:15] *** daniel-s joined
[16:15] <masak> [Coke]: looks like everything I can think of defaults to Any.

[16:17] <[Coke]> masak: that's r, not nqp.

[16:17] <[Coke]> sorry, this was in the context of nqp's docs/op.markdown

[16:17] <dalek> nqp: b0e8901 | coke++ | docs/ops.markdown:

[16:17] <dalek> nqp: Improve type declarations to follow perl6 rules.

[16:17] <dalek> nqp: 

[16:17] <dalek> nqp: Any -> Mu

[16:17] <dalek> nqp: Type (not even a real thing) -> Mu:t

[16:17] <dalek> nqp: 

[16:17] <dalek> nqp: Minor rename of some argnames for consistency.

[16:18] <dalek> nqp: 

[16:18] <dalek> nqp: moritz++

[16:18] <dalek> nqp: review: https://github.com/perl6/nqp/commit/b0e89010c7

[16:18] <[Coke]> And I just pulled the trigger anyway. <sheepish grin>

[16:18] *** ivanshmakov left
[16:19] *** benabik left
[16:19] <masak> [Coke]: oh, ok.

[16:19] <[Coke]> ^^ says :t , but is really :T

[16:20] <[Coke]> Ok. only 176 opcodes left to document. ;)

[16:23] *** ivanshmakov joined
[16:24] *** xinming left
[16:25] *** xinming joined
[16:26] *** benabik joined
[16:28] *** ivanshmakov left
[16:28] *** btyler joined
[16:37] <TimToady> mokudo would be the way of wood/tree, or the way of the eye, or the way of silence

[16:38] <TimToady> not sure any of those are quite right...

[16:43] <TimToady> well MO 模 means "pattern", MO 茂 means "grow thickly", and there are a bunch of KU possibilities

[16:46] * masak thinks of https://en.wikipedia.org/wiki/The_Mikado

[16:47] *** denis_boyun left
[16:48] <TimToady> 九 nine; 口 mouth, opening; 工 work; 宮 palace, shrine, prince; 苦bitter; 区 ward, section; 功 merit, service; 久 long time, lasting; 句 phrase, clause; 供offer, attendant; 紅red, crimson, rouge; 駆 gallop, spur on; 貢 tribute

[16:53] <TimToady> but only 区 ward, section; 句 phrase, clause; and 駆 gallop, spur on are unambiguously KU; the rest can be KYUU or KOU or such, so might not read as well to a native speaker

[16:53] <masak> "way of the wood gallop" :P

[16:53] <masak> sounds uncomfortable.

[16:53] <TimToady> no, wood is already 'moku'

[16:53] <masak> oh.

[16:54] <TimToady> was just thinking of KUs that coulld go with MOs

[16:54] <TimToady> pattern ward, or grow-thickly phrase   :)

[16:54] <masak> in Mandarin, KU1 哭 means "cry".

[16:54] <TimToady> either of those is kinda okay

[16:54] <TimToady> pattern gallop is nice

[16:54] <masak> I like "pattern ward" because I don't really know what that would be.

[16:55] <TimToady> it's where the padded walls have designs on them

[16:55] *** cognominal joined
[16:55] <masak> :P

[16:56] <masak> I typed "mokudou" into Google Translate's Chinese translit, and it gave me 魔窟都 -- "pandemonium all".

[16:56] <masak> I doubt that's very grammatical, though.

[16:57] <TimToady> but most suitable :)

[16:57] <masak> 魔窟 translates to "den", "cave" or (apparently) "pandemonium".

[16:58] *** ssutch joined
[16:58] <TimToady> 哭 can be used in Japanese, but apparently is pronounced KOKU

[16:59] <masak> looks like "two mouths like a dog" :)

[16:59] <TimToady> a dog howling with the power of two mouths, more likely :)

[16:59] <masak> right.

[16:59] <masak> "bawl"

[17:01] <TimToady> anyway, we don't have a single gloss for anything in English, so no reason it has to be only one in Japanese or Chinese either :)

[17:01] * TimToady likes the -kudo suffix in a punny way

[17:02] <TimToady> we have lots of kudos :)

[17:02] <masak> haha

[17:02] <TimToady> ra ra ra

[17:02] <masak> someone should build a VM called Kudo, so that we can talk about porting Rakudo to it and calling it Kudokudo.

[17:03] <TimToady> Three cheers for the Sun God / He sure is a fun god / Ra! Ra! Ra!

[17:04] <masak> hu-ra, hu-ra, hu-ra!

[17:05] <TimToady> there's no kudo.com, but there is a kudo.com

[17:05] <TimToady> er, org

[17:06] <TimToady> :2nd

[17:06] *** imarcusthis- left
[17:20] <TimToady> nr: my &foo = -> $x? { say $x.^name }; foo

[17:20] <camelia> niecza v24-98-g473bd20: OUTPUT«Unhandled exception: Nominal type check failed in binding '' in 'ClassHOW.name'; got Mu, needed Any␤  at /home/p6eval/niecza/lib/CORE.setting line 0 (ClassHOW.name @ 1) ␤  at /tmp/wqqvQ0QvgD line 1 (ANON @ 4) ␤  at /tmp/wqqvQ0QvgD line 1 (mainlin…»

[17:20] <camelia> ..rakudo e22ac2: OUTPUT«Mu␤»

[17:21] <TimToady> rakudo has that one right

[17:23] <masak> oh, that's where Mu comes in.

[17:23] <TimToady> S02:1363

[17:23] <synopsebot> Link: http://perlcabal.org/syn/S02.html#line_1363

[17:30] *** xenoterracide__ joined
[17:36] <masak> TimToady: yes, but what's the reason it ended up taking Mu and not Any? I'm guessing it has something to do with autothreading, but I can't think what.

[17:40] *** darutoko left
[17:41] *** hummeleB1 left
[17:43] *** dansamo left
[17:44] *** spider-mario left
[17:48] *** xinming left
[17:50] *** xinming joined
[17:54] *** BenGoldberg joined
[17:59] *** isBEKaml joined
[18:00] *** bbkr__ left
[18:03] *** pmurias joined
[18:03] *** sqirrel joined
[18:06] *** rindolf left
[18:11] *** iSlug left
[18:19] *** isBEKaml left
[18:26] *** btyler left
[18:30] *** cognominal left
[18:30] *** btyler joined
[18:34] *** cognominal joined
[18:39] *** BenGoldberg left
[18:49] *** iSlug joined
[18:53] *** btyler left
[19:03] *** btyler joined
[19:03] <LlamaRider> Not the most helpful error message out there:

[19:03] *** cognominal left
[19:03] *** fgomez joined
[19:03] <LlamaRider> You cannot create an instance of this type ( in method bless at src/gen/CORE.setting:797 )

[19:03] *** cognominal joined
[19:04] <LlamaRider> not too sure if this regressed from my working Parrot backend (now trying out the JVM stuff)

[19:04] <FROGGS> hmmm

[19:04] <FROGGS> maybe you try to instanciate a role?

[19:05] <FROGGS> err, wait, this should work... you wasn't able to augment it

[19:07] <LlamaRider> hm, there is something fishy. Instantiating an object cleanly just throws a warning:

[19:07] <LlamaRider> perl6 -Ilib -e ' use XML::LibXML; my $parser = XML::LibXML.new(); '

[19:07] *** fgomez left
[19:07] <LlamaRider> Passing an object candidate to Mu.bless is deprecated

[19:11] <LlamaRider> ah!

[19:11] <LlamaRider> seriously... compare the above to the next two broken examples:

[19:12] <LlamaRider> perl6 -Ilib -e ' my $parser = XML::LibXML.new(); '

[19:12] <LlamaRider> Could not find symbol '&LibXML'

[19:12] <LlamaRider>  ...

[19:12] <LlamaRider> This error makes perfect sense.

[19:12] <LlamaRider> but then if I do:

[19:12] <LlamaRider> perl6 -Ilib -e 'use XML::LibXML::Common; my $parser = XML::LibXML.new(); '

[19:12] <LlamaRider> You cannot create an instance of this type

[19:13] <timotimo> does it autovivify XML::LibXML or something like that?

[19:13] <LlamaRider> it's almot empty

[19:13] <LlamaRider> it has two empty methods and no mention of any other classes

[19:13] <LlamaRider> almost*

[19:13] <timotimo> try XML::LibXML::.keys

[19:14] <LlamaRider> 'use XML::LibXML::Common; XML::LibXML::.keys.say '

[19:14] <LlamaRider> prints only a single key 'Common'

[19:15] <LlamaRider> ok, then it does create that stash

[19:16] <LlamaRider> I am still unhappy with the error message (though I am happy I figured out what was going on :-))

[19:18] <LlamaRider> btw, does anyone know if zavolaj/NativeCall can now hook into values from XS?

[19:18] <LlamaRider> that was poorly phrased

[19:18] <LlamaRider> I have a commented out TODO that looks like:

[19:18] <LlamaRider> # class LIBXML_RUNTIME_VERSION is OpaquePointer is native('libxml2') is symbol('xmlParserVersion');

[19:19] <LlamaRider> I remember stopping the LibXML port because of it some months back

[19:20] *** iSlug left
[19:27] *** spider-mario joined
[19:27] <FROGGS> timotimo: if you declare a package Foo::Bar::Baz, it must (sort of) stub Foo and Foo::Bar too

[19:27] <FROGGS> s/too//

[19:29] <LlamaRider> Hm, NativeCall doesn't bill under the JVM backend. I suppose that was to be expected. 

[19:29] <LlamaRider> build*

[19:29] <moritz> LlamaRider: just today jnthn did some nqü and NativeCall hacking that should make it build

[19:30] <moritz> LlamaRider: but you actually a very fresh copy of rakudo + nqp

[19:30] <LlamaRider> will update and try again, thanks!

[19:31] <moritz> LlamaRider: though not all features work in the JVM version yet

[19:39] *** sqirrel left
[19:47] *** kaare_ left
[19:49] *** LlamaRider left
[19:50] *** iSlug joined
[19:52] *** spider-mario left
[19:58] <lue> hello world! o/

[19:59] *** itz_ joined
[20:01] *** itz left
[20:06] *** go|dfish left
[20:07] *** LlamaRider joined
[20:07] *** LlamaRider left
[20:13] <arnsholt> NativeCall HEAD should work with NQP and Rakudo HEAD

[20:13] *** dmol joined
[20:13] <arnsholt> The test suite won't run however, and it looks like I'll have to fiddle a bit with the nativecall bits in NQP to get it working properly

[20:14] <arnsholt> NativeCall on JVM at this point is only useful for those who want to hack on the nativecall internals in NQP/JVM

[20:19] *** bbkr__ joined
[20:24] *** benabik left
[20:28] *** Rotwang left
[20:33] *** bruges_ left
[20:33] *** Guest64741 left
[20:35] *** bruges joined
[20:39] *** iSlug left
[20:41] *** xinming left
[20:43] *** xinming joined
[20:54] *** ajr joined
[20:55] *** ajr is now known as Guest71715

[20:55] *** Guest71715 is now known as ajr_

[20:59] *** dmol left
[20:59] *** telex left
[21:00] *** telex joined
[21:26] *** silug_ left
[21:31] *** xinming left
[21:34] *** xinming joined
[22:19] <dalek> nqp: 6fa6d36 | jnthn++ | src/vm/moar/QAST/QASTOperationsMAST.nqp:

[22:19] <dalek> nqp: Map named lexical lookup ops.

[22:19] <dalek> nqp: review: https://github.com/perl6/nqp/commit/6fa6d36596

[22:19] <dalek> nqp: 246aaae | jnthn++ | src/vm/moar/QAST/QASTCompilerMAST.nqp:

[22:19] <dalek> nqp: Remove fossil.

[22:19] <dalek> nqp: review: https://github.com/perl6/nqp/commit/246aaaebda

[22:23] *** xorp left
[22:30] <grondilu> Off topic:  after the GPU, here come the NPU (Neural Processing Unit)  http://www.33rdsquare.com/2013/10/brain-inspired-computing-in-qualcomm.html 

[22:45] <lue> .oO(The robot apocalypse has finally begun. Slowly, but surely.)

[22:53] *** PacoAir left
[22:56] *** benabik joined
[22:56] *** ajr_ left
[23:11] *** xinming left
[23:15] *** xinming joined
[23:18] *** ajr joined
[23:18] *** ajr is now known as Guest84225

[23:19] *** Guest84225 is now known as ajr_

[23:23] <dalek> perl6-roast-data: f912eeb | coke++ | / (3 files):

[23:23] <dalek> perl6-roast-data: today (automated commit)

[23:23] <dalek> perl6-roast-data: review: https://github.com/coke/perl6-roast-data/commit/f912eebe1e

[23:23] *** gshank left
[23:50] *** dansamo joined
