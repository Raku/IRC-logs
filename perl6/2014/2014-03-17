[00:00] *** pecastro joined
[00:01] <Mouq> timotimo: Indeed :)

[00:03] <timotimo> that doesn't fix the path fuckup :)

[00:03] <timotimo> do you have an idea of the whole makefile stuff?

[00:04] <Mouq> me? nope.. :/

[00:04] <timotimo> hm.

[00:07] * Mouq isn't even sure where the $(DESTDIR) is defined in Rakudo

[00:07] *** pmurias left
[00:07] <Mouq> Ahh tools/distro/rakudo.spec

[00:08] <Mouq> I think....

[00:09] <Mouq> No? Apparently I know how none of this stuff works

[00:10] <timotimo> :)

[00:10] <timotimo> i've been staying away from makefiles any more complex than a few lines with only very few variables in them

[00:12] <lue> I prefer cmake whenever possible :)

[00:12] *** dayangkun joined
[00:15] <timotimo> i prefer someone else does it

[00:15] <timotimo> whenever possible

[00:15] <timotimo> but since it's jnthn who's been banging his pretty head against this piece of work ...

[00:17] <Mouq> Okay, DESTDIR shouldn't actually be defined in the Makefile

[00:17] * Mouq is a newb

[00:19] <timotimo> okay, seems to be a normal thing

[00:19] *** fridim__ joined
[00:21] <timotimo> how about PREFIX, though?

[00:22] <lue> Where things are installed, e.g. PREFIX=/usr/local and then BINDIR=${PREFIX}/bin ...

[00:23] <timotimo> right; but does it get set by something outside of the Makefile?

[00:23] <timotimo> because i can only see PREFIX_DIR = @prefix@ there

[00:23] <lue> timotimo:  perl Configure.pl --prefix=/usr/local  :)

[00:23] <lue> wait, PREFIX is the one that's not used, right?

[00:23] <timotimo> i didn't give it any --prefix, is "" the default?

[00:23] <timotimo> PREFIX is used

[00:24] <Mouq> PREFIX = @prefix@ in Rakudo's tools/build/Makefile-common.in

[00:24] <timotimo> PREFIX_DIR also.

[00:24] <timotimo> this here is Makefile.in from star, though

[00:25] <Mouq> Then $(PREFIX) is wrong. It should be $(PREFIX_DIR)

[00:25] <lue> timotimo: without --prefix, the script searches for where stuff is already installed, and takes that as the prefix. (at least for NQP and Rakudo; Parrot defaults to /usr/local, Moar defaults to wherever isn't typical, forget the exact path)

[00:25] <Mouq> Or change PREFIX_DIR to PREFIX

[00:25] <Mouq> In Star's Makefile.in

[00:25] <timotimo> that caused badness :)

[00:26] <lue> well, it only searches for an in-source installation, last time I tried. That's why I have to do --prefix=/usr/local for NQP and Rakudo

[00:27] <Mouq> timotimo: PREFIX -> PREFIX_DIR causes badness?

[00:27] <timotimo> it seemed so, aye

[00:27] <Mouq> :?

[00:27] <timotimo> /usr/bin/perl tools/build/bin-install.pl /tmp/rakudostar/rakudo-star-2014.03/install/bin/perl6-m /tmp/rakudostar/rakudo-star-2014.03/install/tmp/rakudostar/rakudo-star-2014.03/install/bin modules/ufo/bin/ufo-m modules/panda/bin/panda-m modules/doc/bin/p6doc-m

[00:28] <timotimo> there is no /tmp/rakudostar/rakudo-star-2014.03/install/bin/perl6-m for example

[00:29] <Mouq> timotimo: Are you sure that's not just because it got further in the build process and ran into another bug?

[00:30] <timotimo> hm

[00:30] <timotimo> mayhaps.

[00:30] <timotimo> let me try again.

[00:33] <timotimo> oh, hold on

[00:34] <timotimo> something's moving

[00:34] <timotimo> thanks for making me try again :)

[00:34] <Mouq> timotimo: Np, any progress?

[00:34] <lue> Apparently PREFIX = $(PERL) $(CURDIR)/tools/star/prefix.pl  , so I imagine it serves a very different purpose from PREFIX_DIR

[00:35] <Mouq> It compiles! https://github.com/Mouq/Archive-Tar/blob/master/lib/Archive/Tar.pm6

[00:36] <Mouq> lue: Where did you get that?

[00:36] <lue> tools/star/Makefile

[00:36] <Mouq> Oh bluh

[00:36] <Mouq> Okay :|

[00:36] <timotimo> base64 is failing, as perhaps expected

[00:37] <timotimo> (on jvm, that is)

[00:37] <Mouq> lue: That's used differently though

[00:37] <Mouq> That's used as a program prefix in tools/star/Makefile

[00:38] <Mouq> And the Makefile.in uses it like a DIR prefix

[00:38] <lue> Mouq: yeah, I'm just stating that trying to rename one to the other won't work :)

[00:38] <lue> (or, more specifically, the reason why it didn't work before)

[00:38] <Mouq> lue: Ah, ok

[00:39] <lue> Yeah, Makefile.in is using $(PREFIX), not sure why that is actually. (Of course, I'm not quite sure what prefix.pl is even doing, so... :P)

[00:42] <timotimo> Can't deserialize_stub a NativeCall object.

[00:42] <timotimo> that's known to fail on jvm?

[00:42] <Mouq> prefix.pl is just renaming directories to have a certain prefix :P like, all the Rakudo stuffs need to reference the rakudo/ directory

[00:43] <Mouq> (Apparently)

[00:43] <lue> timotimo: don't know :/

[00:43] <timotimo> good lord, jvm module installation precompilation

[00:43] <timotimo> is there ever a wait

[00:44] <BenGoldberg> Just to reduce confusion, I would want to rename the PREFIX that goes to prefix.pl ... maybe a name like PREFIX_PL.

[00:44] <timotimo> ufo doesn't have multiple -* binaries

[00:44] <lue> That's right, star/tools/Makefile is for the tarball-maker, Makefile.in is used by star when you're compiling it. So they can each use PREFIX how they wish, I would think.

[00:44] <timotimo> so it fails to install (with the changes i made)

[00:44] <timotimo> (which explains why it fails i bet :P )

[00:45] <Mouq> PREFIXIFIER

[00:45] <Mouq> $(BEINGAMAKEFILEVARIABLEMAKESMEANGRY)

[00:46] <lue> CHPREFIX, perhaps? :)

[00:50] *** pecastro left
[00:51] <timotimo> fortunately i can ctrl-c through all of the module precomp without the makefile getting shot down m)

[00:53] <timotimo> conflicts during deserialization

[00:53] <timotimo> on moarvm

[00:53] <timotimo> Cannot read file 'modules/panda/bin/panda-m' for installing it: No such file or directory at tools/build/bin-install.pl line 12.

[00:53] <timotimo> and this of course

[00:54] <timotimo> well, this ought to get jnthn a tiny bit closer to what he needs to see without too much pain

[00:55] <dalek> star/tristar: 7be70fd | (Timo Paulssen)++ | / (2 files):

[00:55] <dalek> star/tristar: fix some more problems

[00:55] <dalek> star/tristar: review: https://github.com/rakudo/star/commit/7be70fd124

[01:00] <dalek> rakudo-star-daily: 8915768 | coke++ | log/ (5 files):

[01:00] <dalek> rakudo-star-daily: today (automated commit)

[01:00] <dalek> rakudo-star-daily: review: https://github.com/coke/rakudo-star-daily/commit/8915768575

[01:00] <dalek> rakudo-star-daily: b021630 | coke++ | log/ (5 files):

[01:00] <dalek> rakudo-star-daily: today (automated commit)

[01:00] <dalek> rakudo-star-daily: review: https://github.com/coke/rakudo-star-daily/commit/b021630302

[01:00] <dalek> perl6-roast-data: 6e94899 | coke++ | / (6 files):

[01:00] <dalek> perl6-roast-data: today (automated commit)

[01:00] <dalek> perl6-roast-data: review: https://github.com/coke/perl6-roast-data/commit/6e9489937c

[01:00] <dalek> perl6-roast-data: d302cbe | coke++ | / (3 files):

[01:00] <dalek> perl6-roast-data: today (automated commit)

[01:00] <dalek> perl6-roast-data: review: https://github.com/coke/perl6-roast-data/commit/d302cbeb5c

[01:03] *** hoverboard joined
[01:04] <Mouq> timotimo: How do you test stuff in the star repo?

[01:08] <Mouq> nvm: make -f tools/star/Makefile

[01:09] <Mouq> Hm.. maybe not

[01:09] <timotimo> that's about it, like jnthn explained above

[01:10] <timotimo> you make that, then you make -f ... release VERSION=2014.03

[01:10] <timotimo> you'll get a tarball from that, extract it somewhere and perl Configure.pl etc etc

[01:10] <timotimo> edit the tools/build/Makefile.in and Configure.pl there and test it all out, copy back what works to the original

[01:10] <Mouq> Ironically, it doesn't work with my version of tar

[01:11] <Mouq> After make -f tools/star/Makefile:

[01:11] <Mouq> tar --xform 's!parrot-[^/]*!parrot!' -xvzf src/parrot-5.9.0.tar.gz

[01:11] <Mouq> tar: Option --xform is not supported

[01:11] <timotimo> huh?

[01:11] <timotimo> well, you only just started implementing tar, so maybe that's just not implemented yet :P

[01:12] *** rurban1 joined
[01:12] <geekosaur> mac by any chance?

[01:12] <Mouq> geekosaur: Yuppers

[01:13] <geekosaur> --xform is a gnu tar option; macs have BSD tar

[01:13] <geekosaur> (aka libarchive tar)

[01:15] <timotimo> want my tarball?

[01:16] * geekosaur suggests if you want to do that somewhat portably, you want pax and its -s option

[01:17] * Mouq just pushes

[01:17] <timotimo> it's "only" 14 megabytes

[01:17] <Mouq> Or.. not

[01:18] * Mouq doesn't have permissions anyway

[01:18] <Mouq> timotimo: Could you try: https://gist.github.com/Mouq/13827a05e35f5dc0ceb3

[01:18] <Mouq> It should give the same results

[01:18] <Mouq> :P

[01:19] <Mouq> But I think it's de facto Makefile law that thee must use DESTDIR

[01:19] <timotimo> only 9.5 megabytes with xz :)

[01:20] <timotimo> isn't that the same changes i made?

[01:20] <timotimo> oh

[01:20] <timotimo> i made them and forgot to push

[01:20] <timotimo> apparently >_<

[01:21] <timotimo> huh.

[01:21] <timotimo> did you pull before you made these changes?

[01:21] <Mouq> timotimo: Yup

[01:21] <timotimo> but with my changes it already ran pretty far?

[01:21] <Mouq> timotimo: Dunno

[01:21] <Mouq> :P

[01:21] <Mouq> Can't run tar

[01:22] <Mouq> Or tar --xform anyway

[01:23] <timotimo> right

[01:23] <timotimo> i guess i'll apply your patch and shoot a tarball your way?

[01:23] <timotimo> can you extract .xz?

[01:23] <Mouq> I should... 

[01:24] <Mouq> be able to

[01:24] <Mouq> timotimo: But don't worry about it :)

[01:24] <Mouq> I don't think I'll be of much help

[01:25] <timotimo> i'd like you to be, though :P

[01:29] *** clkao left
[01:30] <timotimo> dropbox isn't connecting right now, i'll have to try something else

[01:30] *** _thou joined
[01:30] *** clkao joined
[01:31] <timotimo> okay it's going up

[01:34] <timotimo> "upload error"

[01:36] <Mouq> geekosaur: pax won't really work because it's not integrated with gzip :/

[01:36] <Mouq> geekosaur: So it'll work, but I'm not sure that's a big boost in portability. And I don't know if cygwin supports pax…

[01:37] <geekosaur> gzip -dc foo.tar.gz | pax -r ...

[01:37] <Mouq> geekosaur: Can't pipe, not portable :P

[01:37] <Mouq> I don't think

[01:38] <timotimo> https://www.dropbox.com/s/1ttk2k8pr2m18ec/rakudo-star-2014.03.tar.xz

[01:38] <timotimo> try this

[01:38] <Mouq> (You might be right, of course, and I'm just being disagreeable)

[01:39] <geekosaur> pretty sure windows has had real pipes since windows nt. other platforms, well, whcih ones are we targeting?

[01:40] <timotimo> commuting time!

[01:40] <geekosaur> also, if you are worried about portability then you cannot rely on gtar because it uses a pipe to run gzip

[01:40] *** hoverboard left
[01:40] <geekosaur> it's not builtin

[01:42] <Mouq> timotimo: Let me try getting it to work now that I've realized I can't just `curl` from the dropbox website :L

[01:43] *** rurban1 left
[01:45] <Mouq> timotimo: Sweet :) Thanks

[01:46] <Mouq> Oh, also o/ timotimo :P

[01:46] * Mouq wasn't paying attention

[01:46] <Mouq> geekosaur: K

[01:46] <Mouq> geekosaur: I have no idea what I'm talking about in that case

[01:47] <Mouq> *in most cases

[01:50] *** logie_ left
[01:50] *** logie_ joined
[02:07] <Mouq> So, it's not done yet

[02:08] <Mouq> But, with the tarball timotimo++ sent me, I'm almost done installing most of a Jakudo star…

[02:10] <Mouq> Looks like MIME::Base64 and its dependencies failed, as well as DBDish and JSON::RPC

[02:10] <Mouq> And Digest::MD5

[02:11] <Mouq> Which ought to, the module it basically a single Q:PIR block :P

[02:11] <Mouq> Oh

[02:11] <Mouq> == Installing binaries for JVM

[02:11] <Mouq> /Users/amoquin/perl5/perlbrew/perls/perl-5.18.1/bin/perl tools/build/bin-install.pl /Users/amoquin/Dev/Perl6/tmp2/rakudo-star-2014.03/install/bin/perl6-j /Users/amoquin/Dev/Perl6/tmp2/rakudo-star-2014.03/install/bin modules/ufo/bin/ufo-j modules/panda/bin/panda-j modules/doc/bin/p6doc-j

[02:11] <skids> Was about to say...

[02:11] <Mouq> Cannot read file 'modules/ufo/bin/ufo-j' for installing it: No such file or directory at tools/build/bin-install.pl line 12.

[02:11] <Mouq> make: *** [modules-install-j] Error 2

[02:12] * Mouq spoke far too sone

[02:12] * Mouq refuses to correct sone and proclaims it a new word

[02:13] * lue always thought it was a bad idea to write Perl 6 modules in not-Perl 6 ...

[02:13] <Mouq> A "sone" appears to be a "subjective unit of loudness for an average listener […] that has an intensity 40 decibels above the listener's own threshold of hearing"

[02:13] <Mouq> Sorry for speaking so loudly guys

[02:15] *** clkao left
[02:17] *** clkao joined
[02:22] *** clkao left
[02:22] <timotimo> Mouq: 'tis okay, i was on the freeway doing 80 kph

[02:22] <timotimo> so i didn't hear you speak that loudly

[02:23] <Mouq> timotimo: Oh, good :)

[02:23] *** clkao joined
[02:23] <Mouq> running make install again with [ufo-j,panda-j,p6doc-j]>>.subst(/-j/,'')

[02:24] <timotimo> Mouq: you know in ~12 hours i'll do a p6weekly post, you feel free to make all that stuff work until then for great karma points :D

[02:24] <Mouq> timotimo: :D... except: school D:

[02:25] <timotimo> if your school is anything like mine, you'll have plenty time for Perl 6 in between breaks :P

[02:27] <Mouq> timotimo: I'm thinking my school is a little bit more "high school"-y than yours

[02:27] <timotimo> heh.

[02:28] *** clkao left
[02:29] *** clkao joined
[02:29] *** [Sno] left
[02:48] <retupmoca> MIME::Base64 HEAD should compile fine on non-parrot (granted, I only tested on moar)

[02:48] <retupmoca> Mouq: what revision of MIME::Base64 are you trying to compile?

[02:50] <timotimo> retupmoca: i think the modules in the star repo are quite a bit behind, actually

[02:51] <retupmoca> ah

[02:51] <retupmoca> I fixed non-parrot compilation only a couple of days ago

[02:51] <timotimo> i remember that fondly :)

[02:51] <Mouq> retupmoca: 76fd9decc7c1445

[02:51] *** klapperl_ joined
[02:51] <timotimo> the coolest way to push a whole bunch of submodules forwards, btw, is to use git submodule foreach in conjunction with gitk --all

[02:52] <timotimo> because then you can right-click on the commit you want and "reset master branch to here"

[02:52] <timotimo> and when you close gitk, the next one will come right up

[02:52] <timotimo> until you're done

[02:53] <retupmoca> Mouq: that's branch precompile-fix

[02:53] <retupmoca> Mouq: if you update it to HEAD of master branch, it should compile

[02:54] <timotimo> good night #perl6 :)

[02:54] *** xenoterracide left
[02:54] <timotimo> Mouq: maybe you can figure out how to make the modules that create binaries create binaries for each of the backends; though i think froggs' eleven branches of panda and friends have something for exactly that

[02:54] <Mouq> timotimo: I think the simplest way to do the final line (ufo-j, panda-j, p6doc-j) is to have bin-install.pl take "j" as an argument and write both a.) bin/whatever, like it used to, and b.) bin/whatever-j that's just perl6-j calling bin/whatever

[02:55] *** klapperl left
[02:55] <Mouq> timotimo: The modules already have logic to handle stuff based on what perl6 executes them

[02:55] <timotimo> ah

[02:55] <Mouq> retupmoca: I don't have push access to rakudo/star :(

[02:55] <timotimo> Mouq: i'm not allowed to give you access :(

[02:56] <timotimo> fortunately, you can fork on github easily :)

[02:56] <timotimo> with the github gem, it's just "hub fork"

[02:56] <Mouq> timotimo: I don't know though, I don't know what stuff's going on with the eleven branches

[02:56] <timotimo> it'll even set up the remotes for you

[02:56] <Mouq> timotimo: I'll make a PR :)

[02:57] <timotimo> maybe FROGGS++ will help me write up a couple of paragraphs on what eleven already can do (which was a surprisingly big amount last time i asked) and what's to be expected in the near future

[02:57] <timotimo> Mouq: right now or some time in the future?

[02:57] <timotimo> as in: should i go to bed now or wait for the PR?

[02:59] <timotimo> it probably makes no big difference

[02:59] <Mouq> timotimo: Bed with you :) I need to figure some stuff out

[02:59] <timotimo> o/

[02:59] <Mouq> o/ timotimo 

[02:59] <timotimo> aye

[02:59] <timotimo> best of luck and have fun in school :)

[02:59] <Mouq> timotimo: Thanks, sleep well :)

[03:55] *** xragnar_ joined
[03:55] *** xragnar left
[03:55] *** xragnar_ is now known as xragnar

[04:07] *** araujo left
[04:17] *** fridim__ left
[04:23] *** kaare__ joined
[04:27] *** Mouq left
[04:29] *** [Sno] joined
[04:49] *** BenGoldberg left
[04:58] *** SamuraiJack joined
[05:08] *** aborazmeh left
[05:29] *** kaare__ left
[05:42] *** Mouq joined
[05:46] *** Mouq left
[06:03] *** kaare__ joined
[06:10] *** [Sno] left
[06:13] *** wbill joined
[06:19] *** darutoko joined
[06:38] *** kaare__ left
[06:38] *** kaare__ joined
[06:38] *** _thou left
[06:47] *** hoverboard joined
[06:54] *** Alina-malina left
[06:55] *** retupmoca left
[06:56] *** retupmoca joined
[07:04] *** dmol joined
[07:22] *** vendethiel left
[07:26] *** logie_ left
[07:26] *** logie_ joined
[07:30] *** Mouq joined
[07:35] *** Mouq left
[07:53] *** hoverboard left
[07:56] *** zakharyas joined
[07:59] *** SamuraiJack left
[08:03] <dalek> star/tristar: 786ece4 | Mouq++ | tools/build/Makefile.in:

[08:03] <dalek> star/tristar: fix some less problems

[08:03] <dalek> star/tristar: 

[08:03] <dalek> star/tristar: DESTDIR should still be there, by de facto Makefile law, AFAICT

[08:03] <dalek> star/tristar: review: https://github.com/rakudo/star/commit/786ece4752

[08:03] <dalek> star/tristar: 4a39421 | Mouq++ | tools/build/ (2 files):

[08:03] <dalek> star/tristar: Let ufo, panda, and p6doc figure out what they're running on

[08:03] <dalek> star/tristar: review: https://github.com/rakudo/star/commit/4a394218f0

[08:03] <dalek> star/tristar: 469f8c0 | Mouq++ | modules/Perl6-MIME-Base64:

[08:03] <dalek> star/tristar: Update MIME::Base64

[08:03] <dalek> star/tristar: review: https://github.com/rakudo/star/commit/469f8c06bf

[08:03] <dalek> star/tristar: d0da84f | moritz++ | / (3 files):

[08:03] <dalek> star/tristar: Merge pull request #36 from Mouq/tristar

[08:03] <dalek> star/tristar: 

[08:03] <dalek> star/tristar: Some updates to tristar

[08:03] <dalek> star/tristar: review: https://github.com/rakudo/star/commit/d0da84fdc4

[08:07] <moritz> .tell Mouq I've given you a commit bit for rakudo/star

[08:07] <yoleaux> moritz: I'll pass your message to Mouq.

[08:17] *** sftp_ left
[08:21] *** skids1 joined
[08:23] *** dmol left
[08:23] *** takesako____ joined
[08:23] *** skids left
[08:24] *** xinming__ joined
[08:24] *** Juerd_ joined
[08:24] *** xinming_ left
[08:24] *** takesako___ left
[08:28] *** dylanwh left
[08:28] *** atrodo left
[08:28] *** Juerd left
[08:28] *** dylanwh joined
[08:28] *** Juerd_ is now known as Juerd

[08:29] *** atrodo joined
[08:33] *** dmol joined
[08:39] *** pdcawley joined
[09:03] *** kaare__ is now known as kaare_

[09:12] <masak> morning, #perl6

[09:13] <moritz> good morning, masak | #perl6

[09:13] *** Alina-malina joined
[09:14] *** Alina-malina left
[09:14] *** Alina-malina joined
[09:15] *** colors joined
[09:15] *** Alina-malina left
[09:16] *** colors is now known as vincent21

[09:16] *** Alina-malina joined
[09:17] *** fhelmberger joined
[09:18] <nwc10> good #perl6, morning.

[09:24] <JimmyZ> good moar, perl6

[09:31] *** Alina-malina left
[09:32] *** Alina-malina joined
[09:32] *** Alina-malina left
[09:39] *** Alina-malina joined
[09:53] *** lizmat joined
[10:01] *** salv0 left
[10:01] *** salv0 joined
[10:09] *** xinming_ joined
[10:12] *** xinming__ left
[10:14] <Ulti> new python release has asyncio in case anyone is interested in what it looks like http://docs.python.org/3.4/library/asyncio.html

[10:14] <yoleaux> 11 Mar 2014 18:27Z <raiph> Ulti: warn ^Inf # I love the idea of elegant golf with P6. For example, refusing to omit spaces when it would work but be ugly.

[10:15] *** isacloud_ left
[10:15] *** isacloud_ joined
[10:18] *** woolfy joined
[10:21] *** [Sno] joined
[10:24] *** pmurias joined
[10:26] <pmurias> jnthn: what would be a portable way of having a list of tests to run for the js-test target for the js nqp backend?

[10:27] <dalek> nqp-js: 0844fa0 | (Pawel Murias)++ | src/core/NQPMu.nqp:

[10:27] <dalek> nqp-js: Temporarly add nqp-js hacks to the setting.

[10:27] <dalek> nqp-js: review: https://github.com/pmurias/nqp-js/commit/0844fa05ee

[10:27] <dalek> nqp-js: 6b6e179 | (Pawel Murias)++ | tools/build/Makefile-JS.in:

[10:27] <dalek> nqp-js: Build a QASTNode for the js backend.

[10:27] <dalek> nqp-js: review: https://github.com/pmurias/nqp-js/commit/6b6e179f9e

[10:27] <dalek> nqp-js: fb5b4b7 | (Pawel Murias)++ | tools/build/Makefile-JS.in:

[10:27] <dalek> nqp-js: Build QRegex for use by the js backend, pass more tests.

[10:27] <dalek> nqp-js: review: https://github.com/pmurias/nqp-js/commit/fb5b4b7e9e

[10:28] <lizmat> decommute&

[10:28] *** lizmat left
[10:29] *** woolfy left
[10:32] *** pecastro joined
[10:33] *** kurahaupo joined
[10:37] <pmurias> jnthn: do we want to expose nqp::ordat and nqp::ordfirst to the user?

[10:40] <dalek> nqp-js: f4c1e4b | (Pawel Murias)++ | t/nqp/59-nqpop.t:

[10:40] <dalek> nqp-js: Add a test for two argument nqp::ord.

[10:40] <dalek> nqp-js: review: https://github.com/pmurias/nqp-js/commit/f4c1e4b9da

[10:40] <dalek> nqp-js: 6bc483c | (Pawel Murias)++ | src/vm/js/nqp-runtime-core/runtime.js:

[10:40] <dalek> nqp-js: Implement nqp::ordat and nqp::ordfirst in the js backend.

[10:40] <dalek> nqp-js: review: https://github.com/pmurias/nqp-js/commit/6bc483c070

[10:43] *** sftp joined
[10:55] *** Mouq joined
[10:57] <dalek> nqp-js: c0c1aad | (Pawel Murias)++ | tools/build/Makefile-JS.in:

[10:57] <dalek> nqp-js: Use the full nqp setting in the js backend (that makes subst work).

[10:57] <dalek> nqp-js: 

[10:57] <dalek> nqp-js: Also use a saner suffix for the concatenated setting (.nqp instead of x)

[10:57] <dalek> nqp-js: review: https://github.com/pmurias/nqp-js/commit/c0c1aad4fc

[10:58] *** aborazmeh joined
[11:00] *** Mouq left
[11:02] *** rindolf joined
[11:08] *** [Sno]_ joined
[11:09] *** [Sno] left
[11:09] *** [Sno]_ is now known as [Sno]

[11:10] *** denis_boyun joined
[11:15] *** tadzik left
[11:17] *** masak left
[11:17] *** [Coke] left
[11:17] *** PerlJam left
[11:17] *** synopsebot left
[11:18] *** Util left
[11:18] *** dalek left
[11:21] *** yves__ joined
[11:21] *** tadzik joined
[11:21] *** synopsebot joined
[11:22] *** masak joined
[11:23] *** Util joined
[11:23] *** masak is now known as Guest4534

[11:23] *** [Coke] joined
[11:23] *** PerlJam joined
[11:36] *** colomon left
[11:40] *** daniel-s__ left
[11:40] *** daniel-s__ joined
[11:43] *** telex left
[11:44] *** dmol left
[11:44] *** telex joined
[11:53] *** daniel-s__ left
[11:57] *** aborazmeh left
[11:59] *** daniel-s__ joined
[12:05] *** colomon joined
[12:08] *** skids1 left
[12:22] <[Coke]> I wonder if I'm the only one who read "asyncio" in backscroll in the voice of someone casting a spell in HP.

[12:23] <colomon> [Coke]: I am reading it that way now, and probably forever more...

[12:23] <[Coke]> Infected! woot!

[12:25] * timotimo is deciding not to engage naysayers on twitter

[12:26] <colomon> timotimo: pretty much always someone wrong on the Internet....

[12:26] <timotimo> in this case it's pretty obvious they haven't taken the time to actually look.

[12:29] *** SamuraiJack joined
[12:30] *** guru joined
[12:30] *** guru is now known as Guest64406

[12:31] *** Guest64406 is now known as ajr_

[12:38] <[Coke]> twitter leads me to: https://github.com/timbunce/java2perl6

[12:39] <[Coke]> whose last commit is 4 years ago. might need some love.

[12:39] <timotimo> yes, it seems like a very different approach to java interop than the jvmbootinterop we have in rakudo-jvm

[12:41] *** colomon left
[12:41] <timotimo> a friend pointed out, that if you visit perl6.org, it doesn't really tell you what perl6 is about at all.

[12:42] <[Coke]> ENOMARKETING

[12:42] <[Coke]> or, very little, anyway.

[12:42] <timotimo> yeah

[12:42] <tadzik> heh

[12:43] <tadzik> if you don't know what Perl 5 is, you'll have no idea what Perl 6 is

[12:43] <[Coke]> seen timbunce?

[12:43] <[Coke]> .seen timbunce?

[12:43] <yoleaux> I haven't seen timbunce? around.

[12:43] <[Coke]> .seen timbunce

[12:43] <yoleaux> I haven't seen timbunce around.

[12:43] *** Mouq joined
[12:46] <Maddingue> [Coke]: timbunce is still in Paris (QA hackathon)

[12:46] <Maddingue> http://act.qa-hackathon.org/qa2014/wiki?node=Travel

[12:47] <Maddingue> s/Paris/Lyon/

[12:47] <timotimo> the hackathon is already over, though. isn't it?

[12:47] <Maddingue> yes, ended yesterday

[12:48] *** Mouq left
[12:50] <timotimo> OK

[13:01] *** SamuraiJack left
[13:10] *** cognominal left
[13:10] *** pecastro left
[13:10] *** cognominal joined
[13:14] *** kbaker_ joined
[13:26] *** PZt left
[13:27] *** xenoterracide joined
[13:30] *** araujo joined
[13:34] <timotimo> i'm glad i could enthuse Mouq for the build system job

[13:35] <timotimo> at least a little bit :)

[13:43] *** sctt joined
[13:49] <pmurias> timotimo: re java2perl6, I think the goal behind that wasn't interop but to use the java database driver api for perl6

[13:50] <timotimo> oh, hm

[13:50] <nwc10> "are we nearly Star yet?" :-)

[13:50] <timotimo> :)

[13:50] *** sctt left
[13:51] <timotimo> well, when i put the type-based dispatch into jvmbootinterop (knock on wood), a JDBC driver will be much nicer to make, i reckon

[13:53] *** colomon joined
[13:55] *** prammer left
[13:57] <timotimo> it's already possible to make, but you're going to have to supply all the full method signatures directly in the code

[13:57] <timotimo> well, not all of them, but most by far

[13:58] *** me5purnd joined
[13:59] *** sbauer left
[14:03] *** kaare_ left
[14:07] *** rurban1 joined
[14:08] <pmurias> timotimo: the JDBC driver api was intented to be used on different platforms (like parrot then and moarvm nowdays)

[14:08] <timotimo> ah

[14:08] <timotimo> well, that's not that easy :)

[14:08] <pmurias> with a nice perlish DBI api on top

[14:08] <timotimo> you'll have to have a java process somewhere in there

[14:09] <pmurias> and with drivers themself being written in Perl 6

[14:09] *** _thou joined
[14:12] *** sbauer joined
[14:12] <me5purnd> perl6 devs now moving too fast ... please *slow down* development to normal speed :-\ 

[14:13] <me5purnd> j/k

[14:13] <me5purnd> (bad)

[14:14] <timotimo> i wouldn't mind Perl 6 development speeding up some more

[14:15] <PerlJam> .oO( I wouldn't mind a Perl 6 implementation speeding up some more ;)

[14:16] <timotimo> if brrt gets accepted for GSoC for the moarvm jit, that seems like a very real possibility in the near term

[14:18] <timotimo> and rurban++ is giving parrot some love in the performance department

[14:18] <me5purnd> rakudo runs on moarvm jvm and parrot now ? ... but not .NET 

[14:18] <timotimo> that's right

[14:18] <me5purnd> and niecza:only run on .NET

[14:19] <timotimo> yes, sadly niecza is falling behind a bit on spec compliance

[14:19] <me5purnd> but higher level niecza <----> rakudo are simlar

[14:19] <timotimo> niecza has really good performance characteristics, though

[14:19] <me5purnd> ah ok

[14:19] <timotimo> well, niecza has been built from the start for performance, rakudo has been developed while mostly ignoring performance

[14:20] <timotimo> there's still lots of non-optimal things in rakudo; for example, compiling the core setting gives you a few hundred thousand copies of the string "OPER" or "dotty" :)

[14:20] <timotimo> i tried to build an inlining solution for that, but it caused compilation failures instead of improvements :(

[14:20] <timotimo> interning*

[14:21] <me5purnd> hmm so both are at work improving ... and it's not like rakudo is going to use nieczca work to port itself to .NET and become the universal perl6

[14:21] *** _thou is now known as thou

[14:22] <timotimo> yes, niecza is not suited to become a "target" for rakudo

[14:22] <timotimo> but at this point it would be "easy" to make a .net backend for rakudo

[14:22] <me5purnd> :)

[14:22] <timotimo> the backend is now very well separated from the frontend, so the backend-dependent bits are nicely compartmentalized

[14:22] <timotimo> and you have lots of code you can look at to figure out what needs to be done

[14:22] <huf> they only nabbed half of europe and half of asia

[14:22] <huf> not nearly imperialistic :)

[14:23] <huf> err.

[14:23] <timotimo> i don't understand what you mean by that :|

[14:23] <huf> wrong channel :)

[14:23] <timotimo> that would explain it

[14:23] <timotimo> was about to ask in what universe rakudo and niecza nabbed half of europe and asia

[14:24] <me5purnd> that is good moar is better!! (oops meant to type more) why do people worry about there being too many perl6's anyway ?  ... in the furture the fact that it runs on different vms etc is going to be like the fact that perl5 runs on HPUX and NeXT ...

[14:24] <huf> :)

[14:25] <timotimo> people on the outside of the community seem to think we're fragmenting ourselves too much

[14:25] *** pecastro joined
[14:25] <me5purnd> oh .. but ... mabye they don't understand  VM's?

[14:25] <timotimo> and i've seen the claim that we drop projects as soon as they are "not fun any more"

[14:25] <timotimo> as in "parrot wasn't fun any more, so they started moarvm"

[14:25] <me5purnd> oh

[14:26] <me5purnd> well maybe vmkit.llvm.org is  -Ofun :-)

[14:26] <timotimo> rurban is hopefully helping parrot catch up with moarvm's performance and multithreading capabilities

[14:26] <me5purnd> wow

[14:26] <timotimo> isn't llvm much too low-level for us?

[14:26] <me5purnd> yeah 

[14:27] <pmurias> vmkit builds a vm on top of llvm

[14:27] <me5purnd> for sure rurban would know :)

[14:28] <me5purnd> vmkti now has a sort of way of making a home built jvm

[14:28] *** raiph joined
[14:28] <timotimo> like the avian vm? :)

[14:28] *** kivutar left
[14:29] <[Coke]> in an ideal world, we wouldn't have needed moarvm, yes. We sadly are not coding in an ideal world.

[14:29] <me5purnd> sometimes I have re.pl and node.js open in terminals and I accidentally type perl into node ....

[14:29] <timotimo> we couldn't possibly have known from the start that 6model would be a thing

[14:29] <timotimo> i can understand why the parrot team wanted to realize the "one vm for all dynamic languages" thing

[14:30] <timotimo> it's quite sad it led to parrot becoming somewhat unideal for Perl 6

[14:31] *** Mouq joined
[14:32] <pmurias> how many gsoc Perl 6 proposal do we have this year?

[14:34] *** vendethiel joined
[14:34] <me5purnd> maybe parrot will be ideal for something else and almost ideal for perl6 ... ... real life  parrots can talk any language without really deeply understanding it so ... 

[14:35] <timotimo> either that, or the analogy will break down ;)

[14:35] <timotimo> i'm carefully optimistic.

[14:35] <me5purnd> :)

[14:36] <me5purnd> the main thing people forget about parrots .... 

[14:36] *** Mouq left
[14:36] <me5purnd> they fly

[14:36] <pmurias> parrot is ideal for writing programs in the pir assembly language

[14:36] <pmurias> ;)

[14:36] <timotimo> well ...

[14:36] <me5purnd> yeah :)

[14:39] * me5purnd tells parrot something in mix of javascript, perl5 and 2001 Space Odyssey Dave Dialect ...  

[14:39] <me5purnd> parrot flies off and comes back with a fish

[14:40] *** jnap joined
[14:50] <rurban> anyone knows what's up with dalek? is gone for #parrot

[14:51] <rurban> the problem with vmkit is that their GC is written in java

[14:52] <timotimo> oh hey rurban :)

[14:52] <rurban> and I didn't dig llvm C++ too much

[14:52] <rurban> bacek likes it though

[14:58] <me5purnd> rurban: vmkit is very early days so far I gues ... I thought there was a plan eventually have non java GC  ..one day ...

[14:59] <rurban> dalek quit Mar 17 06:19:53

[14:59] <rurban> central time

[15:00] <me5purnd> anyway ... viva perl6 (and 5) and perlito :)

[15:00] *** me5purnd left
[15:01] <timotimo> actually it's called "viv" without a :P

[15:03] *** dalek joined
[15:03] *** ChanServ sets mode: +v dalek

[15:06] *** sbauer left
[15:06] <rurban> and here he is, thanks

[15:14] *** treehug88 joined
[15:14] *** pmichaud joined
[15:14] <pmichaud> good morning, #perl6

[15:15] <nwc10> good *, Pm

[15:15] <moritz> good am, pm

[15:16] <colomon> o/

[15:17] <nwc10> pmichaud: how did the robot stuff go?

[15:17] <pmichaud> My FLL team is attending the World Festival (championship) in St. Louis in April.

[15:17] <moritz> congratulations!

[15:18] <pmichaud> My FTC team made it as far as the South Super-Regionals (top 72 teams from 12 U.S. States) but didn't make it to the World Festival.  Still, we're pretty happy about it given that this was the FTC team's rookie season.

[15:18] <nwc10> and then? :-)

[15:18] <nwc10> "I've reached the top and had to stop and that's what's worrying me"? [except SpaceX is working on this]

[15:18] <pmichaud> well, after the World Festival we start planning for next season.  Oh, and there's MoonBots over the summer.  :-)

[15:19] <nwc10> do MoonBots use a real Moon?

[15:19] <pmichaud> made of LEGO bricks, yes.  :)

[15:20] <pmichaud> the FTC team is WAAAY motivated to make it to the World Festival next year.  I've rarely seen such a motivated group of individuals.

[15:20] *** dwarring left
[15:21] <timotimo> hello pmichaud! :)

[15:21] <timotimo> rurban: do you have something notable for me to point out on the daily p6weekly?

[15:23] <timotimo> froggs isn't here yet, i had hoped to ask him for a detailed explanation of all the eleven status

[15:23] <timotimo> but i think something big is coming up this week or the next one.

[15:23] <timotimo> so that may be a better point to write that up

[15:25] *** jnap1 joined
[15:26] *** BenGoldberg joined
[15:26] *** jnap left
[15:28] <rurban> timotime: only that the new parrot release tomorrow will support now -O2 pbc compile-time optimizations.

[15:28] <rurban> effects so far 3-5% perf improvements, not yet benched with rakudo

[15:29] <rurban> And I'm settting up a big buildbot for most architectures: http://blogs.perl.org/users/rurban/2014/03/my-new-buildbot.html

[15:32] <timotimo> okay, i mentioned that -O2 thing in last week's post already

[15:32] <rurban> the buildbot is fine then: mingw64 and accepting outside bots is still tricky

[15:33] <timotimo> i'll post that. thanks!

[15:33] <rurban> mozilla and google have hundreds of bot slaves

[15:33] <BenGoldberg> only hundreds? ;)

[15:34] <timotimo> hundreds per architecture maybe ;)

[15:34] <rurban> http://trac.buildbot.net/wiki/SuccessStories (700)

[15:34] <raiph> timotimo: did you see the feedback I added to your draft of last week's post? (I think I added them after you had already published the final.)

[15:35] <timotimo> ah, that was you!

[15:35] <timotimo> there is no way to identify who wrote what sadly

[15:36] <timotimo> i think i saw it, i'm not sure if i took any of your feedback into the final post, though

[15:36] <rurban> http://anamariamoz.wordpress.com/2010/11/08/mozillas-build-system/

[15:36] <timotimo> istr it was partially redundant with what others told m

[15:36] *** kaare_ joined
[15:36] <raiph> i recall a couple nice things lizmat did and you didn't mention her at all

[15:37] <timotimo> ah. that's not good at all!

[15:37] <timotimo> this week i've seen lots and lots of spec commits from lizmat, though

[15:37] <timotimo> so she'll be mentioned for sure this time

[15:38] <colomon> lizmat++

[15:42] <raiph> timotimo: are you checking the changelogs? (she had already edited the changelog so I was surprised you didn't mention her changes)

[15:42] <timotimo> i didn't look at the changelog for that week :(

[15:42] <rurban> timotimo: And I started working on the parrot jit, but it will need at least a month. not yet sure if I'll use the old (tested and ok) or a new dynasm jit (luajit).

[15:43] <timotimo> i guess i'll post about that when there's something to see :)

[15:43] *** zakalwe left
[15:44] <JimmyZ> rurban: I saw you reverted the old jit removing

[15:46] <rurban> in rurban/jit: I need to bring in the perl5 Op library and the cgp runcore also. Esp. cgp will be quite fast than

[15:46] *** Guest4534 is now known as masak

[15:46] <japhb__> timotimo: You had some perl6-bench questions for me, I believe.  One about variants and one about components?

[15:46] <japhb__> Did you figure them out already?

[15:46] <rurban> we saw 20-25% perf with cgp in older days

[15:47] <JimmyZ> rurban: Did you see the gist I msged to you?

[15:47] <timotimo> i did not figure it out yet

[15:48] <timotimo> do you happen to know how best to make %*ENV on parrot work with qx?

[15:48] <japhb__> OK, what would you like to know?

[15:48] <timotimo> list-checkouts gives the same commit id for all components because the GIT_DIR variable doesn't stick :(

[15:48] <rurban> JimmyZ: no

[15:48] <JimmyZ> rurban: https://gist.github.com/Whiteknight/1198521

[15:48] <timotimo> what kind of thing do we expect to be passed to --variants?

[15:48] *** LLamaRider joined
[15:48] <japhb__> timotimo: Really?  That's a regression.

[15:49] <timotimo> yes, really :(

[15:49] <japhb__> timotimo: --list-variants will give you examples

[15:49] <timotimo> could always call "env" instead of "git" directly

[15:49] *** sbauer joined
[15:49] <japhb__> sorry, ./timeall --list-variants

[15:49] <timotimo> ah

[15:49] <japhb__> That is a painful regression, actually, for anything using Perl 6 as glue.  :-(

[15:50] <timotimo> yes!

[15:50] <rurban> JimmyZ: thanks. looks good, besides some things already done

[15:50] <timotimo> rurban: you're a parrot person; can you help me look into the qx + environment thing?

[15:50] <JimmyZ> rurban: yeah

[15:50] <japhb__> rurban: What timotimo said.  :-)

[15:52] <rurban> timotimo: ticket or link?

[15:53] <timotimo> gimme a sec

[15:53] <timotimo> https://github.com/rakudo/rakudo/blob/nom/src/core/control.pm#L228

[15:53] <timotimo> we don't pass the environment here; do you know how we could?

[15:53] <timotimo> i don't think nqp::open with pipe mode will allow us to specify env vars

[15:56] <rurban> parrot has the env pmc, which is similar

[15:57] <timotimo> do you feel like implementing that? or at least point me at the right way to do it?

[16:00] <rurban> I'm trying it out...

[16:00] <timotimo> thank you very much!

[16:00] <timotimo> all the rurban++ for that

[16:01] <rurban> nqp::getattr(%*ENV, EnumMap, '$!storage'); should be doable with parrot

[16:01] <timotimo> okay; and how do we make the environment effective?

[16:01] <rurban> openpipe

[16:01] <timotimo> oh, i didn't realize it has an argument for that

[16:03] <rurban> not yet

[16:04] <rurban> nqp::openpipe($cmd, nqp::cwd(), nqp::getenvhash(), '') is the idea

[16:04] <timotimo> OK, do we have to map a new op for that?

[16:05] <timotimo> well, since it's inside an #if parrot, we could use pir:: instead

[16:05] <rurban> sub QX($cmd) {

[16:05] <rurban>     my Mu $pio := nqp::openpipe(nqp::unbox_s($cmd), nqp::cwd(), nqp::getenvhash(), '');

[16:05] <rurban>     fail "Unable to execute '$cmd'" unless $pio;

[16:05] <rurban>     my $result = nqp::p6box_s(nqp::readallfh($pio));

[16:05] <rurban>     nqp::closefh($pio);

[16:05] <rurban>     $result;

[16:05] <rurban> }

[16:05] <rurban> I'll map it

[16:06] <timotimo> thank you kindly

[16:10] <timotimo> huh, latest rakudo.parrot daily run had 142 failures :o

[16:10] <jnthn> pmurias: ordat and ordfirst are just things ord desugars to.

[16:10] <timotimo> ah, ok S05

[16:13] *** kaare_ left
[16:13] *** denis_boyun left
[16:15] *** kaare_ joined
[16:19] *** Mouq joined
[16:20] <tadzik> my moarvm-zavolaj test suite prints a lot of "/bin/sh: 1: PREFIX: not found". Just me?

[16:23] <rurban> do you compile on windows with msys-mingw, strawberry-mingw or msvc?

[16:24] *** Mouq left
[16:24] *** kurahaupo left
[16:24] <tadzik> nope, that's linux and gcc

[16:24] <timotimo> tadzik: no, that's a problem with \$(PREFIX) ending up in the $*VM thingie

[16:24] <timotimo> tadzik: feel free to investigate further :)

[16:24] <jnthn> tadzik: Does it actually run the tests too?

[16:25] <jnthn> tadzik: I've heard about that getting spat out as a warning.

[16:25] <tadzik> jnthn: yes, they work fine

[16:29] *** [Sno] left
[16:29] *** LLamaRider left
[16:30] *** LLamaRider joined
[16:31] *** guru joined
[16:31] *** ajr_ left
[16:31] *** guru is now known as Guest83214

[16:32] *** Guest83214 is now known as ajr_

[16:33] *** dmol joined
[16:38] *** zakharyas left
[16:39] *** vincent21 left
[16:42] *** Rotwang1 joined
[17:02] *** treehug8_ joined
[17:02] <masak> Python 3.4 has landed! finally enums! :)

[17:04] <BenGoldberg> Landed?  Had it previously been in outer space?

[17:05] *** treehug88 left
[17:05] * masak .oO( released? was it previously kept in a cage? )

[17:05] * masak .oO( shipped? was it previously waiting in the harbor? )

[17:06] * masak .oO( cut? was it previously an angsty teenager? )

[17:08] <masak> enums in 3.4 look much saner and less lame than last time I looked at them in Python: http://docs.python.org/3.4/library/enum.html

[17:09] <PerlJam> yeah, but who uses python 3?!?  ;)

[17:09] <timotimo> who uses Perl 6?!? ;)

[17:10] <rurban> I still can only use Python 2.7

[17:11] *** ajr_ left
[17:11] <dalek> star/tristar: ab2d701 | jnthn++ | tools/build/module-install.pl:

[17:11] <dalek> star/tristar: Actually take/use the output extension.

[17:11] <dalek> star/tristar: review: https://github.com/rakudo/star/commit/ab2d701649

[17:12] <timotimo> huh, i wrote that exact code once before

[17:12] <timotimo> must have gotten lost :(

[17:12] <jnthn> aww

[17:12] <jnthn> anyway, good news is module installing seems to work ;)

[17:12] <timotimo> ayup :)

[17:12] <timotimo> Mouq++

[17:14] <jnthn> timotimo++ Mouq++

[17:16] <rurban> parrot openpipe with env almost done (it's open "rp" with set'able anv)

[17:16] <rurban> env

[17:17] <rurban> g d

[17:19] <pmurias> jnthn: nqp-js currently requires a nqp-p for cross compiling, what would be the best way to handle this?

[17:19] <pmurias> jnthn: it currently depends on an installed nqp-p

[17:20] <jnthn> pmurias: Dunno. I mean, you can say that if you want it to work out you must --backend=parrot,js

[17:20] <jnthn> So it will do them in that order

[17:20] <jnthn> That doesn't solve the "installed" bit

[17:21] <jnthn> But if it's just needed for building, does that matter?

[17:22] <pmurias> it complicates the build process a bit

[17:22] <pmurias> for those who don't have an installed nqp-p

[17:22] <jnthn> True

[17:23] <jnthn> It's temporary though? The goal is to self-host eventually?

[17:23] <pmurias> yes

[17:23] <pmurias> it should bootstrap soonish

[17:23] <pmurias> but I'm not sure how fast the bootstrap will be at first

[17:25] * jnthn figures out why S06-macros/unqouting.t blows up

[17:26] <timotimo> http://p6weekly.wordpress.com/?p=94&shareadraft=53273025224a6 - rough (and late) first draft

[17:26] <jnthn> But heading out for dinner now, so it'll have to wait :)

[17:26] <jnthn> timotimo: ooh, I'll read before I go :)

[17:26] <timotimo> (if you use the feedback form to send feedback my way, consider putting your name in the text somewhere, so i can ask questions)

[17:26] <masak> jnthn: you can explain it to me over dinner :)

[17:27] <masak> timotimo: s/dilligently/diligently/

[17:28] <jnthn> masak: yeah...I think 'tis time?

[17:28] <masak> timotimo: maybe link to 2048? :P

[17:28] <masak> jnthn: yep.

[17:28] <jnthn> ready in 2

[17:28] <masak> jnthn: meed you down-in-l'-lobby

[17:28] <masak> meet*

[17:29] * masak .oO( ooh! maybe they have mead where we're going! )

[17:29] <masak> &

[17:31] * pmurias should start working on a 2048 nqp-js clone ;)

[17:31] <jnthn> &

[17:35] *** fhelmberger left
[17:39] <timotimo> http://doge2048.com/ - fantastic

[17:40] <tadzik> this one I actually enjoyed

[17:42] <vendethiel> pmurias: that'd be cool to see !

[17:43] <rindolf> Hi all. Happy Purim, everyone.

[17:44] *** [Sno] joined
[17:48] <timotimo> purism?

[17:49] *** denisboyun joined
[18:00] *** pmurias left
[18:00] *** hoverboard joined
[18:05] *** spider-mario joined
[18:08] *** Mouq joined
[18:12] <rurban> Purim: I believe he meant Bar Refaeli on Saturday in the bright yellow tiger suit

[18:12] *** Mouq left
[18:18] *** LLamaRider left
[18:21] *** SamuraiJack joined
[18:24] <rurban> rakudo fails on a lot of -Werror=missing-prototypes

[18:25] *** LLamaRider joined
[18:25] *** hoverboard left
[18:27] *** dwarring joined
[18:28] <timotimo> published

[18:32] *** rindolf left
[18:33] *** LLamaRider left
[18:33] *** SamuraiJack left
[18:37] *** hoverboard joined
[18:40] <rurban> timotimo: that would be the perl6 fix when parrot has openpipe-env merged https://gist.github.com/rurban/9605572

[18:45] *** rindolf joined
[18:46] *** simula67 joined
[18:48] *** darutoko left
[18:50] <timotimo> that'll happen for tomorrow's release?

[18:52] *** Alina-malina left
[18:53] *** Alina-malina joined
[18:53] *** Alina-malina left
[18:53] *** Alina-malina joined
[18:53] *** Alina-malina left
[18:56] <rurban> did we ever had a pir::die missing a signature? https://gist.github.com/rurban/9605884

[18:58] <timotimo>     pir::die("Unable to execute '$cmd'") unless $pipe;

[18:58] *** Alina-malina joined
[18:58] <timotimo> that would be the one?

[18:58] <rurban> ah, yes

[18:58] <timotimo> can easily be nqp::die

[18:58] <rurban> just trying the new code :)

[18:58] <timotimo> :)

[18:59] <rurban> timotimo: we will not touch parrot, but I want to fix rakudo for tomorrows parrot update. nqp already fine

[18:59] <timotimo> i thought parrot needs openpipe-env to be merged?

[19:02] <rurban> we will do that for the next release. no hurry

[19:02] <rurban> one by one

[19:02] <timotimo> that's the release in ~30 days?

[19:02] <rurban> yes

[19:02] <timotimo> aaw

[19:03] <timotimo> i wish i had asked you for a fix yesterday or something

[19:03] <rurban> I'm just testing that in a branch to get earlier feedback for our parrot merge

[19:03] <rurban> last week would have been better. we froze saturday

[19:03] <timotimo> ah

[19:03] <timotimo> i didn't know about it at that time

[19:03] <timotimo> we ought to introduce spectests that cover that particular functionality

[19:03] <timotimo> it really ought not regress again

[19:04] <rurban> no prob. do you need QX with env already?

[19:04] <timotimo> Perl::Bench has a subcommand that requires it, but qx is very useful for lots of glue-ish things you could use Perl 6 for

[19:04] <timotimo> (or: could *not* use Perl 6 for at the moment)

[19:04] <rurban> I rather want to test if parrot -O2 is now stable enough.

[19:04] <rurban> I see

[19:05] <rurban> well, we'll need about a week to merge the openpipe-env branch

[19:05] <timotimo> that's mostly "grace time" right?

[19:05] <timotimo> i dare not ask you to throw out your release process for my little issue

[19:05] <rurban> yes, request for comments. a new API. maybe we should it different

[19:07] <timotimo> can we get a warning in place that'll try to figure out if someone modified %*ENV before calling qx?

[19:07] <timotimo> hmm. if %*ENV !eqv CHECK %*ENV perhaps?

[19:12] <timotimo> p: %*ENV<GIT_DIR> = "/home/foo"; say "test"; if %*ENV !eqv CHECK %*ENV { say %*ENV.kv (^) CHECK set %*ENV.kv }

[19:12] <camelia> rakudo-parrot a24091: OUTPUT«test␤»

[19:13] <timotimo> p: %*ENV<GIT_DIR> = "/home/foo"; say %*ENV.keys; say (BEGIN %*ENV).keys

[19:13] <camelia> rakudo-parrot a24091: OUTPUT«XDG_SESSION_ID TERM SHELL XDG_SESSION_COOKIE SSH_CLIENT SSH_TTY USER LS_COLORS SSH_AUTH_SOCK TMUX PATH MAIL PWD LANG NODE_PATH TMUX_PANE SHLVL HOME LANGUAGE LOGNAME SSH_CONNECTION LC_CTYPE LESSOPEN XDG_RUNTIME_DIR LESSCLOSE _ GIT_DIR␤XDG_SESSION_ID TER…»

[19:13] <timotimo> p: %*ENV<GIT_DIR> = "/home/foo"; say %*ENV<GIT_DIR>:exists; say (BEGIN %*ENV.copy)<GIT_DIR>:exists

[19:13] <camelia> rakudo-parrot a24091: OUTPUT«===SORRY!===␤No such method 'copy' for invocant of type 'Hash'␤»

[19:13] <timotimo> p: %*ENV<GIT_DIR> = "/home/foo"; say %*ENV<GIT_DIR>:exists; say (BEGIN %*ENV.clone)<GIT_DIR>:exists

[19:13] <camelia> rakudo-parrot a24091: OUTPUT«True␤True␤»

[19:13] <timotimo> hm.

[19:14] <timotimo> p: %*ENV<GIT_DIR> = "/home/foo"; say %*ENV.keys; say (BEGIN %*ENV.keys)

[19:14] <camelia> rakudo-parrot a24091: OUTPUT«XDG_SESSION_ID TERM SHELL XDG_SESSION_COOKIE SSH_CLIENT SSH_TTY USER LS_COLORS SSH_AUTH_SOCK TMUX PATH MAIL PWD LANG NODE_PATH TMUX_PANE SHLVL HOME LANGUAGE LOGNAME SSH_CONNECTION LC_CTYPE LESSOPEN XDG_RUNTIME_DIR LESSCLOSE _ GIT_DIR␤XDG_SESSION_ID TER…»

[19:14] *** kurahaupo joined
[19:15] <timotimo> p: %*ENV<GIT_DIR> = "/home/foo"; say "GIT_DIR" ~~ %*ENV.keys; say "GIT_DIR" ~~ (BEGIN %*ENV.keys)

[19:15] <camelia> rakudo-parrot a24091: OUTPUT«False␤False␤»

[19:15] <timotimo> oh?

[19:15] <timotimo> p: say "foo" ~~ <foo bar baz>

[19:15] <camelia> rakudo-parrot a24091: OUTPUT«False␤»

[19:15] <timotimo> p: %*ENV<GIT_DIR> = "/home/foo"; say "GIT_DIR" (elem) %*ENV.keys; say "GIT_DIR" (elem) (BEGIN %*ENV.keys)

[19:15] <camelia> rakudo-parrot a24091: OUTPUT«True␤False␤»

[19:16] <timotimo> that'll only catch removing and adding keys, though

[19:22] *** brrt joined
[19:29] *** guru joined
[19:29] *** guru is now known as Guest28326

[19:30] *** Guest28326 is now known as ajr_

[19:34] <retupmoca> I think I found another moar nativecall bug: https://gist.github.com/retupmoca/9606605

[19:41] <japhb__> timotimo: Why did the week # in the summary title jump from 10 to 12?  Which week had the off-by-1 error?

[19:42] <timotimo> oh, oops?

[19:43] *** lizmat joined
[19:43] * lizmat is home

[19:50] <[Coke]> hio, lizmat!

[19:51] <lizmat> [Coke] o/

[19:51] <timotimo> hi lizmat 

[19:51] <lizmat> timotimo o/

[19:51] *** prammer joined
[19:51] <lizmat> trying to slow down from a 7 hour drive

[19:52] <nwc10> use more 'whisky' ?

[19:52] <lizmat> hehe... no

[19:52] <lizmat> use more 'chartreuse'

[19:52] <lizmat> we also visited the Chartreuse distilleries in Voiron

[19:52] <lizmat> and ransacked the shop  :-)

[19:54] <nwc10> poor shop

[19:55] <lizmat> eh... they were quite happy as we also paid them for items ransacked :-)

[19:55] <nwc10> mmm, you need to take lessons from the Danish, etc, on how ransacking is supposed to work :-)

[19:56] *** Mouq joined
[19:56] <lizmat> perhaps  :-)

[19:58] <nwc10> although they didn't have extradition treaties and Interpol back then, so it might not work as well these days.

[20:00] <timotimo> having "no" as a "anti-use" is kind of weird

[20:00] *** Mouq left
[20:00] <timotimo> it's easy to understand when it's at the beginning of a file

[20:00] <timotimo> but right in the middle 

[20:01] <timotimo> no llama 'noooooooo!'

[20:04] <geekosaur> no sanity 'here';

[20:05] <BenGoldberg> no common::sense

[20:05] <lizmat> no use

[20:07] *** araujo left
[20:07] *** araujo joined
[20:09] *** PZt joined
[20:10] <lizmat> [Coke]: re http://irclog.perlgeek.de/perl6/2014-03-17#i_8448294 , I've discussed that with Tim Bunce yesterday during the QA hackathon

[20:10] <lizmat> jave2perl predates rakudo running on the JVM

[20:11] <lizmat> in his opinion, someone with a little Java knowledge and Perl6 knowledge

[20:11] <lizmat> *should* be able to make that work in ~ a day

[20:11] *** ajr_ left
[20:11] <lizmat> again, *AND* have it also fill in the necessary NativeCall code in the generated Perl 6 code

[20:12] <rurban> Isn't today the crazy irish day?

[20:12] <lizmat> so that you would only need to point this script at a jar, and have it write the Perl 6 interface (when running on the JVM) for you

[20:12] <lizmat> aka: instant access from Perl6 to all Java libraries (in theory)

[20:12] *** ajr joined
[20:12] *** ajr is now known as Guest8724

[20:13] <lizmat> alas, I'm not the person to do this   :-(

[20:13] <lizmat> not without severe handholding, I'm afraid

[20:16] <[Coke]> ok. if there's still a need, I can poke at this weekend, perhaps.

[20:17] <[Coke]> work is still exploding (it's been six months. less exploding would be good)

[20:24] * lizmat hopes the dust will settle for [Coke] :-)

[20:26] *** tgt joined
[20:28] *** woolfy joined
[20:40] <lizmat> timotimo++ for keeping up weekly changes reports

[20:43] *** virtualsue joined
[20:46] *** raiph left
[20:46] *** kaare_ left
[20:52] *** tgt left
[20:56] * lizmat gets some sleep&

[21:01] <timotimo> i try my best :P

[21:02] *** dayangkun left
[21:02] *** kurahaupo left
[21:04] <[Coke]> in good/bad news, this project's deadline has just been pushed out another week.

[21:05] <timotimo> \o/

[21:06] <[Coke]> ... and, oh look, that means we can do more tickets. GAH

[21:06] <timotimo> hooray

[21:06] <timotimo> >_>

[21:07] <ashleydev> [Coke]: apropos?: https://news.ycombinator.com/item?id=7415916

[21:10] *** jnap joined
[21:10] *** jnap1 left
[21:12] *** brrt left
[21:17] *** dayangkun joined
[21:18] *** virtualsue left
[21:23] <[Coke]> ashleydev: nah.

[21:23] <[Coke]> but I've worked there, too. :)

[21:30] *** Mouq joined
[21:32] <Mouq> o/

[21:32] <yoleaux> 08:07Z <moritz> Mouq: I've given you a commit bit for rakudo/star

[21:33] <Mouq> \o/ Thank you moritz++ :)

[21:39] *** kbaker_ left
[21:50] *** treehug8_ left
[21:55] <simula67> lizmat: Regarding java2perl6, did you mean Java interfaces will be written to Perl 6 roles ?

[21:59] *** jnap1 joined
[22:02] *** jnap left
[22:12] *** treehug88 joined
[22:34] *** rindolf left
[22:36] *** dmol left
[22:37] *** skids joined
[22:42] *** BenGoldberg left
[22:42] *** Guest8724 left
[22:43] *** bjz left
[22:43] *** BenGoldberg joined
[22:43] *** bjz joined
[22:51] *** hoverboard left
[23:06] *** xenoterracide left
[23:09] *** Rotwang2 joined
[23:10] *** denisboyun left
[23:10] *** Rotwang1 left
[23:12] *** Rotwang2 left
[23:15] *** pnu left
[23:15] *** spider-mario left
[23:15] *** pnu joined
[23:18] *** Shozan joined
[23:19] *** SHODAN left
[23:20] *** pecastro left
[23:22] *** pecastro joined
[23:25] *** rurban1 left
[23:38] <colomon> Just successfully processed two 4 MB JSON files using Rakudo-moar and JSON::Tiny.  Took 15.75 minutes, alas.

[23:40] *** hoverboard joined
[23:45] *** hoverboard left
[23:48] <colomon> though that is on my Mac rather than my fast Linux box

[23:49] *** skids left
